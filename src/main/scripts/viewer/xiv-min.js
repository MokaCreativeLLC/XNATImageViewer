var m,aa=aa||{},ba=this;function ca(b){return void 0!==b}function da(b){b=b.split(".");for(var a=ba,c;c=b.shift();)if(null!=a[c])a=a[c];else return null;return a}function fa(){}
function ga(b){var a=typeof b;if("object"==a)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return a;var c=Object.prototype.toString.call(b);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==a&&"undefined"==typeof b.call)return"object";return a}function ha(b){return"array"==ga(b)}function ia(b){var a=ga(b);return"array"==a||"object"==a&&"number"==typeof b.length}function n(b){return"string"==typeof b}function A(b){return"number"==typeof b}function ja(b){return"function"==ga(b)}function ka(b){var a=typeof b;return"object"==a&&null!=b||"function"==a}function la(b){return b[ma]||(b[ma]=++oa)}var ma="closure_uid_"+(1E9*Math.random()>>>0),oa=0;
function pa(b,a,c){return b.call.apply(b.bind,arguments)}function qa(b,a,c){if(!b)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return b.apply(a,c)}}return function(){return b.apply(a,arguments)}}function ra(b,a,c){ra=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pa:qa;return ra.apply(null,arguments)}
function sa(b,a){var c=Array.prototype.slice.call(arguments,1);return function(){var a=c.slice();a.push.apply(a,arguments);return b.apply(this,a)}}var ta=Date.now||function(){return+new Date};function F(b,a){var c=b.split("."),d=ba;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ca(a)?d[e]=a:d=d[e]?d[e]:d[e]={}}
function J(b,a){function c(){}c.prototype=a.prototype;b.f=a.prototype;b.prototype=new c;b.prototype.constructor=b;b.Bs=function(b,c,f){var g=Array.prototype.slice.call(arguments,2);return a.prototype[c].apply(b,g)}};var N=N||{};N.br=!0;N.Ha=function(b){eval("X.DEV === undefined")||window.console.time(b)};N.Ia=function(b){eval("X.DEV === undefined")||window.console.timeEnd(b)};window["X.counter"]=new function(){this.pm=0;this.Bq=function(){return this.pm++}};function ua(b,a){for(var c in a){var d=a.__lookupGetter__(c),e=a.__lookupSetter__(c);c in b||(d||e?(d&&b.__defineGetter__(c,d),e&&b.__defineSetter__(c,e)):b[c]=a[c])}}var wa=window.Xl;
Function.prototype.bind||(Function.prototype.bind=function(b){function a(){return f.apply(this instanceof c?this:b||window,e.concat(d.call(arguments)))}function c(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=Array.prototype.slice,e=d.call(arguments,1),f=this;c.prototype=this.prototype;a.prototype=new c;return a});
(function(){for(var b=0,a=["ms","moz","webkit","o"],c=0;c<a.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[a[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[c]+"CancelAnimationFrame"]||window[a[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var c=Date.now(),f=Math.max(0,16-(c-b)),g=window.setTimeout(function(){a(c+f)},f);b=c+f;return g});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(b){clearTimeout(b)})})();"slice"in ArrayBuffer.prototype||(ArrayBuffer.prototype.slice=function(b,a){if(void 0===b)throw Error("Not enough arguments.");var c=a||this.byteLength;0>b&&(b=this.byteLength+b);0>c&&(c=this.byteLength+c);c<b&&(c=b=0);0>b&&(b=0);0>c&&(c=0);b>this.byteLength&&(b=this.byteLength);c>this.byteLength&&(c=this.byteLength);for(var d=new ArrayBuffer(c-b),e=new Uint8Array(this),f=new Uint8Array(d),g=b,h=0;g<c;++g,++h)f[h]=e[g];return d});F("$",wa);
F("Function.prototype.bind",Function.prototype.bind);F("window.requestAnimationFrame",window.requestAnimationFrame);F("window.cancelAnimationFrame",window.cancelAnimationFrame);var xa;function ya(b){if(Error.captureStackTrace)Error.captureStackTrace(this,ya);else{var a=Error().stack;a&&(this.stack=a)}b&&(this.message=String(b))}J(ya,Error);ya.prototype.name="CustomError";function za(b,a){var c=b.length-a.length;return 0<=c&&b.indexOf(a,c)==c}function Aa(b,a){var c=String(a).toLowerCase(),d=String(b.substr(b.length-a.length,a.length)).toLowerCase();return 0==(c<d?-1:c==d?0:1)}function Ba(b,a){for(var c=b.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Da(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Ea=/(\.\d+)|(\d+)|(\D+)/g;
function Fa(b,a){if(b==a)return 0;if(!b)return-1;if(!a)return 1;for(var c=b.toLowerCase().match(Ea),d=a.toLowerCase().match(Ea),e=Math.min(c.length,d.length),f=0;f<e;f++){var g=c[f],h=d[f];if(g!=h)return c=parseInt(g,10),!isNaN(c)&&(d=parseInt(h,10),!isNaN(d)&&c-d)?c-d:g<h?-1:1}return c.length!=d.length?c.length-d.length:b<a?-1:1}
function Ga(b){if(!Ha.test(b))return b;-1!=b.indexOf("&")&&(b=b.replace(Ja,"&amp;"));-1!=b.indexOf("<")&&(b=b.replace(Ka,"&lt;"));-1!=b.indexOf(">")&&(b=b.replace(La,"&gt;"));-1!=b.indexOf('"')&&(b=b.replace(Ma,"&quot;"));-1!=b.indexOf("'")&&(b=b.replace(Na,"&#39;"));-1!=b.indexOf("\x00")&&(b=b.replace(Oa,"&#0;"));return b}var Ja=/&/g,Ka=/</g,La=/>/g,Ma=/"/g,Na=/'/g,Oa=/\x00/g,Ha=/[\x00&<>"']/;
function Pa(b,a){var c;if(c&&b.length>a)c>a&&(c=a),b=b.substring(0,a-c)+"..."+b.substring(b.length-c);else if(b.length>a){c=Math.floor(a/2);var d=b.length-c;b=b.substring(0,c+a%2)+"..."+b.substring(d)}return b}function Qa(b){return Array.prototype.join.call(arguments,"")}
function Ra(b,a){for(var c=0,d=Da(String(b)).split("."),e=Da(String(a)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",l=e[g]||"",k=/(\d*)(\D*)/g,q=/(\d*)(\D*)/g;do{var p=k.exec(h)||["","",""],s=q.exec(l)||["","",""];if(0==p[0].length&&0==s[0].length)break;c=Sa(0==p[1].length?0:parseInt(p[1],10),0==s[1].length?0:parseInt(s[1],10))||Sa(0==p[2].length,0==s[2].length)||Sa(p[2],s[2])}while(0==c)}return c}function Sa(b,a){return b<a?-1:b>a?1:0}
var Ta=2147483648*Math.random()|0;function Ua(){return"goog_"+Ta++}function Va(b){return String(b).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()})}function Wa(b){return String(b).replace(/([A-Z])/g,"-$1").toLowerCase()}function Xa(b){var a=n(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return b.replace(new RegExp("(^"+(a?"|["+a+"]+":"")+")([a-z])","g"),function(b,a,e){return a+e.toUpperCase()})};function Ya(b,a){a.unshift(b);ya.call(this,Ba.apply(null,a));a.shift()}J(Ya,ya);Ya.prototype.name="AssertionError";function Za(b,a){throw new Ya("Failure"+(b?": "+b:""),Array.prototype.slice.call(arguments,1));};var $a="closure_listenable_"+(1E6*Math.random()|0);function ab(b){return!(!b||!b[$a])}var bb=0;function cb(b,a,c,d,e){this.td=b;this.Ng=null;this.src=a;this.type=c;this.ag=!!d;this.rg=e;this.key=++bb;this.xe=this.$f=!1}function db(b){b.xe=!0;b.td=null;b.Ng=null;b.src=null;b.rg=null};function eb(b,a){for(var c in b)a.call(void 0,b[c],c,b)}function fb(b){var a=0,c;for(c in b)a++;return a}function gb(b){var a=[],c=0,d;for(d in b)a[c++]=b[d];return a}function hb(b){var a=[],c=0,d;for(d in b)a[c++]=d;return a}function ib(){var b=jb,a;for(a in b)return!1;return!0}function kb(b){for(var a in b)delete b[a]}function lb(b){var a={},c;for(c in b)a[c]=b[c];return a}var mb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function nb(b,a){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)b[c]=d[c];for(var f=0;f<mb.length;f++)c=mb[f],Object.prototype.hasOwnProperty.call(d,c)&&(b[c]=d[c])}}function ob(b){var a=arguments.length;if(1==a&&ha(arguments[0]))return ob.apply(null,arguments[0]);for(var c={},d=0;d<a;d++)c[arguments[d]]=!0;return c};var pb=Array.prototype,qb=pb.indexOf?function(b,a,c){return pb.indexOf.call(b,a,c)}:function(b,a,c){c=null==c?0:0>c?Math.max(0,b.length+c):c;if(n(b))return n(a)&&1==a.length?b.indexOf(a,c):-1;for(;c<b.length;c++)if(c in b&&b[c]===a)return c;return-1},P=pb.forEach?function(b,a,c){pb.forEach.call(b,a,c)}:function(b,a,c){for(var d=b.length,e=n(b)?b.split(""):b,f=0;f<d;f++)f in e&&a.call(c,e[f],f,b)},rb=pb.filter?function(b,a,c){return pb.filter.call(b,a,c)}:function(b,a,c){for(var d=b.length,e=[],f=
0,g=n(b)?b.split(""):b,h=0;h<d;h++)if(h in g){var l=g[h];a.call(c,l,h,b)&&(e[f++]=l)}return e},sb=pb.map?function(b,a,c){return pb.map.call(b,a,c)}:function(b,a,c){for(var d=b.length,e=Array(d),f=n(b)?b.split(""):b,g=0;g<d;g++)g in f&&(e[g]=a.call(c,f[g],g,b));return e};function tb(b){var a;a:{a=ub;for(var c=b.length,d=n(b)?b.split(""):b,e=0;e<c;e++)if(e in d&&a.call(void 0,d[e],e,b)){a=e;break a}a=-1}return 0>a?null:n(b)?b.charAt(a):b[a]}function vb(b,a){return 0<=qb(b,a)}
function wb(b){if(!ha(b))for(var a=b.length-1;0<=a;a--)delete b[a];b.length=0}function xb(b,a){vb(b,a)||b.push(a)}function yb(b,a){var c=qb(b,a),d;(d=0<=c)&&pb.splice.call(b,c,1);return d}function zb(b){return pb.concat.apply(pb,arguments)}function Ab(b){var a=b.length;if(0<a){for(var c=Array(a),d=0;d<a;d++)c[d]=b[d];return c}return[]}function Bb(b,a,c,d){pb.splice.apply(b,Cb(arguments,1))}function Cb(b,a,c){return 2>=arguments.length?pb.slice.call(b,a):pb.slice.call(b,a,c)};function Db(b){this.src=b;this.sa={};this.Df=0}Db.prototype.add=function(b,a,c,d,e){var f=b.toString();b=this.sa[f];b||(b=this.sa[f]=[],this.Df++);var g=Eb(b,a,d,e);-1<g?(a=b[g],c||(a.$f=!1)):(a=new cb(a,this.src,f,!!d,e),a.$f=c,b.push(a));return a};Db.prototype.remove=function(b,a,c,d){b=b.toString();if(!(b in this.sa))return!1;var e=this.sa[b];a=Eb(e,a,c,d);return-1<a?(db(e[a]),pb.splice.call(e,a,1),0==e.length&&(delete this.sa[b],this.Df--),!0):!1};
function Fb(b,a){var c=a.type;if(!(c in b.sa))return!1;var d=yb(b.sa[c],a);d&&(db(a),0==b.sa[c].length&&(delete b.sa[c],b.Df--));return d}Db.prototype.xd=function(b){b=b&&b.toString();var a=0,c;for(c in this.sa)if(!b||c==b){for(var d=this.sa[c],e=0;e<d.length;e++)++a,db(d[e]);delete this.sa[c];this.Df--}return a};Db.prototype.Ye=function(b,a,c,d){b=this.sa[b.toString()];var e=-1;b&&(e=Eb(b,a,c,d));return-1<e?b[e]:null};
function Eb(b,a,c,d){for(var e=0;e<b.length;++e){var f=b[e];if(!f.xe&&f.td==a&&f.ag==!!c&&f.rg==d)return e}return-1};var Gb;a:{var Hb=ba.navigator;if(Hb){var Ib=Hb.userAgent;if(Ib){Gb=Ib;break a}}Gb=""}function Jb(b){return-1!=Gb.indexOf(b)}function Kb(b){for(var a=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,c=[],d;d=a.exec(b);)c.push([d[1],d[2],d[3]||void 0]);return c};function Lb(){return Jb("Opera")||Jb("OPR")}function Mb(){return Jb("Trident")||Jb("MSIE")}function Nb(){return Jb("Safari")&&!Jb("Chrome")&&!Jb("CriOS")&&!Jb("Android")}
function Ob(){var b=Gb;if(Mb()){var a=/rv: *([\d\.]*)/.exec(b);if(a&&a[1])b=a[1];else{var a="",c=/MSIE +([\d\.]+)/.exec(b);if(c&&c[1])if(b=/Trident\/(\d.\d)/.exec(b),"7.0"==c[1])if(b&&b[1])switch(b[1]){case "4.0":a="8.0";break;case "5.0":a="9.0";break;case "6.0":a="10.0";break;case "7.0":a="11.0"}else a="7.0";else a=c[1];b=a}return b}if(Lb())return b=Kb(b),a=b[b.length-1],"OPR"==a[0]&&a[1]?a[1]:b[2]&&b[2][1]?b[2][1]:"";b=Kb(b);return b[2]&&b[2][1]?b[2][1]:""};var Pb;function Qb(){return ba.navigator||null}var Rb=Lb(),Q=Mb(),Sb=Jb("Gecko")&&-1==Gb.toLowerCase().indexOf("webkit")&&!(Jb("Trident")||Jb("MSIE")),Tb=-1!=Gb.toLowerCase().indexOf("webkit"),Ub=Qb();Pb=-1!=(Ub&&Ub.platform||"").indexOf("Mac");var Vb=!!Qb()&&-1!=(Qb().appVersion||"").indexOf("X11");function Wb(){var b=ba.document;return b?b.documentMode:void 0}
var Xb=function(){var b="",a;if(Rb&&ba.opera)return b=ba.opera.version,ja(b)?b():b;Sb?a=/rv\:([^\);]+)(\)|;)/:Q?a=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Tb&&(a=/WebKit\/(\S+)/);a&&(b=(b=a.exec(Gb))?b[1]:"");return Q&&(a=Wb(),a>parseFloat(b))?String(a):b}(),Yb={};function Zb(b){return Yb[b]||(Yb[b]=0<=Ra(Xb,b))}var $b=ba.document,ac=$b&&Q?Wb()||("CSS1Compat"==$b.compatMode?parseInt(Xb,10):5):void 0;var bc=!Q||Q&&9<=ac,cc=!Q||Q&&9<=ac,dc=Q&&!Zb("9");!Tb||Zb("528");Sb&&Zb("1.9b")||Q&&Zb("8")||Rb&&Zb("9.5")||Tb&&Zb("528");Sb&&!Zb("8")||Q&&Zb("9");function ec(){0!=fc&&(gc[la(this)]=this)}var fc=0,gc={};ec.prototype.ig=!1;ec.prototype.c=function(){if(!this.ig&&(this.ig=!0,this.q(),0!=fc)){var b=la(this);delete gc[b]}};ec.prototype.q=function(){if(this.pf)for(;this.pf.length;)this.pf.shift()()};function hc(b){b&&"function"==typeof b.c&&b.c()};function ic(b,a){this.type=b;this.currentTarget=this.target=a;this.defaultPrevented=this.wd=!1;this.ml=!0}ic.prototype.q=function(){};ic.prototype.c=function(){};ic.prototype.stopPropagation=function(){this.wd=!0};ic.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ml=!1};function jc(b){b.preventDefault()};function kc(b){kc[" "](b);return b}kc[" "]=fa;function lc(b,a){ic.call(this,b?b.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Ua=this.state=null;b&&mc(this,b,a)}J(lc,ic);var nc=[1,4,2];
function mc(b,a,c){var d=b.type=a.type;b.target=a.target||a.srcElement;b.currentTarget=c;if(c=a.relatedTarget){if(Sb){var e;a:{try{kc(c.nodeName);e=!0;break a}catch(f){}e=!1}e||(c=null)}}else"mouseover"==d?c=a.fromElement:"mouseout"==d&&(c=a.toElement);b.relatedTarget=c;b.offsetX=Tb||void 0!==a.offsetX?a.offsetX:a.layerX;b.offsetY=Tb||void 0!==a.offsetY?a.offsetY:a.layerY;b.clientX=void 0!==a.clientX?a.clientX:a.pageX;b.clientY=void 0!==a.clientY?a.clientY:a.pageY;b.screenX=a.screenX||0;b.screenY=
a.screenY||0;b.button=a.button;b.keyCode=a.keyCode||0;b.charCode=a.charCode||("keypress"==d?a.keyCode:0);b.ctrlKey=a.ctrlKey;b.altKey=a.altKey;b.shiftKey=a.shiftKey;b.metaKey=a.metaKey;b.state=a.state;b.Ua=a;a.defaultPrevented&&b.preventDefault()}lc.prototype.stopPropagation=function(){lc.f.stopPropagation.call(this);this.Ua.stopPropagation?this.Ua.stopPropagation():this.Ua.cancelBubble=!0};
lc.prototype.preventDefault=function(){lc.f.preventDefault.call(this);var b=this.Ua;if(b.preventDefault)b.preventDefault();else if(b.returnValue=!1,dc)try{if(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)b.keyCode=-1}catch(a){}};lc.prototype.Vn=function(){return this.Ua};lc.prototype.q=function(){};var oc="closure_lm_"+(1E6*Math.random()|0),pc={},qc=0;function rc(b,a,c,d,e){if(ha(a)){for(var f=0;f<a.length;f++)rc(b,a[f],c,d,e);return null}c=sc(c);return ab(b)?b.ra(a,c,d,e):tc(b,a,c,!1,d,e)}function tc(b,a,c,d,e,f){if(!a)throw Error("Invalid event type");var g=!!e,h=uc(b);h||(b[oc]=h=new Db(b));c=h.add(a,c,d,e,f);if(c.Ng)return c;d=vc();c.Ng=d;d.src=b;d.td=c;b.addEventListener?b.addEventListener(a.toString(),d,g):b.attachEvent(wc(a.toString()),d);qc++;return c}
function vc(){var b=xc,a=cc?function(c){return b.call(a.src,a.td,c)}:function(c){c=b.call(a.src,a.td,c);if(!c)return c};return a}function yc(b,a,c,d,e){if(ha(a)){for(var f=0;f<a.length;f++)yc(b,a[f],c,d,e);return null}c=sc(c);return ab(b)?b.mi(a,c,d,e):tc(b,a,c,!0,d,e)}function zc(b,a,c,d,e){if(ha(a))for(var f=0;f<a.length;f++)zc(b,a[f],c,d,e);else c=sc(c),ab(b)?b.Yg(a,c,d,e):b&&(b=uc(b))&&(a=b.Ye(a,c,!!d,e))&&Ac(a)}
function Ac(b){if(A(b)||!b||b.xe)return!1;var a=b.src;if(ab(a))return Fb(a.vb,b);var c=b.type,d=b.Ng;a.removeEventListener?a.removeEventListener(c,d,b.ag):a.detachEvent&&a.detachEvent(wc(c),d);qc--;(c=uc(a))?(Fb(c,b),0==c.Df&&(c.src=null,a[oc]=null)):db(b);return!0}function Bc(b){if(b)if(ab(b))b.vb&&b.vb.xd(void 0);else if(b=uc(b)){var a=0,c;for(c in b.sa)for(var d=b.sa[c].concat(),e=0;e<d.length;++e)Ac(d[e])&&++a}}function wc(b){return b in pc?pc[b]:pc[b]="on"+b}
function Cc(b,a,c,d){var e=1;if(b=uc(b))if(a=b.sa[a.toString()])for(a=a.concat(),b=0;b<a.length;b++){var f=a[b];f&&f.ag==c&&!f.xe&&(e&=!1!==Dc(f,d))}return Boolean(e)}function Dc(b,a){var c=b.td,d=b.rg||b.src;b.$f&&Ac(b);return c.call(d,a)}
function xc(b,a){if(b.xe)return!0;if(!cc){var c=a||da("window.event"),d=new lc(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=b.type,h=c.length-1;!d.wd&&0<=h;h--)d.currentTarget=c[h],e&=Cc(c[h],f,!0,d);for(h=0;!d.wd&&h<c.length;h++)d.currentTarget=c[h],e&=Cc(c[h],f,!1,d)}return e}return Dc(b,new lc(a,this))}
function uc(b){b=b[oc];return b instanceof Db?b:null}var Ec="__closure_events_fn_"+(1E9*Math.random()>>>0);function sc(b){return ja(b)?b:b[Ec]||(b[Ec]=function(a){return b.handleEvent(a)})};function Fc(){ec.call(this);this.vb=new Db(this);this.ym=this;this.Lg=null}J(Fc,ec);Fc.prototype[$a]=!0;m=Fc.prototype;m.Ii=function(b){this.Lg=b};m.addEventListener=function(b,a,c,d){rc(this,b,a,c,d)};m.removeEventListener=function(b,a,c,d){zc(this,b,a,c,d)};
m.dispatchEvent=function(b){var a,c=this.Lg;if(c)for(a=[];c;c=c.Lg)a.push(c);var c=this.ym,d=b.type||b;if(n(b))b=new ic(b,c);else if(b instanceof ic)b.target=b.target||c;else{var e=b;b=new ic(d,c);nb(b,e)}var e=!0,f;if(a)for(var g=a.length-1;!b.wd&&0<=g;g--)f=b.currentTarget=a[g],e=Gc(f,d,!0,b)&&e;b.wd||(f=b.currentTarget=c,e=Gc(f,d,!0,b)&&e,b.wd||(e=Gc(f,d,!1,b)&&e));if(a)for(g=0;!b.wd&&g<a.length;g++)f=b.currentTarget=a[g],e=Gc(f,d,!1,b)&&e;return e};
m.q=function(){Fc.f.q.call(this);this.vb&&this.vb.xd(void 0);this.Lg=null};m.ra=function(b,a,c,d){return this.vb.add(String(b),a,!1,c,d)};m.mi=function(b,a,c,d){return this.vb.add(String(b),a,!0,c,d)};m.Yg=function(b,a,c,d){return this.vb.remove(String(b),a,c,d)};function Gc(b,a,c,d){a=b.vb.sa[String(a)];if(!a)return!0;a=a.concat();for(var e=!0,f=0;f<a.length;++f){var g=a[f];if(g&&!g.xe&&g.ag==c){var h=g.td,l=g.rg||g.src;g.$f&&Fb(b.vb,g);e=!1!==h.call(l,d)&&e}}return e&&!1!=d.ml}
m.Ye=function(b,a,c,d){return this.vb.Ye(String(b),a,c,d)};function Hc(){Fc.call(this);this.h="base";this.qm=window["X.counter"].Bq();this.U=!1}J(Hc,Fc);Hc.prototype.__defineGetter__("classname",function(){return this.h});Hc.prototype.__defineGetter__("id",function(){return this.qm});F("X.base",Hc);function Ic(b,a){Hc.call(this);this.h="triplets";this.Kd=Infinity;this.Hd=-Infinity;this.Ld=Infinity;this.Id=-Infinity;this.Md=Infinity;this.Jd=-Infinity;this.hh=[0,0,0];this.B=0;this.ma=new Float32Array(b);null!=a&&(this.ma=a.ma.subarray(0,a.ma.length),this.B=this.ma.length,this.Kd=a.Kd,this.Hd=a.Hd,this.Ld=a.Ld,this.Id=a.Id,this.Md=a.Md,this.Jd=a.Jd,this.hh=a.hh.slice())}J(Ic,Hc);m=Ic.prototype;
m.add=function(b,a,c){this.Kd=Math.min(this.Kd,b);this.Hd=Math.max(this.Hd,b);this.Ld=Math.min(this.Ld,a);this.Id=Math.max(this.Id,a);this.Md=Math.min(this.Md,c);this.Jd=Math.max(this.Jd,c);this.hh=[(this.Kd+this.Hd)/2,(this.Ld+this.Id)/2,(this.Md+this.Jd)/2];this.U=!0;this.ma[this.B++]=b;this.ma[this.B++]=a;this.ma[this.B++]=c;return this.B/3};m.resize=function(){if(this.B!=this.ma.length){var b=new Float32Array(this.B);b.set(this.ma.subarray(0,this.B));this.ma=b}};
m.get=function(b){b*=3;return[this.ma[b],this.ma[b+1],this.ma[b+2]]};m.remove=function(){throw Error("Not implemented.");};m.clear=function(){this.ma=new Float32Array(this.ma.length);this.U=!0};Ic.prototype.__defineGetter__("count",function(){this.resize();return this.ma.length/3});Ic.prototype.__defineGetter__("length",function(){this.resize();return this.ma.length});F("X.triplets",Ic);F("X.triplets.prototype.add",Ic.prototype.add);F("X.triplets.prototype.resize",Ic.prototype.resize);
F("X.triplets.prototype.get",Ic.prototype.get);F("X.triplets.prototype.remove",Ic.prototype.remove);F("X.triplets.prototype.clear",Ic.prototype.clear);function Jc(b){Hc.call(this);this.h="file";this.nh=b;this.U=!0}J(Jc,Hc);function Kc(){this.bd=this.N=null}Kc.prototype.__defineSetter__("file",function(b){if(null==b||ha(b)&&0==b.length)this.N=null;else{if(ha(b)){if(1==b.length){this.N=new Jc(b[0]);return}this.N=sb(b,function(b){var c=new N.volume;c.N=new Jc(b);return c})}else this.N=new Jc(b);this.bd=null}});Kc.prototype.__defineGetter__("file",function(){return this.N?ha(this.N)?this.N.map(function(b){return b.N.nh}):this.N.nh:""});
Kc.prototype.__defineGetter__("filedata",function(){return ha(this.N)?this.N.map(function(b){return b.bd}):this.bd});Kc.prototype.__defineSetter__("filedata",function(b){if(null==b||ha(b)&&0==b.length)this.bd=null;if(ha(b))if(1==b.length)this.bd=b[0];else{var a=this.N.length,c;for(c=0;c<a;c++)this.N[c].bd=b[c]}else this.bd=b});function Lc(b,a){this.Rb={};this.Q=[];this.Yd=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(b){b instanceof Lc?(c=b.Xe(),d=b.qg()):(c=hb(b),d=gb(b));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}m=Lc.prototype;m.qg=function(){Mc(this);for(var b=[],a=0;a<this.Q.length;a++)b.push(this.Rb[this.Q[a]]);return b};m.Xe=function(){Mc(this);return this.Q.concat()};
m.clear=function(){this.Rb={};this.Yd=this.Q.length=0};m.remove=function(b){return Object.prototype.hasOwnProperty.call(this.Rb,b)?(delete this.Rb[b],this.Yd--,this.Q.length>2*this.Yd&&Mc(this),!0):!1};
function Mc(b){if(b.Yd!=b.Q.length){for(var a=0,c=0;a<b.Q.length;){var d=b.Q[a];Object.prototype.hasOwnProperty.call(b.Rb,d)&&(b.Q[c++]=d);a++}b.Q.length=c}if(b.Yd!=b.Q.length){for(var e={},c=a=0;a<b.Q.length;)d=b.Q[a],Object.prototype.hasOwnProperty.call(e,d)||(b.Q[c++]=d,e[d]=1),a++;b.Q.length=c}}m.get=function(b,a){return Object.prototype.hasOwnProperty.call(this.Rb,b)?this.Rb[b]:a};m.set=function(b,a){Object.prototype.hasOwnProperty.call(this.Rb,b)||(this.Yd++,this.Q.push(b));this.Rb[b]=a};
m.forEach=function(b,a){for(var c=this.Xe(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);b.call(a,f,e,this)}};m.clone=function(){return new Lc(this)};m.Oi=function(){for(var b=new Lc,a=0;a<this.Q.length;a++){var c=this.Q[a];b.set(this.Rb[c],c)}return b};function Nc(){Hc.call(this);this.h="colortable";this.jh=new Lc;ua(this,new Kc)}J(Nc,Hc);Nc.prototype.add=function(b,a,c,d,e,f){if(!(A(b)&&A(c)&&A(d)&&A(e)&&A(f)))throw Error("Invalid color table entry.");this.jh.set(b,[a,c,d,e,f]);this.U=!0};Nc.prototype.get=function(b){return this.jh.get(b)};F("X.colortable.prototype.get",Nc.prototype.get);function Oc(b,a,c){this.x=ca(b)?b:0;this.y=ca(a)?a:0;this.z=ca(c)?c:0}Oc.prototype.clone=function(){return new Oc(this.x,this.y,this.z)};Oc.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};Oc.prototype.Jl=function(){return[this.x,this.y,this.z]};function T(b,a,c){this.x=b;this.y=a;this.z=c}J(T,Oc);m=T.prototype;m.clone=function(){return new T(this.x,this.y,this.z)};m.Wc=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};m.scale=function(b){this.x*=b;this.y*=b;this.z*=b;return this};m.oe=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};m.normalize=function(){return this.scale(1/this.Wc())};m.add=function(b){this.x+=b.x;this.y+=b.y;this.z+=b.z;return this};
m.Ab=function(b){this.x-=b.x;this.y-=b.y;this.z-=b.z;return this};function Pc(b,a){var c=b.x-a.x,d=b.y-a.y,e=b.z-a.z;return Math.sqrt(c*c+d*d+e*e)}function Qc(b,a){return new T(b.y*a.z-b.z*a.y,b.z*a.x-b.x*a.z,b.x*a.y-b.y*a.x)};N.T=T;m=N.T.prototype;m.clone=T.prototype.clone;m.Wc=T.prototype.Wc;m.scale=T.prototype.scale;m.oe=T.prototype.oe;m.add=T.prototype.add;m.Ab=T.prototype.Ab;m.normalize=function(){var b=this.Wc();return 0==b?this.scale(0):this.scale(1/b)};N.T.zn=function(b,a){return b.x*a.x+b.y*a.y+b.z*a.z};N.T.Lh=Qc;N.T.Lj=Pc;N.T.To=function(b,a,c){var d=b.x,e=b.y;b=b.z;return new T(d+c*(a.x-d),e+c*(a.y-e),b+c*(a.z-b))};N.T.prototype.__defineGetter__("xx",function(){return this.x});
N.T.prototype.__defineGetter__("yy",function(){return this.y});N.T.prototype.__defineGetter__("zz",function(){return this.z});F("X.vector",N.T);F("X.vector.prototype.clone",N.T.prototype.clone);F("X.vector.prototype.magnitude",N.T.prototype.Wc);F("X.vector.prototype.scale",N.T.prototype.scale);F("X.vector.prototype.invert",N.T.prototype.oe);F("X.vector.prototype.normalize",N.T.prototype.normalize);F("X.vector.prototype.add",N.T.prototype.add);F("X.vector.prototype.subtract",N.T.prototype.Ab);
F("X.vector.dot",N.T.zn);F("X.vector.cross",N.T.Lh);F("X.vector.distance",N.T.Lj);F("X.vector.lerp",N.T.To);function Rc(b){this.length=b.length||b;for(var a=0;a<this.length;a++)this[a]=b[a]||0}Rc.prototype.BYTES_PER_ELEMENT=8;Rc.prototype.set=function(b,a){a=a||0;for(var c=0;c<b.length&&a+c<this.length;c++)this[a+c]=b[c]};Rc.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Rc.BYTES_PER_ELEMENT=8}catch(Sc){}Rc.prototype.BYTES_PER_ELEMENT=Rc.prototype.BYTES_PER_ELEMENT;Rc.prototype.set=Rc.prototype.set;Rc.prototype.toString=Rc.prototype.toString;F("Float64Array",Rc)};function Tc(b){this.length=b.length||b;for(var a=0;a<this.length;a++)this[a]=b[a]||0}Tc.prototype.BYTES_PER_ELEMENT=4;Tc.prototype.set=function(b,a){a=a||0;for(var c=0;c<b.length&&a+c<this.length;c++)this[a+c]=b[c]};Tc.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Tc.BYTES_PER_ELEMENT=4,Tc.prototype.BYTES_PER_ELEMENT=Tc.prototype.BYTES_PER_ELEMENT,Tc.prototype.set=Tc.prototype.set,Tc.prototype.toString=Tc.prototype.toString,F("Float32Array",Tc));function Uc(b,a,c){var d=new Float32Array(3);d[0]=b;d[1]=a;d[2]=c;return d}function Vc(b,a){var c=b[0],d=b[1],e=b[2],c=1/Math.sqrt(c*c+d*d+e*e);a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c};function Wc(){return new Float32Array(4)}function Xc(b,a,c,d){var e=Wc();e[0]=b;e[1]=a;e[2]=c;e[3]=d;return e};function Yc(){return new Float32Array(16)}function Zc(){var b=Yc();b[0]=b[5]=b[10]=b[15]=1;return b}function $c(b,a,c,d,e,f,g,h,l,k,q,p,s,u,w,B,E){b[0]=a;b[1]=c;b[2]=d;b[3]=e;b[4]=f;b[5]=g;b[6]=h;b[7]=l;b[8]=k;b[9]=q;b[10]=p;b[11]=s;b[12]=u;b[13]=w;b[14]=B;b[15]=E;return b}function ad(b,a,c){a*=4;b[a]=c[0];b[a+1]=c[1];b[a+2]=c[2];b[a+3]=c[3]}function bd(b,a,c){a*=4;c[0]=b[a];c[1]=b[a+1];c[2]=b[a+2];c[3]=b[a+3]}function U(b,a,c,d,e,f){b[a]=c;b[a+4]=d;b[a+8]=e;b[a+12]=f}
function cd(b,a,c){b[a]=c[0];b[a+4]=c[1];b[a+8]=c[2];b[a+12]=c[3]}function dd(b,a,c){c[0]=b[a];c[1]=b[a+4];c[2]=b[a+8];c[3]=b[a+12]}
function ed(b,a,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],l=b[5],k=b[6],q=b[7],p=b[8],s=b[9],u=b[10],w=b[11],B=b[12],E=b[13],x=b[14];b=b[15];var K=a[0],z=a[1],v=a[2],G=a[3],D=a[4],I=a[5],H=a[6],M=a[7],C=a[8],t=a[9],r=a[10],V=a[11],O=a[12],y=a[13],L=a[14];a=a[15];c[0]=d*K+h*z+p*v+B*G;c[1]=e*K+l*z+s*v+E*G;c[2]=f*K+k*z+u*v+x*G;c[3]=g*K+q*z+w*v+b*G;c[4]=d*D+h*I+p*H+B*M;c[5]=e*D+l*I+s*H+E*M;c[6]=f*D+k*I+u*H+x*M;c[7]=g*D+q*I+w*H+b*M;c[8]=d*C+h*t+p*r+B*V;c[9]=e*C+l*t+s*r+E*V;c[10]=f*C+k*t+u*r+x*V;c[11]=
g*C+q*t+w*r+b*V;c[12]=d*O+h*y+p*L+B*a;c[13]=e*O+l*y+s*L+E*a;c[14]=f*O+k*y+u*L+x*a;c[15]=g*O+q*y+w*L+b*a;return c}
function fd(b,a){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],l=b[6],k=b[7],q=b[8],p=b[9],s=b[10],u=b[11],w=b[12],B=b[13],E=b[14],x=b[15],K=c*h-d*g,z=c*l-e*g,v=c*k-f*g,G=d*l-e*h,D=d*k-f*h,I=e*k-f*l,H=q*B-p*w,M=q*E-s*w,C=q*x-u*w,t=p*E-s*B,r=p*x-u*B,V=s*x-u*E,O=K*V-z*r+v*t+G*C-D*M+I*H;if(0==O)return!1;O=1/O;a[0]=(h*V-l*r+k*t)*O;a[1]=(-d*V+e*r-f*t)*O;a[2]=(B*I-E*D+x*G)*O;a[3]=(-p*I+s*D-u*G)*O;a[4]=(-g*V+l*C-k*M)*O;a[5]=(c*V-e*C+f*M)*O;a[6]=(-w*I+E*v-x*z)*O;a[7]=(q*I-s*v+u*z)*O;a[8]=(g*r-h*C+k*H)*O;
a[9]=(-c*r+d*C-f*H)*O;a[10]=(w*D-B*v+x*K)*O;a[11]=(-q*D+p*v-u*K)*O;a[12]=(-g*t+h*M-l*H)*O;a[13]=(c*t-d*M+e*H)*O;a[14]=(-w*G+B*z-E*K)*O;a[15]=(q*G-p*z+s*K)*O;return!0}function gd(b,a,c){var d=a[0],e=a[1];a=a[2];c[0]=d*b[0]+e*b[4]+a*b[8]+b[12];c[1]=d*b[1]+e*b[5]+a*b[9]+b[13];c[2]=d*b[2]+e*b[6]+a*b[10]+b[14]}
function hd(b,a,c){var d=a[0],e=a[1],f=a[2];a=a[3];c[0]=d*b[0]+e*b[4]+f*b[8]+a*b[12];c[1]=d*b[1]+e*b[5]+f*b[9]+a*b[13];c[2]=d*b[2]+e*b[6]+f*b[10]+a*b[14];c[3]=d*b[3]+e*b[7]+f*b[11]+a*b[15];return c}function id(b,a,c,d){var e=b[1]*a+b[5]*c+b[9]*d+b[13],f=b[2]*a+b[6]*c+b[10]*d+b[14],g=b[3]*a+b[7]*c+b[11]*d+b[15];b[12]=b[0]*a+b[4]*c+b[8]*d+b[12];b[13]=e;b[14]=f;b[15]=g;return b}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);N.j={};N.j.Xo=function(b,a,c,d){c=c.Ab(a);c.normalize();d=N.T.Lh(c,d);d.normalize();var e=N.T.Lh(d,c);e.normalize();c.oe();U(b,0,d.x,d.y,d.z,0);U(b,1,e.x,e.y,e.z,0);U(b,2,c.x,c.y,c.z,0);id(b,-a.x,-a.y,-a.z);return b};N.j.np=function(b,a,c,d){var e=1/(a*b[3]+c*b[7]+d*b[11]+b[15]);return new N.T((a*b[0]+c*b[4]+d*b[8]+b[12])*e,(a*b[1]+c*b[5]+d*b[9]+b[13])*e,(a*b[2]+c*b[6]+d*b[10]+b[14])*e)};
N.j.yq=function(b,a,c){var d=new Float32Array(4),e=new Float32Array(4);dd(b,a,d);dd(b,c,e);cd(b,a,e);cd(b,c,d);return b};N.j.xq=function(b,a,c){var d=new Float32Array(4),e=new Float32Array(4);bd(b,a,d);bd(b,c,e);ad(b,a,e);ad(b,c,d);return b};N.j.uk=Zc;N.j.clone=function(b){var a=Yc();a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};
N.j.Oi=function(b,a){if(a==b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=f;a[11]=b[14];a[12]=e;a[13]=g;a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a};
N.j.mn=function(b){var a=b[0],c=b[1],d=b[2],e=b[3],f=b[4],g=b[5],h=b[6],l=b[7],k=b[8],q=b[9],p=b[10],s=b[11],u=b[12],w=b[13],B=b[14];b=b[15];return(a*g-c*f)*(p*b-s*B)-(a*h-d*f)*(q*b-s*w)+(a*l-e*f)*(q*B-p*w)+(c*h-d*g)*(k*b-s*u)-(c*l-e*g)*(k*B-p*u)+(d*l-e*h)*(k*w-q*u)};N.j.oe=fd;N.j.Zo=function(b,a,c,d,e){var f=a/2;a=e-d;var g=Math.sin(f);if(0==a||0==g||0==c)return b;f=Math.cos(f)/g;return $c(b,f/c,0,0,0,0,f,0,0,0,0,-(e+d)/a,-1,0,0,-(2*d*e)/a,0)};
N.j.Wo=function(b,a,c,d,e,f,g){return $c(b,2*f/(c-a),0,0,0,0,2*f/(e-d),0,0,(c+a)/(c-a),(e+d)/(e-d),-(g+f)/(g-f),-1,0,0,-(2*g*f)/(g-f),0)};N.j.Yo=function(b,a,c,d,e,f,g){return $c(b,2/(c-a),0,0,0,0,2/(e-d),0,0,0,0,-2/(g-f),0,-(c+a)/(c-a),-(e+d)/(e-d),-(g+f)/(g-f),1)};N.j.multiply=ed;N.j.mp=hd;N.j.translate=id;N.j.scale=function(b,a,c,d){return $c(b,b[0]*a,b[1]*a,b[2]*a,b[3]*a,b[4]*c,b[5]*c,b[6]*c,b[7]*c,b[8]*d,b[9]*d,b[10]*d,b[11]*d,b[12],b[13],b[14],b[15])};
N.j.rotate=function(b,a,c,d,e){var f=b[0],g=b[1],h=b[2],l=b[3],k=b[4],q=b[5],p=b[6],s=b[7],u=b[8],w=b[9],B=b[10],E=b[11],x=Math.cos(a),K=Math.sin(a),z=1-x;a=c*c*z+x;var v=c*d*z+e*K,G=c*e*z-d*K,D=c*d*z-e*K,I=d*d*z+x,H=d*e*z+c*K,M=c*e*z+d*K;c=d*e*z-c*K;e=e*e*z+x;return $c(b,f*a+k*v+u*G,g*a+q*v+w*G,h*a+p*v+B*G,l*a+s*v+E*G,f*D+k*I+u*H,g*D+q*I+w*H,h*D+p*I+B*H,l*D+s*I+E*H,f*M+k*c+u*e,g*M+q*c+w*e,h*M+p*c+B*e,l*M+s*c+E*e,b[12],b[13],b[14],b[15])};
N.j.Qg=function(b,a){var c=b[4],d=b[5],e=b[6],f=b[7],g=b[8],h=b[9],l=b[10],k=b[11],q=Math.cos(a),p=Math.sin(a);b[4]=c*q+g*p;b[5]=d*q+h*p;b[6]=e*q+l*p;b[7]=f*q+k*p;b[8]=c*-p+g*q;b[9]=d*-p+h*q;b[10]=e*-p+l*q;b[11]=f*-p+k*q;return b};N.j.Rg=function(b,a){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[8],h=b[9],l=b[10],k=b[11],q=Math.cos(a),p=Math.sin(a);b[0]=c*q+g*-p;b[1]=d*q+h*-p;b[2]=e*q+l*-p;b[3]=f*q+k*-p;b[8]=c*p+g*q;b[9]=d*p+h*q;b[10]=e*p+l*q;b[11]=f*p+k*q;return b};
N.j.Sg=function(b,a){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],l=b[6],k=b[7],q=Math.cos(a),p=Math.sin(a);b[0]=c*q+g*p;b[1]=d*q+h*p;b[2]=e*q+l*p;b[3]=f*q+k*p;b[4]=c*-p+g*q;b[5]=d*-p+h*q;b[6]=e*-p+l*q;b[7]=f*-p+k*q;return b};F("X.matrix.identity",N.j.uk);F("X.matrix.clone",N.j.clone);F("X.matrix.transpose",N.j.Oi);F("X.matrix.determinant",N.j.mn);F("X.matrix.invert",N.j.oe);F("X.matrix.multiply",N.j.multiply);F("X.matrix.multiplyByVector",N.j.np);F("X.matrix.multiplyByVec4",N.j.mp);
F("X.matrix.makePerspective",N.j.Zo);F("X.matrix.makeFrustum",N.j.Wo);F("X.matrix.makeOrtho",N.j.Yo);F("X.matrix.makeLookAt",N.j.Xo);F("X.matrix.translate",N.j.translate);F("X.matrix.scale",N.j.scale);F("X.matrix.rotate",N.j.rotate);F("X.matrix.rotateX",N.j.Qg);F("X.matrix.rotateY",N.j.Rg);F("X.matrix.rotateZ",N.j.Sg);F("X.matrix.swapRows",N.j.yq);F("X.matrix.swapCols",N.j.xq);function jd(){Hc.call(this);this.h="transform";this.Ra=N.j.uk()}J(jd,Hc);jd.prototype.__defineGetter__("matrix",function(){return this.Ra});jd.prototype.__defineSetter__("matrix",function(b){if(!(null!=b&&b instanceof Float32Array))throw Error("Invalid matrix.");this.Ra=b;this.xb()});m=jd.prototype;m.Qg=function(b){if(!A(b)||-360>b||360<b)throw Error("Invalid angle.");N.j.Qg(this.Ra,b*Math.PI/180);this.xb()};
m.Rg=function(b){if(!A(b)||-360>b||360<b)throw Error("Invalid angle.");N.j.Rg(this.Ra,b*Math.PI/180);this.xb()};m.Sg=function(b){if(!A(b)||-360>b||360<b)throw Error("Invalid angle.");N.j.Sg(this.Ra,b*Math.PI/180);this.xb()};m.Kl=function(b){if(!A(b))throw Error("Invalid distance.");N.j.translate(this.Ra,b,0,0);this.xb()};m.Ll=function(b){if(!A(b))throw Error("Invalid distance.");N.j.translate(this.Ra,0,b,0);this.xb()};
m.Ml=function(b){if(!A(b))throw Error("Invalid distance.");N.j.translate(this.Ra,0,0,b);this.xb()};function kd(b,a,c){b.Ra[a+4*c]*=-1;b.xb()}m.On=function(){kd(this,0,0)};m.Pn=function(){kd(this,1,1)};m.Qn=function(){kd(this,2,2)};m.xb=function(){this.U=!0};F("X.transform",jd);F("X.transform.prototype.rotateX",jd.prototype.Qg);F("X.transform.prototype.rotateY",jd.prototype.Rg);F("X.transform.prototype.rotateZ",jd.prototype.Sg);F("X.transform.prototype.translateX",jd.prototype.Kl);
F("X.transform.prototype.translateY",jd.prototype.Ll);F("X.transform.prototype.translateZ",jd.prototype.Ml);F("X.transform.prototype.flipX",jd.prototype.On);F("X.transform.prototype.flipY",jd.prototype.Pn);F("X.transform.prototype.flipZ",jd.prototype.Qn);F("X.transform.prototype.modified",jd.prototype.xb);function ld(){Hc.call(this);this.h="texture";this.oh=this.Ac=this.N=null;this.hj=this.ij=0;ua(this,new Kc)}J(ld,Hc);ld.prototype.__defineSetter__("rawData",function(b){this.oh=b;this.U=!0});ld.prototype.__defineSetter__("rawDataHeight",function(b){this.hj=b;this.U=!0});ld.prototype.__defineSetter__("rawDataWidth",function(b){this.ij=b;this.U=!0});ld.prototype.__defineSetter__("grayscale",function(){this.U=!0});F("X.texture",ld);function md(){this.dd=nd;this.Ec=new jd;this.Gb=[1,1,1];this.qh=this.ac=this.yc=this.ga=this.ha=null;this.Nd=[];this.Od=!0;this.Rf=this.Wf=1;this.Ge=null;this.Tf=!1;this.Uf=1;this.Vf=!0}var nd="TRIANGLES";md.prototype.__defineSetter__("type",function(b){return this.dd=b});md.prototype.__defineGetter__("type",function(){return this.dd});md.prototype.__defineGetter__("texture",function(){this.ac||(this.ac=new ld);return this.ac});md.prototype.__defineGetter__("transform",function(){return this.Ec});
md.prototype.__defineGetter__("points",function(){return this.ha});md.prototype.__defineSetter__("points",function(b){this.ha=b});md.prototype.__defineGetter__("normals",function(){return this.ga});md.prototype.__defineSetter__("normals",function(b){this.ga=b});md.prototype.__defineGetter__("colors",function(){return this.yc});md.prototype.__defineSetter__("colors",function(b){this.yc=b});md.prototype.__defineGetter__("color",function(){return this.Gb});
md.prototype.__defineSetter__("color",function(b){if(null==b||!ha(b)||3!=b.length)throw Error("Invalid color.");for(var a=this.M,c=a.length,d=0,d=0;d<c;d++)a[d].color=b;this.Gb=b;this.U=!0});md.prototype.__defineGetter__("opacity",function(){return this.Uf});md.prototype.__defineSetter__("opacity",function(b){if(!A(b)||1<b||0>b)throw Error("Invalid opacity.");for(var a=this.M,c=a.length,d=0,d=0;d<c;d++)null!=a[d]&&(a[d].opacity=b);this.Uf=b;this.U=!0});md.prototype.__defineGetter__("caption",function(){return this.Ge});
md.prototype.__defineSetter__("caption",function(b){this.Ge=b;this.U=!0});md.prototype.__defineGetter__("visible",function(){return this.Od});md.prototype.__defineSetter__("visible",function(b){for(var a=this.M,c=a.length,d=0,d=0;d<c;d++)null!=a[d]&&(a[d].visible=b);this.Od=b;this.U=!0});md.prototype.__defineGetter__("pointsize",function(){return this.Wf});md.prototype.__defineSetter__("pointsize",function(b){if(!A(b))throw Error("Invalid point size.");this.Wf=b;this.U=!0});
md.prototype.__defineGetter__("magicmode",function(){return this.Tf});md.prototype.__defineSetter__("magicmode",function(b){if("boolean"!=typeof b)throw Error("Invalid magic mode setting.");this.Tf=b;this.U=!0});md.prototype.__defineGetter__("linewidth",function(){return this.Rf});md.prototype.__defineSetter__("linewidth",function(b){if(!A(b))throw Error("Invalid line width.");this.Rf=b;this.U=!0});md.prototype.__defineGetter__("pickable",function(){return this.Vf});
md.prototype.__defineSetter__("pickable",function(b){if("boolean"!=typeof b)throw Error("Invalid pickable setting.");this.Vf=b;this.U=!0});md.prototype.__defineGetter__("textureCoordinateMap",function(){return this.qh});md.prototype.__defineSetter__("textureCoordinateMap",function(){});function od(){this.Hb=Infinity;this.fa=this.Ya=-Infinity;this.ia=Infinity;this.lh=[0,0,0];this.kh=[1,1,1]}od.prototype.__defineGetter__("lowerThreshold",function(){return this.fa});od.prototype.__defineSetter__("lowerThreshold",function(b){this.fa=b});od.prototype.__defineGetter__("upperThreshold",function(){return this.ia});od.prototype.__defineSetter__("upperThreshold",function(b){this.ia=b});od.prototype.__defineGetter__("min",function(){return this.Hb});od.prototype.__defineGetter__("max",function(){return this.Ya});
od.prototype.__defineGetter__("minColor",function(){return this.lh});od.prototype.__defineSetter__("minColor",function(b){if(null==b||!ha(b)||3!=b.length)throw Error("Invalid min. color.");this.lh=b});od.prototype.__defineGetter__("maxColor",function(){return this.kh});od.prototype.__defineSetter__("maxColor",function(b){if(null==b||!ha(b)||3!=b.length)throw Error("Invalid max. color.");this.kh=b});function pd(){Hc.call(this);this.h="scalars";this.Qf=this.Fd=null;this.sm=!0;this.gj=0;ua(this,new Kc);ua(this,new od);this.lh=[0,1,0];this.kh=[1,0,0]}J(pd,Hc);pd.prototype.__defineGetter__("array",function(){return this.Fd});pd.prototype.__defineSetter__("array",function(b){this.Qf=this.Fd=b;this.U=!0});pd.prototype.__defineGetter__("interpolation",function(){return this.gj});pd.prototype.__defineSetter__("interpolation",function(b){this.gj=b});F("X.scalars",pd);function qd(b){Hc.call(this);this.h="object";this.M=[];this.ka=this.He=null;ua(this,new md);if(null!=b){this.dd=b.dd;this.Ec=new jd;this.Ec.Ra=new Float32Array(b.Ec.Ra);this.Gb=b.Gb.slice();b.ha&&(this.ha=new Ic(b.ha.length,b.ha));b.ga&&(this.ga=new Ic(b.ga.length,b.ga));b.yc&&(this.yc=new Ic(b.yc.length,b.yc));this.ac=b.ac;this.qh=b.qh;b.N&&(this.N=new Jc((new String(b.N.nh)).toString()));this.Uf=b.Uf;this.M.length=0;var a=b.M;if(a)for(var c=a.length,d=0,d=0;d<c;d++)this.M.push(new N[a[d].h](a[d]));
this.Od=b.Od;this.Wf=b.Wf;this.Rf=b.Rf;b.Ge&&(this.Ge=(new String(b.Ge)).toString());this.Tf=b.Tf;this.Vf=b.Vf;this.Nd=b.Nd.slice();this.U=!0}}J(qd,Hc);qd.prototype.__defineGetter__("colortable",function(){this.He||(this.He=new Nc);return this.He});qd.prototype.__defineGetter__("scalars",function(){this.ka||(this.ka=new pd);return this.ka});qd.prototype.__defineGetter__("children",function(){return this.M});qd.prototype.xb=function(){var b=new rd;b.$=this;this.dispatchEvent(b)};
qd.prototype.remove=function(){var b=new sd;b.$=this;this.dispatchEvent(b)};F("X.object",qd);F("X.object.prototype.modified",qd.prototype.xb);F("X.object.prototype.remove",qd.prototype.remove);function td(b){ic.call(this,b);this.h="event"}J(td,ic);function ud(b){return b+"_"+Ua()}var vd=ud("pan"),wd=ud("rotate"),xd=ud("zoom"),yd=ud("scroll");ud("render");ud("resetview");ud("windowlevel");var zd=ud("modified"),Ad=ud("remove");ud("progress");ud("hover");ud("hover_end");ud("computing");ud("computing_end");ud("computing_progress");function rd(){td.call(this,zd);this.ja=this.$=null}J(rd,td);function sd(){td.call(this,Ad);this.ja=this.$=null}J(sd,td);F("X.event.events.PAN",vd);
F("X.event.events.ROTATE",wd);F("X.event.events.ZOOM",xd);F("X.event.events.SCROLL",yd);function W(){Hc.call(this);this.h="parser";this.o=null;this.B=0;this.rm=0<(new Int8Array((new Int16Array([1])).buffer))[0];this.Sf=!0}J(W,Hc);W.prototype.parse=function(){throw Error("The function parse() should be overloaded.");};function Bd(b){for(var a=Infinity,c=-Infinity,d=b.length,e=0,e=0;e<d;e++)if(!isNaN(b[e]))var f=b[e],a=Math.min(a,f),c=Math.max(c,f);return[a,c]}
function Cd(b,a,c){void 0===a&&(a=0);void 0===c&&(c=b.length);for(var d="",e=0,e=a;e<c;++e)d+=String.fromCharCode(b[e]);return d}
W.prototype.a=function(b,a){null!=a||(a=1);var c=1,d=Uint8Array;switch(b){case "schar":d=Int8Array;break;case "ushort":d=Uint16Array;c=2;break;case "sshort":d=Int16Array;c=2;break;case "uint":d=Uint32Array;c=4;break;case "sint":d=Int32Array;c=4;break;case "float":d=Float32Array;c=4;break;case "complex":d=Float64Array;c=8;break;case "double":d=Float64Array,c=8}d=new d(this.o.slice(this.B,this.B+=a*c));if(this.rm!=this.Sf)for(var e=new Uint8Array(d.buffer,d.byteOffset,d.byteLength),f=0;f<d.byteLength;f+=
c)for(var g=f+c-1,h=f;g>h;g--,h++){var l=e[h];e[h]=e[g];e[g]=l}return 1==a?d[0]:d};
function Dd(b,a){var c=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],d=Xc(0,0,0,1),e=Wc();hd(b,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Xc(0,0,a[2]-1,1);hd(b,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Xc(0,a[1]-
1,0,1);hd(b,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Xc(a[0]-1,0,0,1);hd(b,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Xc(a[0]-1,a[1]-1,0,1);hd(b,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];
c[5]=e[2]>c[5]?e[2]:c[5];d=Xc(a[0]-1,0,a[2]-1,1);hd(b,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Xc(0,a[1]-1,a[2]-1,1);hd(b,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Xc(a[0]-1,a[1]-1,a[2]-1,1);hd(b,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:
c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];return c}
function Ed(b,a){var c=Zc();if(b.length!=a.length||b[0]!=a[0]||b[1]!=a[1]||b[2]!=a[2]){var d=Math.acos(b[2]),e=new Float32Array(3),f=b[0],g=b[1],h=b[2],l=a[0],k=a[1],q=a[2];e[0]=g*q-h*k;e[1]=h*l-f*q;e[2]=f*k-g*l;Vc(e,e);f=Math.cos(d/2);g=Math.sin(d/2)*e[0];h=Math.sin(d/2)*e[1];d=Math.sin(d/2)*e[2];U(c,0,f*f+g*g-h*h-d*d,2*(g*h-f*d),2*(g*d+f*h),0);U(c,1,2*(g*h+f*d),f*f+h*h-g*g-d*d,2*(h*d-f*g),0);U(c,2,2*(g*d-f*h),2*(h*d+f*g),f*f+d*d-h*h-g*g,0)}d=Yc();fd(c,d);return[c,d]}
function Fd(b,a,c,d,e,f,g,h,l){var k=new N.slice;Vc(c,c);for(var q=[],p=[],s=0;6>s;s++)for(var u=Math.floor(s/2),w=(u+1)%3,B=(u+2)%3,E=(4+2*u)%6,x=0;2>x;x++){var K=(2+x+2*u)%6,z=-(c[u]*(e[s]-b[u])+c[w]*(e[K]-b[w]))/c[B]+b[B];if(z>=e[E]&&z<=e[E+1]||z<=e[E]&&z>=e[E+1]){var v=[];v[u]=e[s];v[w]=e[K];v[B]=z;q.push(v)}else v=[],v[u]=e[s],v[w]=e[K],v[B]=z,p.push(v)}b=Uc(0,0,1);b=Ed(c,b);e=b[0];b=b[1];u=[];for(p=0;p<q.length;++p)s=Xc(q[p][0],q[p][1],q[p][2],1),w=Wc(),hd(e,s,w),u.push([w[0],w[1],w[2]]);e=
Uc(1,0,0);q=new Float32Array(3);gd(b,e,q);p=Uc(0,1,0);e=new Float32Array(3);gd(b,p,e);s=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];for(p=p=0;p<u.length;++p)u[p][0]<s[0]&&(s[0]=u[p][0]),u[p][0]>s[1]&&(s[1]=u[p][0]),u[p][1]<s[2]&&(s[2]=u[p][1]),u[p][1]>s[3]&&(s[3]=u[p][1]),u[p][2]<s[4]&&(s[4]=u[p][2]),u[p][2]>s[5]&&(s[5]=u[p][2]);p=Xc(s[0]+(s[1]-s[0])/2,s[2]+(s[3]-s[2])/2,s[4]+(s[5]-s[4])/2,0);u=Wc();ed(b,p,u);w=Math.floor(s[0]);B=Math.ceil(s[1]);
w==B&&B++;E=B-w;x=Math.floor(s[2]);K=Math.ceil(s[3]);z=K-x;v=a[0];a=a[1];var p=Math.ceil(E/v),G=Math.ceil(z/a),D=new Uint8Array(4*p*G),I=new ld;I.ij=p;I.hj=G;var G=Wc(),H=Xc(0,0,s[4],1),M=Yc();ed(g.Tr,b,M);for(var C=K-1E-7,t=B-1E-7,r=0,V=0,O=0,y=x,y=x;y<=C;y+=a)for(O++,V=0,H[1]=y,p=w;p<=t;p+=v){V++;H[0]=p;hd(M,H,G);var L=4*r,na=Math.floor(G[2]),R=Math.floor(G[1]),ea=Math.floor(G[0]);if(0<=ea&&ea<g.X[0]&&0<=R&&R<g.X[1]&&0<=na&&na<g.X[2]){var S=f[na][R][ea],va=ea=R=na=0;l?((S=l.get(S))||(S=[0,.61,0,
0,1]),na=255*S[1],R=255*S[2],ea=255*S[3],va=255*S[4]):(na=R=ea=S/g.Ya*255,va=255);D[L]=na;D[++L]=R;D[++L]=ea;D[++L]=va}else D[L]=0,D[++L]=0,D[++L]=0,D[++L]=0;r++}I.oh=D;k.ac=I;k.ws=s;k.Vr=b;k.Ur=M;k.ds=x;k.cs=K;k.vs=w;k.us=B;k.fs=V;k.es=O;k.ts=v;k.ss=E;k.bs=a;k.as=z;k.Yr=[u[0],u[1],u[2]];k.$r=[c[0],c[1],c[2]];k.ps=[q[0],q[1],q[2]];k.rs=[e[0],e[1],e[2]];k.Od=!1;k.xm=g;k.Xr=null==g.xm||h?!0:!1;k.Wr=d;k.hd();k.Od=!1;return k}
function Gd(b,a,c,d){var e;e=d.Of;for(var f=[],g=[],h=0;6>h;h++){var l=Math.floor(h/2),k=(l+1)%3,q=(l+2)%3,p=(2+2*l)%6,s=(4+2*l)%6,u=1/c[l]*(e[h]-a[l]);if(Infinity!=u&&-Infinity!=u){var w=a[k]+c[k]*u,u=a[q]+c[q]*u;w>=e[p]&&w<=e[p+1]&&u>=e[s]&&u<=e[s+1]?(p=[],p[l]=e[h],p[k]=w,p[q]=u,f.push(p)):(p=[],p[l]=e[h],p[k]=w,p[q]=u,g.push(p))}}e=[f,g];a=e[0];d.b[b].l=e;e=Pc(new T(a[0][0],a[0][1],a[0][2]),new T(a[1][0],a[1][1],a[1][2]));d.b[b].Zr=e;f=Uc(0,0,1);g=Ed(c,f)[0];h=Xc(d.fj[0],d.fj[1],d.fj[2],0);f=
Wc();hd(g,h,f);g=Wc();h=f[2];g[0]=c[0]*h;g[1]=c[1]*h;g[2]=c[2]*h;g[3]=c[3]*h;.5>Math.abs(f[0])&&(f[0]=.5);.5>Math.abs(f[1])&&(f[1]=.5);d.b[b].ph=[Math.abs(f[0]),Math.abs(f[1])];d.b[b].qs=f[2];d.b[b].$b=g;e=Math.floor(Math.abs(e/f[2]));d.ns[b]=e+1;d.b[b].O=e+1;d.b[b].l[0][0][0]>d.b[b].l[0][1][0]?0<g[0]&&(e=d.b[b].l[0][0],d.b[b].l[0][0]=d.b[b].l[0][1],d.b[b].l[0][1]=e):d.b[b].l[0][0][0]<d.b[b].l[0][1][0]?0>g[0]&&(e=d.b[b].l[0][0],d.b[b].l[0][0]=d.b[b].l[0][1],d.b[b].l[0][1]=e):d.b[b].l[0][0][1]>d.b[b].l[0][1][1]?
0<g[1]&&(e=d.b[b].l[0][0],d.b[b].l[0][0]=d.b[b].l[0][1],d.b[b].l[0][1]=e):d.b[b].l[0][0][1]<d.b[b].l[0][1][1]?0>g[1]&&(e=d.b[b].l[0][0],d.b[b].l[0][0]=d.b[b].l[0][1],d.b[b].l[0][1]=e):d.b[b].l[0][0][2]>d.b[b].l[0][1][2]?0<g[2]&&(e=d.b[b].l[0][0],d.b[b].l[0][0]=d.b[b].l[0][1],d.b[b].l[0][1]=e):d.b[b].l[0][0][2]<d.b[b].l[0][1][2]&&0>g[2]&&(e=d.b[b].l[0][0],d.b[b].l[0][0]=d.b[b].l[0][1],d.b[b].l[0][1]=e);d.b[b].ms=-(c[0]*a[0][0]+c[1]*a[0][1]+c[2]*a[0][2])}
function Hd(b,a){var c;c=a.o;for(var d=a.X,e=a.Ya,f=Array(d[2]),g=Array(d[2]),h=d[1]*d[0],l=0,k=0,q=0,p=0,s=0,p=0;p<d[2];p++){var u=c.subarray(p*h,(p+1)*h),s=0;g[p]=Array(d[1]);f[p]=Array(d[1]);for(q=0;q<d[1];q++)for(g[p][q]=new c.constructor(d[0]),f[p][q]=new c.constructor(d[0]),k=0;k<d[0];k++)l=u[s],g[p][q][k]=l/e*255,f[p][q][k]=l,s++}c=[f,g];a.Pf=c[0];a.Sr=c[1];N.Ha(b.h+".reslice");a.le=null!=a.Gd;a.He&&(a.ih=a.He.jh);a.vt=[0,0,0];a.Zb=[a.Ja[0]+(a.wc[0]-1)/2,a.Ja[1]+(a.wc[1]-1)/2,a.Ja[2]+(a.wc[2]-
1)/2];a.Of=[Math.min(a.Ja[0],a.Ja[0]+a.wc[0]-1),Math.max(a.Ja[0],a.Ja[0]+a.wc[0]-1),Math.min(a.Ja[1],a.Ja[1]+a.wc[1]-1),Math.max(a.Ja[1],a.Ja[1]+a.wc[1]-1),Math.min(a.Ja[2],a.Ja[2]+a.wc[2]-1),Math.max(a.Ja[2],a.Ja[2]+a.wc[2]-1)];a.b=[{},{},{}];c=Uc(a.Zb[0],a.Zb[1],a.Zb[2]);a.b[0].jj=c;d=Uc(1,0,0);Vc(d,d);a.b[0].Ie=d;e=[1,0,0];a.b[0].Gb=e;Gd(0,c,d,a);a.M[0].M=Array(a.b[0].O);c[0]=a.b[0].l[0][0][0]+a.b[0].$b[0]*Math.floor(a.b[0].O/2);c[1]=a.b[0].l[0][0][1]+a.b[0].$b[1]*Math.floor(a.b[0].O/2);c[2]=a.b[0].l[0][0][2]+
a.b[0].$b[2]*Math.floor(a.b[0].O/2);c=Fd(c,a.b[0].ph,a.b[0].Ie,a.b[0].Gb,a.Of,a.Pf,a,a.le,a.ih);a.le&&(c.Gd=a.Gd.M[0].M[Math.floor(a.b[0].O/2)].ac);a.M[0].M[Math.floor(a.b[0].O/2)]=c;a.gs=Math.floor(a.b[0].O/2);a.hs=Math.floor(a.b[0].O/2);c=Uc(a.Zb[0],a.Zb[1],a.Zb[2]);a.b[1].jj=c;d=Uc(0,1,0);Vc(d,d);a.b[1].Ie=d;e=[0,1,0];a.b[1].Gb=e;Gd(1,c,d,a);a.M[1].M=Array(a.b[1].O);c[0]=a.b[1].l[0][0][0]+a.b[1].$b[0]*Math.floor(a.b[1].O/2);c[1]=a.b[1].l[0][0][1]+a.b[1].$b[1]*Math.floor(a.b[1].O/2);c[2]=a.b[1].l[0][0][2]+
a.b[1].$b[2]*Math.floor(a.b[1].O/2);c=Fd(c,a.b[1].ph,a.b[1].Ie,a.b[1].Gb,a.Of,a.Pf,a,a.le,a.ih);a.le&&(c.Gd=a.Gd.M[1].M[Math.floor(a.b[1].O/2)].ac);a.M[1].M[Math.floor(a.b[1].O/2)]=c;a.is=Math.floor(a.b[1].O/2);a.js=Math.floor(a.b[1].O/2);c=Uc(a.Zb[0],a.Zb[1],a.Zb[2]);a.b[2].jj=c;d=Uc(0,0,1);Vc(d,d);a.b[2].Ie=d;e=[0,.392,.804];a.b[2].Gb=e;Gd(2,c,d,a);a.M[2].M=Array(a.b[2].O);c[0]=a.b[2].l[0][0][0]+a.b[2].$b[0]*Math.floor(a.b[2].O/2);c[1]=a.b[2].l[0][0][1]+a.b[2].$b[1]*Math.floor(a.b[2].O/2);c[2]=
a.b[2].l[0][0][2]+a.b[2].$b[2]*Math.floor(a.b[2].O/2);c=Fd(c,a.b[2].ph,a.b[2].Ie,a.b[2].Gb,a.Of,a.Pf,a,a.le,a.ih);a.le&&(c.Gd=a.Gd.M[2].M[Math.floor(a.b[2].O/2)].ac);a.M[2].M[Math.floor(a.b[2].O/2)]=c;a.ks=Math.floor(a.b[2].O/2);a.ls=Math.floor(a.b[2].O/2);N.Ia(b.h+".reslice");return a.Pf};function Id(){W.call(this);this.h="parserOFF"}J(Id,W);
Id.prototype.parse=function(b,a,c){function d(){if(l===e)throw Error("End of file reached unexpectedly.");for(var b=l;b<e;++b)if(10===f[b]){var a=Cd(f,l,b);l=b+1;return a}l=e;return Cd(f,l,e-1)}N.Ha(this.h+".parse");this.o=c;var e=c.byteLength,f=this.a("uchar",e);c=[];a.ha=new Ic(e);a.ga=new Ic(e);for(var g=a.ha,h=a.ga,l=0,k=d(),k=("OFF"===k?d():k).split(" "),q=k[0],k=k[1];q--;){var p=d(),p=p.split(" ");c.push([parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])])}for(;k--;){var p=d(),p=p.split(" "),
s=c[parseInt(p[1],10)],q=c[parseInt(p[2],10)],p=c[parseInt(p[3],10)];g.add(s[0],s[1],s[2]);g.add(q[0],q[1],q[2]);g.add(p[0],p[1],p[2]);s=new T(s[0],s[1],s[2]);p=new T(p[0],p[1],p[2]);q=Qc((new T(q[0],q[1],q[2])).Ab(s),p.Ab(s));q.normalize();h.add(q.x,q.y,q.z);h.add(q.x,q.y,q.z);h.add(q.x,q.y,q.z)}N.Ia(this.h+".parse");c=new rd;c.$=a;c.ja=b;this.dispatchEvent(c)};F("X.parserOFF",Id);F("X.parserOFF.prototype.parse",Id.prototype.parse);function Jd(){W.call(this);this.h="parserDCM"}J(Jd,W);
Jd.prototype.parse=function(b,a,c){a.Ee={};a.Ee.ri=0;this.oc(c,a);if(null==a.N.length||a.C.length==a.N.length){a.Ee.ri=a.N.length;var d={};c={};for(var e=0;e<a.C.length;e++)d.hasOwnProperty(a.C[e].series_instance_uid)||(d[a.C[e].series_instance_uid]=[],c[a.C[e].series_instance_uid]={}),c[a.C[e].series_instance_uid].hasOwnProperty(a.C[e].sop_instance_uid)||(c[a.C[e].series_instance_uid][a.C[e].sop_instance_uid]=!0,d[a.C[e].series_instance_uid].push(a.C[e]));var f=Object.keys(d)[0],e=d[f],g=e.length;
c={};var h="image_position_patient";1==g?(h="image_position_patient",d[f][0].dist=0):e[0].image_position_patient[0]!=e[1].image_position_patient[0]||e[0].image_position_patient[1]!=e[1].image_position_patient[1]||e[0].image_position_patient[2]!=e[1].image_position_patient[2]?(h="image_position_patient",d=new T(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),f=new T(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]),
d=Qc(d,f),e.map(function(b,a){a.dist=a.image_position_patient[0]*b.x+a.image_position_patient[1]*b.y+a.image_position_patient[2]*b.z;return a}.bind(null,d)),e.sort(function(b,a){return b.dist-a.dist})):e[0].instance_number!=e[1].instance_number?(h="instance_number",e.sort(function(b,a){return b.instance_number-a.instance_number})):window.console.log("Could not resolve the ordering mode");isNaN(e[0].pixel_spacing[0])&&(e[0].pixel_spacing[0]=1);isNaN(e[0].pixel_spacing[1])&&(e[0].pixel_spacing[1]=1);
if(1<g)switch(h){case "image_position_patient":var l=e[0].image_position_patient,d=e[1].image_position_patient,f=d[0]-l[0],k=d[1]-l[1],q=d[2]-l[2];e[0].pixel_spacing[2]=Math.sqrt(f*f+k*k+q*q);break;case "instance_number":e[0].pixel_spacing[2]=1;break;default:window.console.log("Unkown ordering mode - returning: "+h)}else e[0].pixel_spacing[2]=1;d=1;switch(h){case "image_position_patient":var l=e[0].image_position_patient,p=e[g-1].image_position_patient,f=p[0]-l[0],k=p[1]-l[1],q=p[2]-l[2],f=Math.sqrt(f*
f+k*k+q*q),d=d+Math.round(f/e[0].pixel_spacing[2]);break;case "instance_number":d+=Math.abs(e[g-1].instance_number-e[0].instance_number);break;default:window.console.log("Unkown ordering mode - returning: "+h)}l=e[0].columns*e[0].rows;f=l*d;p=null;switch(e[0].fd){case 8:p=new Uint8Array(f);break;case 16:p=new Uint16Array(f);break;case 32:p=new Uint32Array(f);default:window.console.log("Unknown number of bits allocated - using default: 32 bits")}a.Xf=e[0].pixel_spacing;for(var s=0;s<g;s++){var u=e[s].data,
f=0;switch(h){case "image_position_patient":f=e[s].image_position_patient[0]-e[0].image_position_patient[0];k=e[s].image_position_patient[1]-e[0].image_position_patient[1];q=e[s].image_position_patient[2]-e[0].image_position_patient[2];f=Math.sqrt(f*f+k*k+q*q)/e[0].pixel_spacing[2];break;case "instance_number":f=e[s].instance_number-e[0].instance_number;break;default:window.console.log("Unkown ordering mode - returning: "+h)}p.set(u,f*l)}c.data=p;a.o=p;a.X=[e[0].columns,e[0].rows,d];c.on=a.X;d=Bd(p);
g=d[0];d=d[1];c.min=a.Hb=a.Qd=g;c.max=a.Ya=a.Pd=d;-Infinity==a.fa&&(a.fa=g);Infinity==a.ia&&(a.ia=d);k=e[0].image_position_patient;g=Yc();switch(h){case "image_position_patient":d=new T(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]);f=new T(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]);d=Qc(d,f);U(g,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*
e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2],-k[0]);U(g,1,-e[0].image_orientation_patient[1]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2],-k[1]);U(g,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2],k[2]);U(g,3,0,0,0,1);break;case "instance_number":U(g,0,-1,0,0,-k[0]);U(g,1,-0,-1,-0,-k[1]);U(g,2,0,0,1,k[2]);U(g,3,0,0,0,1);break;default:window.console.log("Unkown ordering mode - returning: "+
h)}c.Wa=g;c.Xa=Yc();fd(c.Wa,c.Xa);h=Xc(0,0,0,1);e=Wc();hd(g,h,e);h=Xc(1,1,1,1);d=Wc();hd(g,h,d);c.Ed=[d[0]-e[0],d[1]-e[1],d[2]-e[2]];e=Dd(g,[a.X[0],a.X[1],a.X[2]]);c.Cd=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];c.Dd=[e[0],e[2],e[4]];a.hd(c);a.Ac=Hd(this,a)}c=new rd;c.$=a;c.ja=b;this.dispatchEvent(c)};
Jd.prototype.Ma=function(b,a,c,d){switch(c){case 16975:case 20819:case 20053:case 22351:c=function(b){for(var a="",c=128;1<=c;c/=2)a+=b&c?"1":"0";return a};d=b[a++];b=b[a++];d=parseInt(c((b&65280)>>8)+c(b&255)+(c((d&65280)>>8)+c(d&255)),2);4294967295==d&&(d=0);a+=d/2;break;default:a+=d/2}return a};
Jd.prototype.oc=function(b,a){this.o=b;if("undefined"==typeof a.C||null==a.C)a.C=[];for(var c={pixel_spacing:[.1,.1,Infinity],image_orientation_patient:[1,0,0,0,1,0],image_position_patient:[0,0,0],transfer_syntax_uid:"no_transfer_syntax_uid"},d=this.a("ushort",this.o.byteLength),e=66,f=null,g=null,h=null,l=null;e<d.length;)switch(f=d[e++],g=d[e++],h=d[e++],l=d[e++],"1.2.840.10008.1.2"==c.transfer_syntax_uid&&0==l&&(l=h),f){case 2:switch(g){case 16:for(var k="",f=f=0;f<l/2;f++)h=d[e++],g=h&255,h=(h&
65280)>>8,k+=String.fromCharCode(g),k+=String.fromCharCode(h);c.transfer_syntax_uid=k.replace(/\0/g,"");break;default:e=Jd.prototype.Ma(d,e,h,l)}break;case 40:switch(g){case 16:c.rows=d[e];e+=l/2;break;case 17:c.columns=d[e];e+=l/2;break;case 256:c.fd=d[e];e+=l/2;break;case 257:c.bits_stored=d[e];e+=l/2;break;case 2:c.number_of_images=d[e];e+=l/2;break;case 48:k="";for(f=0;f<l/2;f++)h=d[e++],g=h&255,h=(h&65280)>>8,k+=String.fromCharCode(g),k+=String.fromCharCode(h);k=k.split("\\");c.pixel_spacing=
[parseFloat(k[0]),parseFloat(k[1]),Infinity];break;default:e=Jd.prototype.Ma(d,e,h,l)}break;case 32:switch(g){case 14:c.series_instance_uid="";for(f=0;f<l/2;f++)h=d[e++],g=h&255,h=(h&65280)>>8,c.series_instance_uid+=String.fromCharCode(g),c.series_instance_uid+=String.fromCharCode(h);break;case 19:k="";for(f=0;f<l/2;f++)h=d[e++],g=h&255,h=(h&65280)>>8,k+=String.fromCharCode(g),k+=String.fromCharCode(h);c.instance_number=parseInt(k,10);break;case 50:k="";for(f=0;f<l/2;f++)h=d[e++],g=h&255,h=(h&65280)>>
8,k+=String.fromCharCode(g),k+=String.fromCharCode(h);k=k.split("\\");c.image_position_patient=[parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2])];break;case 55:k="";for(f=0;f<l/2;f++)h=d[e++],g=h&255,h=(h&65280)>>8,k+=String.fromCharCode(g),k+=String.fromCharCode(h);k=k.split("\\");c.image_orientation_patient=[parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[4]),parseFloat(k[5])];break;default:e=Jd.prototype.Ma(d,e,h,l)}break;case 65534:switch(g){default:l=0,e+=l/
2}break;case 8:switch(g){case 24:c.sop_instance_uid="";for(f=0;f<l/2;f++)h=d[e++],g=h&255,h=(h&65280)>>8,c.sop_instance_uid+=String.fromCharCode(g),c.sop_instance_uid+=String.fromCharCode(h);break;default:e=Jd.prototype.Ma(d,e,h,l)}break;case 16:switch(g){case 8720:for(f=0;f<l/2;f++)e++;break;default:e=Jd.prototype.Ma(d,e,h,l)}break;default:e=Jd.prototype.Ma(d,e,h,l)}switch(c.fd){case 8:c.data=new Uint8Array(c.columns*c.rows);break;case 16:c.data=new Uint16Array(c.columns*c.rows);break;case 32:c.data=
new Uint32Array(c.columns*c.rows)}this.B=this.o.byteLength-c.columns*c.rows*2;d=null;switch(c.fd){case 8:d=this.a("uchar",c.columns*c.rows);break;case 16:d=this.a("ushort",c.columns*c.rows);break;case 32:d=this.a("uint",c.columns*c.rows)}c.data=d;a.C.push(c);return a};F("X.parserDCM",Jd);F("X.parserDCM.prototype.parse",Jd.prototype.parse);function Kd(){W.call(this);this.h="parserVTK"}J(Kd,W);
Kd.prototype.parse=function(b,a,c){N.Ha(this.h+".parse");var d=a.ha,e=a.ga,f=new Uint8Array(c),g="";a.ha=d=new Ic(c.byteLength);a.ga=e=new Ic(c.byteLength);c=0;for(var h=f.length;c<h;c+=32768)g+=Cd(f,c,Math.min(c+32768,h));f=g.split("\n");g=f.length;this.Je=this.Ke=null;this.cd=[];this.Sa=nd;this.mh=this.Bc=this.zc=this.Cc=!1;c=0;for(h=g%8;h--;)Ld(this,f[c]),c++;for(h=.125*g^0;h--;)Ld(this,f[c]),c++,Ld(this,f[c]),c++,Ld(this,f[c]),c++,Ld(this,f[c]),c++,Ld(this,f[c]),c++,Ld(this,f[c]),c++,Ld(this,
f[c]),c++,Ld(this,f[c]),c++;c=this.Ke;var f=this.Je,g=f.length,l=h=this.cd.length;do{var k=this.cd[h-l],q=k.length,p;for(p=0;p<q&&!("LINES"==this.Sa&&p+1>=q);p++){var s=parseInt(k[p],10),u=c.get(s);d.add(u[0],u[1],u[2]);var w=s,B=u;"LINES"==this.Sa?(w=parseInt(k[p+1],10),B=c.get(w),d.add(B[0],B[1],B[2])):"TRIANGLE_STRIPS"==this.Sa&&(0!=p&&p!=q-1||d.add(u[0],u[1],u[2]));s<g?(B=f.get(s),e.add(B[0],B[1],B[2]),"LINES"==this.Sa?(w=f.get(w),e.add(w[0],w[1],w[2])):"TRIANGLE_STRIPS"==this.Sa&&(0!=p&&p!=q-
1||e.add(B[0],B[1],B[2]))):(w=new T(u[0],u[1],u[2]),w.normalize(),e.add(w.x,w.y,w.z),"LINES"==this.Sa?(w=new T(B[0],B[1],B[2]),w.normalize(),e.add(w.x,w.y,w.z)):"TRIANGLE_STRIPS"==this.Sa&&(0!=p&&p!=q-1||e.add(w.x,w.y,w.z)))}l--}while(0<l);a.dd=this.Sa;N.Ia(this.h+".parse");d=new rd;d.$=a;d.ja=b;this.dispatchEvent(d)};
function Ld(b,a){a=a.replace(/^\s+|\s+$/g,"");var c=a.split(" "),d=c.length,e=c[0];switch(e){case "POINTS":b.Cc=!0;b.zc=!1;b.Bc=!1;c=parseInt(c[1],10);b.Ke=new Ic(3*c);b.Je=new Ic(3*c);return;case "VERTICES":b.zc=!0;b.Cc=!1;b.Bc=!1;c=parseInt(c[1],10);if(3<=c)b.Sa=nd;else if(1==c)b.Sa="POINTS";else throw Error("This VTK file is not supported!");b.cd=[];return;case "TRIANGLE_STRIPS":b.zc=!0;b.Cc=!1;b.Bc=!1;b.Sa="TRIANGLE_STRIPS";b.cd=[];return;case "LINES":b.zc=!0;b.Cc=!1;b.Bc=!1;b.Sa="LINES";b.cd=
[];return;case "POLYGONS":b.zc=!0;b.Cc=!1;b.Bc=!1;b.Sa="POLYGONS";b.cd=[];return;case "POINT_DATA":b.Bc=!0;b.Cc=!1;b.zc=!1;return}if(b.Cc)if(1==d||isNaN(parseFloat(e)))b.Cc=!1;else{if(3<=d){var e=parseFloat(c[0]),f=parseFloat(c[1]),g=parseFloat(c[2]);b.Ke.add(e,f,g)}6<=d&&(e=parseFloat(c[3]),f=parseFloat(c[4]),g=parseFloat(c[5]),b.Ke.add(e,f,g));9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),b.Ke.add(d,e,c))}else b.zc?1==d||isNaN(parseFloat(e))?b.zc=!1:(c=c.slice(1),b.cd.push(c)):
b.Bc&&("NORMALS"==e?b.mh=!0:1==d||isNaN(parseFloat(e))?(b.Bc=!1,b.mh=!1):b.mh&&(3<=d&&(e=parseFloat(c[0]),f=parseFloat(c[1]),g=parseFloat(c[2]),b.Je.add(e,f,g)),6<=d&&(e=parseFloat(c[3]),f=parseFloat(c[4]),g=parseFloat(c[5]),b.Je.add(e,f,g)),9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),b.Je.add(d,e,c))))}F("X.parserVTK",Kd);F("X.parserVTK.prototype.parse",Kd.prototype.parse);function Md(){W.call(this);this.h="parserFSM";this.Sf=!1}J(Md,W);
Md.prototype.parse=function(b,a,c){N.Ha(this.h+".parse");this.o=c;var d=a.ha,e=a.ga;a.Nd=[];var f=a.Nd;c=0;var g;do g=this.a("uchar"),c++;while(200>c&&10!=g);this.a("uchar");e=this.a("uint");c=this.a("uint");var h=this.a("float",3*e);g=this.a("uint",3*c);var l=new Uint32Array(e),k=new Float32Array(9*c);a.ha=d=new Ic(9*c);a.ga=e=new Ic(9*c);var q;for(q=0;q<c;q++){var p=3*q,s=g[p],u=g[p+1],w=g[p+2];f.push(s);f.push(u);f.push(w);l[s]+=1;l[u]+=1;l[w]+=1;var p=3*s,B=3*u,E=3*w,x=h[p],K=h[p+1],z=h[p+2],
u=h[B],w=h[B+1],s=h[B+2],v=h[E],G=h[E+1],D=h[E+2];d.add(x,K,z);d.add(u,w,s);d.add(v,G,D);x=new T(x,K,z);v=new T(v,G,D);u=(new T(u,w,s)).clone().Ab(x);w=v.clone().Ab(x);u=Qc(u,w).normalize();k[p]+=u.x;k[p+1]+=u.y;k[p+2]+=u.z;k[B]+=u.x;k[B+1]+=u.y;k[B+2]+=u.z;k[E]+=u.x;k[E+1]+=u.y;k[E+2]+=u.z}for(q=0;q<c;q++)p=3*q,s=g[p],u=g[p+1],w=g[p+2],p=3*s,B=3*u,E=3*w,f=new T(k[B],k[B+1],k[B+2]),h=new T(k[E],k[E+1],k[E+2]),p=(new T(k[p],k[p+1],k[p+2])).scale(1/l[s]).normalize(),f=f.scale(1/l[u]).normalize(),h=
h.scale(1/l[w]).normalize(),e.add(p.x,p.y,p.z),e.add(f.x,f.y,f.z),e.add(h.x,h.y,h.z);c=this.a("uchar",this.o.byteLength-this.B);g=null;for(p=0;p<c.length;p++)if(99==c[p]&&114==c[p+1]&&97==c[p+2]&&115==c[p+3]){for(e=g=p+9;10!=c[p]&&p<c.length;)e++,p++;g=Cd(c.subarray(g,e)).split(" ");break}g&&(a.Ec.Kl(parseFloat(g[0])),a.Ec.Ll(parseFloat(g[1])),a.Ec.Ml(parseFloat(g[2])));a.dd=nd;N.Ia(this.h+".parse");c=new rd;c.$=a;c.ja=b;this.dispatchEvent(c)};F("X.parserFSM",Md);F("X.parserFSM.prototype.parse",Md.prototype.parse);var Nd={Bh:function(b,a,c){return Nd.update(b,0,a,c)},update:function(b,a,c,d){var e=Nd.km,f="number"===typeof c?c:c=0;d="number"===typeof d?d:b.length;a^=4294967295;for(f=d&7;f--;++c)a=a>>>8^e[(a^b[c])&255];for(f=d>>3;f--;c+=8)a=a>>>8^e[(a^b[c])&255],a=a>>>8^e[(a^b[c+1])&255],a=a>>>8^e[(a^b[c+2])&255],a=a>>>8^e[(a^b[c+3])&255],a=a>>>8^e[(a^b[c+4])&255],a=a>>>8^e[(a^b[c+5])&255],a=a>>>8^e[(a^b[c+6])&255],a=a>>>8^e[(a^b[c+7])&255];return(a^4294967295)>>>0}},Od;
Od=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,
3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,
366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,
3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,
1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,
1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);Nd.km=Od;function Pd(b){var a=b.length,c=0,d=Number.POSITIVE_INFINITY,e,f,g,h,l,k,q,p,s;for(p=0;p<a;++p)b[p]>c&&(c=b[p]),b[p]<d&&(d=b[p]);e=1<<c;f=new Uint32Array(e);g=1;h=0;for(l=2;g<=c;){for(p=0;p<a;++p)if(b[p]===g){k=0;q=h;for(s=0;s<g;++s)k=k<<1|q&1,q>>=1;for(s=k;s<e;s+=l)f[s]=g<<16|p;++h}++g;h<<=1;l<<=1}return[f,c,d]};function Qd(b,a){this.wh=[];this.xh=32768;this.qb=this.Le=this.I=this.Ni=0;this.input=new Uint8Array(b);this.qj=!1;this.yh=Rd;this.resize=!1;if(a||!(a={}))a.index&&(this.I=a.index),a.bufferSize&&(this.xh=a.bufferSize),a.bufferType&&(this.yh=a.bufferType),a.resize&&(this.resize=a.resize);switch(this.yh){case Sd:this.ca=32768;this.A=new Uint8Array(32768+this.xh+258);break;case Rd:this.ca=0;this.A=new Uint8Array(this.xh);this.nd=this.Cn;this.Aj=this.an;this.Oh=this.fn;break;default:throw Error("invalid inflate mode");
}}var Sd=0,Rd=1;
Qd.prototype.Jc=function(){for(;!this.qj;){var b=Td(this,3);b&1&&(this.qj=!0);b>>>=1;switch(b){case 0:var b=this.input,a=this.I,c=this.A,d=this.ca,e=void 0,f=void 0,g=void 0,h=c.length,e=void 0;this.qb=this.Le=0;e=b[a++];if(void 0===e)throw Error("invalid uncompressed block header: LEN (first byte)");f=e;e=b[a++];if(void 0===e)throw Error("invalid uncompressed block header: LEN (second byte)");f|=e<<8;e=b[a++];if(void 0===e)throw Error("invalid uncompressed block header: NLEN (first byte)");g=e;e=
b[a++];if(void 0===e)throw Error("invalid uncompressed block header: NLEN (second byte)");g|=e<<8;if(f===~g)throw Error("invalid uncompressed block header: length verify");if(a+f>b.length)throw Error("input buffer is broken");switch(this.yh){case Sd:for(;d+f>c.length;)e=h-d,f-=e,c.set(b.subarray(a,a+e),d),d+=e,a+=e,this.ca=d,c=this.nd(),d=this.ca;break;case Rd:for(;d+f>c.length;)c=this.nd({Wj:2});break;default:throw Error("invalid inflate mode");}c.set(b.subarray(a,a+f),d);d+=f;this.I=a+=f;this.ca=
d;this.A=c;break;case 1:this.Oh(Ud,Vd);break;case 2:Wd(this);break;default:throw Error("unknown BTYPE: "+b);}}return this.Aj()};
var Xd=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yd=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),Zd=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),$d=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),ae=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),be=new Uint8Array(288),
ce,de;ce=0;for(de=be.length;ce<de;++ce)be[ce]=143>=ce?8:255>=ce?9:279>=ce?7:8;var Ud=Pd(be),ee=new Uint8Array(30),fe,ge;fe=0;for(ge=ee.length;fe<ge;++fe)ee[fe]=5;var Vd=Pd(ee);function Td(b,a){for(var c=b.Le,d=b.qb,e=b.input,f=b.I,g;d<a;){g=e[f++];if(void 0===g)throw Error("input buffer is broken");c|=g<<d;d+=8}g=c&(1<<a)-1;b.Le=c>>>a;b.qb=d-a;b.I=f;return g}
function he(b,a){for(var c=b.Le,d=b.qb,e=b.input,f=b.I,g=a[0],h=a[1],l;d<h;){l=e[f++];if(void 0===l)throw Error("input buffer is broken");c|=l<<d;d+=8}e=g[c&(1<<h)-1];g=e>>>16;b.Le=c>>g;b.qb=d-g;b.I=f;return e&65535}
function Wd(b){function a(b,a,c){var d,e,f;for(f=0;f<b;)switch(d=he(this,a),d){case 16:for(d=3+Td(this,2);d--;)c[f++]=e;break;case 17:for(d=3+Td(this,3);d--;)c[f++]=0;e=0;break;case 18:for(d=11+Td(this,7);d--;)c[f++]=0;e=0;break;default:e=c[f++]=d}return c}var c=Td(b,5)+257,d=Td(b,5)+1,e=Td(b,4)+4,f=new Uint8Array(Xd.length),g;for(g=0;g<e;++g)f[Xd[g]]=Td(b,3);e=Pd(f);f=new Uint8Array(c);g=new Uint8Array(d);b.Oh(Pd(a.call(b,c,e,f)),Pd(a.call(b,d,e,g)))}m=Qd.prototype;
m.Oh=function(b,a){var c=this.A,d=this.ca;this.Dj=b;for(var e=c.length-258,f,g,h;256!==(f=he(this,b));)if(256>f)d>=e&&(this.ca=d,c=this.nd(),d=this.ca),c[d++]=f;else for(f-=257,h=Yd[f],0<Zd[f]&&(h+=Td(this,Zd[f])),f=he(this,a),g=$d[f],0<ae[f]&&(g+=Td(this,ae[f])),d>=e&&(this.ca=d,c=this.nd(),d=this.ca);h--;)c[d]=c[d++-g];for(;8<=this.qb;)this.qb-=8,this.I--;this.ca=d};
m.fn=function(b,a){var c=this.A,d=this.ca;this.Dj=b;for(var e=c.length,f,g,h;256!==(f=he(this,b));)if(256>f)d>=e&&(c=this.nd(),e=c.length),c[d++]=f;else for(f-=257,h=Yd[f],0<Zd[f]&&(h+=Td(this,Zd[f])),f=he(this,a),g=$d[f],0<ae[f]&&(g+=Td(this,ae[f])),d+h>e&&(c=this.nd(),e=c.length);h--;)c[d]=c[d++-g];for(;8<=this.qb;)this.qb-=8,this.I--;this.ca=d};
m.nd=function(){var b=new Uint8Array(this.ca-32768),a=this.ca-32768,c=this.A;b.set(c.subarray(32768,b.length));this.wh.push(b);this.Ni+=b.length;c.set(c.subarray(a,a+32768));this.ca=32768;return c};m.Cn=function(b){var a=this.input.length/this.I+1|0,c=this.input,d=this.A;b&&("number"===typeof b.Wj&&(a=b.Wj),"number"===typeof b.Gm&&(a+=b.Gm));2>a?(b=(c.length-this.I)/this.Dj[2],b=b/2*258|0,b=b<d.length?d.length+b:d.length<<1):b=d.length*a;b=new Uint8Array(b);b.set(d);return this.A=b};
m.Aj=function(){var b=0,a=this.A,c=this.wh,d,e=new Uint8Array(this.Ni+(this.ca-32768)),f,g,h,l;if(0===c.length)return this.A.subarray(32768,this.ca);f=0;for(g=c.length;f<g;++f)for(d=c[f],h=0,l=d.length;h<l;++h)e[b++]=d[h];f=32768;for(g=this.ca;f<g;++f)e[b++]=a[f];this.wh=[];return this.buffer=e};m.an=function(){var b,a=this.ca;this.resize?(b=new Uint8Array(a),b.set(this.A.subarray(0,a))):b=this.A.subarray(0,a);return this.buffer=b};new Uint8Array(256);var ie;for(ie=0;256>ie;++ie)for(var je=ie,ke=7,je=je>>>1;je;je>>>=1)--ke;var le=[],me;for(me=0;288>me;me++)switch(!0){case 143>=me:le.push([me+48,8]);break;case 255>=me:le.push([me-144+400,9]);break;case 279>=me:le.push([me-256+0,7]);break;case 287>=me:le.push([me-280+192,8]);break;default:throw"invalid literal: "+me;}
var ne=function(){function b(b){switch(!0){case 3===b:return[257,b-3,0];case 4===b:return[258,b-4,0];case 5===b:return[259,b-5,0];case 6===b:return[260,b-6,0];case 7===b:return[261,b-7,0];case 8===b:return[262,b-8,0];case 9===b:return[263,b-9,0];case 10===b:return[264,b-10,0];case 12>=b:return[265,b-11,1];case 14>=b:return[266,b-13,1];case 16>=b:return[267,b-15,1];case 18>=b:return[268,b-17,1];case 22>=b:return[269,b-19,2];case 26>=b:return[270,b-23,2];case 30>=b:return[271,b-27,2];case 34>=b:return[272,
b-31,2];case 42>=b:return[273,b-35,3];case 50>=b:return[274,b-43,3];case 58>=b:return[275,b-51,3];case 66>=b:return[276,b-59,3];case 82>=b:return[277,b-67,4];case 98>=b:return[278,b-83,4];case 114>=b:return[279,b-99,4];case 130>=b:return[280,b-115,4];case 162>=b:return[281,b-131,5];case 194>=b:return[282,b-163,5];case 226>=b:return[283,b-195,5];case 257>=b:return[284,b-227,5];case 258===b:return[285,b-258,0];default:throw"invalid length: "+b;}}var a=[],c,d;for(c=3;258>=c;c++)d=b(c),a[c]=d[2]<<24|
d[1]<<16|d[0];return a}();new Uint32Array(ne);function oe(){};function pe(b){this.input=b;this.I=0;this.member=[]}
pe.prototype.Jc=function(){for(var b=this.input.length;this.I<b;){var a=new oe,c=void 0,d=void 0,e=void 0,f=c=e=void 0,g=void 0,c=c=void 0,h=this.input,d=this.I;a.id1=h[d++];a.id2=h[d++];if(31!==a.id1||139!==a.id2)throw Error("invalid file signature:",a.id1,a.id2);a.cm=h[d++];switch(a.cm){case 8:break;default:throw Error("unknown compression method: "+a.cm);}a.flg=h[d++];c=h[d++]|h[d++]<<8|h[d++]<<16|h[d++]<<24;a.mtime=new Date(1E3*c);a.xfl=h[d++];a.os=h[d++];0<(a.flg&4)&&(a.xlen=h[d++]|h[d++]<<8,
d+=a.xlen);if(0<(a.flg&8)){g=[];for(f=0;0<(c=h[d++]);)g[f++]=String.fromCharCode(c);a.name=g.join("")}if(0<(a.flg&16)){g=[];for(f=0;0<(c=h[d++]);)g[f++]=String.fromCharCode(c);a.comment=g.join("")}if(0<(a.flg&2)&&(a.crc16=Nd.Bh(h,0,d)&65535,a.crc16!==(h[d++]|h[d++]<<8)))throw Error("invalid header crc16");c=h[h.length-4]|h[h.length-3]<<8|h[h.length-2]<<16|h[h.length-1]<<24;h.length-d-4-4<512*c&&(e=c);d=new Qd(h,{index:d,bufferSize:e});a.data=e=d.Jc();d=d.I;a.crc32=c=(h[d++]|h[d++]<<8|h[d++]<<16|h[d++]<<
24)>>>0;if(Nd.Bh(e)!==c)throw Error("invalid CRC-32 checksum: 0x"+Nd.Bh(e).toString(16)+" / 0x"+c.toString(16));a.isize=c=(h[d++]|h[d++]<<8|h[d++]<<16|h[d++]<<24)>>>0;if((e.length&4294967295)!==c)throw Error("invalid input size: "+(e.length&4294967295)+" / "+c);this.member.push(a);this.I=d}b=this.member;a=e=d=0;for(h=b.length;a<h;++a)e+=b[a].data.length;e=new Uint8Array(e);for(a=0;a<h;++a)e.set(b[a].data,d),d+=b[a].data.length;return e};function qe(){W.call(this);this.h="parserMGZ";this.Sf=!1}J(qe,W);
qe.prototype.parse=function(b,a,c,d){N.Ha(this.h+".parse");d&&(c=(new pe(new Uint8Array(c))).Jc(),c=c.buffer);d=this.oc(c);var e=[d.vi,d.wi,d.xi];a.X=e;var f=d.Rl;a.Xf=f;c=d.min;var g=d.max;a.Hb=a.Qd=c;a.Ya=a.Pd=g;-Infinity==a.fa&&(a.fa=c);Infinity==a.ia&&(a.ia=g);c=Yc();U(c,0,d.mb[0][0],d.mb[1][0],d.mb[2][0],0);U(c,1,d.mb[0][1],d.mb[1][1],d.mb[2][1],0);U(c,2,d.mb[0][2],d.mb[1][2],d.mb[2][2],0);U(c,3,0,0,0,1);for(var g=e[0]/2,h=e[1]/2,l=e[2]/2,e=[0,0,0],k=0;3>k;++k)e[k]=d.mb[3][k]-(c[k+0]*f[0]*g+
c[k+4]*f[1]*h+c[k+8]*f[2]*l);f=e[1];g=e[2];c[12]=e[0];c[13]=f;c[14]=g;c[15]=1;d.Wa=c;d.Xa=Yc();fd(d.Wa,d.Xa);e=Xc(0,0,0,1);f=Wc();hd(c,e,f);g=Xc(1,1,1,1);e=Wc();hd(c,g,e);c=Dd(c,a.X);d.Ed=[e[0]-f[0],e[1]-f[1],e[2]-f[2]];d.Cd=[c[1]-c[0]+1,c[3]-c[2]+1,c[5]-c[4]+1];d.Dd=[c[0],c[2],c[4]];a.hd(d);N.Ia(this.h+".parse");a.Ac=Hd(this,a);d=new rd;d.$=a;d.ja=b;this.dispatchEvent(d)};
qe.prototype.oc=function(b){this.o=b;b={version:0,nm:0,lm:0,Rn:0,mm:0,vi:0,wi:0,xi:0,rp:0,type:0,yn:0,il:0,mr:null,mb:null,Rl:null,data:null,min:Infinity,max:-Infinity};b.version=this.a("uint");b.vi=this.a("uint");b.wi=this.a("uint");b.xi=this.a("uint");b.rp=this.a("uint");b.type=this.a("uint");b.yn=this.a("uint");b.il=this.a("ushort");if(0<b.il){b.Rl=this.a("float",3);var a=[];a.push(this.a("float",3));a.push(this.a("float",3));a.push(this.a("float",3));a.push(this.a("float",3));b.mb=a}this.B=284;
a=b.vi*b.wi*b.xi;switch(b.type){case 0:b.data=this.a("uchar",a);break;case 1:b.data=this.a("uint",a);break;case 3:b.data=this.a("float",a);break;case 4:b.data=this.a("ushort",a);break;default:throw Error("Unsupported MGH/MGZ data type: "+b.type);}a=Bd(b.data);b.min=a[0];b.max=a[1];this.B+16<this.o.byteLength&&(b.nm=this.a("float"),b.Rn=this.a("float"),b.lm=this.a("float"),b.mm=this.a("float"));return b};F("X.parserMGZ",qe);F("X.parserMGZ.prototype.parse",qe.prototype.parse);function re(){W.call(this);this.h="parserLBL"}J(re,W);
re.prototype.parse=function(b,a,c){N.Ha(this.h+".parse");var d=a.Nd,e=d.length;if(0==e)throw Error("No _pointIndices defined on the X.object.");this.o=c;var f=[],g=this.a("uchar",c.byteLength),h=g.length,l=!1,k=0;for(c=1;c<h;c++)10==g[c-1]?(k=c,l=!0):l&&32==g[c]&&(f.push(parseInt(Cd(g,k,c),10)),l=!1);g=a.ka.Fd?a.ka.Fd:new Float32Array(e);h=f.length;for(c=0;c<h;c++)g[f[c]]=1;f=new Float32Array(3*e);for(c=h=0;c<e;c++){l=d[c];if(l>e)throw Error("Could not find scalar for vertex.");l=g[l];f[h++]=l;f[h++]=
l;f[h++]=l}a.ka.Fd=g;a.ka.Qf=f;a.ka.U=!0;N.Ia(this.h+".parse");d=new rd;d.$=a;d.ja=b;this.dispatchEvent(d)};F("X.parserLBL",re);F("X.parserLBL.prototype.parse",re.prototype.parse);function se(){W.call(this);this.h="parserCRV";this.Sf=!1}J(se,W);
se.prototype.parse=function(b,a,c){N.Ha(this.h+".parse");var d=a.Nd;if(0==d.length)throw Error("No _pointIndices defined on the X.object.");this.o=c;this.B=3;var e=this.a("uint");this.a("uint");this.a("uint");var f=0,g=0,h=0,l=0,k=0,q=0,p=0,s=0,u=0,w=0,B=0;c=Array(2);var E=Array(2),x=this.a("float",e),K;for(K=0;K<e;K++){var z=x[K];0==K&&(c[0]=E[0]=z);0<=z?(f++,l+=z):(g++,h+=z);u+=z;B++;E[0]=Math.max(z,E[0]);c[0]=Math.min(z,c[0]);x[K]=z}0!=f&&(k=l/f);0!=g&&(q=h/g);0!=B&&(w=u/B);for(B=u=h=l=0;B<e;B++)z=
x[B],K=0,0<=z?(K=Math.pow(z-k,2),l+=K):(K=Math.pow(z-q,2),h+=K),K=Math.pow(z-w,2),u+=K;1<f&&(p=Math.sqrt(l/(f-1)));1<g&&(s=Math.sqrt(h/(g-1)));c[1]=q-2.5*s;E[1]=k+2.5*p;e=d.length;f=new Float32Array(3*e);for(B=0;B<e;B++)g=x[d[B]],h=3*B,f[h]=g,f[h+1]=g,f[h+2]=g;a.ka.Hb=c[1];a.ka.Ya=E[1];-Infinity==a.ka.fa&&(a.ka.fa=c[1]);Infinity==a.ka.ia&&(a.ka.ia=E[1]);a.ka.Fd=x;a.ka.Qf=f;a.ka.U=!0;N.Ia(this.h+".parse");d=new rd;d.$=a;d.ja=b;this.dispatchEvent(d)};F("X.parserCRV",se);
F("X.parserCRV.prototype.parse",se.prototype.parse);function te(b,a){var c,d;this.input=b;this.I=0;if(a||!(a={}))a.index&&(this.I=a.index),a.verify&&(this.Iq=a.verify);c=b[this.I++];d=b[this.I++];switch(c&15){case 8:this.method=8;break;default:throw Error("unsupported compression method");}if(0!==((c<<8)+d)%31)throw Error("invalid fcheck flag:"+((c<<8)+d)%31);if(d&32)throw Error("fdict flag is not supported");this.jl=new Qd(b,{index:this.I,bufferSize:a.bufferSize,bufferType:a.bufferType,resize:a.resize})}
te.prototype.Jc=function(){var b=this.input,a;a=this.jl.Jc();this.I=this.jl.I;if(this.Iq){var b=(b[this.I++]<<24|b[this.I++]<<16|b[this.I++]<<8|b[this.I++])>>>0,c=a;if("string"===typeof c){var c=c.split(""),d,e;d=0;for(e=c.length;d<e;d++)c[d]=(c[d].charCodeAt(0)&255)>>>0}d=1;e=0;for(var f=c.length,g,h=0;0<f;){g=1024<f?1024:f;f-=g;do d+=c[h++],e+=d;while(--g);d%=65521;e%=65521}if(b!==(e<<16|d)>>>0)throw Error("invalid adler-32 checksum");}return a};function ue(){W.call(this);this.h="parserRAW"}J(ue,W);
ue.prototype.parse=function(b,a,c,d){N.Ha(this.h+".parse");d&&(c=(new te(new Uint8Array(c))).Jc(),c=c.buffer);d={};d.data=new Uint8Array(c);var e=Bd(d.data);c=e[0];e=e[1];d.min=a.Hb=a.Qd=c;d.max=a.Ya=a.Pd=e;-Infinity==a.fa&&(a.fa=c);Infinity==a.ia&&(a.ia=e);e=Zc();d.Wa=e;d.Xa=Zc();var f=Xc(0,0,0,1);c=Wc();hd(e,f,c);var g=Xc(1,1,1,1),f=Wc();hd(e,g,f);e=Dd(e,a.X);d.Ed=[f[0]-c[0],f[1]-c[1],f[2]-c[2]];d.Cd=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];d.Dd=[e[0],e[2],e[4]];a.hd(d);N.Ia(this.h+".parse");a.Ac=
Hd(this,a);d=new rd;d.$=a;d.ja=b;this.dispatchEvent(d)};F("X.parserRAW",ue);F("X.parserRAW.prototype.parse",ue.prototype.parse);function ve(){W.call(this);this.h="parserIMAGE"}J(ve,W);ve.prototype.parse=function(b,a,c,d){if(!(c instanceof ArrayBuffer))throw Error();for(var e=new Uint8Array(c),f=e.length,g=Array(f);f--;)g[f]=String.fromCharCode(e[f]);e=window.btoa(g.join(""));f=new Image;yc(f,"load",this.Jp.bind(this,f,b,a,c,d));f.src="data:image/"+d+";base64,"+e};ve.prototype.Jp=function(b,a,c){a.Ac=b;a.oh=null;b=new rd;b.$=c;b.ja=a;this.dispatchEvent(b)};F("X.parserIMAGE",ve);F("X.parserIMAGE.prototype.parse",ve.prototype.parse);function we(){W.call(this);this.h="parserLUT"}J(we,W);
we.prototype.parse=function(b,a,c){N.Ha(this.h+".parse");this.o=c;c=this.a("uchar",c.byteLength);var d=c.length,e=0,f;for(f=0;f<d;f++)if(10==c[f]){var g=Cd(c,e,f),e=f+1,g=g.replace(/^\s+|\s+$/g,"");"#"!=g[0]&&(g=g.split(" "),g=g.filter(function(b){return""!=b}),6==g.length&&(g[2]=parseInt(g[2],10)/255,g[3]=parseInt(g[3],10)/255,g[4]=parseInt(g[4],10)/255,g[5]=parseInt(g[5],10)/255,b.add(parseInt(g[0],10),g[1],g[2],g[3],g[4],g[5],10)))}N.Ia(this.h+".parse");c=new rd;c.$=a;c.ja=b;this.dispatchEvent(c)};
F("X.parserLUT",we);F("X.parserLUT.prototype.parse",we.prototype.parse);function xe(){W.call(this);this.h="parserMRC"}J(xe,W);
xe.prototype.parse=function(b,a,c){N.Ha(this.h+".parse");c=this.oc(c);var d=c.min,e=c.max;a.X=[c.lf,c.mf,c.nf];a.Xf=[c.xlen/c.Sk,c.Ul/c.Tk,c.Wl/c.Uk];a.Hb=a.Qd=d;a.Ya=a.Pd=e;-Infinity==a.fa&&(a.fa=d);Infinity==a.ia&&(a.ia=e);e=Yc();U(e,3,0,0,0,1);U(e,0,-1,0,0,c.lf);U(e,1,0,0,-1,c.mf);U(e,2,0,-1,0,c.nf);c.Wa=e;c.Xa=Yc();fd(c.Wa,c.Xa);var f=Xc(0,0,0,1),d=Wc();hd(e,f,d);var g=Xc(1,1,1,1),f=Wc();hd(e,g,f);g=[c.lf,c.mf,c.nf];e=Dd(e,g);c.Ed=[f[0]-d[0],f[1]-d[1],f[2]-d[2]];c.Cd=[e[1]+e[0]+1,e[3]-e[2]+1,
e[5]-e[4]+1];c.Dd=[e[0],e[2],e[4]];a.X=g;a.hd(c);a.Ac=Hd(this,a);N.Ia(this.h+".parse");c=new rd;c.$=a;c.ja=b;this.dispatchEvent(c)};
xe.prototype.oc=function(b){this.o=b;b={lf:0,mf:0,nf:0,mode:0,rt:0,st:0,tt:0,Sk:0,Tk:0,Uk:0,xlen:0,Ul:0,Wl:0,alpha:0,beta:0,gamma:0,$o:0,ap:0,bp:0,sh:0,Yf:0,ed:0,ht:0,next:0,cn:0,w:null,tp:0,vp:0,w:null,Co:0,at:0,Ao:0,la:0,pp:0,qp:0,Gq:0,Hq:0,zq:null,Pq:0,Rq:0,Wq:0,Fs:0,Bt:0,bq:0,up:0,data:null,min:Infinity,max:-Infinity,mt:0,xl:null,At:null,wt:null,orientation:null,qt:null};this.B=0;b.lf=this.a("sint");b.mf=this.a("sint");b.nf=this.a("sint");b.mode=this.a("sint");var a=b.lf*b.mf*b.nf;this.B=1024;
switch(b.mode){case 0:b.data=this.a("schar",a);break;case 1:b.data=this.a("sshort",a);break;case 2:b.data=this.a("float",a);break;case 3:b.data=this.a("uint",a);break;case 4:b.data=this.a("double",a);break;case 6:b.data=this.a("ushort",a);break;case 16:b.data=this.a("uchar",a);break;default:throw Error("Unsupported MRC data type: "+b.mode);}this.B=28;b.Sk=this.a("sint");b.Tk=this.a("sint");b.Uk=this.a("sint");b.xlen=this.a("float");b.Ul=this.a("float");b.Wl=this.a("float");b.alpha=this.a("float");
b.beta=this.a("float");b.gamma=this.a("float");b.$o=this.a("sint");b.ap=this.a("sint");b.bp=this.a("sint");b.sh=this.a("float");b.Yf=this.a("float");b.ed=this.a("float");b.gt=this.a("sint");b.next=this.a("sint");b.cn=this.a("short");b.tp=this.a("short");b.vp=this.a("short");b.Co=this.a("sint");b.$s=this.a("sint");b.Ao=this.a("short");b.la=this.a("short");b.pp=this.a("short");b.qp=this.a("short");b.Gq=this.a("short");b.Hq=this.a("short");b.zq=this.a("float",6);this.B=196;b.Pq=this.a("float");b.Rq=
this.a("float");b.Wq=this.a("float");this.B=216;b.bq=this.a("float");b.up=this.a("sint");b.it=this.a("schar",10);if(0!=b.next)switch(this.B=parseInt(b.next+1024,10),b.mode){case 0:b.data=this.a("schar",a);break;case 1:b.data=this.a("sshort",a);break;case 2:b.data=this.a("float",a);break;case 3:b.data=this.a("uint",a);break;case 4:b.data=this.a("double",a);break;case 6:b.data=this.a("ushort",a);break;case 16:b.data=this.a("uchar",a);break;default:throw Error("Unsupported MRC data type: "+b.mode);}0>
b.ed-(b.Yf-b.ed)?(b.min=b.sh,b.max=b.ed+(b.ed-b.sh)):(b.min=b.ed-(b.Yf-b.ed),b.max=b.Yf);return b};F("X.parserMRC",xe);F("X.parserMRC.prototype.parse",xe.prototype.parse);function ye(){W.call(this);this.h="parserNRRD"}J(ye,W);
ye.prototype.parse=function(b,a,c){N.Ha(this.h+".parse");this.o=c;c=this.a("uchar",c.byteLength);var d=c.length,e=null,f=0,g;for(g=1;g<d;g++)if(10==c[g-1]&&10==c[g]){e=Cd(c,0,g-2);f=g+1;break}var h,l,k,q,d=e.split(/\r?\n/),e=0;for(g=d.length;e<g;e++)h=d[e],h.match(/NRRD\d+/)?this.So=!0:!h.match(/^#/)&&(q=h.match(/(.*):(.*)/))&&(l=q[1].trim(),h=q[2].trim(),(k=this.Kn[l])?k.call(this,h):this[l]=h);if(!this.So)throw Error("Not an NRRD file");if("raw"!==this.encoding&&"gzip"!==this.encoding&&"gz"!==this.encoding)throw Error("Only raw or gz/gzip encoding is allowed");
if(!this.Z&&(this.Z=[new T(1,0,0),new T(0,1,0),new T(0,0,1)],this.Mi))for(d=[],q=0;2>=q;q++)d.push(isNaN(this.Mi[q])?void 0:this.Z[q].scale(this.Mi[q]));f=c.subarray(f);if("gzip"==this.encoding||"gz"==this.encoding)f=(new pe(new Uint8Array(f))).Jc();f=f.buffer;c={data:null,min:Infinity,max:-Infinity};c.data=new this.xc(f);q=Bd(c.data);f=c.min=q[0];q=c.max=q[1];a.Hb=a.Qd=f;a.Ya=a.Pd=q;a.X=[this.Ki[0],this.Ki[1],this.Ki[2]];d=(new T(this.Z[0][0],this.Z[0][1],this.Z[0][2])).Wc();e=(new T(this.Z[1][0],
this.Z[1][1],this.Z[1][2])).Wc();g=(new T(this.Z[2][0],this.Z[2][1],this.Z[2][2])).Wc();a.Xf=[d,e,g];-Infinity==a.fa&&(a.fa=f);Infinity==a.ia&&(a.ia=q);d=q=1;"left-posterior-superior"==this.xl&&(d=q=-1);f=Zc();U(f,0,q*this.Z[0][0],q*this.Z[1][0],q*this.Z[2][0],q*this.Li[0]);U(f,1,d*this.Z[0][1],d*this.Z[1][1],d*this.Z[2][1],d*this.Li[1]);U(f,2,1*this.Z[0][2],1*this.Z[1][2],1*this.Z[2][2],1*this.Li[2]);U(f,3,0,0,0,1);c.Wa=f;c.Xa=Yc();fd(c.Wa,c.Xa);d=Xc(0,0,0,1);q=Wc();hd(f,d,q);e=Xc(1,1,1,1);d=Wc();
hd(f,e,d);f=Dd(f,a.X);c.Ed=[d[0]-q[0],d[1]-q[1],d[2]-q[2]];c.Cd=[f[1]-f[0]+1,f[3]-f[2]+1,f[5]-f[4]+1];c.Dd=[f[0],f[2],f[4]];a.hd(c);N.Ia(this.h+".parse");a.Ac=Hd(this,a);c=new rd;c.$=a;c.ja=b;this.dispatchEvent(c)};
ye.prototype.Kn={type:function(b){switch(b){case "uchar":case "unsigned char":case "uint8":case "uint8_t":this.xc=Uint8Array;break;case "signed char":case "int8":case "int8_t":this.xc=Int8Array;break;case "short":case "short int":case "signed short":case "signed short int":case "int16":case "int16_t":this.xc=Int16Array;break;case "ushort":case "unsigned short":case "unsigned short int":case "uint16":case "uint16_t":this.xc=Uint16Array;break;case "int":case "signed int":case "int32":case "int32_t":this.xc=
Int32Array;break;case "uint":case "unsigned int":case "uint32":case "uint32_t":this.xc=Uint32Array;break;case "float":this.xc=Float32Array;break;case "double":this.xc=Float64Array;break;default:throw Error("Unsupported NRRD data type: "+b);}return this.type=b},endian:function(b){return this.Qs=b},encoding:function(b){return this.encoding=b},dimension:function(b){return this.Kc=parseInt(b,10)},sizes:function(b){var a,c,d,e;d=b.split(/\s+/);e=[];a=0;for(c=d.length;a<c;a++)b=d[a],e.push(parseInt(b,10));
return this.Ki=e},space:function(b){return this.xl=b},"space origin":function(b){return this.Li=b.split("(")[1].split(")")[0].split(",")},"space directions":function(b){var a,c,d;c=b.match(/\(.*?\)/g);return this.Z=function(){var b,f,g;g=[];b=0;for(f=c.length;b<f;b++)d=c[b],g.push(function(){var b,c,e,f;e=d.slice(1,-1).split(/,/);f=[];b=0;for(c=e.length;b<c;b++)a=e[b],f.push(parseFloat(a));return f}());return g}()},spacings:function(b){var a;a=b.split(/\s+/);var c,d,e;e=[];c=0;for(d=a.length;c<d;c++)b=
a[c],e.push(parseFloat(b));return this.Mi=e}};F("X.parserNRRD",ye);F("X.parserNRRD.prototype.parse",ye.prototype.parse);function ze(){W.call(this);this.h="parserSTL"}J(ze,W);
ze.prototype.parse=function(b,a,c){N.Ha(this.h+".parse");this.o=c;var d=a.ha,e=a.ga;if("solid"==Cd(this.a("uchar",5))){a.ha=d=new Ic(c.byteLength);a.ga=e=new Ic(c.byteLength);var f=d,d=e,e=this.a("uchar",c.byteLength-5);c=e.length;var g=!1,h=!1,l=0,k;for(k=0;k<c;k++)if(10==e[k]){if(g||h){var q=Cd(e,l,k).split(" "),h=parseFloat(q[0]),p=parseFloat(q[1]),q=parseFloat(q[2]);g?(d.add(h,p,q),d.add(h,p,q),d.add(h,p,q)):f.add(h,p,q);h=g=!1}}else 32==e[k-1]&&(102==e[k]?(l=k+=13,g=!0):118==e[k]&&(l=k+=7,h=
!0))}else for(this.B=80,f=this.a("uint"),a.ha=d=new Ic(9*f),a.ga=e=new Ic(9*f),c=c=0;c<f;c++)g=this.a("float",12),l=g[0],k=g[1],h=g[2],e.add(l,k,h),e.add(l,k,h),e.add(l,k,h),d.add(g[3],g[4],g[5]),d.add(g[6],g[7],g[8]),d.add(g[9],g[10],g[11]),this.B+=2;N.Ia(this.h+".parse");f=new rd;f.$=a;f.ja=b;this.dispatchEvent(f)};F("X.parserSTL",ze);F("X.parserSTL.prototype.parse",ze.prototype.parse);function Ae(){W.call(this);this.h="parserNII"}J(Ae,W);
Ae.prototype.parse=function(b,a,c){var d=c,e=-1,e="undefined"==typeof DataView?(new Int32Array(c,0,1))[0]:(new DataView(c,0)).getInt32(0,!0);348!=e&&(d=(new pe(new Uint8Array(d))).Jc(),d=d.buffer);c=this.oc(d);d=c.min;e=c.max;a.Hb=a.Qd=d;a.Ya=a.Pd=e;-Infinity==a.fa&&(a.fa=d);Infinity==a.ia&&(a.ia=e);d=Yc();U(d,3,0,0,0,1);if(0<c.Ei){var e=0,f=c.fl,g=c.gl,h=c.hl,l=1,k=1,q=1,p=c.cl,s=c.dl,u=c.el,e=1-(f*f+g*g+h*h);1E-7>e?(e=1/Math.sqrt(f*f+g*g+h*h),f*=e,g*=e,h*=e,e=0):e=Math.sqrt(e);0<c.yb[1]&&(l=c.yb[1]);
0<c.yb[2]&&(k=c.yb[2]);0<c.yb[2]&&(q=c.yb[3]);0>c.yb[0]&&(q=-q);U(d,0,(e*e+f*f-g*g-h*h)*l,2*(f*g-e*h)*k,2*(f*h+e*g)*q,p);U(d,1,2*(f*g+e*h)*l,(e*e+g*g-f*f-h*h)*k,2*(g*h-e*f)*q,s);U(d,2,2*(f*h-e*g)*l,2*(g*h+e*f)*k,(e*e+h*h-g*g-f*f)*q,u)}else 0<c.ul?(e=c.yl,f=c.zl,g=c.Al,U(d,0,e[0],e[1],e[2],e[3]),U(d,1,f[0],f[1],f[2],f[3]),U(d,2,g[0],g[1],g[2],g[3])):0==c.Ei?(U(d,0,c.yb[1],0,0,0),U(d,1,0,c.yb[2],0,0),U(d,2,0,0,c.yb[3],0)):window.console.log("UNKNOWN METHOD IN PARSER NII");c.Wa=d;c.Xa=Yc();fd(c.Wa,c.Xa);
f=Xc(0,0,0,1);e=Wc();hd(d,f,e);g=Xc(1,1,1,1);f=Wc();hd(d,g,f);g=[c.Kc[1],c.Kc[2],c.Kc[3]];d=Dd(d,g);c.Ed=[f[0]-e[0],f[1]-e[1],f[2]-e[2]];c.Cd=[d[1]-d[0]+1,d[3]-d[2]+1,d[5]-d[4]+1];c.Dd=[d[0],d[2],d[4]];a.X=g;a.hd(c);a.Ac=Hd(this,a);c=new rd;c.$=a;c.ja=b;this.dispatchEvent(c)};
Ae.prototype.oc=function(b){this.o=b;b={nq:0,Zd:null,en:null,En:0,hq:0,Zp:0,nn:null,Kc:null,No:0,Oo:0,Po:0,Lo:0,Mh:0,Rm:0,rq:0,yb:null,Sl:0,fq:0,eq:0,qq:0,oq:null,Qq:null,Vm:0,Wm:0,pq:0,Aq:0,vo:0,wo:0,ln:null,Pm:null,Ei:0,ul:0,fl:0,gl:0,hl:0,cl:0,dl:0,el:0,yl:null,zl:null,Al:null,Mo:null,qe:null,data:null,min:Infinity,max:-Infinity};b.nq=this.a("uint");b.Zd=this.a("uchar",10);b.en=this.a("uchar",18);b.En=this.a("uint");b.hq=this.a("ushort");b.Zp=this.a("uchar");b.nn=this.a("uchar");b.Kc=this.a("ushort",
8);b.No=this.a("float");b.Oo=this.a("float");b.Po=this.a("float");b.Lo=this.a("ushort");b.Mh=this.a("ushort");b.Rm=this.a("ushort");b.rq=this.a("ushort");b.yb=this.a("float",8);b.Sl=this.a("float");b.fq=this.a("float");b.eq=this.a("float");b.qq=this.a("ushort");b.oq=this.a("uchar");b.Qq=this.a("uchar");b.Vm=this.a("float");b.Wm=this.a("float");b.pq=this.a("float");b.Aq=this.a("float");b.vo=this.a("uint",1);b.wo=this.a("uint",1);b.ln=this.a("uchar",80);b.Pm=this.a("uchar",24);b.Ei=this.a("ushort");
b.ul=this.a("ushort");b.fl=this.a("float");b.gl=this.a("float");b.hl=this.a("float");b.cl=this.a("float");b.dl=this.a("float");b.el=this.a("float");b.yl=this.a("float",4);b.zl=this.a("float",4);b.Al=this.a("float",4);b.Mo=this.a("uchar",16);b.qe=this.a("uchar",4);this.B=parseInt(b.Sl,10);var a=b.Kc[1]*b.Kc[2]*b.Kc[3];switch(b.Mh){case 2:b.data=this.a("uchar",a);break;case 4:b.data=this.a("sshort",a);break;case 8:b.data=this.a("sint",a);break;case 16:b.data=this.a("float",a);break;case 32:b.data=this.a("complex",
a);break;case 64:b.data=this.a("double",a);break;case 256:b.data=this.a("schar",a);break;case 512:b.data=this.a("ushort",a);break;case 768:b.data=this.a("uint",a);break;default:throw Error("Unsupported NII data type: "+b.Mh);}a=Bd(b.data);b.min=a[0];b.max=a[1];return b};F("X.parserNII",Ae);F("X.parserNII.prototype.parse",Ae.prototype.parse);function Be(){W.call(this);this.h="parserTRK"}J(Be,W);
Be.prototype.parse=function(b,a,c){N.Ha(this.h+".parse");var d=a.ha,e=a.ga,f=a.yc;this.o=c;this.a("uchar",6);this.a("ushort",3);var g=this.a("float",3);this.a("float",3);var h=this.a("ushort");this.a("uchar",200);this.a("ushort");this.a("uchar",200);c=this.a("float",16);this.a("uchar",444);this.a("uchar",4);this.a("uchar",4);this.a("float",6);this.a("uchar",2);this.a("uchar");this.a("uchar");this.a("uchar");this.a("uchar");this.a("uchar");this.a("uchar");var l=this.a("uint");this.a("uint");var k=
this.a("uint"),q=[],p=[],s=Infinity,u=-Infinity,w=null,B=null,E=null,x=null,e=d=null,K=this.a("uint",(this.o.byteLength-1E3)/4);this.B=k;for(var z=this.a("float",(this.o.byteLength-1E3)/4),v=0,k=f=0;k<l;k++){for(var G=K[v],D=new Ic(3*G),I=0,H=0;H<G;H++){var M=z[v+3*H+H*h+1],C=z[v+3*H+H*h+2],t=z[v+3*H+H*h+3],M=M/g[0],C=C/g[1],t=t/g[2];D.add(M,C,t);if(0<H)var r=D.get(H-1),I=I+Math.sqrt(Math.pow(M-r[0],2)+Math.pow(C-r[1],2)+Math.pow(t-r[2],2));H<G-1&&(f+=6)}v+=3*G+G*h+1;H=D.Kd;G=D.Hd;M=D.Ld;C=D.Id;t=
D.Md;r=D.Jd;if(!w||H<w)w=H;if(!B||G>B)B=G;if(!E||M<E)E=M;if(!x||C>x)x=C;if(!d||t<d)d=t;if(!e||r>e)e=r;q.push(D);p.push(I)}g=(w+B)/2;E=(E+x)/2;h=(d+e)/2;x=new Float32Array(f);a.ha=d=new Ic(f);a.ga=e=new Ic(f);a.yc=f=new Ic(f);for(k=w=0;k<l;k++)for(B=q[k],K=B.count,I=p[k],s=Math.min(s,I),u=Math.max(u,I),H=0;H<K-1;H++){v=B.get(H);z=B.get(H+1);d.add(v[0],v[1],v[2]);d.add(z[0],z[1],z[2]);var D=v[0]-g,G=v[1]-E,M=v[2]-h,C=Math.sqrt(D*D+G*G+M*M),t=z[0]-g,r=z[1]-E,V=z[2]-h,O=Math.sqrt(t*t+r*r+V*V);e.add(D/
C,G/C,M/C);e.add(t/O,r/O,V/O);z=[Math.abs(z[0]-v[0]),Math.abs(z[1]-v[1]),Math.abs(z[2]-v[2])];v=Math.sqrt(z[0]*z[0]+z[1]*z[1]+z[2]*z[2]);z[0]/=v;z[1]/=v;z[2]/=v;f.add(z[0],z[1],z[2]);f.add(z[0],z[1],z[2]);x[w++]=I;x[w++]=I;x[w++]=I;x[w++]=I;x[w++]=I;x[w++]=I}a.dd="LINES";l=new pd;l.Hb=s;l.Ya=u;l.fa=s;l.ia=u;l.Qf=x;l.sm=!1;l.U=!0;a.ka=l;s=!1;for(k=0;16>k;k++)if(0!=c[k]){s=!0;break}!1==s&&(c[0]=c[5]=c[10]=c[15]=1);N.Ia(this.h+".parse");N.j.Oi(c,a.Ec.Ra);c=new rd;c.$=a;c.ja=b;this.dispatchEvent(c)};
F("X.parserTRK",Be);F("X.parserTRK.prototype.parse",Be.prototype.parse);function Ce(){W.call(this);this.h="parserOBJ"}J(Ce,W);
Ce.prototype.parse=function(b,a,c){N.Ha(this.h+".parse");this.o=c;c=c.byteLength;var d=this.a("uchar",c),e=[];a.ha=new Ic(c);a.ga=new Ic(c);var f=a.ha,g=a.ga,h=0,l;for(l=0;l<c;++l)if(10==d[l]){var k=Cd(d,h,l).replace(/\s{2,}/g," ").split(" ");if("v"==k[0])e.push([parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3])]);else if("f"==k[0]){var q=e[parseInt(k[1],10)-1],h=e[parseInt(k[2],10)-1],k=e[parseInt(k[3],10)-1];f.add(q[0],q[1],q[2]);f.add(h[0],h[1],h[2]);f.add(k[0],k[1],k[2]);q=new T(q[0],q[1],q[2]);
k=new T(k[0],k[1],k[2]);h=Qc((new T(h[0],h[1],h[2])).Ab(q),k.Ab(q));h.normalize();g.add(h.x,h.y,h.z);g.add(h.x,h.y,h.z);g.add(h.x,h.y,h.z)}h=l+1}N.Ia(this.h+".parse");c=new rd;c.$=a;c.ja=b;this.dispatchEvent(c)};F("X.parserOBJ",Ce);F("X.parserOBJ.prototype.parse",Ce.prototype.parse);var De={OBJ:[Ce,null],OFF:[Id,null],STL:[ze,null],VTK:[Kd,null],TRK:[Be,null],MRC:[xe,null],ST:[xe,null],FSM:[Md,null],INFLATED:[Md,null],SMOOTHWM:[Md,null],SPHERE:[Md,null],PIAL:[Md,null],ORIG:[Md,null],NRRD:[ye,null],NII:[Ae,null],GZ:[Ae,null],DCM:[Jd,null],DICOM:[Jd,null],"":[Jd,null],CRV:[se,null],LABEL:[re,null],MGH:[qe,!1],MGZ:[qe,!0],RAW:[ue,!1],RZ:[ue,!0],TXT:[we,null],LUT:[we,null],PNG:[ve,"png"],JPG:[ve,"jpeg"],JPEG:[ve,"jpeg"],GIF:[ve,"gif"]};function Ee(){W.call(this);this.h="parserIMA"}J(Ee,W);
Ee.prototype.parse=function(b,a,c){a.Ee={};a.Ee.ri=0;this.oc(c,a);if(null==a.N.length||a.C.length==a.N.length){a.Ee.ri=a.N.length;var d={};c={};for(var e=0;e<a.C.length;e++)d.hasOwnProperty(a.C[e].series_instance_uid)||(d[a.C[e].series_instance_uid]=[],c[a.C[e].series_instance_uid]={}),c[a.C[e].series_instance_uid].hasOwnProperty(a.C[e].sop_instance_uid)||(c[a.C[e].series_instance_uid][a.C[e].sop_instance_uid]=!0,d[a.C[e].series_instance_uid].push(a.C[e]));var f=Object.keys(d)[0],e=d[f],g=e.length;
c={};console.log("FIRST IMAGE",e,d,f);var h="image_position_patient";1==g?(h="image_position_patient",d[f][0].dist=0):e[0].image_position_patient[0]!=e[1].image_position_patient[0]||e[0].image_position_patient[1]!=e[1].image_position_patient[1]||e[0].image_position_patient[2]!=e[1].image_position_patient[2]?(h="image_position_patient",d=new T(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),f=new T(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],
e[0].image_orientation_patient[5]),d=Qc(d,f),e.map(function(b,a){a.dist=a.image_position_patient[0]*b.x+a.image_position_patient[1]*b.y+a.image_position_patient[2]*b.z;return a}.bind(null,d)),e.sort(function(b,a){return b.dist-a.dist})):e[0].instance_number!=e[1].instance_number?(h="instance_number",e.sort(function(b,a){return b.instance_number-a.instance_number})):window.console.log("Could not resolve the ordering mode");console.log("SEQUENCE NAME","'"+e[0].sequence_name+"'");-1<["fgre","memp","fse"].indexOf(e[0].sequence_name)&&
(window.console.log(e[0].sequence_name,"reordering..."),h="instance_number",e.sort(function(b,a){return b.instance_number-a.instance_number}));isNaN(e[0].pixel_spacing[0])&&(e[0].pixel_spacing[0]=1);isNaN(e[0].pixel_spacing[1])&&(e[0].pixel_spacing[1]=1);if(1<g)switch(h){case "image_position_patient":var l=e[0].image_position_patient,d=e[1].image_position_patient,f=d[0]-l[0],k=d[1]-l[1],q=d[2]-l[2];e[0].pixel_spacing[2]=Math.sqrt(f*f+k*k+q*q);break;case "instance_number":e[0].pixel_spacing[2]=1;console.log("INSTANCE NUMBER SPACING");
break;default:window.console.log("Unkown ordering mode - returning: "+h)}else e[0].pixel_spacing[2]=1;d=1;switch(h){case "image_position_patient":var l=e[0].image_position_patient,p=e[g-1].image_position_patient,f=p[0]-l[0],k=p[1]-l[1],q=p[2]-l[2],f=Math.sqrt(f*f+k*k+q*q),d=d+Math.round(f/e[0].pixel_spacing[2]);break;case "instance_number":d+=Math.abs(e[g-1].instance_number-e[0].instance_number);break;default:window.console.log("Unkown ordering mode - returning: "+h)}l=e[0].columns*e[0].rows;f=l*
d;p=null;switch(e[0].fd){case 8:p=new Uint8Array(f);break;case 16:p=new Uint16Array(f);break;case 32:p=new Uint32Array(f);default:window.console.log("Unknown number of bits allocated - using default: 32 bits")}a.Xf=e[0].pixel_spacing;for(var s=0;s<g;s++){var u=e[s].data,f=0;switch(h){case "image_position_patient":f=e[s].image_position_patient[0]-e[0].image_position_patient[0];k=e[s].image_position_patient[1]-e[0].image_position_patient[1];q=e[s].image_position_patient[2]-e[0].image_position_patient[2];
f=Math.sqrt(f*f+k*k+q*q)/e[0].pixel_spacing[2];break;case "instance_number":f=e[s].instance_number-e[0].instance_number;break;default:window.console.log("Unkown ordering mode - returning: "+h)}p.set(u,f*l)}c.data=p;a.o=p;a.X=[e[0].columns,e[0].rows,d];c.on=a.X;d=Bd(p);g=d[0];d=d[1];c.min=a.Hb=a.Qd=g;c.max=a.Ya=a.Pd=d;-Infinity==a.fa&&(a.fa=g);Infinity==a.ia&&(a.ia=d);k=e[0].image_position_patient;g=Yc();switch(h){case "image_position_patient":console.log("ORIENTATION",e[0].image_orientation_patient);
d=new T(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]);f=new T(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]);d=Qc(d,f);U(g,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2],-k[0]);U(g,1,-e[0].image_orientation_patient[1]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],
-d.y*e[0].pixel_spacing[2],-k[1]);U(g,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2],k[2]);U(g,3,0,0,0,1);break;case "instance_number":"memp"===e[0].sequence_name||"fse"===e[0].sequence_name?(d=new T(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),f=new T(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]),
d=Qc(d,f),U(g,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2]*e[0].slice_thickness,-k[0]),U(g,1,-e[0].image_orientation_patient[1]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2]*e[0].slice_thickness,-k[1]),U(g,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2]*
e[0].slice_thickness,k[2])):(U(g,0,1,0,0,-k[0]),U(g,1,0,-1,-0,-k[1]),U(g,2,0,0,1,k[2]));U(g,3,0,0,0,1);break;default:window.console.log("Unkown ordering mode - returning: "+h)}c.Wa=g;c.Xa=Yc();fd(c.Wa,c.Xa);h=Xc(0,0,0,1);e=Wc();hd(g,h,e);h=Xc(1,1,1,1);d=Wc();hd(g,h,d);c.Ed=[d[0]-e[0],d[1]-e[1],d[2]-e[2]];e=Dd(g,[a.X[0],a.X[1],a.X[2]]);c.Cd=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];c.Dd=[e[0],e[2],e[4]];a.hd(c);a.Ac=Hd(this,a)}c=new rd;c.$=a;c.ja=b;this.dispatchEvent(c)};
Ee.prototype.Ma=function(b,a,c,d){switch(c){case 16975:case 20819:case 20053:case 22351:c=function(b){for(var a="",c=128;1<=c;c/=2)a+=b&c?"1":"0";return a};d=b[a++];b=b[a++];d=parseInt(c((b&65280)>>8)+c(b&255)+(c((d&65280)>>8)+c(d&255)),2);4294967295==d&&(d=0);a+=d/2;break;default:a+=d/2}return a};
Ee.prototype.oc=function(b,a){this.o=b;if("undefined"==typeof a.C||null==a.C)a.C=[];for(var c={pixel_spacing:[.1,.1,Infinity],image_orientation_patient:[1,0,0,0,1,0],image_position_patient:[0,0,0],transfer_syntax_uid:"no_transfer_syntax_uid"},d=this.a("ushort",this.o.byteLength),e=66,f=null,g=null,h=null,l=null,k=[[8,4368],[8,4384]],q=!1;e<d.length;){for(var f=d[e++],g=d[e++],h=d[e++],l=d[e++],q=!1,p=0,s=k.length;p<s;p++)if(f===k[p][0]&&g===k[p][1]){q=!0;break}if(q)window.console.log("Skipping ",
"("+f.toString(16)+","+g.toString(16)+")");else switch("1.2.840.10008.1.2"==c.transfer_syntax_uid&&0==l&&(l=h),f){case 2:switch(g){case 16:g="";for(p=0;p<l/2;p++)h=d[e++],f=h&255,h=(h&65280)>>8,g+=String.fromCharCode(f),g+=String.fromCharCode(h);c.transfer_syntax_uid=g.replace(/\0/g,"");break;default:e=Ee.prototype.Ma(d,e,h,l)}break;case 40:switch(g){case 16:c.rows=d[e];e+=l/2;break;case 17:c.columns=d[e];e+=l/2;break;case 256:c.fd=d[e];e+=l/2;break;case 257:c.bits_stored=d[e];e+=l/2;break;case 2:c.number_of_images=
d[e];e+=l/2;break;case 48:g="";for(p=0;p<l/2;p++)h=d[e++],f=h&255,h=(h&65280)>>8,g+=String.fromCharCode(f),g+=String.fromCharCode(h);g=g.split("\\");c.pixel_spacing=[parseFloat(g[0]),parseFloat(g[1]),Infinity];break;default:e=Ee.prototype.Ma(d,e,h,l)}break;case 32:switch(g){case 14:c.series_instance_uid="";for(p=0;p<l/2;p++)h=d[e++],f=h&255,h=(h&65280)>>8,c.series_instance_uid+=String.fromCharCode(f),c.series_instance_uid+=String.fromCharCode(h);break;case 19:g="";for(p=0;p<l/2;p++)h=d[e++],f=h&255,
h=(h&65280)>>8,g+=String.fromCharCode(f),g+=String.fromCharCode(h);c.instance_number=parseInt(g,10);break;case 50:g="";for(p=0;p<l/2;p++)h=d[e++],f=h&255,h=(h&65280)>>8,g+=String.fromCharCode(f),g+=String.fromCharCode(h);g=g.split("\\");c.image_position_patient=[parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])];break;case 55:g="";for(p=0;p<l/2;p++)h=d[e++],f=h&255,h=(h&65280)>>8,g+=String.fromCharCode(f),g+=String.fromCharCode(h);g=g.split("\\");c.image_orientation_patient=[parseFloat(g[0]),parseFloat(g[1]),
parseFloat(g[2]),parseFloat(g[3]),parseFloat(g[4]),parseFloat(g[5])];break;default:e=Ee.prototype.Ma(d,e,h,l)}break;case 24:switch(g){case 36:c.sequence_name="";for(p=0;p<l/2;p++)h=d[e++],f=h&255,h=(h&65280)>>8,c.sequence_name+=String.fromCharCode(f),c.sequence_name+=String.fromCharCode(h);c.sequence_name=c.sequence_name.replace(/^[\s\xa0]+/,"");c.sequence_name=c.sequence_name.replace(/[\s\xa0]+$/,"");break;case 80:c.slice_thickness="";for(p=0;p<l/2;p++)h=d[e++],f=h&255,h=(h&65280)>>8,c.slice_thickness+=
String.fromCharCode(f),c.slice_thickness+=String.fromCharCode(h);c.slice_thickness=parseFloat(c.slice_thickness);break;default:e=Ee.prototype.Ma(d,e,h,l);break}case 65534:switch(g){default:l=0,e+=l/2}break;case 8:switch(g){case 24:c.sop_instance_uid="";for(p=0;p<l/2;p++)h=d[e++],f=h&255,h=(h&65280)>>8,c.sop_instance_uid+=String.fromCharCode(f),c.sop_instance_uid+=String.fromCharCode(h);break;default:e=Ee.prototype.Ma(d,e,h,l)}break;case 16:switch(g){case 8720:for(p=0;p<l/2;p++)e++;break;default:e=
Ee.prototype.Ma(d,e,h,l)}break;default:e=Ee.prototype.Ma(d,e,h,l)}}switch(c.fd){case 8:c.data=new Uint8Array(c.columns*c.rows);break;case 16:c.data=new Uint16Array(c.columns*c.rows);break;case 32:c.data=new Uint32Array(c.columns*c.rows)}this.B=this.o.byteLength-c.columns*c.rows*2;d=null;switch(c.fd){case 8:d=this.a("uchar",c.columns*c.rows);break;case 16:d=this.a("ushort",c.columns*c.rows);break;case 32:d=this.a("uint",c.columns*c.rows)}c.data=d;a.C.push(c);return a};F("X.parserIMA",Ee);
F("X.parserIMA.prototype.parse",Ee.prototype.parse);var Fe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Ge=Tb;function He(b,a){if(Ge){Ge=!1;var c=ba.location;if(c){var d=c.href;if(d&&(d=(d=He(3,d))&&decodeURIComponent(d))&&d!=c.hostname)throw Ge=!0,Error();}}return a.match(Fe)[b]||null};function Ie(b,a,c){if(ja(b))c&&(b=ra(b,c));else if(b&&"function"==typeof b.handleEvent)b=ra(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<a?-1:ba.setTimeout(b,a||0)};function Je(b){if("function"==typeof b.qg)return b.qg();if(n(b))return b.split("");if(ia(b)){for(var a=[],c=b.length,d=0;d<c;d++)a.push(b[d]);return a}return gb(b)}
function Ke(b,a){if("function"==typeof b.forEach)b.forEach(a,void 0);else if(ia(b)||n(b))P(b,a,void 0);else{var c;if("function"==typeof b.Xe)c=b.Xe();else if("function"!=typeof b.qg)if(ia(b)||n(b)){c=[];for(var d=b.length,e=0;e<d;e++)c.push(e)}else c=hb(b);else c=void 0;for(var d=Je(b),e=d.length,f=0;f<e;f++)a.call(void 0,d[f],c&&c[f],b)}};function Le(b){b=String(b);if(/^\s*$/.test(b)?0:/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+b+")")}catch(a){}throw Error("Invalid JSON string: "+b);};function Me(){}Me.prototype.tj=null;function Ne(b){var a;(a=b.tj)||(a={},Oe(b)&&(a[0]=!0,a[1]=!0),a=b.tj=a);return a};var Pe;function Qe(){}J(Qe,Me);function Re(b){return(b=Oe(b))?new ActiveXObject(b):new XMLHttpRequest}function Oe(b){if(!b.vk&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<a.length;c++){var d=a[c];try{return new ActiveXObject(d),b.vk=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return b.vk}Pe=new Qe;function Se(b){var a;a||(a=Te(b||arguments.callee.caller,[]));return a}
function Te(b,a){var c=[];if(vb(a,b))c.push("[...circular reference...]");else if(b&&50>a.length){c.push(Ue(b)+"(");for(var d=b.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=Ue(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}a.push(b);c.push(")\n");try{c.push(Te(b.caller,a))}catch(g){c.push("[exception trying to get caller]\n")}}else b?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Ue(b){if(Ve[b])return Ve[b];b=String(b);if(!Ve[b]){var a=/function ([^\(]+)/.exec(b);Ve[b]=a?a[1]:"[Anonymous]"}return Ve[b]}var Ve={};function We(b,a,c,d,e){this.reset(b,a,c,d,e)}We.prototype.Rj=null;We.prototype.Qj=null;var Xe=0;We.prototype.reset=function(b,a,c,d,e){"number"==typeof e||Xe++;d||ta();this.ff=b;this.lp=a;delete this.Rj;delete this.Qj};We.prototype.rl=function(b){this.ff=b};function Ye(b){this.op=b;this.ok=this.Hc=this.ff=this.eb=null}function Ze(b,a){this.name=b;this.value=a}Ze.prototype.toString=function(){return this.name};var $e=new Ze("SEVERE",1E3),af=new Ze("CONFIG",700),bf=new Ze("FINE",500);m=Ye.prototype;m.getParent=function(){return this.eb};m.$h=function(){this.Hc||(this.Hc={});return this.Hc};m.rl=function(b){this.ff=b};function cf(b){if(b.ff)return b.ff;if(b.eb)return cf(b.eb);Za("Root logger has no level set.");return null}
m.log=function(b,a,c){if(b.value>=cf(this).value)for(ja(a)&&(a=a()),b=this.fk(b,a,c,Ye.prototype.log),a="log:"+b.lp,ba.console&&(ba.console.timeStamp?ba.console.timeStamp(a):ba.console.markTimeline&&ba.console.markTimeline(a)),ba.msWriteProfilerMark&&ba.msWriteProfilerMark(a),a=this;a;){c=a;var d=b;if(c.ok)for(var e=0,f=void 0;f=c.ok[e];e++)f(d);a=a.getParent()}};
m.fk=function(b,a,c,d){b=new We(b,String(a),this.op);if(c){b.Rj=c;var e;d=d||Ye.prototype.fk;try{var f;var g=da("window.location.href");if(n(c))f={message:c,name:"Unknown error",lineNumber:"Not available",fileName:g,stack:"Not available"};else{var h,l;a=!1;try{h=c.lineNumber||c.kt||"Not available"}catch(k){h="Not available",a=!0}try{l=c.fileName||c.filename||c.sourceURL||ba.$googDebugFname||g}catch(q){l="Not available",a=!0}f=!a&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:h,fileName:l,stack:c.stack||"Not available"}}e="Message: "+Ga(f.message)+'\nUrl: <a href="view-source:'+f.fileName+'" target="_new">'+f.fileName+"</a>\nLine: "+f.lineNumber+"\n\nBrowser stack:\n"+Ga(f.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ga(Se(d)+"-> ")}catch(p){e="Exception trying to expose exception! You win, we lose. "+p}b.Qj=e}return b};var df={},ef=null;
function ff(b){ef||(ef=new Ye(""),df[""]=ef,ef.rl(af));var a;if(!(a=df[b])){a=new Ye(b);var c=b.lastIndexOf("."),d=b.substr(c+1),c=ff(b.substr(0,c));c.$h()[d]=a;a.eb=c;df[b]=a}return a};function gf(b,a){b&&b.log(bf,a,void 0)};function hf(b){Fc.call(this);this.headers=new Lc;this.ah=b||null;this.Fc=!1;this.$g=this.v=null;this.df=this.Ek=this.Dg="";this.sd=this.gi=this.wg=this.Uh=!1;this.Bf=0;this.Xg=null;this.ll=jf;this.Zg=this.Nq=!1}J(hf,Fc);var jf="",kf=hf.prototype,lf=ff("goog.net.XhrIo");kf.bb=lf;var mf=/^https?$/i,nf=["POST","PUT"],of=[];function pf(b,a){var c=new hf;of.push(c);a&&c.ra("complete",a);c.mi("ready",c.Zm);c.send(b,void 0,void 0,void 0)}m=hf.prototype;m.Zm=function(){this.c();yb(of,this)};
m.send=function(b,a,c,d){if(this.v)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Dg+"; newUri="+b);a=a?a.toUpperCase():"GET";this.Dg=b;this.df="";this.Ek=a;this.Uh=!1;this.Fc=!0;this.v=this.ah?Re(this.ah):Re(Pe);this.$g=this.ah?Ne(this.ah):Ne(Pe);this.v.onreadystatechange=ra(this.Zk,this);try{gf(this.bb,qf(this,"Opening Xhr")),this.gi=!0,this.v.open(a,String(b),!0),this.gi=!1}catch(e){gf(this.bb,qf(this,"Error opening Xhr: "+e.message));rf(this,e);return}b=c||"";var f=
this.headers.clone();d&&Ke(d,function(b,a){f.set(a,b)});d=tb(f.Xe());c=ba.FormData&&b instanceof ba.FormData;!vb(nf,a)||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(b,a){this.v.setRequestHeader(a,b)},this);this.ll&&(this.v.responseType=this.ll);"withCredentials"in this.v&&(this.v.withCredentials=this.Nq);try{sf(this),0<this.Bf&&(this.Zg=tf(this.v),gf(this.bb,qf(this,"Will abort after "+this.Bf+"ms if incomplete, xhr2 "+this.Zg)),this.Zg?(this.v.timeout=
this.Bf,this.v.ontimeout=ra(this.Hl,this)):this.Xg=Ie(this.Hl,this.Bf,this)),gf(this.bb,qf(this,"Sending request")),this.wg=!0,this.v.send(b),this.wg=!1}catch(g){gf(this.bb,qf(this,"Send error: "+g.message)),rf(this,g)}};function tf(b){return Q&&Zb(9)&&A(b.timeout)&&ca(b.ontimeout)}function ub(b){return"content-type"==b.toLowerCase()}m.Hl=function(){"undefined"!=typeof aa&&this.v&&(this.df="Timed out after "+this.Bf+"ms, aborting",gf(this.bb,qf(this,this.df)),this.dispatchEvent("timeout"),this.abort(8))};
function rf(b,a){b.Fc=!1;b.v&&(b.sd=!0,b.v.abort(),b.sd=!1);b.df=a;uf(b);vf(b)}function uf(b){b.Uh||(b.Uh=!0,b.dispatchEvent("complete"),b.dispatchEvent("error"))}m.abort=function(){this.v&&this.Fc&&(gf(this.bb,qf(this,"Aborting")),this.Fc=!1,this.sd=!0,this.v.abort(),this.sd=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vf(this))};m.q=function(){this.v&&(this.Fc&&(this.Fc=!1,this.sd=!0,this.v.abort(),this.sd=!1),vf(this,!0));hf.f.q.call(this)};
m.Zk=function(){this.ig||(this.gi||this.wg||this.sd?wf(this):this.Dp())};m.Dp=function(){wf(this)};
function wf(b){if(b.Fc&&"undefined"!=typeof aa)if(b.$g[1]&&4==xf(b)&&2==yf(b))gf(b.bb,qf(b,"Local request error detected and ignored"));else if(b.wg&&4==xf(b))Ie(b.Zk,0,b);else if(b.dispatchEvent("readystatechange"),4==xf(b)){gf(b.bb,qf(b,"Request complete"));b.Fc=!1;try{var a=yf(b),c,d;a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}if(!(c=d)){var e;if(e=0===a){var f=He(1,String(b.Dg));if(!f&&self.location)var g=self.location.protocol,f=g.substr(0,
g.length-1);e=!mf.test(f?f.toLowerCase():"")}c=e}if(c)b.dispatchEvent("complete"),b.dispatchEvent("success");else{var h;try{h=2<xf(b)?b.v.statusText:""}catch(l){gf(b.bb,"Can not get status: "+l.message),h=""}b.df=h+" ["+yf(b)+"]";uf(b)}}finally{vf(b)}}}function vf(b,a){if(b.v){sf(b);var c=b.v,d=b.$g[0]?fa:null;b.v=null;b.$g=null;a||b.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=b.bb)&&c.log($e,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}
function sf(b){b.v&&b.Zg&&(b.v.ontimeout=null);A(b.Xg)&&(ba.clearTimeout(b.Xg),b.Xg=null)}m.ii=function(){return!!this.v};function xf(b){return b.v?b.v.readyState:0}function yf(b){try{return 2<xf(b)?b.v.status:-1}catch(a){return-1}}function qf(b,a){return a+" ["+b.Ek+" "+b.Dg+" "+yf(b)+"]"};/*
 Copyright 2014 Washington University
 @author sunilk@mokacreativellc.com (Sunil Kumar)
 @author herrickr@mir.wustl.edu (Rick Herrick)
*/
function Y(){}F("gxnat",Y);Y.JPEG_CONVERT_SUFFIX="?format=image/jpeg";Y.Sn={projects:"proj",subjects:"subj",experiments:"expt",scans:"scans"};Y.dj="?format=zip";Y.ic=function(b,a,c){b=b+(-1<b.indexOf("?")?"&":"?")+"format=json";null!=c&&("&"!==c[0]&&(c="&"+c),b+=c);Y.get(b,a,"json")};
Y.get=function(b,a,c){pf(b,function(b){b=b.target;switch(c){case void 0:a(b);case "json":var e;e=b.v?Le(b.v.responseText):void 0;e.hasOwnProperty("ResultSet")?a(e.ResultSet.Result):a(e);break;case "text":try{e=b.v?b.v.responseText:""}catch(f){gf(b.bb,"Can not get responseText: "+f.message),e=""}a(e)}})};
Y.Gg=function(b,a){var c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,d=/(^[ ]*|[ ]*$)/g,e=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,f=/^0x[0-9a-f]+$/i,g=/^0/,h=(Y.Gg.Ko&&(""+b).toLowerCase()||""+b).replace(d,"")||"",l=(Y.Gg.Ko&&(""+a).toLowerCase()||""+a).replace(d,"")||"",d=h.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),c=l.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,
"").split("\x00"),h=parseInt(h.match(f))||1!=d.length&&h.match(e)&&Date.parse(h);if(e=parseInt(l.match(f))||h&&l.match(e)&&Date.parse(l)||null){if(h<e)return-1;if(h>e)return 1}h=0;for(l=Math.max(d.length,c.length);h<l;h++){e=!(d[h]||"").match(g)&&parseFloat(d[h])||d[h]||0;f=!(c[h]||"").match(g)&&parseFloat(c[h])||c[h]||0;if(isNaN(e)!==isNaN(f))return isNaN(e)?1:-1;typeof e!==typeof f&&(e+="",f+="");if(e<f)return-1;if(e>f)return 1}return 0};
Y.tq=function(b,a){var c=[],d={},e=[],f={};P(b,function(b){f=b;P(a,function(b){f=f[b]});f=f.toLowerCase();c.push(f);d[f]=b});c=c.sort(Y.ot);P(c,function(b){e.push(d[b])});return e};F("gxnat.JPEG_CONVERT_SUFFIX",Y.JPEG_CONVERT_SUFFIX);F("gxnat.folderAbbrev",Y.Sn);F("gxnat.ZIP_SUFFIX",Y.dj);F("gxnat.jsonGet",Y.ic);F("gxnat.get",Y.get);F("gxnat.naturalSort",Y.Gg);F("gxnat.sortXnatPropertiesArray",Y.tq);function zf(b){this.originalUrl=b;this.files=this.resources=this.scans=this.experiments=this.subjects=this.projects=this.prefix=null;b=b.split("/");for(var a=!0,c=0,a=0,d=b.length,c=0;c<d;c++)if(a=this.hasOwnProperty(b[c])&&b[c+1]){if("projects"===b[c]&&0!==c)for(this.prefix="",a=0;a<c;a++)this.prefix+=b[a],this.prefix=a<c-1?this.prefix+"/":this.prefix;this[b[c]]=b[c+1];c++}Af(this)}J(zf,ec);F("gxnat.Path",zf);
function Bf(b){b+="/REST";0<b.length&&"/"===b[b.length-1]&&(b=b.substring(0,b.length-1));return b}function Cf(b){for(var a=0,c=Df.length,a=0;a<c;a++)b(Df[a],a)}function Ef(b,a,c){if(-1==b.indexOf(c))throw Error("Graft folder",c,"not in prefix:",b);if(-1==b.indexOf(c))throw Error("Graft folder",c,"not in suffix:",a);return b.split(c+"/")[0]+c+a.split(c)[1]}var Df=["projects","subjects","experiments",["scans","resources"],"files"];
function Af(b){var a,c,d,e=!1;Cf(function(b,g){if(ha(b))for(a=0,c=b.length;a<c;a++)d=b[a],null!=this[d]||e||(this.Ph=Df[g-1],e=!0);else null!=this[b]||e||(this.Ph=Df[g-1],e=!0)}.bind(b))}zf.prototype.og=function(){null!=this.Ph||Af(this);return this.Ph};
zf.prototype.pc=function(b){if(!this.hasOwnProperty(b))throw Error("Invalid level: ",b);for(var a=this.prefix,c="",d=0,e=0,f=Df.length,g=0,d=0;d<f;d++){c=Df[d];if(ha(c))for(g=c.length,e=0;e<g;e++)currSubLevel=c[d][e],this[currSubLevel]&&(a+=currSubLevel+"/"+this[currSubLevel]);else a+="/"+c+"/"+this[c];if(b===c||-1<c.indexOf(b))return a}};zf.prototype.c=function(){zf.f.c.call(this);kb(this)};F("gxnat.Path.getQueryPrefix",Bf);F("gxnat.Path.forEachXnatLevel",Cf);
F("gxnat.Path.getDeepestSharedXnatLevel",function(b,a){var c=new zf(b),d=new zf(a),e=void 0;Cf(function(b){c[b]&&c[b]===d[b]&&(e=b)});return e});F("gxnat.Path.graftUrl",Ef);F("gxnat.Path.xnatLevelOrder",Df);F("gxnat.Path.prototype.getDeepestLevel",zf.prototype.og);F("gxnat.Path.prototype.pathByLevel",zf.prototype.pc);F("gxnat.Path.prototype.dispose",zf.prototype.c);function Ff(b){this.Da=new zf(b);this.projects=[];this[Gf]={};this[Hf]={};this[If]={}}J(Ff,ec);F("gxnat.ProjectTree",Ff);function Jf(b){this[Kf]=n(b)?new zf(b):b;this[Lf]=this[Kf].og();b=Df.indexOf(this[Kf].og())+1;-1!=b&&(this[Mf]=Df[b],n(this[Mf])&&(this[Nf]=this[Kf].originalUrl+"/"+this[Mf],this[this[Mf]]=[]))}J(Jf,ec);F("gxnat.ProjectTree.TreeNode",Jf);Jf.prototype.sc=function(b){this.Fa=b};Jf.prototype.pg=function(){return this.Fa};
Jf.prototype.c=function(){Jf.f.c.call(this);null!=this[Kf]&&this[Kf].c();kb(this)};var Lf=Ua(),Nf=Ua(),Of=Ua(),Kf=Ua(),Mf=Ua(),Pf=Ua(),Qf=Ua(),Rf=Ua(),Gf=Ua(),Hf=Ua(),If=Ua(),Sf=["ID","description","name","URI"],Tf=["gender","handedness","label","URI"],Uf=["label","URI"];function Vf(b,a){return Fa(b.Fa,a.Fa)}function Wf(b){var a="&columns=";P(b,function(c,d){separator=",";d==b.length-1&&(separator="");a+=c+separator});return a}m=Ff.prototype;
m.$j=function(b){var a=[];eb(this.Ue(b),function(b,d){"projects"==d?a.push(b[Rf].ID):a.push(b[Rf].label)});return a};m.ak=function(b){var a=[];eb(this.Ue(b),function(b){a.push(b[Kf].originalUrl)});return a};m.Ue=function(b){branch={projects:this.ya};"experiments"==b[Mf]?branch.subjects=b:ha(b[Mf])&&(branch.subjects=this[Hf][b[Kf].pc("subjects")],branch.experiments=b);return branch};m.Jk=function(b,a){this.hf(this.Da,b,a)};
m.hf=function(b,a,c){var d=n(b)?new zf(b):b,e;if(null!=this.ya){b={projects:this.ya};if(null!=d.subjects){e=d.pc("subjects");if(null==this[Hf][e]){this.pi(e,function(b){this.Lk(b,function(){null!=a&&a(b);this.hf(d,a,c)}.bind(this))}.bind(this));return}b.subjects=this[Hf][e]}if(null!=d.experiments){e=d.pc("experiments");if(null==this[If][e]){this.oi(e,function(b){null!=a&&a(b);this.hf(d,a,c)}.bind(this));return}b.experiments=this[If][e]}null!=c&&c(b)}else this.Kk(function(b){null!=a&&a(b);this.hf(d,
a,c)}.bind(this))};m.Kk=function(b){if(null==this.ya){var a=Wf(Sf),c=this.Da.prefix+"/projects/"+this.Da.projects,d;Y.ic(this.Da.prefix+"/projects",function(a){d=new Jf(c);this.projects.push(d);this.ya=d;this[Gf][d[Kf].originalUrl]=d;d[Rf]=a[0];d.sc(d[Rf].name);b(d)}.bind(this),"&ID="+this.Da.projects+a)}};m.Ze=function(b){return this[Hf][b]};m.je=function(b){return this[If][b]};
m.Lk=function(b,a){var c=b;n(b)?c=this.Ze(b):b instanceof zf&&(c=this.Ze(b.originalUrl));if(null!=c[Rf])a(c);else{var d=this.Da.prefix+"/subjects",e=Wf(Tf),e="&ID="+c[Kf].subjects+e;Y.ic(d,function(b){c[Rf]=b[0];c.sc(c[Rf].label);a(c)}.bind(this),e)}};
m.Mk=function(b,a){if(null==this.ya[Pf]||!0!=this.ya[Pf]){var c=this.ya[Kf].prefix+"/subjects",d="&project="+this.ya[Kf].projects+Wf(Tf),e,f;Y.ic(c,function(c){P(c,function(d){f=this.ya[Kf].prefix+"/projects/"+this.ya[Kf].projects+"/subjects/"+d.ID;e=this.pi(f);null==e[Rf]&&(e[Rf]=d,e.sc(e[Rf].label));null!=b&&b(e);this.ya.subjects.length==c.length&&(this.ya[Pf]=!0,null!=a&&(d=this.ya.subjects,d.sort(Vf),a(d)))}.bind(this))}.bind(this),d)}};
m.pi=function(b,a){if(null!=this[Hf][b])return this[Hf][b];subjNode=new Jf(b);this.ya.subjects.push(subjNode);this[Hf][b]=subjNode;null!=a&&a(subjNode);return subjNode};m.Hk=function(b,a){var c=b;n(b)?c=this.je(b):b instanceof zf&&(c=this.je(b.originalUrl));var d=this.Da.prefix+"/experiments",e=Wf(Uf),e="&ID="+c[Kf].experiments+e;Y.ic(d,function(b){c[Rf]=b[0];c.sc(c[Rf].label);a(c)}.bind(this),e)};
m.Ik=function(b,a,c){var d=b;n(b)?d=this.Ze(b):b instanceof zf&&(d=this.Ze(b.originalUrl));if(null!=d[Pf]&&!0==d[Pf])window.console.log("Don't need to reload the experiments of "+d[Kf].originalUrl);else{var e=d[Kf].originalUrl+"/experiments";Y.ic(e+"?xsiType=xnat:imageSessionData",function(b){P(b,function(g){this.oi(e+"/"+g.ID,function(e){null!=a&&a(e);d.experiments.length==b.length&&(d[Pf]=!0,null!=c&&(e=d.experiments,e.sort(Vf),c(e)))}.bind(this))}.bind(this))}.bind(this))}};
m.oi=function(b,a){null==this[If][b]&&(exptNode=new Jf(b),this.Hk(exptNode,function(c){this[Hf][c[Kf].pc("subjects")].experiments.push(c);this[If][b]=c;null!=a&&a(c)}.bind(this)))};m.c=function(){Ff.f.c.call(this);delete this.ya;this.Da.c();delete this.Da;P(this.projects,function(b){null!=b.subjects&&P(b.subjects,function(b){null!=b.experiments&&P(b.experiments,function(b){b.c()});b.c()});b.c()});kb(this)};F("gxnat.ProjectTree.TreeNode",Jf);F("gxnat.ProjectTree.LEVEL_KEY",Lf);
F("gxnat.ProjectTree.NEXTLEVELQUERY_KEY",Nf);F("gxnat.ProjectTree.NEXTLEVELJSON_KEY",Of);F("gxnat.ProjectTree.PATH_KEY",Kf);F("gxnat.ProjectTree.NEXTLEVEL_KEY",Mf);F("gxnat.ProjectTree.NEXTLEVELLOADED_KEY",Pf);F("gxnat.ProjectTree.ISLOADING_KEY",Qf);F("gxnat.ProjectTree.METADATA_KEY",Rf);F("gxnat.ProjectTree.PROJ_DIRECT",Gf);F("gxnat.ProjectTree.SUBJ_DIRECT",Hf);F("gxnat.ProjectTree.EXPT_DIRECT",If);F("gxnat.ProjectTree.PROJECT_METADATA",Sf);F("gxnat.ProjectTree.SUBJECT_METADATA",Tf);
F("gxnat.ProjectTree.EXPERIMENT_METADATA",Uf);F("gxnat.ProjectTree.compareNodeTitles",Vf);F("gxnat.ProjectTree.getColumnQuery",Wf);F("gxnat.ProjectTree.prototype.getBranchTitles",Ff.prototype.$j);F("gxnat.ProjectTree.prototype.getBranchUris",Ff.prototype.ak);F("gxnat.ProjectTree.prototype.getBranchFromEndNode",Ff.prototype.Ue);F("gxnat.ProjectTree.prototype.loadInitBranch",Ff.prototype.Jk);F("gxnat.ProjectTree.prototype.loadBranch",Ff.prototype.hf);F("gxnat.ProjectTree.prototype.loadProject",Ff.prototype.Kk);
F("gxnat.ProjectTree.prototype.getSubjectNodeByUri",Ff.prototype.Ze);F("gxnat.ProjectTree.prototype.getExperimentNodeByUri",Ff.prototype.je);F("gxnat.ProjectTree.prototype.loadSubjectMetadata",Ff.prototype.Lk);F("gxnat.ProjectTree.prototype.loadSubjects",Ff.prototype.Mk);F("gxnat.ProjectTree.prototype.loadSubject",Ff.prototype.pi);F("gxnat.ProjectTree.prototype.loadExperimentMetadata",Ff.prototype.Hk);F("gxnat.ProjectTree.prototype.loadExperiments",Ff.prototype.Ik);
F("gxnat.ProjectTree.prototype.loadExperiment",Ff.prototype.oi);F("gxnat.ProjectTree.prototype.dispose",Ff.prototype.c);function Xf(b){b=b.className;return n(b)&&b.match(/\S+/g)||[]}function Yf(b,a){for(var c=Xf(b),d=Cb(arguments,1),e=c,f=0;f<d.length;f++)vb(e,d[f])||e.push(d[f]);b.className=c.join(" ")}function Zf(b,a){var c=Xf(b),d=Cb(arguments,1),c=$f(c,d);b.className=c.join(" ")}function $f(b,a){return rb(b,function(b){return!vb(a,b)})};function ag(b,a){this.x=ca(b)?b:0;this.y=ca(a)?a:0}m=ag.prototype;m.clone=function(){return new ag(this.x,this.y)};m.toString=function(){return"("+this.x+", "+this.y+")"};m.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};m.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};m.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
m.translate=function(b,a){b instanceof ag?(this.x+=b.x,this.y+=b.y):(this.x+=b,A(a)&&(this.y+=a));return this};m.scale=function(b,a){var c=A(a)?a:b;this.x*=b;this.y*=c;return this};function bg(b,a,c,d){this.top=b;this.right=a;this.bottom=c;this.left=d}m=bg.prototype;m.clone=function(){return new bg(this.top,this.right,this.bottom,this.left)};m.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};m.contains=function(b){return this&&b?b instanceof bg?b.left>=this.left&&b.right<=this.right&&b.top>=this.top&&b.bottom<=this.bottom:b.x>=this.left&&b.x<=this.right&&b.y>=this.top&&b.y<=this.bottom:!1};
m.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};m.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};m.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
m.translate=function(b,a){b instanceof ag?(this.left+=b.x,this.right+=b.x,this.top+=b.y,this.bottom+=b.y):(this.left+=b,this.right+=b,A(a)&&(this.top+=a,this.bottom+=a));return this};m.scale=function(b,a){var c=A(a)?a:b;this.left*=b;this.right*=b;this.top*=c;this.bottom*=c;return this};function cg(b,a){this.width=b;this.height=a}function dg(b,a){return b==a?!0:b&&a?b.width==a.width&&b.height==a.height:!1}m=cg.prototype;m.clone=function(){return new cg(this.width,this.height)};m.toString=function(){return"("+this.width+" x "+this.height+")"};m.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};m.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
m.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};m.scale=function(b,a){var c=A(a)?a:b;this.width*=b;this.height*=c;return this};function eg(b,a,c,d){this.left=b;this.top=a;this.width=c;this.height=d}m=eg.prototype;m.clone=function(){return new eg(this.left,this.top,this.width,this.height)};m.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};m.contains=function(b){return b instanceof eg?this.left<=b.left&&this.left+this.width>=b.left+b.width&&this.top<=b.top&&this.top+this.height>=b.top+b.height:b.x>=this.left&&b.x<=this.left+this.width&&b.y>=this.top&&b.y<=this.top+this.height};
function fg(b,a){var c=a.x<b.left?b.left-a.x:Math.max(a.x-(b.left+b.width),0),d=a.y<b.top?b.top-a.y:Math.max(a.y-(b.top+b.height),0);return c*c+d*d}m.Lj=function(b){return Math.sqrt(fg(this,b))};m.Qc=function(){return new cg(this.width,this.height)};m.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
m.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};m.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};m.translate=function(b,a){b instanceof ag?(this.left+=b.x,this.top+=b.y):(this.left+=b,A(a)&&(this.top+=a));return this};
m.scale=function(b,a){var c=A(a)?a:b;this.left*=b;this.width*=b;this.top*=c;this.height*=c;return this};function gg(){return Tb?"Webkit":Sb?"Moz":Q?"ms":Rb?"O":null};var hg=!Q||Q&&9<=ac,ig=!Sb&&!Q||Q&&Q&&9<=ac||Sb&&Zb("1.9.1");Q&&Zb("9");function jg(b){return b?new kg(lg(b)):xa||(xa=new kg)}function mg(b,a){var c=a||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+b):ng(b,a)}
function ng(b,a){var c,d,e,f;c=document;c=a||c;if(c.querySelectorAll&&c.querySelector&&b)return c.querySelectorAll(""+(b?"."+b:""));if(b&&c.getElementsByClassName){var g=c.getElementsByClassName(b);return g}g=c.getElementsByTagName("*");if(b){f={};for(d=e=0;c=g[d];d++){var h=c.className;"function"==typeof h.split&&vb(h.split(/\s+/),b)&&(f[e++]=c)}f.length=e;return f}return g}
function og(b,a){eb(a,function(a,d){"style"==d?b.style.cssText=a:"class"==d?b.className=a:"for"==d?b.htmlFor=a:d in pg?b.setAttribute(pg[d],a):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?b.setAttribute(d,a):b[d]=a})}var pg={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function qg(b){b=b.document;b="CSS1Compat"==b.compatMode?b.documentElement:b.body;return new cg(b.clientWidth,b.clientHeight)}function rg(b){return b.parentWindow||b.defaultView}function sg(b,a,c){return tg(document,arguments)}
function tg(b,a){var c=a[0],d=a[1];if(!hg&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ga(d.name),'"');if(d.type){c.push(' type="',Ga(d.type),'"');var e={};nb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=b.createElement(c);d&&(n(d)?c.className=d:ha(d)?c.className=d.join(" "):og(c,d));2<a.length&&ug(b,c,a,2);return c}function ug(b,a,c,d){function e(c){c&&a.appendChild(n(c)?b.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ia(f)||ka(f)&&0<f.nodeType?e(f):P(vg(f)?Ab(f):f,e)}}
function wg(b,a){ug(lg(b),b,arguments,1)}function xg(b){return b&&b.parentNode?b.parentNode.removeChild(b):null}function lg(b){return 9==b.nodeType?b:b.ownerDocument||b.document}function vg(b){if(b&&"number"==typeof b.length){if(ka(b))return"function"==typeof b.item||"string"==typeof b.item;if(ja(b))return"function"==typeof b.item}return!1}function kg(b){this.pa=b||ba.document||document}m=kg.prototype;m.ba=jg;function yg(b){return b.pa}m.e=function(b){return n(b)?this.pa.getElementById(b):b};
m.Xl=kg.prototype.e;m.Ca=function(b,a,c){return tg(this.pa,arguments)};m.createElement=function(b){return this.pa.createElement(b)};m.createTextNode=function(b){return this.pa.createTextNode(String(b))};function zg(b){return rg(b.pa)}function Ag(b){var a=b.pa;b=Tb||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement;a=rg(a);return Q&&Zb("10")&&a.pageYOffset!=b.scrollTop?new ag(b.scrollLeft,b.scrollTop):new ag(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}
m.appendChild=function(b,a){b.appendChild(a)};m.append=wg;m.removeNode=xg;m.$h=function(b){return ig&&void 0!=b.children?b.children:rb(b.childNodes,function(b){return 1==b.nodeType})};m.contains=function(b,a){if(b.contains&&1==a.nodeType)return b==a||b.contains(a);if("undefined"!=typeof b.compareDocumentPosition)return b==a||Boolean(b.compareDocumentPosition(a)&16);for(;a&&b!=a;)a=a.parentNode;return a==b};function Bg(b,a){n(a)?Cg(b,void 0,a):eb(a,sa(Cg,b))}function Cg(b,a,c){a:if(c=Va(c),void 0===b.style[c]){var d=gg()+Xa(c);if(void 0!==b.style[d]){c=d;break a}}c&&(b.style[c]=a)}function Dg(b,a){var c=lg(b);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(b,null))?c[a]||c.getPropertyValue(a)||"":""}function Eg(b,a){return Dg(b,a)||(b.currentStyle?b.currentStyle[a]:null)||b.style&&b.style[a]}function Fg(b){return Eg(b,"position")}
function Gg(b,a,c){var d,e=Sb&&(Pb||Vb)&&Zb("1.9");a instanceof ag?(d=a.x,a=a.y):(d=a,a=c);b.style.left=Hg(d,e);b.style.top=Hg(a,e)}function Ig(b){return new ag(b.offsetLeft,b.offsetTop)}function Jg(b){var a;try{a=b.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}Q&&b.ownerDocument.body&&(b=b.ownerDocument,a.left-=b.documentElement.clientLeft+b.body.clientLeft,a.top-=b.documentElement.clientTop+b.body.clientTop);return a}
function Kg(b){if(Q&&!(Q&&8<=ac))return b.offsetParent;var a=lg(b),c=Eg(b,"position"),d="fixed"==c||"absolute"==c;for(b=b.parentNode;b&&b!=a;b=b.parentNode)if(c=Eg(b,"position"),d=d&&"static"==c&&b!=a.documentElement&&b!=a.body,!d&&(b.scrollWidth>b.clientWidth||b.scrollHeight>b.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return b;return null}function Lg(b,a){var c=Mg(b),d=Mg(a);return new ag(c.x-d.x,c.y-d.y)}
function Mg(b){if(1==b.nodeType){var a;if(b.getBoundingClientRect)a=Jg(b),a=new ag(a.left,a.top);else{a=Ag(jg(b));var c,d=lg(b),e=Eg(b,"position"),f=Sb&&d.getBoxObjectFor&&!b.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(b))&&(0>c.screenX||0>c.screenY),g=new ag(0,0),h;c=d?lg(d):document;(h=!Q||Q&&9<=ac)||(h="CSS1Compat"==jg(c).pa.compatMode);h=h?c.documentElement:c.body;if(b!=h)if(b.getBoundingClientRect)c=Jg(b),d=Ag(jg(d)),g.x=c.left+d.x,g.y=c.top+d.y;else if(d.getBoxObjectFor&&!f)c=
d.getBoxObjectFor(b),d=d.getBoxObjectFor(h),g.x=c.screenX-d.screenX,g.y=c.screenY-d.screenY;else{c=b;do{g.x+=c.offsetLeft;g.y+=c.offsetTop;c!=b&&(g.x+=c.clientLeft||0,g.y+=c.clientTop||0);if(Tb&&"fixed"==Fg(c)){g.x+=d.body.scrollLeft;g.y+=d.body.scrollTop;break}c=c.offsetParent}while(c&&c!=b);if(Rb||Tb&&"absolute"==e)g.y-=d.body.offsetTop;for(c=b;(c=Kg(c))&&c!=d.body&&c!=h;)g.x-=c.scrollLeft,Rb&&"TR"==c.tagName||(g.y-=c.scrollTop)}a=new ag(g.x-a.x,g.y-a.y)}if(Sb&&!Zb(12)){b:{g=Va("transform");if(void 0===
b.style[g]&&(g=gg()+Xa(g),void 0!==b.style[g])){g=(Tb?"-webkit":Sb?"-moz":Q?"-ms":Rb?"-o":null)+"-transform";break b}g="transform"}b=(b=Eg(b,g)||Eg(b,"transform"))?(b=b.match(Ng))?new ag(parseFloat(b[1]),parseFloat(b[2])):new ag(0,0):new ag(0,0);b=new ag(a.x+b.x,a.y+b.y)}else b=a;return b}a=ja(b.Vn);g=b;b.targetTouches?g=b.targetTouches[0]:a&&b.Ua.targetTouches&&(g=b.Ua.targetTouches[0]);return new ag(g.clientX,g.clientY)}
function Og(b,a,c){if(a instanceof cg)c=a.height,a=a.width;else if(void 0==c)throw Error("missing height argument");b.style.width=Hg(a,!0);b.style.height=Hg(c,!0)}function Hg(b,a){"number"==typeof b&&(b=(a?Math.round(b):b)+"px");return b}function Pg(b){var a=Qg;if("none"!=Eg(b,"display"))return a(b);var c=b.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";b=a(b);c.display=d;c.position=f;c.visibility=e;return b}
function Qg(b){var a=b.offsetWidth,c=b.offsetHeight,d=Tb&&!a&&!c;return ca(a)&&!d||!b.getBoundingClientRect?new cg(a,c):(b=Jg(b),new cg(b.right-b.left,b.bottom-b.top))}function Rg(b,a){var c=b.style;"opacity"in c?c.opacity=a:"MozOpacity"in c?c.MozOpacity=a:"filter"in c&&(c.filter=""===a?"":"alpha(opacity="+100*a+")")}function Sg(b,a){b.style.display=a?"":"none"}function Tg(b){return"rtl"==Eg(b,"direction")}var Ug={thin:2,medium:4,thick:6};
function Vg(b,a){if("none"==(b.currentStyle?b.currentStyle[a+"Style"]:null))return 0;var c=b.currentStyle?b.currentStyle[a+"Width"]:null,d;if(c in Ug)d=Ug[c];else if(/^\d+px?$/.test(c))d=parseInt(c,10);else{d=b.style.left;var e=b.runtimeStyle.left;b.runtimeStyle.left=b.currentStyle.left;b.style.left=c;c=b.style.pixelLeft;b.style.left=d;b.runtimeStyle.left=e;d=c}return d}
function Wg(b){if(Q&&!(Q&&9<=ac)){var a=Vg(b,"borderLeft"),c=Vg(b,"borderRight"),d=Vg(b,"borderTop");b=Vg(b,"borderBottom");return new bg(d,c,b,a)}a=Dg(b,"borderLeftWidth");c=Dg(b,"borderRightWidth");d=Dg(b,"borderTopWidth");b=Dg(b,"borderBottomWidth");return new bg(parseFloat(d),parseFloat(c),parseFloat(b),parseFloat(a))}var Ng=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Xg(b){ec.call(this);this.ke=b;this.Q={}}J(Xg,ec);var Yg=[];m=Xg.prototype;m.ra=function(b,a,c,d){ha(a)||(a&&(Yg[0]=a.toString()),a=Yg);for(var e=0;e<a.length;e++){var f=rc(b,a[e],c||this.handleEvent,d||!1,this.ke||this);if(!f)break;this.Q[f.key]=f}return this};m.mi=function(b,a,c,d){return Zg(this,b,a,c,d)};function Zg(b,a,c,d,e,f){if(ha(c))for(var g=0;g<c.length;g++)Zg(b,a,c[g],d,e,f);else{a=yc(a,c,d||b.handleEvent,e,f||b.ke||b);if(!a)return b;b.Q[a.key]=a}return b}
m.Yg=function(b,a,c,d,e){if(ha(a))for(var f=0;f<a.length;f++)this.Yg(b,a[f],c,d,e);else c=c||this.handleEvent,e=e||this.ke||this,c=sc(c),d=!!d,a=ab(b)?b.Ye(a,c,d,e):b?(b=uc(b))?b.Ye(a,c,d,e):null:null,a&&(Ac(a),delete this.Q[a.key]);return this};m.xd=function(){eb(this.Q,Ac);this.Q={}};m.q=function(){Xg.f.q.call(this);this.xd()};m.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function $g(b,a,c){Fc.call(this);this.target=b;this.handle=a||b;this.li=c||new eg(NaN,NaN,NaN,NaN);this.pa=lg(b);this.Nb=new Xg(this);b=sa(hc,this.Nb);this.pf||(this.pf=[]);this.pf.push(ca(void 0)?ra(b,void 0):b);rc(this.handle,["touchstart","mousedown"],this.Bl,!1,this)}J($g,Fc);var ah=Q||Sb&&Zb("1.9.3");m=$g.prototype;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.Cl=0;m.Dl=0;m.$d=0;m.ae=0;m.Oj=!0;m.kd=!1;m.sk=0;m.Bo=!1;m.Ef=!1;m.pd=function(){return this.Nb};
function bh(b,a){b.li=a||new eg(NaN,NaN,NaN,NaN)}m.q=function(){$g.f.q.call(this);zc(this.handle,["touchstart","mousedown"],this.Bl,!1,this);this.Nb.xd();ah&&this.pa.releaseCapture();this.handle=this.target=null};function ch(b){ca(b.rc)||(b.rc=Tg(b.target));return b.rc}
m.Bl=function(b){var a="mousedown"==b.type;if(!this.Oj||this.kd||a&&(!(bc?0==b.Ua.button:"click"==b.type||b.Ua.button&nc[0])||Tb&&Pb&&b.ctrlKey))this.dispatchEvent("earlycancel");else{dh(b);if(0==this.sk)if(this.dispatchEvent(new eh("start",this,b.clientX,b.clientY)))this.kd=!0,b.preventDefault();else return;else b.preventDefault();var a=this.pa,c=a.documentElement,d=!ah;this.Nb.ra(a,["touchmove","mousemove"],this.yo,d);this.Nb.ra(a,["touchend","mouseup"],this.mg,d);ah?(c.setCapture(!1),this.Nb.ra(c,
"losecapture",this.mg)):this.Nb.ra(a?rg(a):window,"blur",this.mg);Q&&this.Bo&&this.Nb.ra(a,"dragstart",jc);this.gq&&this.Nb.ra(this.gq,"scroll",this.Ep,d);this.clientX=this.Cl=b.clientX;this.clientY=this.Dl=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;this.Ef?(b=this.target,a=b.offsetLeft,c=b.offsetParent,c||"fixed"!=Fg(b)||(c=lg(b).documentElement),c?(Sb?(d=Wg(c),a+=d.left):Q&&8<=ac&&(d=Wg(c),a-=d.left),b=Tg(c)?c.clientWidth-(a+b.offsetWidth):a):b=a):b=this.target.offsetLeft;this.$d=b;
this.ae=this.target.offsetTop;this.Bi=Ag(jg(this.pa));ta()}};m.mg=function(b){this.Nb.xd();ah&&this.pa.releaseCapture();if(this.kd){dh(b);this.kd=!1;var a=fh(this,this.$d),c=gh(this,this.ae);this.dispatchEvent(new eh("end",this,b.clientX,b.clientY,0,a,c))}else this.dispatchEvent("earlycancel")};function dh(b){var a=b.type;"touchstart"==a||"touchmove"==a?mc(b,b.Ua.targetTouches[0],b.currentTarget):"touchend"!=a&&"touchcancel"!=a||mc(b,b.Ua.changedTouches[0],b.currentTarget)}
m.yo=function(b){if(this.Oj){dh(b);var a=(this.Ef&&ch(this)?-1:1)*(b.clientX-this.clientX),c=b.clientY-this.clientY;this.clientX=b.clientX;this.clientY=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;if(!this.kd){var d=this.Cl-this.clientX,e=this.Dl-this.clientY;if(d*d+e*e>this.sk)if(this.dispatchEvent(new eh("start",this,b.clientX,b.clientY)))this.kd=!0;else{this.ig||this.mg(b);return}}c=hh(this,a,c);a=c.x;c=c.y;this.kd&&this.dispatchEvent(new eh("beforedrag",this,b.clientX,b.clientY,0,a,
c))&&(ih(this,b,a,c),b.preventDefault())}};function hh(b,a,c){var d=Ag(jg(b.pa));a+=d.x-b.Bi.x;c+=d.y-b.Bi.y;b.Bi=d;b.$d+=a;b.ae+=c;a=fh(b,b.$d);b=gh(b,b.ae);return new ag(a,b)}m.Ep=function(b){var a=hh(this,0,0);b.clientX=this.clientX;b.clientY=this.clientY;ih(this,b,a.x,a.y)};function ih(b,a,c,d){b.Ef&&ch(b)?b.target.style.right=c+"px":b.target.style.left=c+"px";b.target.style.top=d+"px";b.dispatchEvent(new eh("drag",b,a.clientX,a.clientY,0,c,d))}
function fh(b,a){var c=b.li,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,a))}function gh(b,a){var c=b.li,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,a))}function eh(b,a,c,d,e,f,g){ic.call(this,b);this.clientX=c;this.clientY=d;this.left=ca(f)?f:a.$d;this.top=ca(g)?g:a.ae}J(eh,ic);ob("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));function jh(){this.Di="";this.im=kh;this.pn=null}jh.prototype.toString=function(){return"SafeHtml{"+this.Di+"}"};function lh(b){if(b instanceof jh&&b.constructor===jh&&b.im===kh)return b.Di;Za("expected object of type SafeHtml, got '"+b+"'");return"type_error:SafeHtml"}ob("action","cite","data","formaction","href","manifest","poster","src");ob("link","script","style");var kh={};function mh(b,a){var c=new jh;c.Di=b;c.pn=a;return c}var nh=mh("",0);function oh(){}oh.io=function(){return oh.yk?oh.yk:oh.yk=new oh};oh.prototype.Wk=0;function ph(b){Fc.call(this);this.Mb=b||jg();this.rc=qh;this.Pb=null;this.Na=!1;this.J=null;this.Sc=void 0;this.cg=this.Hc=this.eb=null;this.Mq=!1}J(ph,Fc);ph.prototype.tk=oh.io();var qh=null;m=ph.prototype;m.e=function(){return this.J};m.pd=function(){this.Sc||(this.Sc=new Xg(this));return this.Sc};m.getParent=function(){return this.eb};m.Ii=function(b){if(this.eb&&this.eb!=b)throw Error("Method not supported");ph.f.Ii.call(this,b)};m.ba=function(){return this.Mb};m.Ca=function(){this.J=this.Mb.createElement("div")};
m.Ea=function(b){if(this.Na)throw Error("Component already rendered");this.J||this.Ca();b?b.insertBefore(this.J,null):this.Mb.pa.body.appendChild(this.J);this.eb&&!this.eb.Na||this.ee()};m.ee=function(){this.Na=!0;rh(this,function(b){!b.Na&&b.e()&&b.ee()})};m.md=function(){rh(this,function(b){b.Na&&b.md()});this.Sc&&this.Sc.xd();this.Na=!1};
m.q=function(){this.Na&&this.md();this.Sc&&(this.Sc.c(),delete this.Sc);rh(this,function(b){b.c()});!this.Mq&&this.J&&xg(this.J);this.eb=this.J=this.cg=this.Hc=null;ph.f.q.call(this)};m.ie=function(){return this.J};m.Bk=function(){null==this.rc&&(this.rc=Tg(this.Na?this.J:this.Mb.pa.body));return this.rc};function rh(b,a){b.Hc&&P(b.Hc,a,void 0)}
m.removeChild=function(b,a){if(b){var c=n(b)?b:b.Pb||(b.Pb=":"+(b.tk.Wk++).toString(36)),d;this.cg&&c?(d=this.cg,d=(c in d?d[c]:void 0)||null):d=null;b=d;if(c&&b){d=this.cg;c in d&&delete d[c];yb(this.Hc,b);a&&(b.md(),b.J&&xg(b.J));c=b;if(null==c)throw Error("Unable to set parent component");c.eb=null;ph.f.Ii.call(c,null)}}if(!b)throw Error("Child is not in parent component");return b};function sh(b){if(b.classList)return b.classList;b=b.className;return n(b)&&b.match(/\S+/g)||[]}function th(b,a){return b.classList?b.classList.contains(a):vb(sh(b),a)}function uh(b,a){b.classList?b.classList.add(a):th(b,a)||(b.className+=0<b.className.length?" "+a:a)}function vh(b,a){if(b.classList)P(a,function(a){uh(b,a)});else{var c={};P(sh(b),function(b){c[b]=!0});P(a,function(b){c[b]=!0});b.className="";for(var d in c)b.className+=0<b.className.length?" "+d:d}}
function wh(b,a){b.classList?b.classList.remove(a):th(b,a)&&(b.className=rb(sh(b),function(b){return b!=a}).join(" "))}function xh(b,a){b.classList?P(a,function(a){wh(b,a)}):b.className=rb(sh(b),function(b){return!vb(a,b)}).join(" ")};var yh;function zh(b,a){a?b.setAttribute("role",a):b.removeAttribute("role")}function Ah(b,a,c){ia(c)&&(c=c.join(" "));var d="aria-"+a;""===c||void 0==c?(yh||(yh={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=yh,a in c?b.setAttribute(d,c[a]):b.removeAttribute(d)):b.setAttribute(d,c)};function Bh(b){Fc.call(this);this.J=b;b=Q?"focusout":"blur";this.Uo=rc(this.J,Q?"focusin":"focus",this,!Q);this.Vo=rc(this.J,b,this,!Q)}J(Bh,Fc);Bh.prototype.handleEvent=function(b){var a=new lc(b.Ua);a.type="focusin"==b.type||"focus"==b.type?"focusin":"focusout";this.dispatchEvent(a)};Bh.prototype.q=function(){Bh.f.q.call(this);Ac(this.Uo);Ac(this.Vo);delete this.J};function Ch(b,a){ph.call(this,a);this.Dq=!!b;this.ef=null}J(Ch,ph);m=Ch.prototype;m.Zh=null;m.ad=!1;m.Ta=null;m.ta=null;m.Bb=null;m.uh=!1;m.We=function(){return"goog-modalpopup"};m.he=function(){return this.Ta};
m.Ca=function(){Ch.f.Ca.call(this);var b=this.e(),a=Da(this.We()).split(" ");vh(b,a);b.tabIndex=0;Sg(b,!1);this.Dq&&!this.ta&&(this.ta=this.ba().Ca("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'}),this.ta.className=this.We()+"-bg",Sg(this.ta,!1),Rg(this.ta,0));this.Ta||(this.Ta=this.ba().Ca("div",this.We()+"-bg"),Sg(this.Ta,!1));this.Bb||(this.Bb=this.ba().createElement("span"),Sg(this.Bb,!1),this.Bb.tabIndex=0,this.Bb.style.position="absolute")};
m.kl=function(){this.uh=!1};m.ee=function(){if(this.ta){var b=this.e();b.parentNode&&b.parentNode.insertBefore(this.ta,b)}b=this.e();b.parentNode&&b.parentNode.insertBefore(this.Ta,b);Ch.f.ee.call(this);b=this.e();b.parentNode&&b.parentNode.insertBefore(this.Bb,b.nextSibling);this.Zh=new Bh(yg(this.ba()));this.pd().ra(this.Zh,"focusin",this.zp);Dh(this,!1)};m.md=function(){this.ad&&this.kb(!1);hc(this.Zh);Ch.f.md.call(this);xg(this.ta);xg(this.Ta);xg(this.Bb)};
m.kb=function(b){if(b!=this.ad)if(this.vd&&this.vd.stop(),this.Td&&this.Td.stop(),this.ud&&this.ud.stop(),this.Sd&&this.Sd.stop(),this.Na&&Dh(this,b),b){if(this.dispatchEvent("beforeshow")){try{this.ef=yg(this.ba()).activeElement}catch(a){}this.Gi();var c=((b=yg(this.ba()))?rg(b):window)||window;if("fixed"==Fg(this.e()))var d=b=0;else d=Ag(this.ba()),b=d.x,d=d.y;var e=Pg(this.e()),c=qg(c||window);b=Math.max(b+c.width/2-e.width/2,0);d=Math.max(d+c.height/2-e.height/2,0);Gg(this.e(),b,d);Gg(this.Bb,
b,d);this.pd().ra(zg(this.ba()),"resize",this.Gi);Eh(this,!0);this.focus();this.ad=!0;this.vd&&this.Td?(yc(this.vd,"end",this.Jg,!1,this),this.Td.play(),this.vd.play()):this.Jg()}}else if(this.dispatchEvent("beforehide")){this.pd().Yg(zg(this.ba()),"resize",this.Gi);this.ad=!1;this.ud&&this.Sd?(yc(this.ud,"end",this.Ig,!1,this),this.Sd.play(),this.ud.play()):this.Ig();try{d=yg(this.ba()).body,e=yg(this.ba()).activeElement||d,this.ef&&e==d&&this.ef!=d&&this.ef.focus()}catch(f){}this.ef=null}};
function Dh(b,a){if(a){b.ne||(b.ne=[]);for(var c=b.ba(),c=c.$h(c.pa.body),d=0;d<c.length;d++){var e=c[d],f;if(f=e!=b.J)f=e.getAttribute("aria-hidden"),f=!(null==f||void 0==f?0:String(f));f&&(Ah(e,"hidden",!0),b.ne.push(e))}}else if(b.ne){for(d=0;d<b.ne.length;d++)b.ne[d].removeAttribute("aria-hidden");b.ne=null}}function Eh(b,a){b.ta&&Sg(b.ta,a);b.Ta&&Sg(b.Ta,a);Sg(b.e(),a);Sg(b.Bb,a)}m.Jg=function(){this.dispatchEvent("show")};m.Ig=function(){Eh(this,!1);this.dispatchEvent("hide")};m.focus=function(){this.Xj()};
m.Gi=function(){this.ta&&Sg(this.ta,!1);this.Ta&&Sg(this.Ta,!1);var b=yg(this.ba()),a=qg((b?rg(b):window)||window||window),c=Math.max(a.width,Math.max(b.body.scrollWidth,b.documentElement.scrollWidth)),b=Math.max(a.height,Math.max(b.body.scrollHeight,b.documentElement.scrollHeight));this.ta&&(Sg(this.ta,!0),Og(this.ta,c,b));this.Ta&&(Sg(this.Ta,!0),Og(this.Ta,c,b))};m.zp=function(b){this.uh?this.kl():b.target==this.Bb&&Ie(this.Xj,0,this)};m.Xj=function(){try{Q&&yg(this.ba()).body.focus(),this.e().focus()}catch(b){}};
m.q=function(){hc(this.vd);this.vd=null;hc(this.ud);this.ud=null;hc(this.Td);this.Td=null;hc(this.Sd);this.Sd=null;Ch.f.q.call(this)};function Fh(b,a,c){Ch.call(this,a,c);this.dc=b||"modal-dialog";this.Vd=Gh(Gh(new Hh,Ih,!0),Jh,!1,!0)}J(Fh,Ch);m=Fh.prototype;m.Pj=!0;m.pk=!0;m.Pk=!0;m.kg=!0;m.th=.5;m.Fa="";m.ec=null;m.qa=null;m.vn=!1;m.Zc=null;m.zd=null;m.Il=null;m.uc=null;m.Me=null;m.Ud=null;m.al="dialog";m.We=function(){return this.dc};
m.sc=function(b){this.Fa=b;if(this.zd){var a=this.zd;if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(lg(a).createTextNode(String(b)))}}};m.pg=function(){return this.Fa};m.Ve=function(){return null!=this.ec?lh(this.ec):""};m.ie=function(){this.e()||this.Ea();return this.Me};
m.he=function(){this.e()||this.Ea();return Fh.f.he.call(this)};m.Ug=function(b){this.kg=b;this.tf(b&&this.Na)};m.tf=function(b){var a=Da(this.dc+"-title-draggable").split(" ");this.e()&&(b?vh(this.Zc,a):xh(this.Zc,a));b&&!this.qa?(this.qa=new $g(this.e(),this.Zc),vh(this.Zc,a),rc(this.qa,"start",this.Vg,!1,this)):!b&&this.qa&&(this.qa.c(),this.qa=null)};
m.Ca=function(){Fh.f.Ca.call(this);var b=this.e(),a=this.ba();this.Zc=a.Ca("div",this.dc+"-title",this.zd=a.Ca("span",{className:this.dc+"-title-text",id:this.Pb||(this.Pb=":"+(this.tk.Wk++).toString(36))},this.Fa),this.uc=a.Ca("span",this.dc+"-title-close"));wg(b,this.Zc,this.Me=a.Ca("div",this.dc+"-content"),this.Ud=a.Ca("div",this.dc+"-buttons"));zh(this.zd,"heading");zh(this.uc,"button");this.uc.tabIndex=0;Ah(this.uc,"label",Kh);this.Il=this.zd.id;zh(b,this.al);Ah(b,"labelledby",this.Il||"");
this.ec&&(this.Me.innerHTML=lh(this.ec));Sg(this.uc,this.pk);this.Vd&&(b=this.Vd,b.J=this.Ud,b.Ea());Sg(this.Ud,!!this.Vd);this.th=this.th;this.e()&&(b=this.he())&&Rg(b,this.th)};
m.ee=function(){Fh.f.ee.call(this);this.pd().ra(this.e(),"keydown",this.Yk).ra(this.e(),"keypress",this.Yk);this.pd().ra(this.Ud,"click",this.yp);this.tf(this.kg);this.pd().ra(this.uc,"click",this.Fp);var b=this.e();zh(b,this.al);""!==this.zd.id&&Ah(b,"labelledby",this.zd.id);if(!this.Pk){this.Pk=!1;if(this.Na){var b=this.ba(),a=this.he();b.removeNode(this.ta);b.removeNode(a)}this.ad&&Dh(this,!1)}};m.md=function(){this.ad&&this.kb(!1);this.tf(!1);Fh.f.md.call(this)};
m.kb=function(b){b!=this.ad&&(this.Na||this.Ea(),Fh.f.kb.call(this,b))};m.Jg=function(){Fh.f.Jg.call(this);this.dispatchEvent(Lh)};m.Ig=function(){Fh.f.Ig.call(this);this.dispatchEvent(Mh);this.vn&&this.c()};
m.Vg=function(){var b=yg(this.ba()),a=qg((b?rg(b):window)||window||window),c=Math.max(b.body.scrollWidth,a.width),b=Math.max(b.body.scrollHeight,a.height),d=Pg(this.e());"fixed"==Fg(this.e())?bh(this.qa,new eg(0,0,Math.max(0,a.width-d.width),Math.max(0,a.height-d.height))):bh(this.qa,new eg(0,0,c-d.width,b-d.height))};m.Fp=function(){Nh(this)};function Nh(b){if(b.pk){var a=b.Vd,c=a&&a.Ch;c?(a=a.get(c),b.dispatchEvent(new Oh(c,a))&&b.kb(!1)):b.kb(!1)}}m.q=function(){this.Ud=this.uc=null;Fh.f.q.call(this)};
m.yp=function(b){a:{for(b=b.target;null!=b&&b!=this.Ud;){if("BUTTON"==b.tagName)break a;b=b.parentNode}b=null}if(b&&!b.disabled){b=b.name;var a=this.Vd.get(b);this.dispatchEvent(new Oh(b,a))&&this.kb(!1)}};
m.Yk=function(b){var a=!1,c=!1,d=this.Vd,e=b.target;if("keydown"==b.type)if(this.Pj&&27==b.keyCode){var f=d&&d.Ch,e="SELECT"==e.tagName&&!e.disabled;f&&!e?(c=!0,a=d.get(f),a=this.dispatchEvent(new Oh(f,a))):e||(a=!0)}else{if(9==b.keyCode&&b.shiftKey&&e==this.e()){this.uh=!0;try{this.Bb.focus()}catch(g){}Ie(this.kl,0,this)}}else if(13==b.keyCode){if("BUTTON"==e.tagName&&!e.disabled)f=e.name;else if(e==this.uc)Nh(this);else if(d){var h=d.Qh,l;if(l=h)a:{l=d.J.getElementsByTagName("BUTTON");for(var k=
0,q;q=l[k];k++)if(q.name==h||q.id==h){l=q;break a}l=null}e=("TEXTAREA"==e.tagName||"SELECT"==e.tagName||"A"==e.tagName)&&!e.disabled;!l||l.disabled||e||(f=h)}f&&d&&(c=!0,a=this.dispatchEvent(new Oh(f,String(d.get(f)))))}else e==this.uc&&32==b.keyCode&&Nh(this);if(a||c)b.stopPropagation(),b.preventDefault();a&&this.kb(!1)};function Oh(b,a){this.type=Ph;this.key=b;this.caption=a}J(Oh,ic);var Ph="dialogselect",Mh="afterhide",Lh="aftershow";function Hh(b){this.Mb=b||jg();Lc.call(this)}J(Hh,Lc);m=Hh.prototype;
m.dc="goog-buttonset";m.Qh=null;m.J=null;m.Ch=null;m.set=function(b,a,c,d){Lc.prototype.set.call(this,b,a);c&&(this.Qh=b);d&&(this.Ch=b);return this};function Gh(b,a,c,d){return b.set(a.key,a.caption,c,d)}m.Ea=function(){if(this.J){this.J.innerHTML=lh(nh);var b=jg(this.J);this.forEach(function(a,c){var d=b.Ca("button",{name:c},a);c==this.Qh&&(d.className=this.dc+"-default");this.J.appendChild(d)},this)}};m.e=function(){return this.J};m.ba=function(){return this.Mb};
var Kh="Close",Ih={key:"ok",caption:"OK"},Jh={key:"cancel",caption:"Cancel"},Qh={key:"yes",caption:"Yes"},Rh={key:"no",caption:"No"},Sh={key:"save",caption:"Save"},Th={key:"continue",caption:"Continue"};"undefined"!=typeof document&&(Gh(new Hh,Ih,!0,!0),Gh(Gh(new Hh,Ih,!0),Jh,!1,!0),Gh(Gh(new Hh,Qh,!0),Rh,!1,!0),Gh(Gh(Gh(new Hh,Qh),Rh,!0),Jh,!1,!0),Gh(Gh(Gh(new Hh,Th),Sh),Jh,!0,!0));F("nrg.string",function(){});function Uh(b){if(void 0!=b)return b.replace(/\\/g,"/").replace(/.*\//,"")}function Vh(b){if(void 0!=b)return b.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function Wh(b){if(null!=b)return b="array"==ga(b)?b[0]:b,b=b.slice(b.lastIndexOf(".")+1),"gz"==b&&(b="nii."+b),b.toLowerCase()}function Xh(b){return b.replace(/\W/g,"")}function Yh(b,a){return b.toLowerCase().replace(/\.|_/g,"-")+"-"+a.toLowerCase().replace(/\.|_/g,"-")}F("nrg.string.basename",Uh);
F("nrg.string.dirname",Vh);F("nrg.string.getFileExtension",Wh);F("nrg.string.fileNameMatch",function(b,a){return Uh(b)===Uh(a)});F("nrg.string.stripNonAlphanumeric",Xh);F("nrg.string.stripIllegal",function(b){return b.replace(/[|&;$%@"<>()+,]/g,"")});F("nrg.string.getLettersOnly",function(b){return Xh(b).replace(/[0-9]/g,"")});
F("nrg.string.replaceIllegal",function(b,a){if("string"!==typeof b)throw Error("Illegal value "+typeof b+" in argument of nrg.string.replaceIllegal .");void 0===a&&(a="");var c=b.replace(/\/./g,a);return c=c.replace(/[|&;$%@"<>()+,]/g,a)});F("nrg.string.truncateString",function(b,a){a=void 0===a?30:a;return b.length>a?b.substring(0,a-3)+"...":b});F("nrg.string.makeCssName",Yh);function Zh(b,a,c){ec.call(this);this.ni=b;this.Qo=a||0;this.ke=c;this.Xm=ra(this.xn,this)}J(Zh,ec);m=Zh.prototype;m.Pb=0;m.q=function(){Zh.f.q.call(this);this.stop();delete this.ni;delete this.ke};m.start=function(b){this.stop();this.Pb=Ie(this.Xm,ca(b)?b:this.Qo)};m.stop=function(){this.ii()&&ba.clearTimeout(this.Pb);this.Pb=0};m.ii=function(){return 0!=this.Pb};m.xn=function(){this.Pb=0;this.ni&&this.ni.call(this.ke)};var jb={},$h=null;function ai(b){b=la(b);delete jb[b];ib()&&$h&&$h.stop()}function bi(){$h||($h=new Zh(function(){ci()},20));var b=$h;b.ii()||b.start()}function ci(){var b=ta();eb(jb,function(a){di(a,b)});ib()||bi()};function ei(){Fc.call(this);this.D=fi;this.endTime=this.startTime=null}J(ei,Fc);var fi=0;ei.prototype.mc=function(){this.oa("begin")};ei.prototype.wa=function(){this.oa("end")};ei.prototype.oa=function(b){this.dispatchEvent(b)};function gi(b,a,c,d){ei.call(this);if(!ha(b)||!ha(a))throw Error("Start and end parameters must be arrays");if(b.length!=a.length)throw Error("Start and end points must be the same length");this.yf=b;this.Bn=a;this.duration=c;this.kj=d;this.coords=[];this.Ef=!1}J(gi,ei);m=gi.prototype;m.hb=0;
m.play=function(b){if(b||this.D==fi)this.hb=0,this.coords=this.yf;else if(1==this.D)return!1;ai(this);this.startTime=b=ta();-1==this.D&&(this.startTime-=this.duration*this.hb);this.endTime=this.startTime+this.duration;this.hb||this.mc();this.oa("play");-1==this.D&&this.oa("resume");this.D=1;var a=la(this);a in jb||(jb[a]=this);bi();di(this,b);return!0};m.stop=function(b){ai(this);this.D=fi;b&&(this.hb=1);hi(this,this.hb);this.oa("stop");this.wa()};
m.q=function(){this.D==fi||this.stop(!1);this.oa("destroy");gi.f.q.call(this)};function di(b,a){b.hb=(a-b.startTime)/(b.endTime-b.startTime);1<=b.hb&&(b.hb=1);hi(b,b.hb);1==b.hb?(b.D=fi,ai(b),b.oa("finish"),b.wa()):1==b.D&&b.yi()}function hi(b,a){ja(b.kj)&&(a=b.kj(a));b.coords=Array(b.yf.length);for(var c=0;c<b.yf.length;c++)b.coords[c]=(b.Bn[c]-b.yf[c])*a+b.yf[c]}m.yi=function(){this.oa("animate")};m.oa=function(b){this.dispatchEvent(new ii(b,this))};
function ii(b,a){ic.call(this,b);this.coords=a.coords;this.x=a.coords[0];this.y=a.coords[1];this.z=a.coords[2];this.duration=a.duration;this.hb=a.hb;this.state=a.D}J(ii,ic);var ji={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function li(b){var a={};b=String(b);var c="#"==b.charAt(0)?b:"#"+b;if(mi.test(c))return a.tg=ni(c),a.type="hex",a;a:{var d=b.match(oi);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];b=c[1];c=c[2];e=Number(e);b=Number(b);c=Number(c);if(isNaN(e)||0>e||255<e||isNaN(b)||0>b||255<b||isNaN(c)||0>c||255<c)throw Error('"('+e+","+b+","+c+'") is not a valid RGB color');e=pi(e.toString(16));b=pi(b.toString(16));
c=pi(c.toString(16));a.tg="#"+e+b+c;a.type="rgb";return a}if(ji&&(c=ji[b.toLowerCase()]))return a.tg=c,a.type="named",a;throw Error(b+" is not a valid color string");}var qi=/#(.)(.)(.)/;function ni(b){if(!mi.test(b))throw Error("'"+b+"' is not a valid hex color");4==b.length&&(b=b.replace(qi,"#$1$1$2$2$3$3"));return b.toLowerCase()}function ri(b){b=ni(b);return[parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,2),16)]}var mi=/^#(?:[0-9a-f]{3}){1,2}$/i,oi=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;
function pi(b){return 1==b.length?"0"+b:b};function si(b,a,c,d,e){gi.call(this,a,c,d,e);this.element=b}J(si,gi);m=si.prototype;m.Xb=fa;m.Bk=function(){ca(this.rc)||(this.rc=Tg(this.element));return this.rc};m.yi=function(){this.Xb();si.f.yi.call(this)};m.wa=function(){this.Xb();si.f.wa.call(this)};m.mc=function(){this.Xb();si.f.mc.call(this)};function ti(b,a,c,d,e){if(2!=a.length||2!=c.length)throw Error("Start and end points must be 2D");si.apply(this,arguments)}J(ti,si);
ti.prototype.Xb=function(){var b=this.Ef&&this.Bk()?"right":"left";this.element.style[b]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function ui(b,a,c,d,e){if(2!=a.length||2!=c.length)throw Error("Start and end points must be 2D");si.apply(this,arguments)}J(ui,si);ui.prototype.Xb=function(){this.element.style.width=Math.round(this.coords[0])+"px";this.element.style.height=Math.round(this.coords[1])+"px"};
function vi(b,a,c,d,e){A(a)&&(a=[a]);A(c)&&(c=[c]);si.call(this,b,a,c,d,e);if(1!=a.length||1!=c.length)throw Error("Start and end points must be 1D");}J(vi,si);vi.prototype.Xb=function(){Rg(this.element,this.coords[0])};vi.prototype.show=function(){this.element.style.display=""};vi.prototype.ug=function(){this.element.style.display="none"};function wi(b,a,c){vi.call(this,b,1,0,a,c)}J(wi,vi);function xi(b,a,c){vi.call(this,b,0,1,a,c)}J(xi,vi);function yi(b,a,c){vi.call(this,b,1,0,a,c)}J(yi,vi);
yi.prototype.mc=function(){this.show();yi.f.mc.call(this)};yi.prototype.wa=function(){this.ug();yi.f.wa.call(this)};function zi(b,a,c){vi.call(this,b,0,1,a,c)}J(zi,vi);zi.prototype.mc=function(){this.show();zi.f.mc.call(this)};function Ai(b,a,c,d,e){if(3!=a.length||3!=c.length)throw Error("Start and end points must be 3D");si.apply(this,arguments)}J(Ai,si);
Ai.prototype.Xb=function(){for(var b=[],a=0;a<this.coords.length;a++)b[a]=Math.round(this.coords[a]);this.element.style.backgroundColor="rgb("+b.join(",")+")"};function Bi(){ei.call(this);this.da=[]}J(Bi,ei);Bi.prototype.add=function(b){vb(this.da,b)||(this.da.push(b),rc(b,"finish",this.zi,!1,this))};Bi.prototype.remove=function(b){yb(this.da,b)&&zc(b,"finish",this.zi,!1,this)};Bi.prototype.q=function(){P(this.da,function(b){b.c()});this.da.length=0;Bi.f.q.call(this)};function Ci(){Bi.call(this);this.Xh=0}J(Ci,Bi);
Ci.prototype.play=function(b){if(0==this.da.length)return!1;if(b||this.D==fi)this.Xh=0,this.mc();else if(1==this.D)return!1;this.oa("play");-1==this.D&&this.oa("resume");var a=-1==this.D&&!b;this.startTime=ta();this.endTime=null;this.D=1;P(this.da,function(c){a&&-1!=c.D||c.play(b)});return!0};Ci.prototype.stop=function(b){P(this.da,function(a){a.D==fi||a.stop(b)});this.D=fi;this.endTime=ta();this.oa("stop");this.wa()};
Ci.prototype.zi=function(){this.Xh++;this.Xh==this.da.length&&(this.endTime=ta(),this.D=fi,this.oa("finish"),this.wa())};function Di(){Bi.call(this);this.tb=0}J(Di,Bi);Di.prototype.play=function(b){if(0==this.da.length)return!1;if(b||this.D==fi)this.tb<this.da.length&&this.da[this.tb].D!=fi&&this.da[this.tb].stop(!1),this.tb=0,this.mc();else if(1==this.D)return!1;this.oa("play");-1==this.D&&this.oa("resume");this.startTime=ta();this.endTime=null;this.D=1;this.da[this.tb].play(b);return!0};
Di.prototype.stop=function(b){this.D=fi;this.endTime=ta();if(b)for(b=this.tb;b<this.da.length;++b){var a=this.da[b];a.D==fi&&a.play();a.D==fi||a.stop(!0)}else this.tb<this.da.length&&this.da[this.tb].stop(!1);this.oa("stop");this.wa()};Di.prototype.zi=function(){1==this.D&&(this.tb++,this.tb<this.da.length?this.da[this.tb].play():(this.endTime=ta(),this.D=fi,this.oa("finish"),this.wa()))};F("nrg.convert",function(){});function Ei(b){if(!ha(b)&&!A(b))throw new TypeError("Array or number expected!",b);if(b instanceof Array)return b.map(function(b){return b.toString()+"px"});switch(typeof b){case "number":return b.toString()+"px"}}function Fi(b){if(!n(b)&&!A(b))throw new TypeError("Number or string expected!",b);return parseInt(b,10)}function Gi(b){var a={};eb(b,function(b,d){isNaN(b)?n(b)&&(a[d]=b):a[d]=b});return a}
function Hi(b){var a={};eb(b,function(b,d){n(b)?0<b.length&&(a[d]=b):a[d]=b});return a}F("nrg.convert.pct",function(b){if(!A(b))throw new TypeError("Number expected!",b);if(1<b||0>b)throw Error("Value must be between 0 and 1!");return(100*b).toString()+"%"});F("nrg.convert.px",Ei);
F("nrg.convert.remap1D",function(b,a,c){if(a[0]===a[1]||c[0]===c[1])throw"Remap: initial domain is equal!";a=a.sort();c=c.sort();if(b<=a[0])return b=a[0],{remappedVal:c[0],oldValue:b};if(b>=a[1])return b=a[1],{remappedVal:c[1],oldValue:b};a=Math.round(b/(a[1]-a[0])*(c[1]-c[0]));a<c[0]?a=c[0]:a>c[1]&&(a=c[1]);return{remappedVal:a,oldValue:b}});F("nrg.convert.toInt",Fi);
F("nrg.convert.toFloatArray",function(b){if(!n(b))throw new TypeError("String expected!",b);var a=[];b=b.split(" ");P(b,function(b,d){a[d]=parseFloat(b,10)});return a});F("nrg.convert.objectToArray",function(b){if(!ka(b))throw new TypeError("Object expected!",b);var a=[],c="";for(c in b)a=a.concat(b[c]);return a});F("nrg.convert.rgbToArray",function(b){if(!n(b))throw new TypeError("String expected!",b);b=b.match(/\d+/g);var a=0,a=0;for(len=b.length;a<len;a++)b[a]=parseInt(b[a],10);return b});
F("nrg.convert.arrayToRgb",function(b,a){if(!ha(b))throw new TypeError("Array expected!",b);var c="rgb(";a=void 0===a?1:a;P(b,function(b){c+=parseInt(b*a,10).toString()+","});return c=c.substring(0,c.length-1)+")"});F("nrg.convert.filterNaN",Gi);F("nrg.convert.filterZeroLengthStrings",Hi);F("nrg.style",function(){});var Ii="azimuth background-attachment background-color background-image background-position background-repeat background border-collapse border-color border-spacing border-style border-top border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width border-bottom-width border-left-width border-width border bottom caption-side clear clip color content counter-increment counter-reset cue-after cue-before cue cursor direction display elevation empty-cells float font-family font-size font-style font-variant font-weight font height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-right margin-left margin-top margin-bottom margin max-height max-width min-height min-width orphans outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page-break-after page-break-before page-break-inside pause-after pause-before pause pitch-range pitch play-during position quotes richness right speak-header speak-numeral speak-punctuation speak speech-rate stress table-layout text-align text-decoration text-indent text-transform top unicode-bidi vertical-align visibility voice-family volume white-space widows width word-spacing z-index".split(" ");
function Ji(b){var a="height width left top border-width borderWidth borderRadius border-radius fontSize fontSize margin margin-top marginTop marginLeft margin-left".split(" "),c=0,d=0;for(key in b)for(c=0,d=a.length;c<d;c++)key===a[c]&&(b[key]=parseInt(b[key],10));return b}function Ki(b,a){b&&a&&(b.style||(b.style={}),Bg(b,a),P("top left height width fontSize borderWidth borderRadius".split(" "),function(c){a[c]&&!za(a[c],"%")&&(b.style[c]=Ei(a[c]))}))}var Li="is_hovered_"+Ua();
function Mi(b,a,c,d,e,f){function g(){b[Li]=!1;Zf(b,a);null!=f&&f()}function h(){b[Li]=!0;Yf(b,a);null!=e&&e()}rc(b,"mouseover",h);rc(b,"mouseout",g);c&&(c=void 0!==d?c.bind(d):c,c(h,g))}F("nrg.style.cssProperties",Ii);F("nrg.style.removeClassesThatContain",function(b,a){var c=Xf(b),d=[],e=0;a=a.toLowerCase();e=0;for(len=c.length;e<len;e++)-1<c[e].toLowerCase().indexOf(a)&&d.push(c[e]);e=0;for(len=d.length;e<len;e++)Zf(b,d[e])});F("nrg.style.absolutePosition",function(b){return b.getBoundingClientRect()});
F("nrg.style.dims",function(b,a){if(a&&"string"===typeof a){var c="";switch(a){case "height":return b.clientHeight;case "width":return b.clientWidth;case "outerHeight":return b.offsetHeight;case "outerWidth":return b.offsetWidth;case "offsetTop":return b.offsetTop;case "offsetLeft":return b.offsetLeft;default:c=/%emt/.test(b.style[a]);if(!c)return Fi(b.style[a]);var d=Lg(b,b.parentNode),d={left:Fi(b.style.left)||d.x,top:Fi(b.style.top)||d.y};return d[a]}}else return c={},d=b.parentNode?Lg(b,b.parentNode):
Lg(b,document.body),d={left:Fi(b.style.left)||d.x,top:Fi(b.style.top)||d.y},c.left=d.left,c.top=d.top,c.height=b.clientHeight,c.width=b.clientWidth,c.outerHeight=b.offsetWidth,c.outerWidth=b.offsetHeight,c.offsetTop=b.offsetTop,c.offsetLeft=b.offsetLeft,c});F("nrg.style.getStyleSheet",function(b){for(var a=0;a<document.styleSheets.length;a++){var c=document.styleSheets[a];if(c.title==b)return c}});
F("nrg.style.getComputedStyle",function(b,a){if(a&&n(a))return window.getComputedStyle(b,null).getPropertyValue(a);void 0===a&&(a=Ii);for(var c={},d=window.getComputedStyle(b,null),e=0,f=a.length,e=0;e<f;e++)c[a[e]]=d.getPropertyValue(a[e]);return Ji(c)});F("nrg.style.parseIntNumericalProperties",Ji);F("nrg.style.setStyle",Ki);F("nrg.style.IS_HOVERED",Li);F("nrg.style.setHoverClass",Mi);
F("nrg.style.getPositionRelativeToAncestor",function(b,a){var c=0,d=0;if(b.offsetParent){for(var e=b;e!==a;)c+=e.offsetLeft,d+=e.offsetTop,e=e.offsetParent;return{left:c,top:d}}});function Ni(b){return 1-Math.pow(1-b,3)};function Oi(){}F("nrg.fx",Oi);function Pi(b,a,c){void 0===a&&(a=500);Qi(b,0,0,function(){Qi(b,a,1,c)})}function Ri(b,a,c){void 0===a&&(a=500);Qi(b,a,0,c)}function Qi(b,a,c,d,e){e||(null!=b.style?e=b.style.opacity?parseInt(b.style.opacity,10):1:(window.console.log(b),b.style.opacity=1));var f=new vi(b,e,c,a);d&&f.addEventListener("end",function(b){d(b);Bc(f);delete f});f.play()}Oi.animGenStyles="left top width height opacity background-color color z-index".split(" ");
function Si(b,a,c,d){if(("left"in a||"left"in c||"top"in a||"top"in c)&&!(isNaN(a.top)||isNaN(c.top)||isNaN(a.left)||isNaN(c.left)))return new ti(b,[a.left,a.top],[c.left,c.top],d,Ni)}function Ti(b,a,c,d){if(("height"in a||"height"in c||"width"in a||"width"in c)&&!(isNaN(a.height)||isNaN(c.height)||isNaN(a.width)||isNaN(c.width)))return new ui(b,[a.width,a.height],[c.width,c.height],d,Ni)}
function Ui(b,a,c,d){if("opacity"in a||"opacity"in c)if(P([a,c],function(b){"opacity"in b||(b.opacity=1);A(b.opacity)||(b.opacity=parseInt(b.opacity,10))}),a.opacity!==c.opacity)return new vi(b,a.opacity,c.opacity,d)}function Vi(b,a,c,d){if("visibility"in a||"visibility"in c)if(P([a,c],function(b){"visibility"in b||(b.visibility="visible")}),a.visibility!==c.visibility)return"hidden"===a.visibility?new zi(b,d):new yi(b,d)}
function Wi(b,a,c,d){if("background-color"in a||"background-color"in c){P([a,c],function(b){"background-color"in b||(b["background-color"]="rgb(255,255,255)")});try{var e=li(a["background-color"]),f=li(c["background-color"]);if(e.tg!==f.tg)return new Ai(b,ri(e),ri(f),d,Ni)}catch(g){window.console.log("Skipping color transition anim: ",g.message)}}}function Xi(){}function Yi(b){return Hi(Gi(b))}
function $i(b){var a=Pg(b),c=Ig(b);return{left:c.x,top:c.y,width:a.width,height:a.height,opacity:parseInt(b.style.opacity,10),"background-color":b.style.backgroundColor,background:b.style.background,color:b.style.color,"z-index":parseInt(b.style.zIndex,10)}}function aj(b,a,c){function d(){Ki(b,{opacity:c})}a=void 0===a?1:a;c=void 0===c?.5:c;rc(b,"mouseover",function(){Ki(b,{opacity:a})});rc(b,"mouseout",d);d()}F("nrg.fx.fadeIn",function(b,a,c){void 0===a&&(a=500);Qi(b,a,1,c)});
F("nrg.fx.fadeInFromZero",Pi);F("nrg.fx.fadeOut",Ri);F("nrg.fx.fadeOutAndRemove",function(b,a,c){void 0===a&&(a=500);Qi(b,a,0,function(){b.parentNode.removeChild(b);c&&c()})});F("nrg.fx.fadeTo",Qi);F("nrg.fx.animGenStyles",Oi.animGenStyles);F("nrg.fx.generateAnim_Slide",Si);F("nrg.fx.generateAnim_Resize",Ti);F("nrg.fx.generateAnim_Fade",Ui);F("nrg.fx.generateAnim_RemoveAddFade",Vi);F("nrg.fx.generateAnim_BgColorTrans",Wi);F("nrg.fx.TransitionDims",Xi);F("nrg.fx.filterTransitionStyles",Yi);
F("nrg.fx.getTransitionStyles",$i);F("nrg.fx.generateTransitionDims",function(b,a){var c=$i(b),c=Yi(c),d=$i(a),e=Yi(d);eb(c,function(b,a){null!=e[a]||(e[a]=b)});return new Xi});
F("nrg.fx.generateAnimations",function(b,a,c,d){var e=[];P(Oi.animGenStyles,function(f){if(null!=a&&null!=c)switch(f){case "left":e.push(Si(b,a,c,d));break;case "height":e.push(Ti(b,a,c,d));break;case "opacity":e.push(Ui(b,a,c,d));break;case "visibility":e.push(Vi(b,a,c,d));break;case "background-color":e.push(Wi(b,a,c,d))}});var f=[];P(e,function(b){null!=b&&f.push(b)});delete e;return f});
F("nrg.fx.parallelAnimate",function(b,a,c,d){var e=new Ci;P(b,function(b){c&&rc(b,"animate",c);e.add(b)});a&&rc(e,"begin",a);rc(e,"end",function(){d&&d();e.c();e=null;delete e});e.play()});F("nrg.fx.serialAnimate",function(b,a,c,d){var e=new Di;P(b,function(b){c&&rc(b,"animate",c);e.add(b)});a&&rc(e,"begin",a);rc(e,"end",function(){d&&d();e.c();e=null;delete e});e.play()});F("nrg.fx.setBasicHoverStates",aj);function bj(b){return b.slice(b.lastIndexOf("/")+1)}function cj(b){for(var a=arguments[0],c=1;c<arguments.length;c++)var d=arguments[c],a=0==d.lastIndexOf("/",0)?d:""==a||za(a,"/")?a+d:a+("/"+d);return a};function dj(){}F("nrg.dom",dj);function ej(b,a){var c=sg("img",{src:a});c.style.As="contain";c.style.maxWidth="100%";c.style.maxHeight="100%";wg(b,c);c.onclick=c.parentNode.onclick}
function fj(b,a,c,d){if(!n(b))throw new TypeError("String expected!");if(a&&!ka(a))throw new TypeError("Object expected!");if(null!=c&&!A(c))throw new TypeError("Number expected!");if(null!=d&&!A(d))throw new TypeError("Number expected!");b=gj("div",b,a?a:{});a&&a.src&&ej(b,a.src);aj(b,void 0===c?1:c,void 0===d?.5:d);return b}
function gj(b,a,c){if(!n(b))throw new TypeError("String expected!",b);if(!n(a))throw new TypeError("String expected!",a);if(c&&!ka(c))throw new TypeError("Object expected!");c=c&&ka(c)?c:{};c.id=c.id?c.id:a+"_"+Ua();c["class"]=c["class"]?c["class"]:Wa(a.replace(/\./g,"-").toLowerCase());return sg(b,c)}
F("nrg.dom.createBasicHoverButtonSet",function(b,a,c){if(!ha(b))throw new TypeError("Array expected!",b);if(a&&!n(a))throw new TypeError("String expected!",a);if(c&&!n(c))throw new TypeError("String expected!",c);var d={};c=c?c:"png";var e="",f=0,f=0;for(len=b.length;f<len;f++)e=b[f],d[e]=fj(e,{src:a?cj(a,Wa(e)+"."+c):""});return d});F("nrg.dom.createDivChildImage",ej);F("nrg.dom.createBasicHoverButton",fj);F("nrg.dom.createUniqueDom",gj);
F("nrg.dom.stopPropagation",function(b){b||(b=window.event);b.cancelBubble=!0;b.stopPropagation&&b.stopPropagation()});F("nrg.dom.checkForExtraneousArgs",function(b,a){for(var c in a)if(c in b)"[object Object]"===a[c].toString()&&dj.Mt(originString,b[c],a[c]);else throw"Invalid arguments detected in args: '"+c+"' ";});
F("nrg.dom.readCSS",function(b){for(var a=document.styleSheets[0].rules||document.styleSheets[0].cssRules,c=0,c=0;c<a.length;c++)a[c].selectorText==b&&(a[c].cssText?alert(a[c].cssText):alert(a[c].style.cssText));return a});var hj={};function ij(b){ph.call(this,b);this.Ri();this.J=gj("div",this.constructor.ID_PREFIX,b);this.Kh();jj(this)}J(ij,ph);F("nrg.ui.Component",ij);m=ij.prototype;
m.Ri=function(){if(this instanceof ij){this.constructor.f&&this.constructor.f instanceof ij&&ij.prototype.Ri.bind(this.constructor.f)();if(!this.constructor.ID_PREFIX)throw Error("nrg.ui.Component subclass should have the property 'ID_PREFIX' .",this);ca(this.constructor.Vi)||(this.constructor.Vi=kj(this.constructor.ID_PREFIX),this.constructor.dr=this.constructor.Vi)}};function kj(b){return b.toLowerCase().replace(/\./g,"-")}
m.Kh=function(){if(null!=this.constructor.f)for(var b=this.constructor.f;null!=b.constructor.ID_PREFIX;)ij.prototype.Kh.bind(b)(),b=b.constructor.f;ca(this.constructor.CSS_SUFFIX)&&!ca(this.constructor.CSS)&&(this.constructor.CSS=lb(this.constructor.CSS_SUFFIX),eb(this.constructor.CSS,function(b,c){this.constructor.CSS[c]=Yh(this.constructor.ID_PREFIX,b)}.bind(this)))};
function jj(b){for(var a=[],c=b,d;null!=c.constructor.ID_PREFIX;)d=kj(c.constructor.ID_PREFIX),xb(a,d),c=c.constructor.f;P(a,function(b){null!=this.e()&&Yf(this.e(),b)}.bind(b))}m.vg="";m.ql=function(b){this.vg=b};m.ho=function(){return this.vg};m.Hm=function(b){null==this.zf&&(this.zf=[]);this.zf.push(b)};
m.uj=function(){if(null==this.sf)this.sf=Pg(this.e());else if(this.sf.height!==this.gg.height||this.sf.width!==this.gg.width)this.sf=this.gg;if(null==this.rf)this.rf=Ig(this.e());else if(this.rf.x!==this.fg.x||this.rf.y!==this.fg.y)this.rf=this.fg;this.gg=Pg(this.e());this.fg=Ig(this.e())};m.Xb=function(){this.uj()};m.Ea=function(b){this.Na&&this.e().parentNode!==b&&null!=b?b.appendChild(this.e()):ij.f.Ea.call(this,b)};m.Kj=!1;m.un=function(){return this.Kj};
m.q=function(){ij.f.q.call(this);null!=this.zf&&(P(this.zf,function(b){Bc(b);b.c()}),wb(this.zf));Bc(this);Bc(this.e());xg(this.e());this.rf=this.sf=this.fg=this.gg=this.vg=null;this.Kj=!0};m.sn=function(b){null!=b&&(b=ha(b)?b:[b],P(b,function(b){Bc(b);b.c()}),wb(b))};m.rn=function(b){null!=b&&(Bc(b),b.c())};m.tn=function(b){eb(b,function(a,c){Bc(a);xg(a);delete b[c]});kb(b)};m.Jj=function(b){eb(b,function(a,c){Bc(a);a.c();delete b[c]});kb(b)};
F("nrg.ui.Component.animationLengths",{fr:150,lr:300,pr:600});F("nrg.ui.Component.idPrefixToCssClass",kj);F("nrg.ui.Component.prototype.validateIdPrefix",ij.prototype.Ri);F("nrg.ui.Component.prototype.imagePrefix",ij.prototype.vg);F("nrg.ui.Component.prototype.createCssMap",ij.prototype.Kh);F("nrg.ui.Component.prototype.setImagePrefix",ij.prototype.ql);F("nrg.ui.Component.prototype.getImagePrefix",ij.prototype.ho);F("nrg.ui.Component.prototype.addSubComponent",ij.prototype.Hm);
F("nrg.ui.Component.prototype.calcDims",ij.prototype.uj);F("nrg.ui.Component.prototype.updateStyle",ij.prototype.Xb);F("nrg.ui.Component.prototype.render",ij.prototype.Ea);F("nrg.ui.Component.prototype.disposeInternalCalled",ij.prototype.un);F("nrg.ui.Component.prototype.disposeAnimations",ij.prototype.sn);F("nrg.ui.Component.prototype.disposeAnimationQueue",ij.prototype.rn);F("nrg.ui.Component.prototype.disposeElementMap",ij.prototype.tn);F("nrg.ui.Component.prototype.disposeComponentMap",ij.prototype.Jj);
F("nrg.ui.Component.prototype.disposeInternal",ij.prototype.q);function Z(){Fh.call(this);this.Pj=!1}J(Z,Fh);F("nrg.ui.Dialog",Z);Z.ID_PREFIX="nrg.ui.Dialog";Z.CSS={aj:"nrg-ui-dialog-overlay",Xq:"nrg-ui-dialog-background",Zl:"nrg-ui-dialog-closebutton",$l:"nrg-ui-dialog-closebutton-image",gh:"nrg-ui-dialog-text",jm:"nrg-ui-dialog-title",Gf:"nrg-ui-dialog-content",Yl:"nrg-ui-dialog-buttons"};m=Z.prototype;
m.lq=function(b){this.Be.style.visibility="hidden";this.Jb.style.visibility="hidden";null!=b&&Mi(this.e(),b,null,null,function(){this.Be.style.visibility="visible";this.Jb.style.visibility="visible"}.bind(this),function(){this.Be.style.visibility="hidden";this.Jb.style.visibility="hidden"}.bind(this))};m.Im=function(b){Yf(this.Be,b)};m.Fm=function(b){Yf(this.ec,b)};m.Cm=function(b){Yf(this.Jb.parentNode,b)};m.Dm=function(b){Yf(this.Jb,b)};m.Em=function(b){Yf(this.dg,b)};
m.Am=function(b){Yf(this.zh,b)};function lj(b){b.dg=mg("modal-dialog-title-close",b.e())[0];Yf(b.dg,Z.CSS.Zl);b.Jb=sg("img",{id:b.constructor.ID_PREFIX+"_CloseButton_"+Ua(),"class":Z.CSS.$l});b.Jb.src=serverRoot+"/images/viewer/xiv/ui/Modal/close.png";b.dg.appendChild(b.Jb);rc(b.Jb,"click",function(b){this.kb(!this.ad);this.dispatchEvent({type:"c"});b.stopPropagation()}.bind(b))}m.Km=function(){var b=this.e(),a=xi(b,600),c=wi(b,600),d=xi(b,600),b=wi(b,600);this.vd=a;this.ud=c;this.Td=d;this.Sd=b};
m.jp=function(b,a){var c=this.e();"left"==b&&(c.style.left="0px");"top"==a&&(c.style.top="0px")};m.Ym=function(){var b=this.e(),a=Pg(this.e().parentNode);if(null!=this.he()){var c=this.he();0==c.opacity?xg(c):Ki(c,{width:a.width,height:a.height,"z-index":199})}var c=Pg(b),d=0,e=0;c.width<=a.width&&(d=a.width/2-c.width/2);c.height<=a.height&&(e=a.height/2-c.height/2);Gg(b,d,e)};m.kg=!0;m.qa=null;m.Ug=function(b){this.kg=b;this.tf(b&&this.Na)};
m.tf=function(b){var a=Da(this.We()+"-title-draggable").split(" "),c;this.e()||this.Ea();c=this.Zc;this.e()&&(b?vh(c,a):xh(c,a));b&&!this.qa?(this.qa=new $g(this.e(),this.Zc),vh(c,a),rc(this.qa,"start",this.Vg,!1,this)):!b&&this.qa&&(this.qa.c(),this.qa=null)};m.Cq=function(){this.Vg()};
m.Vg=function(){var b=yg(this.ba()),a=(b?rg(b):window)||window,b=Pg(this.e().parentNode),a=qg(a||window),c=Pg(this.e());"fixed"==Fg(this.e())?bh(this.qa,new eg(0,0,Math.max(0,a.width-c.width),Math.max(0,a.height-c.height))):bh(this.qa,new eg(-1*c.width,-1*c.height,b.width+c.width,b.height+c.height))};m.rh=function(b){var a=sg("img",{id:this.constructor.ID_PREFIX+"_Image_"+Ua(),"class":Z.CSS.ir});null==this.af&&(this.af=[]);this.af.push(a);this.Kg.appendChild(a);null!=b&&(a.src=b);return a};
m.Rd=function(b){var a=sg("div",{id:this.constructor.ID_PREFIX+"_Text_"+Ua(),"class":Z.CSS.gh},b);null==this.tc&&(this.tc=[]);this.tc.push(a);a.innerHTML=b||"";this.ec=b=mh(b,null);this.Me&&(this.Me.innerHTML=lh(b));return a};m.ko=function(){return this.e()};
m.Ea=function(b){Z.f.Ea.call(this,b);Yf(this.e(),"nrg-ui-dialog");this.Be=mg("modal-dialog-title",this.e())[0];this.ec=mg("modal-dialog-content",this.e())[0];this.zh=mg("modal-dialog-buttons",this.e())[0];this.Jb=null;lj(this);Yf(this.zh,Z.CSS.Yl);Yf(this.Be,Z.CSS.jm);Yf(this.ec,Z.CSS.Gf);Z.f.Ug.call(this,!1);this.Ug(!0)};m.kb=function(b){Z.f.kb.call(this,b)};m.qo=function(){return this.tc};
m.q=function(){Z.f.q.call(this);delete this.zh;delete this.Be;delete this.ec;delete this.Jb;delete this.dg;null!=this.Kg&&(xg(this.Kg),delete this.Kg);null!=this.tc&&(P(this.tc,function(b){xg(b);delete b}),delete this.tc);null!=this.af&&(P(this.af,function(b){xg(b);delete b}),delete this.af)};F("nrg.ui.Dialog.ID_PREFIX",Z.ID_PREFIX);F("nrg.ui.Dialog.EventType",{or:"a",CLOSED:"b",Yq:"c"});F("nrg.ui.Dialog.prototype.setMouseoverClass",Z.prototype.lq);F("nrg.ui.Dialog.prototype.addTitleClass",Z.prototype.Im);
F("nrg.ui.Dialog.prototype.addContentClass",Z.prototype.Fm);F("nrg.ui.Dialog.prototype.addCloseButtonClass",Z.prototype.Cm);F("nrg.ui.Dialog.prototype.addCloseButtonImageClass",Z.prototype.Dm);F("nrg.ui.Dialog.prototype.addCloseSpanClass",Z.prototype.Em);F("nrg.ui.Dialog.prototype.addButtonsClass",Z.prototype.Am);F("nrg.ui.Dialog.prototype.applyFadeTransitions",Z.prototype.Km);F("nrg.ui.Dialog.prototype.moveToCorner",Z.prototype.jp);F("nrg.ui.Dialog.prototype.center",Z.prototype.Ym);
F("nrg.ui.Dialog.prototype.setDraggable",Z.prototype.Ug);F("nrg.ui.Dialog.prototype.updateLimits",Z.prototype.Cq);F("nrg.ui.Dialog.prototype.addImage",Z.prototype.rh);F("nrg.ui.Dialog.prototype.addText",Z.prototype.Rd);F("nrg.ui.Dialog.prototype.getOverlay",Z.prototype.ko);F("nrg.ui.Dialog.prototype.render",Z.prototype.Ea);F("nrg.ui.Dialog.prototype.setVisible",Z.prototype.kb);F("nrg.ui.Dialog.prototype.getTextElements",Z.prototype.qo);F("nrg.ui.Dialog.prototype.disposeInternal",Z.prototype.q);function mj(){Z.call(this);Yf(this.Kg,mj.CSS.aj)}J(mj,Z);F("nrg.ui.ErrorOverlay",mj);mj.ID_PREFIX="nrg.ui.ErrorOverlay";mj.CSS={aj:"nrg-ui-infooverlay-overlay",gh:"nrg-ui-infooverlay-text"};mj.prototype.Rd=function(b){mj.f.Rd.call(this,b);b=this.tc;Yf(b[b.length-1],mj.CSS.gh)};mj.prototype.q=function(){mj.f.q.call(this)};F("nrg.ui.ErrorOverlay.ID_PREFIX",mj.ID_PREFIX);F("nrg.ui.ErrorOverlay.prototype.addText",mj.prototype.Rd);F("nrg.ui.ErrorOverlay.prototype.disposeInternal",mj.prototype.q);function nj(b,a,c,d,e){function f(b){b&&(b.tabIndex=0,zh(b,"tab"),uh(b,"goog-zippy-header"),b&&g.Qk.ra(b,"click",g.Ap),b&&g.Dk.ra(b,"keydown",g.Bp))}Fc.call(this);this.Mb=e||jg();this.de=this.Mb.e(b)||null;this.Sh=this.Mb.e(d||null);this.ce=(this.ki=ja(a)?a:null)||!a?null:this.Mb.e(a);this.Lc=!0==c;this.Dk=new Xg(this);this.Qk=new Xg(this);var g=this;f(this.de);f(this.Sh);this.Tb(this.Lc)}J(nj,Fc);var oj={Ti:"action",bj:"toggle"};m=nj.prototype;m.q=function(){nj.f.q.call(this);hc(this.Dk);hc(this.Qk)};
m.ie=function(){return this.ce};m.toggle=function(){this.Tb(!this.Lc)};m.Tb=function(b){this.ce?Sg(this.ce,b):b&&this.ki&&(this.ce=this.ki());this.ce&&uh(this.ce,"goog-zippy-content");this.Sh?(Sg(this.de,!b),Sg(this.Sh,b)):pj(this,b);this.Lc=b;this.dispatchEvent(new qj(oj.bj,this))};function pj(b,a){if(b.de){var c=b.de;a?uh(c,"goog-zippy-expanded"):wh(c,"goog-zippy-expanded");c=b.de;a?wh(c,"goog-zippy-collapsed"):uh(c,"goog-zippy-collapsed");Ah(b.de,"expanded",a)}}
m.Bp=function(b){if(13==b.keyCode||32==b.keyCode)this.toggle(),this.dispatchEvent(new ic(oj.Ti,this)),b.preventDefault(),b.stopPropagation()};m.Ap=function(){this.toggle();this.dispatchEvent(new ic(oj.Ti,this))};function qj(b,a){ic.call(this,b,a)}J(qj,ic);function rj(b,a,c,d){d=d||jg();var e=d.Ca("div",{style:"overflow:hidden"});a=d.e(a);a.parentNode.replaceChild(e,a);e.appendChild(a);this.lg=e;this.nb=null;nj.call(this,b,a,c,void 0,d);b=this.Lc;this.lg.style.display=b?"":"none";pj(this,b)}J(rj,nj);m=rj.prototype;m.Zf=500;m.Jm=Ni;
m.Tb=function(b){if(this.Lc!=b||this.nb){"none"==this.lg.style.display&&(this.lg.style.display="");var a=this.ie().offsetHeight,c=0;this.nb?(b=this.Lc,Bc(this.nb),this.nb.stop(!1),c=parseInt(this.ie().style.marginTop,10),c=a-Math.abs(c)):c=b?0:a;pj(this,b);this.nb=new gi([0,c],[0,b?a:0],this.Zf,this.Jm);rc(this.nb,["begin","animate","end"],this.wp,!1,this);rc(this.nb,"end",ra(this.xp,this,b));this.nb.play(!1)}};m.wp=function(b){var a=this.ie();a.style.marginTop=b.y-a.offsetHeight+"px"};
m.xp=function(b){b&&(this.ie().style.marginTop="0");Bc(this.nb);this.Lc=b;this.nb=null;b||(this.lg.style.display="none");this.dispatchEvent(new qj(oj.bj,this))};function sj(b,a,c,d){ij.call(this);this.Fa=b;this.Va=sg("div",{id:"ZippyHeader_"+b+"_"+Ua(),"class":sj.CSS.bm});this.Va[tj]=b.toLowerCase();null!=d?d(a,this.Va):a.appendChild(this.Va);d=sg("div",{id:"ZippyHeaderLabel_"+b+"_"+Ua(),"class":sj.CSS.dm});var e=b.replace(/<(?:.|\n)*?>/gm,"").replace("&nbsp"," ");d.innerHTML=e.length<b?Pa(b,105):e.length==b.length?Pa(b,45):b;this.fi=d;this.Va.appendChild(this.fi);this.fc=sg("div",{id:"ZippyExpandIcon_"+b+"_"+Ua(),"class":sj.CSS.am},"+");this.Va.appendChild(this.fc);
this.eg=sg("div",{id:"ZippyContent_"+b+"_"+Ua(),"class":sj.CSS.Gf});a.appendChild(this.eg);this.Fb=new this.Vq(this.Va,this.eg,null!=c?c:!1);this.uq=la(this);this.fh={};rc(this.Va,"mouseover",this.Ip.bind(this));rc(this.Va,"mouseout",this.Hp.bind(this));uj(this)}J(sj,ij);F("nrg.ui.ZippyNode",sj);sj.ID_PREFIX="nrg.ui.ZippyNode";sj.CSS_SUFFIX={bm:"header",Yi:"header-mouseover",dm:"header-label",am:"expandicon",Wi:"expandicon-mouseover",Gf:"content",Gf:"content-sub"};var tj=Ua();m=sj.prototype;
m.Vq=rj;m.pg=function(){return this.Fa};m.Tb=function(b){this.Fb.Tb(b)};function uj(b){rc(b.Fb,gb(oj),function(b){null!=this.Fb.nb?this.dispatchEvent({type:"f"}):b.target.Lc?this.Ai():(this.fc.innerHTML="+",Ki(this.fc,{"margin-left":"-1.1em"}),this.dispatchEvent({type:"e"}))}.bind(b))}m.Ai=function(){this.fc.innerHTML="-";Ki(this.fc,{"margin-left":"-1em"});this.dispatchEvent({type:"d"})};m.Ip=function(){Yf(this.Va,sj.CSS.Yi);Yf(this.fc,sj.CSS.Wi)};
m.Hp=function(){Zf(this.Va,sj.CSS.Yi);Zf(this.fc,sj.CSS.Wi)};m.q=function(){sj.f.q.call(this);xg(this.fi);delete this.fi;xg(this.fc);delete this.fc;Bc(this.Va);xg(this.Va);delete this.Va;xg(this.eg);delete this.eg;null!=this.Fb&&(this.Fb.c(),Bc(this.Fb),delete this.Fb);this.Jj(this.fh);delete this.fh;delete this.uq;delete this.Fa};Y.xa={};Y.xa.Aa=function(){ec.call(this)};J(Y.xa.Aa,ec);F("gxnat.vis.VisNode",Y.xa.Aa);m=Y.xa.Aa.prototype;m.gd="Generic";m.Tg=function(b){this.gd=b};m.Wn=function(){return this.gd};m.Af="";m.xf=function(b){this.Af=b};m.ro=function(){return this.Af};m.Fa=null;m.sc=function(b){this.Fa=b};m.pg=function(){return this.Fa};m.c=function(){Y.xa.Aa.f.c.call(this);this.gd&&delete this.gd;this.Af&&delete this.Af;this.Fa&&delete this.Fa};F("gxnat.vis.VisNode.prototype.setCategory",Y.xa.Aa.prototype.Tg);
F("gxnat.vis.VisNode.prototype.getCategory",Y.xa.Aa.prototype.Wn);F("gxnat.vis.VisNode.prototype.setThumbnailUrl",Y.xa.Aa.prototype.xf);F("gxnat.vis.VisNode.prototype.getThumbnailUrl",Y.xa.Aa.prototype.ro);F("gxnat.vis.VisNode.prototype.setTitle",Y.xa.Aa.prototype.sc);F("gxnat.vis.VisNode.prototype.getTitle",Y.xa.Aa.prototype.pg);F("gxnat.vis.VisNode.prototype.dispose",Y.xa.Aa.prototype.c);var vj={};
function wj(){return function a(c,d,e){function f(h,k){if(!d[h]){if(!c[h]){var q="function"==typeof require&&require;if(!k&&q)return q(h,!0);if(g)return g(h,!0);throw Error("Cannot find module '"+h+"'");}q=d[h]={R:{}};c[h][0].call(q.R,function(a){var d=c[h][1][a];return f(d?d:a)},q,q.R,a,c,d,e)}return d[h].R}for(var g="function"==typeof require&&require,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,c,d){d.Th=function(a){for(var c="",d,h,l,k,q,p,s=0;s<a.length;)d=a.charCodeAt(s++),h=a.charCodeAt(s++),
l=a.charCodeAt(s++),k=d>>2,d=(d&3)<<4|h>>4,q=(h&15)<<2|l>>6,p=l&63,isNaN(h)?q=p=64:isNaN(l)&&(p=64),c=c+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(q)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(p);return c};d.Nh=function(a){var c="",d,h,l,k,q,p=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,
"");p<a.length;)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(p++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(p++)),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(p++)),q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(p++)),d=d<<2|h>>4,h=(h&15)<<4|k>>2,l=(k&3)<<6|q,c+=String.fromCharCode(d),64!=k&&(c+=String.fromCharCode(h)),64!=q&&(c+=
String.fromCharCode(l));return c}},{}],2:[function(a,c){function d(){this.crc32=this.lb=this.sb=0;this.Wd=this.Ic=null}d.prototype={Ve:function(){return null},ai:function(){return null}};c.R=d},{}],3:[function(a,c,d){d.qr={qe:"\x00\x00",Ih:function(a){return a},Nl:function(a){return a},Jh:null,Ol:null};d.$q=a("./flate")},{"./flate":6}],4:[function(a,c){function d(){this.data=null;this.index=this.length=0}var e=a("./utils");d.prototype={Eh:function(a){this.zj(this.index+a)},zj:function(a){if(this.length<
a||0>a)throw Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?");},Xc:function(a){this.zj(a);this.index=a},vl:function(a){this.Xc(this.index+a)},Ah:function(){},n:function(a){var c=0,d;this.Eh(a);for(d=this.index+a-1;d>=this.index;d--)c=(c<<8)+this.Ah(d);this.index+=a;return c},ib:function(a){return e.ea("string",this.Pg(a))},Pg:function(){},Cg:function(){},Up:function(){var a=this.n(4);return new Date((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,
a>>5&63,(a&31)<<1)}};c.R=d},{"./utils":14}],5:[function(a,c,d){d.pb=!1;d.Ib=!1;d.dir=!1;d.ub=null;d.Xd=null},{}],6:[function(a,c,d){c="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array;var e=a("pako");d.Ol=c?"uint8array":"array";d.Jh=c?"uint8array":"array";d.qe="\b\x00";d.Ih=function(a){return e.jn(a)};d.Nl=function(a){return e.Go(a)}},{pako:19}],7:[function(a,c){function d(a,c){if(!(this instanceof d))return new d(a,c);this.files={};this.root="";a&&
this.load(a,c);this.clone=function(){var a=new d,c;for(c in this)"function"!==typeof this[c]&&(a[c]=this[c]);return a}}d.prototype.files=void 0;d.prototype.remove=void 0;d.prototype=a("./object");d.prototype.load=a("./load");d.Gt=a("./support");d.Ls=a("./defaults");d.Lt=a("./utils");d.pb=a("./base64");d.Gs=a("./compressions");c.R=d},{"./base64":1,"./compressions":3,"./defaults":5,"./load":8,"./object":9,"./support":12,"./utils":14}],8:[function(a,c){var d=a("./base64"),e=a("./zipEntries");c.R=function(a,
c){var h,l,k;c=c||{};c.pb&&(a=d.Nh(a));h=(new e(a,c)).files;for(l=0;l<h.length;l++)k=h[l],this.file(k.fileName,k.Lb,{Ib:!0,$k:!0,ub:k.ub,dir:k.dir});return this}},{"./base64":1,"./zipEntries":15}],9:[function(a,c){function d(a){this.data=new Uint8Array(a);this.index=0}function e(){this.data=[]}function f(a){"/"!=a.slice(-1)&&(a+="/");this.files[a]||g.call(this,a,null,{dir:!0});return this.files[a]}function g(a,c,d){var e,g=a;"/"==g.slice(-1)&&(g=g.substring(0,g.length-1));e=g.lastIndexOf("/");e=0<
e?g.substring(0,e):"";g=u.Rc(c);e&&f.call(this,e);d=d||{};!0!==d.pb||null!==d.Ib&&void 0!==d.Ib||(d.Ib=!0);d=h(d,B);d.ub=d.ub||new Date;null!==d.Xd&&(d.Xd=d.Xd.toUpperCase());if(d.dir||null===c||"undefined"===typeof c)d.pb=!1,d.Ib=!1,c=null;else if("string"===g)d.Ib&&!d.pb&&!0!==d.$k&&(c=u.Fl(c));else{d.pb=!1;d.Ib=!0;if(!(g||c instanceof K))throw Error("The data of '"+a+"' is in an unsupported format !");"arraybuffer"===g&&(c=u.ea("uint8array",c))}c=new k(a,c,d);return this.files[a]=c}function h(){var a=
{},c,d;for(c=0;c<arguments.length;c++)for(d in arguments[c])arguments[c].hasOwnProperty(d)&&"undefined"===typeof a[d]&&(a[d]=arguments[c][d]);return a}function l(a,c){var d="",e;for(e=0;e<c;e++)d+=String.fromCharCode(a&255),a>>>=8;return d}function k(a,c,d){this.name=a;this.o=c;this.options=d}function q(a){var c=p(a);if("string"===u.Rc(c)){if(!a.options.Ib){if(v)return v.Th(c);if(s.Hg)return z(c,"utf-8")}return a.Nm()}return c}function p(a){if(a.o instanceof K&&(a.o=a.o.Ve(),a.options.Ib=!0,a.options.pb=
!1,"uint8array"===u.Rc(a.o))){var c=a.o;a.o=new Uint8Array(c.length);0!==c.length&&a.o.set(c,0)}return a.o}var s=a("./support"),u=a("./utils"),w=a("./signature"),B=a("./defaults"),E=a("./base64"),x=a("./compressions"),K=a("./compressedObject"),z=a("./nodeBuffer"),v,G;s.Pi&&"function"===typeof TextEncoder&&"function"===typeof TextDecoder&&(v=new TextEncoder("utf-8"),G=new TextDecoder("utf-8"));k.prototype={Nm:function(){var a;a=p(this);null===a||"undefined"===typeof a?a="":(this.options.pb&&(a=E.Nh(a)),
a=u.ea("string",a),this.options.Ib||(a=D.Ql(a)));return a},Om:function(){var a=q(this);return u.ea("uint8array",a)},Mm:function(){return this.Om().buffer}};e.prototype={append:function(a){a=u.ea("string",a);this.data.push(a)},Vj:function(){return this.data.join("")}};d.prototype={append:function(a){0!==a.length&&(a=u.ea("uint8array",a),this.data.set(a,this.index),this.index+=a.length)},Vj:function(){return this.data}};var D={load:function(){throw Error("Load method is not defined. Is the file jszip-load.js included ?");
},filter:function(a){var c=[],d,e,f;for(d in this.files)this.files.hasOwnProperty(d)&&(e=this.files[d],f=new k(e.name,e.o,h(e.options)),e=d.slice(this.root.length,d.length),d.slice(0,this.root.length)===this.root&&a(e,f)&&c.push(f));return c},file:function(a,c,d){if(1===arguments.length){if(u.Ak(a)){var e=a;return this.filter(function(a,c){return!c.options.dir&&e.test(a)})}return this.filter(function(c,d){return!d.options.dir&&c===a})[0]||null}a=this.root+a;g.call(this,a,c,d);return this},Us:function(a){if(!a)return this;
if(u.Ak(a))return this.filter(function(c,d){return d.options.dir&&a.test(c)});var c=f.call(this,this.root+a),d=this.clone();d.root=c.name;return d},remove:function(a){a=this.root+a;var c=this.files[a];c||("/"!=a.slice(-1)&&(a+="/"),c=this.files[a]);if(c)if(c.options.dir)for(var c=this.filter(function(c,d){return d.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];else delete this.files[a];return this},Ws:function(a){a=h(a||{},{pb:!0,Xd:"STORE",type:"base64"});u.Fh(a.type);
var c=[],f=0,g=0,t;for(t in this.files)if(this.files.hasOwnProperty(t)){var k=this.files[t],p=k.options.Xd||a.Xd.toUpperCase(),v=x[p];if(!v)throw Error(p+" is not a valid compression method !");var p=k,s=new K,z=void 0;if(p.o instanceof K)s.lb=p.o.lb,s.crc32=p.o.crc32,0===s.lb||p.options.dir?(v=x.STORE,s.Wd="",s.crc32=0):p.o.Ic===v.qe?s.Wd=p.o.ai():(z=p.o.Ve(),s.Wd=v.Ih(u.ea(v.Jh,z)));else{z=q(p);if(!z||0===z.length||p.options.dir)v=x.STORE,z="";s.lb=z.length;s.crc32=this.crc32(z);s.Wd=v.Ih(u.ea(v.Jh,
z))}s.sb=s.Wd.length;s.Ic=v.qe;var v=p=s,s=f,z=this.Ql(k.name),B=z!==k.name,G=k.options,D=void 0,S=void 0,va="",Ca="",D=G.ub.getHours(),D=D<<6,D=D|G.ub.getMinutes(),D=D<<5,D=D|G.ub.getSeconds()/2,S=G.ub.getFullYear()-1980,S=S<<4,S=S|G.ub.getMonth()+1,S=S<<5,S=S|G.ub.getDate();B&&(Ca=l(1,1)+l(this.crc32(z),4)+z,va+="up"+l(Ca.length,2)+Ca);G="";G+="\n\x00";G+=B?"\x00\b":"\x00\x00";G+=v.Ic;G+=l(D,2);G+=l(S,2);G+=l(v.crc32,4);G+=l(v.sb,4);G+=l(v.lb,4);G+=l(z.length,2);G+=l(va.length,2);k={Uj:w.$i+G+z+
va,Fj:w.Ui+"\u0014\x00"+G+"\x00\x00\x00\x00\x00\x00"+(!0===k.options.dir?"\u0010\x00\x00\x00":"\x00\x00\x00\x00")+l(s,4)+z+va,$m:v};f+=k.Uj.length+p.sb;g+=k.Fj.length;c.push(k)}t="";t=w.dh+"\x00\x00\x00\x00"+l(c.length,2)+l(c.length,2)+l(g,4)+l(f,4)+"\x00\x00";p=a.type.toLowerCase();f="uint8array"===p||"arraybuffer"===p||"blob"===p||"nodebuffer"===p?new d(f+g+t.length):new e;for(g=0;g<c.length;g++)f.append(c[g].Uj),f.append(c[g].$m.Wd);for(g=0;g<c.length;g++)f.append(c[g].Fj);f.append(t);c=f.Vj();
switch(a.type.toLowerCase()){case "uint8array":case "arraybuffer":case "nodebuffer":return u.ea(a.type.toLowerCase(),c);case "blob":return u.oj(u.ea("arraybuffer",c));case "base64":return a.pb?E.Th(c):c;default:return c}},crc32:function(a,c){if("undefined"===typeof a||!a.length)return 0;var d="string"!==u.Rc(a),e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,
4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,
31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,
1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,
1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,
2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,
3272380065,1510334235,755167117];"undefined"==typeof c&&(c=0);var f=0,f=f=0;c^=-1;for(var g=0,h=a.length;g<h;g++)f=d?a[g]:a.charCodeAt(g),f=(c^f)&255,f=e[f],c=c>>>8^f;return c^-1},Ql:function(a){if(v)return u.ea("string",v.Th(a));if(s.Hg)return u.ea("string",z(a,"utf-8"));for(var c=[],d=0,e=0;e<a.length;e++){var f=a.charCodeAt(e);128>f?c[d++]=String.fromCharCode(f):(127<f&&2048>f?c[d++]=String.fromCharCode(f>>6|192):(c[d++]=String.fromCharCode(f>>12|224),c[d++]=String.fromCharCode(f>>6&63|128)),c[d++]=
String.fromCharCode(f&63|128))}return c.join("")},Qi:function(a){var c=[],d=0,e="string"!==u.Rc(a),f=0,g=0,h=0,l=0;if(G)return G.Nh(u.ea("uint8array",a));if(s.Hg)return u.ea("nodebuffer",a).toString("utf-8");for(;f<a.length;)g=e?a[f]:a.charCodeAt(f),128>g?(c[d++]=String.fromCharCode(g),f++):191<g&&224>g?(h=e?a[f+1]:a.charCodeAt(f+1),c[d++]=String.fromCharCode((g&31)<<6|h&63),f+=2):(h=e?a[f+1]:a.charCodeAt(f+1),l=e?a[f+2]:a.charCodeAt(f+2),c[d++]=String.fromCharCode((g&15)<<12|(h&63)<<6|l&63),f+=3);
return c.join("")}};c.R=D},{"./base64":1,"./compressedObject":2,"./compressions":3,"./defaults":5,"./nodeBuffer":17,"./signature":10,"./support":12,"./utils":14}],10:[function(a,c,d){d.$i="PK\u0003\u0004";d.Ui="PK\u0001\u0002";d.dh="PK\u0005\u0006";d.cj="PK\u0006\u0007";d.om="PK\u0006\u0006";d.Zq="PK\u0007\b"},{}],11:[function(a,c){function d(a,c){this.data=a;c||(this.data=f.Fl(this.data));this.length=this.data.length;this.index=0}var e=a("./dataReader"),f=a("./utils");d.prototype=new e;d.prototype.Ah=
function(a){return this.data.charCodeAt(a)};d.prototype.Cg=function(a){return this.data.lastIndexOf(a)};d.prototype.Pg=function(a){this.Eh(a);var c=this.data.slice(this.index,this.index+a);this.index+=a;return c};c.R=d},{"./dataReader":4,"./utils":14}],12:[function(a,c,d){a=a("__browserify_process");"use strict";d.pb=!0;d.zs=!0;d.Ct=!0;d.Lm="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array;d.Hg=!a.Sm;d.Pi="undefined"!==typeof Uint8Array;if("undefined"===typeof ArrayBuffer)d.vh=!1;
else{a=new ArrayBuffer(0);try{d.vh=0===(new Blob([a],{type:"application/zip"})).size}catch(e){try{var f=new (window.BlobBuilder||window.WebKitBlobBuilder||window.fm||window.em);f.append(a);d.vh=0===f.getBlob("application/zip").size}catch(g){d.vh=!1}}}},{__browserify_process:18}],13:[function(a,c){function d(a){a&&(this.data=a,this.length=this.data.length,this.index=0)}var e=a("./dataReader");d.prototype=new e;d.prototype.Ah=function(a){return this.data[a]};d.prototype.Cg=function(a){var c=a.charCodeAt(0),
d=a.charCodeAt(1),e=a.charCodeAt(2);a=a.charCodeAt(3);for(var k=this.length-4;0<=k;--k)if(this.data[k]===c&&this.data[k+1]===d&&this.data[k+2]===e&&this.data[k+3]===a)return k;return-1};d.prototype.Pg=function(a){this.Eh(a);var c=this.data.subarray(this.index,this.index+a);this.index+=a;return c};c.R=d},{"./dataReader":4}],14:[function(a,c,d){function e(a){return a}function f(a,c){for(var d=0;d<a.length;++d)c[d]=a.charCodeAt(d)&255;return c}function g(a){var c=65536,e=[],f=a.length,g=d.Rc(a),h=0,
l=!0;try{switch(g){case "uint8array":new Uint8Array(0);break;case "nodebuffer":q(0)}}catch(k){l=!1}if(!l){c="";for(e=0;e<a.length;e++)c+=String.fromCharCode(a[e]);return c}for(;h<f&&1<c;)try{"array"===g||"nodebuffer"===g?e.push(String.fromCharCode.apply(null,a.slice(h,Math.min(h+c,f)))):e.push(String.fromCharCode.apply(null,a.subarray(h,Math.min(h+c,f)))),h+=c}catch(p){c=Math.floor(c/2)}return e.join("")}function h(a,c){for(var d=0;d<a.length;d++)c[d]=a[d];return c}var l=a("./support"),k=a("./compressions"),
q=a("./nodeBuffer");d.Fl=function(a){for(var c="",d=0;d<a.length;d++)c+=String.fromCharCode(a.charCodeAt(d)&255);return c};d.Et=function(a){return d.ea("uint8array",a)};d.It=function(a){return d.ea("string",a)};d.Dt=function(a){a=d.ea("arraybuffer",a);return d.oj(a)};d.oj=function(a){d.Fh("blob");try{return new Blob([a],{type:"application/zip"})}catch(c){try{var e=new (window.BlobBuilder||window.WebKitBlobBuilder||window.fm||window.em);e.append(a);return e.getBlob("application/zip")}catch(f){throw Error("Bug : can't construct the Blob.");
}}};var p={};p.string={string:e,array:function(a){return f(a,Array(a.length))},arraybuffer:function(a){return p.string.uint8array(a).buffer},uint8array:function(a){return f(a,new Uint8Array(a.length))},nodebuffer:function(a){return f(a,q(a.length))}};p.array={string:g,array:e,arraybuffer:function(a){return(new Uint8Array(a)).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return q(a)}};p.arraybuffer={string:function(a){return g(new Uint8Array(a))},array:function(a){return h(new Uint8Array(a),
Array(a.byteLength))},arraybuffer:e,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return q(new Uint8Array(a))}};p.uint8array={string:g,array:function(a){return h(a,Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:e,nodebuffer:function(a){return q(a)}};p.nodebuffer={string:g,array:function(a){return h(a,Array(a.length))},arraybuffer:function(a){return p.nodebuffer.uint8array(a).buffer},uint8array:function(a){return h(a,new Uint8Array(a.length))},nodebuffer:e};
d.ea=function(a,c){c||(c="");if(!a)return c;d.Fh(a);var e=d.Rc(c);return p[e][a](c)};d.Rc=function(a){if("string"===typeof a)return"string";if("[object Array]"===Object.prototype.toString.call(a))return"array";if(l.Hg&&q.test(a))return"nodebuffer";if(l.Pi&&a instanceof Uint8Array)return"uint8array";if(l.Lm&&a instanceof ArrayBuffer)return"arraybuffer"};d.Fh=function(a){if(!l[a.toLowerCase()])throw Error(a+" is not supported by this browser");};d.Hf=65535;d.Bd=-1;d.Ci=function(a){var c="",d,e;for(e=
0;e<(a||"").length;e++)d=a.charCodeAt(e),c+="\\x"+(16>d?"0":"")+d.toString(16).toUpperCase();return c};d.Mn=function(a){for(var c in k)if(k.hasOwnProperty(c)&&k[c].qe===a)return k[c];return null};d.Ak=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)}},{"./compressions":3,"./nodeBuffer":17,"./support":12}],15:[function(a,c){function d(a,c){this.files=[];this.Eg=c;a&&this.load(a)}var e=a("./stringReader"),f=a("./nodeBufferReader"),g=a("./uint8ArrayReader"),h=a("./utils"),l=a("./signature"),
k=a("./zipEntry"),q=a("./support");d.prototype={bg:function(a){var c=this.u.ib(4);if(c!==a)throw Error("Corrupted zip or bug : unexpected signature ("+h.Ci(c)+", expected "+h.Ci(a)+")");},Pp:function(){this.Gj=this.u.n(2);this.Ij=this.u.n(2);this.xj=this.u.n(2);this.wj=this.u.n(2);this.yj=this.u.n(4);this.Dh=this.u.n(4);this.Uq=this.u.n(2);this.u.ib(this.Uq)},Qp:function(){this.Sq=this.u.n(8);this.u.ib(2);this.u.n(2);this.Gj=this.u.n(4);this.Ij=this.u.n(4);this.xj=this.u.n(8);this.wj=this.u.n(8);
this.yj=this.u.n(8);this.Dh=this.u.n(8);this.Tq={};for(var a=this.Sq-44,c,d,e;0<a;)c=this.u.n(2),d=this.u.n(4),e=this.u.ib(d),this.Tq[c]={id:c,length:d,value:e}},Rp:function(){this.u.n(4);this.$p=this.u.n(8);this.qn=this.u.n(4);if(1<this.qn)throw Error("Multi-volumes zip are not supported");},Xp:function(){var a,c;for(a=0;a<this.files.length;a++)c=this.files[a],this.u.Xc(c.si),this.bg(l.$i),c.Yp(this.u),c.zo()},Sp:function(){var a;for(this.u.Xc(this.Dh);this.u.ib(4)===l.Ui;)a=new k({Vl:this.Vl},this.Eg),
a.Tp(this.u),this.files.push(a)},Vp:function(){var a=this.u.Cg(l.dh);if(-1===a)throw Error("Corrupted zip : can't find end of central directory");this.u.Xc(a);this.bg(l.dh);this.Pp();if(this.Gj===h.Hf||this.Ij===h.Hf||this.xj===h.Hf||this.wj===h.Hf||this.yj===h.Bd||this.Dh===h.Bd){this.Vl=!0;a=this.u.Cg(l.cj);if(-1===a)throw Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.u.Xc(a);this.bg(l.cj);this.Rp();this.u.Xc(this.$p);this.bg(l.om);this.Qp()}},Np:function(a){var c=
h.Rc(a);this.u="string"!==c||q.Pi?"nodebuffer"===c?new f(a):new g(h.ea("uint8array",a)):new e(a,this.Eg.$k)},load:function(a){this.Np(a);this.Vp();this.Sp();this.Xp()}};c.R=d},{"./nodeBufferReader":17,"./signature":10,"./stringReader":11,"./support":12,"./uint8ArrayReader":13,"./utils":14,"./zipEntry":16}],16:[function(a,c){function d(a,c){this.options=a;this.Eg=c}var e=a("./stringReader"),f=a("./utils"),g=a("./compressedObject"),h=a("./object");d.prototype={Ro:function(){return 1===(this.rj&1)},
Eq:function(){return 2048===(this.rj&2048)},Lp:function(a,c,d){return function(){var e=a.index;a.Xc(c);var f=a.Pg(d);a.Xc(e);return f}},Mp:function(a,c,d,e,g){return function(){var a=f.ea(e.Ol,this.ai()),a=e.Nl(a);if(a.length!==g)throw Error("Bug : uncompressed data size mismatch");return a}},Yp:function(a){var c;a.vl(22);this.Wh=a.n(2);c=a.n(2);this.fileName=a.ib(this.Wh);a.vl(c);if(-1==this.sb||-1==this.lb)throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");
c=f.Mn(this.Ic);if(null===c)throw Error("Corrupted zip : compression "+f.Ci(this.Ic)+" unknown (inner file : "+this.fileName+")");this.Lb=new g;this.Lb.sb=this.sb;this.Lb.lb=this.lb;this.Lb.crc32=this.crc32;this.Lb.Ic=this.Ic;this.Lb.ai=this.Lp(a,a.index,this.sb,c);this.Lb.Ve=this.Mp(a,a.index,this.sb,c,this.lb);if(this.Eg.Es&&(this.Lb=f.ea("string",this.Lb.Ve()),h.crc32(this.Lb)!==this.crc32))throw Error("Corrupted zip : CRC32 mismatch");},Tp:function(a){a.ib(2);a.n(2);this.rj=a.n(2);this.Ic=a.ib(2);
this.ub=a.Up();this.crc32=a.n(4);this.sb=a.n(4);this.lb=a.n(4);this.Wh=a.n(2);this.Gn=a.n(2);this.Ln=a.n(2);this.Hj=a.n(2);a.n(2);this.Fn=a.n(4);this.si=a.n(4);if(this.Ro())throw Error("Encrypted zip are not supported");this.fileName=a.ib(this.Wh);this.Wp(a);this.Kp(a);this.Tj=a.ib(this.Ln);this.dir=this.Fn&16?!0:!1},Kp:function(){if(this.Re[1]){var a=new e(this.Re[1].value);this.lb===f.Bd&&(this.lb=a.n(8));this.sb===f.Bd&&(this.sb=a.n(8));this.si===f.Bd&&(this.si=a.n(8));this.Hj===f.Bd&&(this.Hj=
a.n(4))}},Wp:function(a){var c=a.index,d,e,f;for(this.Re=this.Re||{};a.index<c+this.Gn;)d=a.n(2),e=a.n(2),f=a.ib(e),this.Re[d]={id:d,length:e,value:f}},zo:function(){if(this.Eq())this.fileName=h.Qi(this.fileName),this.Tj=h.Qi(this.Tj);else{var a=this.Nn();null!==a&&(this.fileName=a)}},Nn:function(){var a=this.Re[28789];if(a){var c=new e(a.value);return 1!==c.n(1)||h.crc32(this.fileName)!==c.n(4)?null:h.Qi(c.ib(a.length-5))}return null}};c.R=d},{"./compressedObject":2,"./object":9,"./stringReader":11,
"./utils":14}],17:[function(){},{}],18:[function(a,c){var d=c.R={};d.pt=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var a=[];window.addEventListener("message",function(c){var d=c.source;d!==window&&null!==d||"process-tick"!==c.data||(c.stopPropagation(),0<a.length&&a.shift()())},!0);return function(c){a.push(c);window.postMessage("process-tick","*")}}return function(a){setTimeout(a,
0)}}();d.title="browser";d.Sm=!0;d.Rs={};d.ys=[];d.Cs=function(){throw Error("process.binding is not supported");};d.Ks=function(){return"/"};d.Ds=function(){throw Error("process.chdir is not supported");}},{}],19:[function(a,c){var d=a("./lib/utils/common").assign,e=a("./lib/deflate"),f=a("./lib/inflate"),g=a("./lib/zlib/constants"),h={};d(h,e,f,g);c.R=h},{"./lib/deflate":20,"./lib/inflate":21,"./lib/utils/common":22,"./lib/zlib/constants":25}],20:[function(a,c,d){function e(a){a=this.options=h.assign({va:-1,
method:8,Gh:16384,K:15,fp:8,Vb:0,Cf:""},a||{});a.Fi&&0<a.K?a.K=-a.K:a.nk&&0<a.K&&16>a.K&&(a.K+=16);this.Pe=0;this.t="";this.ended=!1;this.cc=[];this.r=new q;this.r.k=0;var c=g.hn(this.r,a.va,a.method,a.K,a.fp,a.Vb);if(0!==c)throw Error(k[c]);a.ei&&g.kn(this.r,a.ei)}function f(a,c){var d=new e(c);d.push(a,!0);if(d.Pe)throw d.t;return d.result}var g=a("./zlib/deflate.js"),h=a("./utils/common"),l=a("./utils/strings"),k=a("./zlib/messages"),q=a("./zlib/zstream");e.prototype.push=function(a,c){var d=this.r,
e=this.options.Gh,f,k;if(this.ended)return!1;k=c===~~c?c:!0===c?4:0;d.input="string"===typeof a?l.vq(a):a;d.cb=0;d.P=d.input.length;do{0===d.k&&(d.A=new h.Db(e),d.W=0,d.k=e);f=g.Ej(d,k);if(1!==f&&0!==f)return this.wa(f),this.ended=!0,!1;if(0===d.k||0===d.P&&4===k)"string"===this.options.Cf?this.of(l.Tm(h.Wg(d.A,d.W))):this.of(h.Wg(d.A,d.W))}while((0<d.P||0===d.k)&&1!==f);return 4===k?(f=g.gn(this.r),this.wa(f),this.ended=!0,0===f):!0};e.prototype.of=function(a){this.cc.push(a)};e.prototype.wa=function(a){0===
a&&(this.result="string"===this.options.Cf?this.cc.join(""):h.Yh(this.cc));this.cc=[];this.Pe=a;this.t=this.r.t};d.cr=e;d.Ej=f;d.jn=function(a){var c;c=c||{};c.Fi=!0;return f(a,c)};d.nk=function(a,c){c=c||{};c.nk=!0;return f(a,c)}},{"./utils/common":22,"./utils/strings":23,"./zlib/deflate.js":27,"./zlib/messages":32,"./zlib/zstream":34}],21:[function(a,c,d){function e(a){var c=this.options=h.assign({Gh:16384,K:0,Cf:""},a||{});c.Fi&&0<=c.K&&16>c.K&&(c.K=-c.K,0===c.K&&(c.K=-15));!(0<=c.K&&16>c.K)||
a&&a.K||(c.K+=32);15<c.K&&48>c.K&&0===(c.K&15)&&(c.K|=15);this.Pe=0;this.t="";this.ended=!1;this.cc=[];this.r=new p;this.r.k=0;a=g.Fo(this.r,c.K);if(a!==k.Lf)throw Error(q[a]);this.ei=new s;g.Eo(this.r,this.ei)}function f(a,c){var d=new e(c);d.push(a,!0);if(d.Pe)throw d.t;return d.result}var g=a("./zlib/inflate.js"),h=a("./utils/common"),l=a("./utils/strings"),k=a("./zlib/constants"),q=a("./zlib/messages"),p=a("./zlib/zstream"),s=a("./zlib/gzheader");e.prototype.push=function(a,c){var d=this.r,e=
this.options.Gh,f,p,q,v,s;if(this.ended)return!1;p=c===~~c?c:!0===c?k.Kf:k.ej;d.input="string"===typeof a?l.Qm(a):a;d.cb=0;d.P=d.input.length;do{0===d.k&&(d.A=new h.Db(e),d.W=0,d.k=e);f=g.wk(d,k.ej);if(f!==k.Mf&&f!==k.Lf)return this.wa(f),this.ended=!0,!1;d.W&&(0===d.k||f===k.Mf||0===d.P&&p===k.Kf)&&("string"===this.options.Cf?(q=l.Fq(d.A,d.W),v=d.W-q,s=l.Um(d.A,q),d.W=v,d.k=e-v,v&&h.ob(d.A,d.A,q,v,0),this.of(s)):this.of(h.Wg(d.A,d.W)))}while((0<d.P||0===d.k)&&f!==k.Mf);f===k.Mf&&(p=k.Kf);return p===
k.Kf?(f=g.Do(this.r),this.wa(f),this.ended=!0,f===k.Lf):!0};e.prototype.of=function(a){this.cc.push(a)};e.prototype.wa=function(a){a===k.Lf&&(this.result="string"===this.options.Cf?this.cc.join(""):h.Yh(this.cc));this.cc=[];this.Pe=a;this.t=this.r.t};d.jr=e;d.wk=f;d.Go=function(a){var c;c=c||{};c.Fi=!0;return f(a,c)};d.Jt=f},{"./utils/common":22,"./utils/strings":23,"./zlib/constants":25,"./zlib/gzheader":28,"./zlib/inflate.js":30,"./zlib/messages":32,"./zlib/zstream":34}],22:[function(a,c,d){a="undefined"!==
typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;d.assign=function(a){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if("object"!==typeof d)throw new TypeError(d+"must be non-object");for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}}return a};d.Wg=function(a,c){if(a.length===c)return a;if(a.subarray)return a.subarray(0,c);a.length=c;return a};var e={ob:function(a,c,d,e,f){if(c.subarray&&a.subarray)a.set(c.subarray(d,d+e),f);else for(var p=
0;p<e;p++)a[f+p]=c[d+p]},Yh:function(a){var c,d,e,f,p;c=e=0;for(d=a.length;c<d;c++)e+=a[c].length;p=new Uint8Array(e);c=e=0;for(d=a.length;c<d;c++)f=a[c],p.set(f,e),e+=f.length;return p}},f={ob:function(a,c,d,e,f){for(var p=0;p<e;p++)a[f+p]=c[d+p]},Yh:function(a){return[].concat.apply([],a)}};d.mq=function(a){a?(d.Db=Uint8Array,d.Qa=Uint16Array,d.De=Int32Array,d.assign(d,e)):(d.Db=Array,d.Qa=Array,d.De=Array,d.assign(d,f))};d.mq(a)},{}],23:[function(a,c,d){var e=a("./common"),f=new e.Db(256);for(a=
0;256>a;a++)f[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;f[254]=f[254]=1;d.vq=function(a){var c,d,f,q,p,s=a.length,u=0;for(q=0;q<s;q++)d=a.charCodeAt(q),55296===(d&64512)&&q+1<s&&(f=a.charCodeAt(q+1),56320===(f&64512)&&(d=65536+(d-55296<<10)+(f-56320),q++)),u+=128>d?1:2048>d?2:65536>d?3:4;c=new e.Db(u);for(q=p=0;p<u;q++)d=a.charCodeAt(q),55296===(d&64512)&&q+1<s&&(f=a.charCodeAt(q+1),56320===(f&64512)&&(d=65536+(d-55296<<10)+(f-56320),q++)),128>d?c[p++]=d:(2048>d?c[p++]=192|d>>>6:(65536>d?
c[p++]=224|d>>>12:(c[p++]=240|d>>>18,c[p++]=128|d>>>12&63),c[p++]=128|d>>>6&63),c[p++]=128|d&63);return c};d.Tm=function(a){if(65537>a.length)return String.fromCharCode.apply(null,a);for(var c="",d=0,e=a.length;d<e;d++)c+=String.fromCharCode(a[d]);return c};d.Qm=function(a){for(var c=new e.Db(a.length),d=0,f=c.length;d<f;d++)c[d]=a.charCodeAt(d);return c};d.Um=function(a,c){var d,k,q,p,s=c||a.length,u=Array(2*s);for(d=k=0;d<s;)if(q=a[d++],128>q)u[k++]=q;else if(p=f[q],4<p)u[k++]=65533,d+=p-1;else{for(q&=
2===p?31:3===p?15:7;1<p&&d<s;)q=q<<6|a[d++]&63,p--;1<p?u[k++]=65533:65536>q?u[k++]=q:(q-=65536,u[k++]=55296|q>>10&1023,u[k++]=56320|q&1023)}return String.fromCharCode.apply(null,e.Wg(u,k))};d.Fq=function(a,c){var d;c=c||a.length;c>a.length&&(c=a.length);for(d=c-1;0<=d&&128===(a[d]&192);)d--;return 0>d||0===d?c:d+f[a[d]]>c?d:c}},{"./common":22}],24:[function(a,c){c.R=function(a,c,f,g){var h=a&65535|0;a=a>>>16&65535|0;for(var l=0;0!==f;){l=2E3<f?2E3:f;f-=l;do h=h+c[g++]|0,a=a+h|0;while(--l);h%=65521;
a%=65521}return h|a<<16|0}},{}],25:[function(a,c){c.R={ej:0,Kr:1,Nr:2,Gr:3,Kf:4,xr:5,Pr:6,Lf:0,Mf:1,Ir:2,Dr:-1,Mr:-2,zr:-3,yr:-5,Jr:0,vr:1,ur:9,Ar:-1,Er:1,Hr:2,Lr:3,Fr:4,Br:0,wr:0,Or:1,Qr:2,Cr:8}},{}],26:[function(a,c){var d=function(){for(var a,c=[],d=0;256>d;d++){a=d;for(var h=0;8>h;h++)a=a&1?3988292384^a>>>1:a>>>1;c[d]=a}return c}();c.R=function(a,c,g,h){g=h+g;for(a^=-1;h<g;h++)a=a>>>8^d[(a^c[h])&255];return a^-1}},{}],27:[function(a,c,d){function e(a,c,d,e,f){this.xo=a;this.dp=c;this.sp=d;this.cp=
e;this.Tn=f}function f(a,c){a.t=M[c];return c}function g(a){for(var c=a.length;0<=--c;)a[c]=0}function h(a){var c=a.state,d=c.m;d>a.k&&(d=a.k);0!==d&&(G.ob(a.A,c.S,c.qf,d,a.W),a.W+=d,c.qf+=d,a.$c+=d,a.k-=d,c.m-=d,0===c.m&&(c.qf=0))}function l(a,c){D.um(a,0<=a.rb?a.rb:-1,a.d-a.rb,c);a.rb=a.d;h(a.r)}function k(a,c){a.S[a.m++]=c}function q(a,c){a.S[a.m++]=c>>>8&255;a.S[a.m++]=c&255}function p(a,c){var d=a.Ok,e=a.d,f,g=a.gb,h=a.Xk,k=a.d>a.Cb-262?a.d-(a.Cb-262):0,v=a.window,l=a.Ad,p=a.qc,q=a.d+258,s=v[e+
g-1],K=v[e+g];a.gb>=a.mk&&(d>>=2);h>a.i&&(h=a.i);do if(f=c,v[f+g]===K&&v[f+g-1]===s&&v[f]===v[e]&&v[++f]===v[e+1]){e+=2;for(f++;v[++e]===v[++f]&&v[++e]===v[++f]&&v[++e]===v[++f]&&v[++e]===v[++f]&&v[++e]===v[++f]&&v[++e]===v[++f]&&v[++e]===v[++f]&&v[++e]===v[++f]&&e<q;);f=258-(q-e);e=q-258;if(f>g){a.te=c;g=f;if(f>=h)break;s=v[e+g-1];K=v[e+g]}}while((c=p[c&l])>k&&0!==--d);return g<=a.i?g:a.i}function s(a){var c=a.Cb,d,e,f,g;do{g=a.Tl-a.i-a.d;if(a.d>=c+(c-262)){G.ob(a.window,a.window,c,c,0);a.te-=c;
a.d-=c;a.rb-=c;d=e=a.sg;do f=a.head[--d],a.head[d]=f>=c?f-c:0;while(--e);d=e=c;do f=a.qc[--d],a.qc[d]=f>=c?f-c:0;while(--e);g+=c}if(0===a.r.P)break;d=a.r;e=a.window;f=a.d+a.i;var h=d.P;h>g&&(h=g);0===h?e=0:(d.P-=h,G.ob(e,d.input,d.cb,h,f),1===d.state.L?d.p=I(d.p,e,h,f):2===d.state.L&&(d.p=H(d.p,e,h,f)),d.cb+=h,d.Wb+=h,e=h);a.i+=e;if(3<=a.i+a.$a)for(g=a.d-a.$a,a.H=a.window[g],a.H=(a.H<<a.Uc^a.window[g+1])&a.Tc;a.$a&&!(a.H=(a.H<<a.Uc^a.window[g+3-1])&a.Tc,a.qc[g&a.Ad]=a.head[a.H],a.head[a.H]=g,g++,
a.$a--,3>a.i+a.$a););}while(262>a.i&&0!==a.r.P)}function u(a,c){for(var d;;){if(262>a.i){s(a);if(262>a.i&&0===c)return 1;if(0===a.i)break}d=0;3<=a.i&&(a.H=(a.H<<a.Uc^a.window[a.d+3-1])&a.Tc,d=a.qc[a.d&a.Ad]=a.head[a.H],a.head[a.H]=a.d);0!==d&&a.d-d<=a.Cb-262&&(a.F=p(a,d));if(3<=a.F)if(d=D.Dc(a,a.d-a.te,a.F-3),a.i-=a.F,a.F<=a.ui&&3<=a.i){a.F--;do a.d++,a.H=(a.H<<a.Uc^a.window[a.d+3-1])&a.Tc,a.qc[a.d&a.Ad]=a.head[a.H],a.head[a.H]=a.d;while(0!==--a.F);a.d++}else a.d+=a.F,a.F=0,a.H=a.window[a.d],a.H=
(a.H<<a.Uc^a.window[a.d+1])&a.Tc;else d=D.Dc(a,0,a.window[a.d]),a.i--,a.d++;if(d&&(l(a,!1),0===a.r.k))return 1}a.$a=2>a.d?a.d:2;return 4===c?(l(a,!0),0===a.r.k?3:4):a.ab&&(l(a,!1),0===a.r.k)?1:2}function w(a,c){for(var d,e;;){if(262>a.i){s(a);if(262>a.i&&0===c)return 1;if(0===a.i)break}d=0;3<=a.i&&(a.H=(a.H<<a.Uc^a.window[a.d+3-1])&a.Tc,d=a.qc[a.d&a.Ad]=a.head[a.H],a.head[a.H]=a.d);a.gb=a.F;a.bl=a.te;a.F=2;0!==d&&a.gb<a.ui&&a.d-d<=a.Cb-262&&(a.F=p(a,d),5>=a.F&&(1===a.Vb||3===a.F&&4096<a.d-a.te)&&
(a.F=2));if(3<=a.gb&&a.F<=a.gb){e=a.d+a.i-3;d=D.Dc(a,a.d-1-a.bl,a.gb-3);a.i-=a.gb-1;a.gb-=2;do++a.d<=e&&(a.H=(a.H<<a.Uc^a.window[a.d+3-1])&a.Tc,a.qc[a.d&a.Ad]=a.head[a.H],a.head[a.H]=a.d);while(0!==--a.gb);a.se=0;a.F=2;a.d++;if(d&&(l(a,!1),0===a.r.k))return 1}else if(a.se){if((d=D.Dc(a,0,a.window[a.d-1]))&&l(a,!1),a.d++,a.i--,0===a.r.k)return 1}else a.se=1,a.d++,a.i--}a.se&&(D.Dc(a,0,a.window[a.d-1]),a.se=0);a.$a=2>a.d?a.d:2;return 4===c?(l(a,!0),0===a.r.k?3:4):a.ab&&(l(a,!1),0===a.r.k)?1:2}function B(a,
c){for(var d,e,f,g=a.window;;){if(258>=a.i){s(a);if(258>=a.i&&0===c)return 1;if(0===a.i)break}a.F=0;if(3<=a.i&&0<a.d&&(e=a.d-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){for(f=a.d+258;d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&e<f;);a.F=258-(f-e);a.F>a.i&&(a.F=a.i)}3<=a.F?(d=D.Dc(a,1,a.F-3),a.i-=a.F,a.d+=a.F,a.F=0):(d=D.Dc(a,0,a.window[a.d]),a.i--,a.d++);if(d&&(l(a,!1),0===a.r.k))return 1}a.$a=0;return 4===c?(l(a,!0),0===a.r.k?3:4):a.ab&&(l(a,
!1),0===a.r.k)?1:2}function E(a,c){for(var d;;){if(0===a.i&&(s(a),0===a.i)){if(0===c)return 1;break}a.F=0;d=D.Dc(a,0,a.window[a.d]);a.i--;a.d++;if(d&&(l(a,!1),0===a.r.k))return 1}a.$a=0;return 4===c?(l(a,!0),0===a.r.k?3:4):a.ab&&(l(a,!1),0===a.r.k)?1:2}function x(){this.r=null;this.status=0;this.S=null;this.L=this.m=this.qf=this.fb=0;this.s=null;this.wb=0;this.method=8;this.pe=-1;this.Ad=this.Si=this.Cb=0;this.window=null;this.Tl=0;this.head=this.qc=null;this.Xk=this.mk=this.Vb=this.va=this.ui=this.Ok=
this.gb=this.i=this.te=this.d=this.se=this.bl=this.F=this.rb=this.Uc=this.Tc=this.di=this.sg=this.H=0;this.La=new G.Qa(1146);this.ld=new G.Qa(122);this.ua=new G.Qa(78);g(this.La);g(this.ld);g(this.ua);this.sj=this.hg=this.Ag=null;this.bc=new G.Qa(16);this.V=new G.Qa(573);g(this.V);this.me=this.hc=0;this.depth=new G.Qa(573);g(this.depth);this.na=this.Ba=this.$a=this.matches=this.ze=this.nc=this.Ne=this.ab=this.gf=this.ji=0}function K(a){var c;if(!a||!a.state)return f(a,-2);a.Wb=a.$c=0;a.Zd=2;c=a.state;
c.m=0;c.qf=0;0>c.L&&(c.L=-c.L);c.status=c.L?42:113;a.p=2===c.L?0:1;c.pe=0;D.vm(c);return 0}function z(a){var c=K(a);0===c&&(a=a.state,a.Tl=2*a.Cb,g(a.head),a.ui=C[a.va].dp,a.mk=C[a.va].xo,a.Xk=C[a.va].sp,a.Ok=C[a.va].cp,a.d=0,a.rb=0,a.i=0,a.$a=0,a.F=a.gb=2,a.se=0,a.H=0);return c}function v(a,c,d,e,g,h){if(!a)return-2;var v=1;-1===c&&(c=6);0>e?(v=0,e=-e):15<e&&(v=2,e-=16);if(1>g||9<g||8!==d||8>e||15<e||0>c||9<c||0>h||4<h)return f(a,-2);8===e&&(e=9);var k=new x;a.state=k;k.r=a;k.L=v;k.s=null;k.Si=e;
k.Cb=1<<k.Si;k.Ad=k.Cb-1;k.di=g+7;k.sg=1<<k.di;k.Tc=k.sg-1;k.Uc=~~((k.di+3-1)/3);k.window=new G.Db(2*k.Cb);k.head=new G.Qa(k.sg);k.qc=new G.Qa(k.Cb);k.gf=1<<g+6;k.fb=4*k.gf;k.S=new G.Db(k.fb);k.Ne=k.gf>>1;k.ji=3*k.gf;k.va=c;k.Vb=h;k.method=d;return z(a)}var G=a("../utils/common"),D=a("./trees"),I=a("./adler32"),H=a("./crc32"),M=a("./messages"),C;C=[new e(0,0,0,0,function(a,c){var d=65535;for(d>a.fb-5&&(d=a.fb-5);;){if(1>=a.i){s(a);if(0===a.i&&0===c)return 1;if(0===a.i)break}a.d+=a.i;a.i=0;var e=a.rb+
d;if(0===a.d||a.d>=e)if(a.i=a.d-e,a.d=e,l(a,!1),0===a.r.k)return 1;if(a.d-a.rb>=a.Cb-262&&(l(a,!1),0===a.r.k))return 1}a.$a=0;if(4===c)return l(a,!0),0===a.r.k?3:4;a.d>a.rb&&l(a,!1);return 1}),new e(4,4,8,4,u),new e(4,5,16,8,u),new e(4,6,32,32,u),new e(4,4,16,16,w),new e(8,16,32,32,w),new e(8,16,128,128,w),new e(8,32,128,256,w),new e(32,128,258,1024,w),new e(32,258,258,4096,w)];d.Ns=function(a,c){return v(a,c,8,15,8,0)};d.hn=v;d.Os=z;d.Ps=K;d.kn=function(a,c){a&&a.state&&2===a.state.L&&(a.state.s=
c)};d.Ej=function(a,c){var d,e,v,l;if(!a||!a.state||5<c||0>c)return a?f(a,-2):-2;e=a.state;if(!a.A||!a.input&&0!==a.P||666===e.status&&4!==c)return f(a,0===a.k?-5:-2);e.r=a;d=e.pe;e.pe=c;42===e.status&&(2===e.L?(a.p=0,k(e,31),k(e,139),k(e,8),e.s?(k(e,(e.s.text?1:0)+(e.s.Ob?2:0)+(e.s.w?4:0)+(e.s.name?8:0)+(e.s.comment?16:0)),k(e,e.s.time&255),k(e,e.s.time>>8&255),k(e,e.s.time>>16&255),k(e,e.s.time>>24&255),k(e,9===e.va?2:2<=e.Vb||2>e.va?4:0),k(e,e.s.os&255),e.s.w&&e.s.w.length&&(k(e,e.s.w.length&255),
k(e,e.s.w.length>>8&255)),e.s.Ob&&(a.p=H(a.p,e.S,e.m,0)),e.wb=0,e.status=69):(k(e,0),k(e,0),k(e,0),k(e,0),k(e,0),k(e,9===e.va?2:2<=e.Vb||2>e.va?4:0),k(e,3),e.status=113)):(v=8+(e.Si-8<<4)<<8,l=-1,l=2<=e.Vb||2>e.va?0:6>e.va?1:6===e.va?2:3,v|=l<<6,0!==e.d&&(v|=32),e.status=113,q(e,v+(31-v%31)),0!==e.d&&(q(e,a.p>>>16),q(e,a.p&65535)),a.p=1));if(69===e.status)if(e.s.w){for(v=e.m;e.wb<(e.s.w.length&65535)&&(e.m!==e.fb||(e.s.Ob&&e.m>v&&(a.p=H(a.p,e.S,e.m-v,v)),h(a),v=e.m,e.m!==e.fb));)k(e,e.s.w[e.wb]&255),
e.wb++;e.s.Ob&&e.m>v&&(a.p=H(a.p,e.S,e.m-v,v));e.wb===e.s.w.length&&(e.wb=0,e.status=73)}else e.status=73;if(73===e.status)if(e.s.name){v=e.m;do{if(e.m===e.fb&&(e.s.Ob&&e.m>v&&(a.p=H(a.p,e.S,e.m-v,v)),h(a),v=e.m,e.m===e.fb)){l=1;break}l=e.wb<e.s.name.length?e.s.name.charCodeAt(e.wb++)&255:0;k(e,l)}while(0!==l);e.s.Ob&&e.m>v&&(a.p=H(a.p,e.S,e.m-v,v));0===l&&(e.wb=0,e.status=91)}else e.status=91;if(91===e.status)if(e.s.comment){v=e.m;do{if(e.m===e.fb&&(e.s.Ob&&e.m>v&&(a.p=H(a.p,e.S,e.m-v,v)),h(a),v=
e.m,e.m===e.fb)){l=1;break}l=e.wb<e.s.comment.length?e.s.comment.charCodeAt(e.wb++)&255:0;k(e,l)}while(0!==l);e.s.Ob&&e.m>v&&(a.p=H(a.p,e.S,e.m-v,v));0===l&&(e.status=103)}else e.status=103;103===e.status&&(e.s.Ob?(e.m+2>e.fb&&h(a),e.m+2<=e.fb&&(k(e,a.p&255),k(e,a.p>>8&255),a.p=0,e.status=113)):e.status=113);if(0!==e.m){if(h(a),0===a.k)return e.pe=-1,0}else if(0===a.P&&(c<<1)-(4<c?9:0)<=(d<<1)-(4<d?9:0)&&4!==c)return f(a,-5);if(666===e.status&&0!==a.P)return f(a,-5);if(0!==a.P||0!==e.i||0!==c&&666!==
e.status){d=2===e.Vb?E(e,c):3===e.Vb?B(e,c):C[e.va].Tn(e,c);if(3===d||4===d)e.status=666;if(1===d||3===d)return 0===a.k&&(e.pe=-1),0;if(2===d&&(1===c?D.tm(e):5!==c&&(D.wm(e,0,0,!1),3===c&&(g(e.head),0===e.i&&(e.d=0,e.rb=0,e.$a=0))),h(a),0===a.k))return e.pe=-1,0}if(4!==c)return 0;if(0>=e.L)return 1;2===e.L?(k(e,a.p&255),k(e,a.p>>8&255),k(e,a.p>>16&255),k(e,a.p>>24&255),k(e,a.Wb&255),k(e,a.Wb>>8&255),k(e,a.Wb>>16&255),k(e,a.Wb>>24&255)):(q(e,a.p>>>16),q(e,a.p&65535));h(a);0<e.L&&(e.L=-e.L);return 0!==
e.m?0:1};d.gn=function(a){var c;if(!a||!a.state)return-2;c=a.state.status;if(42!==c&&69!==c&&73!==c&&91!==c&&103!==c&&113!==c&&666!==c)return f(a,-2);a.state=null;return 113===c?f(a,-3):0};d.Ms="pako deflate (from Nodeca project)"},{"../utils/common":22,"./adler32":24,"./crc32":26,"./messages":32,"./trees":33}],28:[function(a,c){c.R=function(){this.os=this.Oq=this.time=this.text=0;this.w=null;this.Vh=0;this.comment=this.name="";this.Ob=0;this.Rh=!1}},{}],29:[function(a,c){c.R=function(a,c){var f,
g,h,l,k,q,p,s,u,w,B,E,x,K,z,v,G,D,I,H,M,C,t,r;f=a.state;g=a.cb;t=a.input;h=g+(a.P-5);l=a.W;r=a.A;k=l-(c-a.k);q=l+(a.k-257);p=f.jg;s=f.Pa;u=f.vc;w=f.Oa;B=f.window;E=f.Vc;x=f.aa;K=f.kc;z=f.jd;v=(1<<f.Qb)-1;G=(1<<f.be)-1;a:do b:for(15>x&&(E+=t[g++]<<x,x+=8,E+=t[g++]<<x,x+=8),D=K[E&v];;){I=D>>>24;E>>>=I;x-=I;I=D>>>16&255;if(0===I)r[l++]=D&65535;else if(I&16){H=D&65535;if(I&=15)x<I&&(E+=t[g++]<<x,x+=8),H+=E&(1<<I)-1,E>>>=I,x-=I;15>x&&(E+=t[g++]<<x,x+=8,E+=t[g++]<<x,x+=8);D=z[E&G];c:for(;;){I=D>>>24;E>>>=
I;x-=I;I=D>>>16&255;if(I&16){D&=65535;I&=15;x<I&&(E+=t[g++]<<x,x+=8,x<I&&(E+=t[g++]<<x,x+=8));D+=E&(1<<I)-1;if(D>p){a.t="invalid distance too far back";f.mode=30;break a}E>>>=I;x-=I;I=l-k;if(D>I){I=D-I;if(I>u&&f.Hi){a.t="invalid distance too far back";f.mode=30;break a}M=0;C=B;if(0===w){if(M+=s-I,I<H){H-=I;do r[l++]=B[M++];while(--I);M=l-D;C=r}}else if(w<I){if(M+=s+w-I,I-=w,I<H){H-=I;do r[l++]=B[M++];while(--I);M=0;if(w<H){I=w;H-=I;do r[l++]=B[M++];while(--I);M=l-D;C=r}}}else if(M+=w-I,I<H){H-=I;
do r[l++]=B[M++];while(--I);M=l-D;C=r}for(;2<H;)r[l++]=C[M++],r[l++]=C[M++],r[l++]=C[M++],H-=3;H&&(r[l++]=C[M++],1<H&&(r[l++]=C[M++]))}else{M=l-D;do r[l++]=r[M++],r[l++]=r[M++],r[l++]=r[M++],H-=3;while(2<H);H&&(r[l++]=r[M++],1<H&&(r[l++]=r[M++]))}}else if(0===(I&64)){D=z[(D&65535)+(E&(1<<I)-1)];continue c}else{a.t="invalid distance code";f.mode=30;break a}break}}else if(0===(I&64)){D=K[(D&65535)+(E&(1<<I)-1)];continue b}else{I&32?f.mode=12:(a.t="invalid literal/length code",f.mode=30);break a}break}while(g<
h&&l<q);H=x>>3;g-=H;x-=H<<3;a.cb=g;a.W=l;a.P=g<h?5+(h-g):5-(g-h);a.k=l<q?257+(q-l):257-(l-q);f.Vc=E&(1<<x)-1;f.aa=x}},{}],30:[function(a,c,d){function e(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}function f(){this.mode=0;this.Bg=!1;this.L=0;this.rk=!1;this.total=this.check=this.jg=this.Y=0;this.head=null;this.Oa=this.vc=this.Pa=this.Ce=0;this.window=null;this.w=this.offset=this.length=this.aa=this.Vc=0;this.jd=this.kc=null;this.Za=this.kf=this.ve=this.Vk=this.be=this.Qb=0;this.next=
null;this.la=new q.Qa(320);this.Ff=new q.Qa(288);this.Mj=this.Gk=null;this.Lq=this.back=this.Hi=0}function g(a){var c;if(!a||!a.state)return-2;c=a.state;a.Wb=a.$c=c.total=0;a.t="";c.L&&(a.p=c.L&1);c.mode=1;c.Bg=0;c.rk=0;c.jg=32768;c.head=null;c.Vc=0;c.aa=0;c.kc=c.Gk=new q.De(852);c.jd=c.Mj=new q.De(592);c.Hi=1;c.back=-1;return 0}function h(a){var c;if(!a||!a.state)return-2;c=a.state;c.Pa=0;c.vc=0;c.Oa=0;return g(a)}function l(a,c){var d,e;if(!a||!a.state)return-2;e=a.state;0>c?(d=0,c=-c):(d=(c>>4)+
1,48>c&&(c&=15));if(c&&(8>c||15<c))return-2;null!==e.window&&e.Ce!==c&&(e.window=null);e.L=d;e.Ce=c;return h(a)}function k(a,c){var d;if(!a)return-2;d=new f;a.state=d;d.window=null;d=l(a,c);0!==d&&(a.state=null);return d}var q=a("../utils/common"),p=a("./adler32"),s=a("./crc32"),u=a("./inffast"),w=a("./inftrees"),B=!0,E,x;d.dt=h;d.et=l;d.ft=g;d.ct=function(a){return k(a,15)};d.Fo=k;d.wk=function(a,c){var d,f,g,h,k,l,C,t,r,V,O,y,L,na;y=0;var R,ea,S,va,Ca,Ia=new q.Db(4),ki=[16,17,18,0,8,7,9,6,10,5,
11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.A||!a.input&&0!==a.P)return-2;d=a.state;12===d.mode&&(d.mode=13);k=a.W;g=a.A;C=a.k;h=a.cb;f=a.input;l=a.P;t=d.Vc;r=d.aa;V=l;O=C;Ca=0;a:for(;;)switch(d.mode){case 1:if(0===d.L){d.mode=13;break}for(;16>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}if(d.L&2&&35615===t){d.check=0;Ia[0]=t&255;Ia[1]=t>>>8&255;d.check=s(d.check,Ia,2,0);r=t=0;d.mode=2;break}d.Y=0;d.head&&(d.head.Rh=!1);if(!(d.L&1)||(((t&255)<<8)+(t>>8))%31){a.t="incorrect header check";d.mode=30;break}if(8!==
(t&15)){a.t="unknown compression method";d.mode=30;break}t>>>=4;r-=4;L=(t&15)+8;if(0===d.Ce)d.Ce=L;else if(L>d.Ce){a.t="invalid window size";d.mode=30;break}d.jg=1<<L;a.p=d.check=1;d.mode=t&512?10:12;r=t=0;break;case 2:for(;16>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}d.Y=t;if(8!==(d.Y&255)){a.t="unknown compression method";d.mode=30;break}if(d.Y&57344){a.t="unknown header flags set";d.mode=30;break}d.head&&(d.head.text=t>>8&1);d.Y&512&&(Ia[0]=t&255,Ia[1]=t>>>8&255,d.check=s(d.check,Ia,2,0));r=t=
0;d.mode=3;case 3:for(;32>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}d.head&&(d.head.time=t);d.Y&512&&(Ia[0]=t&255,Ia[1]=t>>>8&255,Ia[2]=t>>>16&255,Ia[3]=t>>>24&255,d.check=s(d.check,Ia,4,0));r=t=0;d.mode=4;case 4:for(;16>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}d.head&&(d.head.Oq=t&255,d.head.os=t>>8);d.Y&512&&(Ia[0]=t&255,Ia[1]=t>>>8&255,d.check=s(d.check,Ia,2,0));r=t=0;d.mode=5;case 5:if(d.Y&1024){for(;16>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}d.length=t;d.head&&(d.head.Vh=t);d.Y&512&&(Ia[0]=
t&255,Ia[1]=t>>>8&255,d.check=s(d.check,Ia,2,0));r=t=0}else d.head&&(d.head.w=null);d.mode=6;case 6:if(d.Y&1024&&(y=d.length,y>l&&(y=l),y&&(d.head&&(L=d.head.Vh-d.length,d.head.w||(d.head.w=Array(d.head.Vh)),q.ob(d.head.w,f,h,y,L)),d.Y&512&&(d.check=s(d.check,f,y,h)),l-=y,h+=y,d.length-=y),d.length))break a;d.length=0;d.mode=7;case 7:if(d.Y&2048){if(0===l)break a;y=0;do L=f[h+y++],d.head&&L&&65536>d.length&&(d.head.name+=String.fromCharCode(L));while(L&&y<l);d.Y&512&&(d.check=s(d.check,f,y,h));l-=
y;h+=y;if(L)break a}else d.head&&(d.head.name=null);d.length=0;d.mode=8;case 8:if(d.Y&4096){if(0===l)break a;y=0;do L=f[h+y++],d.head&&L&&65536>d.length&&(d.head.comment+=String.fromCharCode(L));while(L&&y<l);d.Y&512&&(d.check=s(d.check,f,y,h));l-=y;h+=y;if(L)break a}else d.head&&(d.head.comment=null);d.mode=9;case 9:if(d.Y&512){for(;16>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}if(t!==(d.check&65535)){a.t="header crc mismatch";d.mode=30;break}r=t=0}d.head&&(d.head.Ob=d.Y>>9&1,d.head.Rh=!0);a.p=d.check=
0;d.mode=12;break;case 10:for(;32>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}a.p=d.check=e(t);r=t=0;d.mode=11;case 11:if(0===d.rk)return a.W=k,a.k=C,a.cb=h,a.P=l,d.Vc=t,d.aa=r,2;a.p=d.check=1;d.mode=12;case 12:if(5===c||6===c)break a;case 13:if(d.Bg){t>>>=r&7;r-=r&7;d.mode=27;break}for(;3>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}d.Bg=t&1;t>>>=1;r-=1;switch(t&3){case 0:d.mode=14;break;case 1:y=d;if(B){L=void 0;E=new q.De(512);x=new q.De(32);for(L=0;144>L;)y.la[L++]=8;for(;256>L;)y.la[L++]=9;for(;280>
L;)y.la[L++]=7;for(;288>L;)y.la[L++]=8;w(1,y.la,0,288,E,0,y.Ff,{aa:9});for(L=0;32>L;)y.la[L++]=5;w(2,y.la,0,32,x,0,y.Ff,{aa:5});B=!1}y.kc=E;y.Qb=9;y.jd=x;y.be=5;d.mode=20;if(6===c){t>>>=2;r-=2;break a}break;case 2:d.mode=17;break;case 3:a.t="invalid block type",d.mode=30}t>>>=2;r-=2;break;case 14:t>>>=r&7;for(r-=r&7;32>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}if((t&65535)!==(t>>>16^65535)){a.t="invalid stored block lengths";d.mode=30;break}d.length=t&65535;r=t=0;d.mode=15;if(6===c)break a;case 15:d.mode=
16;case 16:if(y=d.length){y>l&&(y=l);y>C&&(y=C);if(0===y)break a;q.ob(g,f,h,y,k);l-=y;h+=y;C-=y;k+=y;d.length-=y;break}d.mode=12;break;case 17:for(;14>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}d.ve=(t&31)+257;t>>>=5;r-=5;d.kf=(t&31)+1;t>>>=5;r-=5;d.Vk=(t&15)+4;t>>>=4;r-=4;if(286<d.ve||30<d.kf){a.t="too many length or distance symbols";d.mode=30;break}d.Za=0;d.mode=18;case 18:for(;d.Za<d.Vk;){for(;3>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}d.la[ki[d.Za++]]=t&7;t>>>=3;r-=3}for(;19>d.Za;)d.la[ki[d.Za++]]=
0;d.kc=d.Gk;d.Qb=7;y={aa:d.Qb};Ca=w(0,d.la,0,19,d.kc,0,d.Ff,y);d.Qb=y.aa;if(Ca){a.t="invalid code lengths set";d.mode=30;break}d.Za=0;d.mode=19;case 19:for(;d.Za<d.ve+d.kf;){for(;;){y=d.kc[t&(1<<d.Qb)-1];R=y>>>24;ea=y>>>16&255;S=y&65535;if(R<=r)break;if(0===l)break a;l--;t+=f[h++]<<r;r+=8}if(16>S)t>>>=R,r-=R,d.la[d.Za++]=S;else{if(16===S){for(y=R+2;r<y;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}t>>>=R;r-=R;if(0===d.Za){a.t="invalid bit length repeat";d.mode=30;break}L=d.la[d.Za-1];y=3+(t&3);t>>>=2;
r-=2}else if(17===S){for(y=R+3;r<y;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}t>>>=R;r-=R;L=0;y=3+(t&7);t>>>=3;r-=3}else{for(y=R+7;r<y;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}t>>>=R;r-=R;L=0;y=11+(t&127);t>>>=7;r-=7}if(d.Za+y>d.ve+d.kf){a.t="invalid bit length repeat";d.mode=30;break}for(;y--;)d.la[d.Za++]=L}}if(30===d.mode)break;if(0===d.la[256]){a.t="invalid code -- missing end-of-block";d.mode=30;break}d.Qb=9;y={aa:d.Qb};Ca=w(1,d.la,0,d.ve,d.kc,0,d.Ff,y);d.Qb=y.aa;if(Ca){a.t="invalid literal/lengths set";
d.mode=30;break}d.be=6;d.jd=d.Mj;y={aa:d.be};Ca=w(2,d.la,d.ve,d.kf,d.jd,0,d.Ff,y);d.be=y.aa;if(Ca){a.t="invalid distances set";d.mode=30;break}d.mode=20;if(6===c)break a;case 20:d.mode=21;case 21:if(6<=l&&258<=C){a.W=k;a.k=C;a.cb=h;a.P=l;d.Vc=t;d.aa=r;u(a,O);k=a.W;g=a.A;C=a.k;h=a.cb;f=a.input;l=a.P;t=d.Vc;r=d.aa;12===d.mode&&(d.back=-1);break}for(d.back=0;;){y=d.kc[t&(1<<d.Qb)-1];R=y>>>24;ea=y>>>16&255;S=y&65535;if(R<=r)break;if(0===l)break a;l--;t+=f[h++]<<r;r+=8}if(ea&&0===(ea&240)){L=R;na=ea;for(va=
S;;){y=d.kc[va+((t&(1<<L+na)-1)>>L)];R=y>>>24;ea=y>>>16&255;S=y&65535;if(L+R<=r)break;if(0===l)break a;l--;t+=f[h++]<<r;r+=8}t>>>=L;r-=L;d.back+=L}t>>>=R;r-=R;d.back+=R;d.length=S;if(0===ea){d.mode=26;break}if(ea&32){d.back=-1;d.mode=12;break}if(ea&64){a.t="invalid literal/length code";d.mode=30;break}d.w=ea&15;d.mode=22;case 22:if(d.w){for(y=d.w;r<y;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}d.length+=t&(1<<d.w)-1;t>>>=d.w;r-=d.w;d.back+=d.w}d.Lq=d.length;d.mode=23;case 23:for(;;){y=d.jd[t&(1<<d.be)-
1];R=y>>>24;ea=y>>>16&255;S=y&65535;if(R<=r)break;if(0===l)break a;l--;t+=f[h++]<<r;r+=8}if(0===(ea&240)){L=R;na=ea;for(va=S;;){y=d.jd[va+((t&(1<<L+na)-1)>>L)];R=y>>>24;ea=y>>>16&255;S=y&65535;if(L+R<=r)break;if(0===l)break a;l--;t+=f[h++]<<r;r+=8}t>>>=L;r-=L;d.back+=L}t>>>=R;r-=R;d.back+=R;if(ea&64){a.t="invalid distance code";d.mode=30;break}d.offset=S;d.w=ea&15;d.mode=24;case 24:if(d.w){for(y=d.w;r<y;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}d.offset+=t&(1<<d.w)-1;t>>>=d.w;r-=d.w;d.back+=d.w}if(d.offset>
d.jg){a.t="invalid distance too far back";d.mode=30;break}d.mode=25;case 25:if(0===C)break a;y=O-C;if(d.offset>y){y=d.offset-y;if(y>d.vc&&d.Hi){a.t="invalid distance too far back";d.mode=30;break}y>d.Oa?(y-=d.Oa,L=d.Pa-y):L=d.Oa-y;y>d.length&&(y=d.length);na=d.window}else na=g,L=k-d.offset,y=d.length;y>C&&(y=C);C-=y;d.length-=y;do g[k++]=na[L++];while(--y);0===d.length&&(d.mode=21);break;case 26:if(0===C)break a;g[k++]=d.length;C--;d.mode=21;break;case 27:if(d.L){for(;32>r;){if(0===l)break a;l--;
t|=f[h++]<<r;r+=8}O-=C;a.$c+=O;d.total+=O;O&&(a.p=d.check=d.Y?s(d.check,g,O,k-O):p(d.check,g,O,k-O));O=C;if((d.Y?t:e(t))!==d.check){a.t="incorrect data check";d.mode=30;break}r=t=0}d.mode=28;case 28:if(d.L&&d.Y){for(;32>r;){if(0===l)break a;l--;t+=f[h++]<<r;r+=8}if(t!==(d.total&4294967295)){a.t="incorrect length check";d.mode=30;break}r=t=0}d.mode=29;case 29:Ca=1;break a;case 30:Ca=-3;break a;case 31:return-4;default:return-2}a.W=k;a.k=C;a.cb=h;a.P=l;d.Vc=t;d.aa=r;if(f=d.Pa||O!==a.k&&30>d.mode&&(27>
d.mode||4!==c))f=a.A,h=a.W,k=O-a.k,C=a.state,null===C.window&&(C.Pa=1<<C.Ce,C.Oa=0,C.vc=0,C.window=new q.Db(C.Pa)),k>=C.Pa?(q.ob(C.window,f,h-C.Pa,C.Pa,0),C.Oa=0,C.vc=C.Pa):(l=C.Pa-C.Oa,l>k&&(l=k),q.ob(C.window,f,h-k,l,C.Oa),(k-=l)?(q.ob(C.window,f,h-k,k,0),C.Oa=k,C.vc=C.Pa):(C.Oa+=l,C.Oa===C.Pa&&(C.Oa=0),C.vc<C.Pa&&(C.vc+=l))),f=0;if(f)return d.mode=31,-4;V-=a.P;O-=a.k;a.Wb+=V;a.$c+=O;d.total+=O;d.L&&O&&(a.p=d.check=d.Y?s(d.check,g,O,a.W-O):p(d.check,g,O,a.W-O));a.Zd=d.aa+(d.Bg?64:0)+(12===d.mode?
128:0)+(20===d.mode||15===d.mode?256:0);(0===V&&0===O||4===c)&&0===Ca&&(Ca=-5);return Ca};d.Do=function(a){if(!a||!a.state)return-2;var c=a.state;c.window&&(c.window=null);a.state=null;return 0};d.Eo=function(a,c){var d;a&&a.state&&(d=a.state,0!==(d.L&2)&&(d.head=c,c.Rh=!1))};d.bt="pako inflate (from Nodeca project)"},{"../utils/common":22,"./adler32":24,"./crc32":26,"./inffast":29,"./inftrees":31}],31:[function(a,c){var d=a("../utils/common"),e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,
59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.R=function(a,c,q,p,s,u,w,B){for(var E=B.aa,x=0,K=0,z=0,v=0,G=0,D=0,I=0,H=0,M=0,C=0,t,r,V=null,O=0,y,L=new d.Qa(16),D=new d.Qa(16),na=null,R=0,
ea,S,va,x=0;15>=x;x++)L[x]=0;for(K=0;K<p;K++)L[c[q+K]]++;G=E;for(v=15;1<=v&&0===L[v];v--);G>v&&(G=v);if(0===v)return s[u++]=20971520,s[u++]=20971520,B.aa=1,0;for(z=1;z<v&&0===L[z];z++);G<z&&(G=z);for(x=H=1;15>=x;x++)if(H<<=1,H-=L[x],0>H)return-1;if(0<H&&(0===a||1!==v))return-1;D[1]=0;for(x=1;15>x;x++)D[x+1]=D[x]+L[x];for(K=0;K<p;K++)0!==c[q+K]&&(w[D[c[q+K]]++]=K);switch(a){case 0:V=na=w;y=19;break;case 1:V=e;O-=257;na=f;R-=257;y=256;break;default:V=g,na=h,y=-1}K=C=0;x=z;E=u;D=G;I=0;r=-1;M=1<<G;p=
M-1;if(1===a&&852<M||2===a&&592<M)return 1;for(var Ca=0;;){Ca++;ea=x-I;w[K]<y?(S=0,va=w[K]):w[K]>y?(S=na[R+w[K]],va=V[O+w[K]]):(S=96,va=0);H=1<<x-I;z=t=1<<D;do t-=H,s[E+(C>>I)+t]=ea<<24|S<<16|va|0;while(0!==t);for(H=1<<x-1;C&H;)H>>=1;0!==H?(C&=H-1,C+=H):C=0;K++;if(0===--L[x]){if(x===v)break;x=c[q+w[K]]}if(x>G&&(C&p)!==r){0===I&&(I=G);E+=z;D=x-I;for(H=1<<D;D+I<v;){H-=L[D+I];if(0>=H)break;D++;H<<=1}M+=1<<D;if(1===a&&852<M||2===a&&592<M)return 1;r=C&p;s[r]=G<<24|D<<16|E-u|0}}0!==C&&(s[E+C]=x-I<<24|4194304);
B.aa=G;return 0}},{"../utils/common":22}],32:[function(a,c){c.R={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],33:[function(a,c,d){function e(a,c){this.Nj=a;this.ue=0;this.Yc=c}function f(a,c,d,e,f){this.El=a;this.In=c;this.Hn=d;this.An=e;this.ep=f;this.qk=a&&a.length}function g(a){for(var c=a.length;0<=--c;)a[c]=0}function h(a,c){a.S[a.m++]=c&255;a.S[a.m++]=c>>>8&255}
function l(a,c,d){a.na>16-d?(a.Ba|=c<<a.na&65535,h(a,a.Ba),a.Ba=c>>16-a.na,a.na+=d-16):(a.Ba|=c<<a.na&65535,a.na+=d)}function k(a,c,d){l(a,d[2*c],d[2*c+1])}function q(a,c){var d=0;do d|=a&1,a>>>=1,d<<=1;while(0<--c);return d>>>1}function p(a,c,d){var e=Array(16),f=0,g;for(g=1;15>=g;g++)e[g]=f=f+d[g-1]<<1;for(d=0;d<=c;d++)f=a[2*d+1],0!==f&&(a[2*d]=q(e[f]++,f))}function s(a){var c;for(c=0;286>c;c++)a.La[2*c]=0;for(c=0;30>c;c++)a.ld[2*c]=0;for(c=0;19>c;c++)a.ua[2*c]=0;a.La[512]=1;a.nc=a.ze=0;a.ab=a.matches=
0}function u(a){8<a.na?h(a,a.Ba):0<a.na&&(a.S[a.m++]=a.Ba);a.Ba=0;a.na=0}function w(a,c,d,e){var f=2*c,g=2*d;return a[f]<a[g]||a[f]===a[g]&&e[c]<=e[d]}function B(a,c,d){for(var e=a.V[d],f=d<<1;f<=a.hc;){f<a.hc&&w(c,a.V[f+1],a.V[f],a.depth)&&f++;if(w(c,e,a.V[f],a.depth))break;a.V[d]=a.V[f];d=f;f<<=1}a.V[d]=e}function E(a,c,d){var e,f,g=0,h,p;if(0!==a.ab){do e=a.S[a.Ne+2*g]<<8|a.S[a.Ne+2*g+1],f=a.S[a.ji+g],g++,0===e?k(a,f,c):(h=O[f],k(a,h+256+1,c),p=I[h],0!==p&&(f-=y[h],l(a,f,p)),e--,h=256>e?V[e]:V[256+
(e>>>7)],k(a,h,d),p=H[h],0!==p&&(e-=L[h],l(a,e,p)));while(g<a.ab)}k(a,256,c)}function x(a,c){var d=c.Nj,e=c.Yc.El,f=c.Yc.qk,g=c.Yc.An,h,l=-1,k;a.hc=0;a.me=573;for(h=0;h<g;h++)0!==d[2*h]?(a.V[++a.hc]=l=h,a.depth[h]=0):d[2*h+1]=0;for(;2>a.hc;)k=a.V[++a.hc]=2>l?++l:0,d[2*k]=1,a.depth[k]=0,a.nc--,f&&(a.ze-=e[2*k+1]);c.ue=l;for(h=a.hc>>1;1<=h;h--)B(a,d,h);k=g;do h=a.V[1],a.V[1]=a.V[a.hc--],B(a,d,1),e=a.V[1],a.V[--a.me]=h,a.V[--a.me]=e,d[2*k]=d[2*h]+d[2*e],a.depth[k]=(a.depth[h]>=a.depth[e]?a.depth[h]:
a.depth[e])+1,d[2*h+1]=d[2*e+1]=k,a.V[1]=k++,B(a,d,1);while(2<=a.hc);a.V[--a.me]=a.V[1];h=c.Nj;k=c.ue;for(var q=c.Yc.El,r=c.Yc.qk,t=c.Yc.In,s=c.Yc.Hn,u=c.Yc.ep,v,w,x=0,g=0;15>=g;g++)a.bc[g]=0;h[2*a.V[a.me]+1]=0;for(e=a.me+1;573>e;e++)f=a.V[e],g=h[2*h[2*f+1]+1]+1,g>u&&(g=u,x++),h[2*f+1]=g,f>k||(a.bc[g]++,v=0,f>=s&&(v=t[f-s]),w=h[2*f],a.nc+=w*(g+v),r&&(a.ze+=w*(q[2*f+1]+v)));if(0!==x){do{for(g=u-1;0===a.bc[g];)g--;a.bc[g]--;a.bc[g+1]+=2;a.bc[u]--;x-=2}while(0<x);for(g=u;0!==g;g--)for(f=a.bc[g];0!==
f;)q=a.V[--e],q>k||(h[2*q+1]!==g&&(a.nc+=(g-h[2*q+1])*h[2*q],h[2*q+1]=g),f--)}p(d,l,a.bc)}function K(a,c,d){var e,f=-1,g,h=c[1],k=0,l=7,p=4;0===h&&(l=138,p=3);c[2*(d+1)+1]=65535;for(e=0;e<=d;e++)g=h,h=c[2*(e+1)+1],++k<l&&g===h||(k<p?a.ua[2*g]+=k:0!==g?(g!==f&&a.ua[2*g]++,a.ua[32]++):10>=k?a.ua[34]++:a.ua[36]++,k=0,f=g,0===h?(l=138,p=3):g===h?(l=6,p=3):(l=7,p=4))}function z(a,c,d){var e,f=-1,g,h=c[1],p=0,q=7,r=4;0===h&&(q=138,r=3);for(e=0;e<=d;e++)if(g=h,h=c[2*(e+1)+1],!(++p<q&&g===h)){if(p<r){do k(a,
g,a.ua);while(0!==--p)}else 0!==g?(g!==f&&(k(a,g,a.ua),p--),k(a,16,a.ua),l(a,p-3,2)):10>=p?(k(a,17,a.ua),l(a,p-3,3)):(k(a,18,a.ua),l(a,p-11,7));p=0;f=g;0===h?(q=138,r=3):g===h?(q=6,r=3):(q=7,r=4)}}function v(a){var c=4093624447,d;for(d=0;31>=d;d++,c>>>=1)if(c&1&&0!==a.La[2*d])return 0;if(0!==a.La[18]||0!==a.La[20]||0!==a.La[26])return 1;for(d=32;256>d;d++)if(0!==a.La[2*d])return 1;return 0}function G(a,c,d,e){l(a,0+(e?1:0),3);u(a);h(a,d);h(a,~d);D.ob(a.S,a.window,c,d,a.m);a.m+=d}var D=a("../utils/common"),
I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],t=Array(576);g(t);var r=Array(60);g(r);var V=Array(512);g(V);var O=Array(256);g(O);var y=Array(29);g(y);var L=Array(30);g(L);var na,R,ea,S=!1;d.vm=function(a){if(!S){var c,d,g,h=Array(16);for(g=d=0;28>g;g++)for(y[g]=d,c=0;c<1<<I[g];c++)O[d++]=g;O[d-1]=g;for(g=d=0;16>g;g++)for(L[g]=
d,c=0;c<1<<H[g];c++)V[d++]=g;for(d>>=7;30>g;g++)for(L[g]=d<<7,c=0;c<1<<H[g]-7;c++)V[256+d++]=g;for(c=0;15>=c;c++)h[c]=0;for(c=0;143>=c;)t[2*c+1]=8,c++,h[8]++;for(;255>=c;)t[2*c+1]=9,c++,h[9]++;for(;279>=c;)t[2*c+1]=7,c++,h[7]++;for(;287>=c;)t[2*c+1]=8,c++,h[8]++;p(t,287,h);for(c=0;30>c;c++)r[2*c+1]=5,r[2*c]=q(c,5);na=new f(t,I,257,286,15);R=new f(r,H,0,30,15);ea=new f([],M,0,19,7);S=!0}a.Ag=new e(a.La,na);a.hg=new e(a.ld,R);a.sj=new e(a.ua,ea);a.Ba=0;a.na=0;s(a)};d.wm=G;d.um=function(a,c,d,e){var f,
g,h=0;if(0<a.va){2===a.r.Zd&&(a.r.Zd=v(a));x(a,a.Ag);x(a,a.hg);K(a,a.La,a.Ag.ue);K(a,a.ld,a.hg.ue);x(a,a.sj);for(h=18;3<=h&&0===a.ua[2*C[h]+1];h--);a.nc+=3*(h+1)+14;f=a.nc+3+7>>>3;g=a.ze+3+7>>>3;g<=f&&(f=g)}else f=g=d+5;if(d+4<=f&&-1!==c)G(a,c,d,e);else if(4===a.Vb||g===f)l(a,2+(e?1:0),3),E(a,t,r);else{l(a,4+(e?1:0),3);c=a.Ag.ue+1;d=a.hg.ue+1;h+=1;l(a,c-257,5);l(a,d-1,5);l(a,h-4,4);for(f=0;f<h;f++)l(a,a.ua[2*C[f]+1],3);z(a,a.La,c-1);z(a,a.ld,d-1);E(a,a.La,a.ld)}s(a);e&&u(a)};d.Dc=function(a,c,d){a.S[a.Ne+
2*a.ab]=c>>>8&255;a.S[a.Ne+2*a.ab+1]=c&255;a.S[a.ji+a.ab]=d&255;a.ab++;0===c?a.La[2*d]++:(a.matches++,c--,a.La[2*(O[d]+256+1)]++,a.ld[2*(256>c?V[c]:V[256+(c>>>7)])]++);return a.ab===a.gf-1};d.tm=function(a){l(a,2,3);k(a,256,t);16===a.na?(h(a,a.Ba),a.Ba=0,a.na=0):8<=a.na&&(a.S[a.m++]=a.Ba&255,a.Ba>>=8,a.na-=8)}},{"../utils/common":22}],34:[function(a,c){c.R=function(){this.input=null;this.Wb=this.P=this.cb=0;this.A=null;this.$c=this.k=this.W=0;this.t="";this.state=null;this.Zd=2;this.p=0}},{}]},{},
[7])(7)}"object"==typeof exports?module.R=wj():"function"==typeof define&&define.xs?define(wj):"undefined"!=typeof window?window.Zi=wj():"undefined"!=typeof global?global.Zi=wj():"undefined"!=typeof self&&(self.Zi=wj());!0;F("JSZip");F("ZipObject");function xj(b){this.Nf=new vj(b)}J(xj,ec);F("gxnat.Zip",xj);xj.prototype.Pc=function(){return this.Nf.files};xj.prototype.ti=function(b){eb(this.Pc(),function(a){b(a.name,a.Mm())}.bind(this))};xj.prototype.c=function(){xj.f.c.call(this);this.ti(function(b){this.Nf.remove(b)}.bind(this));kb(this.Nf);delete this.Nf};F("gxnat.Zip.prototype.getFiles",xj.prototype.Pc);F("gxnat.Zip.prototype.loopFiles",xj.prototype.ti);
F("gxnat.Zip.getFilesAsZip",function(b,a,c,d){if(!Aa(b,"/files"))throw Error("filesUrl must end in '/files'!");b+=Y.dj;var e=new XMLHttpRequest;e.open("GET",b);e.responseType="arraybuffer";e.addEventListener("load",function(){a(new xj(e.response))});null!=c&&e.addEventListener("progress",c);null!=d&&e.addEventListener("error",function(a){window.console.log("DOWNLOAD ERROR: ",a);d(e,a)});e.send()});F("gxnat.Zip.prototype.dispose",xj.prototype.c);F("gxnat.slicerNode",function(){});
function yj(b){b=b.getAttribute("displayNodeRef").split(" ");for(var a=[],c="",d=0,e=b.length;d<e;d++){c=b[d].replace("vtkMRML","").split("Node")[0];switch(c){case "ScalarVolumeDisplay":c="VolumeDisplay";break;case "DiffusionTensorVolumeDisplay":c="DiffusionTensorVolumeDisplay";break;case "NCIRayCastVolumeRenderingDisplay":c="NCIRayCastVolumeRendering";break;case "GPURayCastVolumeRenderingDisplay":c="GPURayCastVolumeRendering";break;case "FiberBundleTubeDisplay":c="FiberBundleTubeDisplayNode";break;
case "FiberBundleLineDisplay":c="FiberBundleLineDisplayNode";break;case "FiberBundleGlyphDisplay":c="FiberBundleGlyphDisplayNode"}a.push(c)}return a}function zj(b){if(null!=b)return b.split(" ").map(function(a){return parseFloat(a)})}F("gxnat.slicerNode.getDisplayNodeTypes",yj);F("gxnat.slicerNode.toFloatArray",zj);function Aj(){la(this)}F("gxnat.slicerNode.Node",Aj);function Bj(b,a){la(this);var c=a.getAttribute("displayNodeRef").split(" "),d=[],e=null;P(yj(a),function(a){P(b.getElementsByTagName(a),function(a){d.push(a)})});for(var f=0,g=d.length;f<g;f++)if(-1<c.indexOf(d[f].getAttribute("id"))){e=d[f];break}this.Oe=e;this.opacity=parseFloat(e.getAttribute("opacity"),10);this.color=zj(e.getAttribute("color"));this.visible="true"===e.getAttribute("visibility");this.origin=zj(b.getAttribute("origin"));e.getAttribute("colorMode");b.getAttribute("ijkToRASDirections")}
J(Bj,Aj);F("gxnat.slicerNode.Display",Bj);function Cj(b,a){Bj.call(this,b,a)}J(Cj,Bj);F("gxnat.slicerNode.Mesh",Cj);function Dj(b,a){if(b instanceof Dj)this.Ka=b.Jl();else{var c;if(c=ia(b))a:{for(var d=c=0;d<b.length;d++){if(!ia(b[d])||0<c&&b[d].length!=c){c=!1;break a}for(var e=0;e<b[d].length;e++)if(!A(b[d][e])){c=!1;break a}0==c&&(c=b[d].length)}c=0!=c}if(c)this.Ka=Ab(b);else if(b instanceof cg)this.Ka=Ej(b.height,b.width);else if(A(b)&&A(a)&&0<b&&0<a)this.Ka=Ej(b,a);else throw Error("Invalid argument(s) for Matrix contructor");}this.Ub=new cg(this.Ka[0].length,this.Ka.length)}
function Fj(b,a,c){for(var d=0;d<b.Qc().height;d++)for(var e=0;e<b.Qc().width;e++)a.call(c,b.Ka[d][e],d,e,b)}function Gj(b,a){var c=new Dj(b.Qc());Fj(b,function(d,e,f){c.Ka[e][f]=a.call(void 0,d,e,f,b)});return c}function Ej(b,a){for(var c=[],d=0;d<b;d++){c[d]=[];for(var e=0;e<a;e++)c[d][e]=0}return c}m=Dj.prototype;m.add=function(b){if(!dg(this.Ub,b.Qc()))throw Error("Matrix summation is only supported on arrays of equal size");return Gj(this,function(a,c,d){return a+b.Ka[c][d]})};m.Qc=function(){return this.Ub};
m.multiply=function(b){if(b instanceof Dj){if(this.Ub.width!=b.Qc().height)throw Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return Hj(this,b)}if(A(b))return Ij(this,b);throw Error("A matrix can only be multiplied by a number or another matrix.");};m.Ab=function(b){if(!dg(this.Ub,b.Qc()))throw Error("Matrix subtraction is only supported on arrays of equal size.");return Gj(this,function(a,c,d){return a-b.Ka[c][d]})};
m.Jl=function(){return this.Ka};m.toString=function(){var b=0;Fj(this,function(a){a=String(a).length;a>b&&(b=a)});var a=[];P(this.Ka,function(c){a.push("[ ");P(c,function(c){c=String(c);a.push(Array(b-c.length+1).join(" ")+c+" ")});a.push("]\n")});return a.join("")};function Jj(b,a,c){return 0<=a&&a<b.Ub.height&&0<=c&&c<b.Ub.width}
function Hj(b,a){var c=new Dj(b.Ub.height,a.Qc().width);Fj(c,function(b,e,f){for(var g=b=0;g<this.Ub.width;g++)b+=(Jj(this,e,g)?this.Ka[e][g]:0)*(Jj(a,g,f)?a.Ka[g][f]:0);if(!Jj(c,e,f))throw Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+c.Ub.height+","+c.Ub.width+")");c.Ka[e][f]=b},b);return c}function Ij(b,a){return Gj(b,function(b){return b*a})};function Kj(b,a,c){Bj.call(this,b,a);for(var d=0,e,f,g,h;3>d;d++)switch(e=b.getElementsByTagName("Slice")[d].getAttribute("sliceToRAS").split(" ").map(parseFloat),sliceToRASMatrix=Gj(new Dj(4,4),function(a,b,c){return e[4*b+c]}),d){case 0:f=sliceToRASMatrix;break;case 1:g=sliceToRASMatrix;break;case 2:h=sliceToRASMatrix}this.wl=new Lj(g,h,f);a=c!==a.getAttribute("id")?!1:!0;c=!1;if(a)for(b=b.getElementsByTagName("Slice"),d=0,f=b.length;d<f&&!(c="true"===b[d].getAttribute("sliceVisibility")||!1);d++);
this.Ck=a;this.Pl=this.Oe?parseInt(this.Oe.getAttribute("upperThreshold")):null;this.Nk=this.Oe?parseInt(this.Oe.getAttribute("lowerThreshold")):null;this.visible=c}J(Kj,Bj);F("gxnat.slicerNode.Volume",Kj);function Lj(b,a,c){var d=new Dj([[0],[0],[0],[1]]);P([b,a,c],function(a){a.multiply(d)}.bind(this))}F("gxnat.slicerNode.Volume.sliceToRAS",Lj);function Mj(b,a){la(this);this.backgroundColor=this.constructor.Rk(b);this.constructor.Rk(a)}J(Mj,Aj);F("gxnat.slicerNode.BackgroundColor",Mj);F("gxnat.slicerNode.BackgroundColor.mrmlColorToRgb",function(b){return"rgb("+b.split(" ").map(function(a){return Math.round(255*parseFloat(a))}).toString()+")"});function Nj(b,a,c,d,e,f,g,h){la(this);this.element=b;this.vj=a;this.backgroundColor=c;this.Fk=d;this.nj=e;this.Kq=f;this.gp=g;this.Jn=h}J(Nj,Aj);F("gxnat.slicerNode.SceneView",Nj);function Oj(b){ec.call(this);b instanceof Nj?(this.nj=b.nj,this.vj=b.vj,this.backgroundColor=b.backgroundColor,this.Fk=b.Fk):b instanceof Kj?(this.origin=b.origin||[0,0,0],this.Pl=b.Pl||1E4,this.Nk=b.Nk||-1E4,this.Jq=b.Jq||!1,this.Ck=b.Ck||!1,this.wl=b.wl||null):b instanceof Cj&&(this.color=b.color||[.5,.5,.5],this.opacity=b.opacity||1)}J(Oj,ec);F("gxnat.vis.RenderProperties",Oj);Oj.prototype.c=function(){Oj.f.c.call(this);kb(this)};F("gxnat.vis.RenderProperties.prototype.dispose",Oj.prototype.c);function Pj(b){Y.xa.Aa.call(this);this.Fe=b||null}J(Pj,Y.xa.Aa);F("gxnat.vis.Renderable",Pj);Pj.prototype.Ji=function(b){this.Fe=b instanceof Oj?b:new Oj(b)};Pj.prototype.no=function(){return this.Fe};Pj.prototype.c=function(){Pj.f.c.call(this);this.Fe&&(this.Fe.c(),delete this.Fe)};F("gxnat.vis.Renderable.prototype.setRenderProperties",Pj.prototype.Ji);F("gxnat.vis.Renderable.prototype.getRenderProperties",Pj.prototype.no);F("gxnat.vis.Renderable.prototype.dispose",Pj.prototype.c);function Qj(b,a){Pj.call(this,a);this.Nc=b||[];null!=a&&this.Ji(a)}J(Qj,Pj);F("gxnat.vis.Viewable",Qj);m=Qj.prototype;m.od=null;m.$n=function(){return this.od};m.iq=function(b){return this.od=b};m.jq=function(b){null!=this.od&&kb(this.od);this.od={};var a=this.Pc();P(a,function(a){this.od[a]=null}.bind(this));var c,d,e,f;b.ti(function(b,h){c=0;for(d=a.length;c<d;c++)if(e=a[c],f="/files/"+b.split("/files/")[1],Aa(e,f)){this.od[e]=h;break}}.bind(this));b.c()};m.Pc=function(){return this.Nc};
m.aq=function(b){window.Hs.log("REMOVING FILE",b);yb(this.Nc,b)};m.Gc=function(b,a){null==this.Nc&&(this.Nc=[]);ha(b)||(b=[b]);P(b,function(b){null!=a&&null==a(b)||this.Nc.push(b)}.bind(this))};m.c=function(){Qj.f.c.call(this);this.Nc&&(wb(this.Nc),delete this.Nc)};F("gxnat.vis.Viewable.prototype.getFileData",Qj.prototype.$n);F("gxnat.vis.Viewable.prototype.setFileData",Qj.prototype.iq);F("gxnat.vis.Viewable.prototype.setFileDataFromZip",Qj.prototype.jq);
F("gxnat.vis.Viewable.prototype.getFiles",Qj.prototype.Pc);F("gxnat.vis.Viewable.prototype.removeFile",Qj.prototype.aq);F("gxnat.vis.Viewable.prototype.addFiles",Qj.prototype.Gc);F("gxnat.vis.Viewable.prototype.dispose",Qj.prototype.c);function Rj(b){Pj.call(this);null!=b?ha(b)||(b=[b]):b=[];this.Yb=b}J(Rj,Pj);F("gxnat.vis.ViewableGroup",Rj);Rj.prototype.lj=function(b){return this.Yb.push(b)};Rj.prototype.Un=function(){var b=[];P(this.Yb,function(a){b=zb(b,a.Pc())});return b};Rj.prototype.uo=function(){return this.Yb};Rj.prototype.c=function(){Rj.f.c.call(this);P(this.Yb,function(b){ha(b)?P(b,function(a){a.c()}):b instanceof Qj&&b.c()});delete this.Yb};F("gxnat.vis.ViewableGroup.prototype.addViewable",Rj.prototype.lj);
F("gxnat.vis.ViewableGroup.prototype.getAllViewableFiles",Rj.prototype.Un);F("gxnat.vis.ViewableGroup.prototype.getViewables",Rj.prototype.uo);F("gxnat.vis.ViewableGroup.prototype.dispose",Rj.prototype.c);function Sj(){Y.xa.Aa.call(this);this.za=[]}J(Sj,Y.xa.Aa);F("gxnat.vis.ViewableTree",Sj);function Tj(b,a,c){this.Op=b;this.wq=a;this.Dn=c}F("gxnat.vis.ViewableTree.metadataCollection",Tj);m=Sj.prototype;m.Mg=null;m.Ae=null;m.fe=null;m.orientation=null;m.jo=function(){return this.orientation};m.vf=function(b){this.Mg=b};m.wf=function(b){this.Ae=b};m.uf=function(b){this.fe=b};m.to=function(){return this.za};
m.c=function(){Sj.f.c.call(this);null!=this.Mg&&(kb(this.Mg),delete this.ut);null!=this.Ae&&(kb(this.Ae),delete this.Ft);null!=this.fe&&(kb(this.fe),delete this.Ts);null!=this.za&&(P(this.za,function(b){b.c()}),delete this.za);null!=this.Gl&&wb(this.Gl);delete this.Gl;delete this.orientation};F("gxnat.vis.ViewableTree.metadataCollection",Tj);F("gxnat.vis.ViewableTree.prototype.projectMetadata",Sj.prototype.Mg);F("gxnat.vis.ViewableTree.prototype.subjectMetadata",Sj.prototype.Ae);
F("gxnat.vis.ViewableTree.prototype.experimentMetadata",Sj.prototype.fe);F("gxnat.vis.ViewableTree.prototype.orientation",Sj.prototype.orientation);F("gxnat.vis.ViewableTree.prototype.getOrientation",Sj.prototype.jo);F("gxnat.vis.ViewableTree.prototype.setProjectMetadata",Sj.prototype.vf);F("gxnat.vis.ViewableTree.prototype.setSubjectMetadata",Sj.prototype.wf);F("gxnat.vis.ViewableTree.prototype.setExperimentMetadata",Sj.prototype.uf);F("gxnat.vis.ViewableTree.prototype.getViewableGroups",Sj.prototype.to);
F("gxnat.vis.ViewableTree.prototype.dispose",Sj.prototype.c);function Uj(b,a,c){Sj.call(this);this.Tg(b);null!=c&&null!=a&&(this.Qe=c,this.we=Ef(this.Qe,a.URI,"experiments"),this.If=new zf(this.we));this.cf=a;this.jb={}}J(Uj,Sj);F("gxnat.vis.AjaxViewableTree",Uj);var Vj={ID:"Scan ID",Name:"Name",type:"Scan Type"},Wj={yob:"Year of Birth",acquisition_site:"Acq. Site",date:"Date",scanner:"Scanner",label:"Subject"},Xj={label:"Session"};function Yj(b,a,c){Y.ic(b,function(b){ha(b);P(b,function(b){a(b)});c&&c()})}m=Uj.prototype;m.gc=null;m.Mc=!1;
m.ol=function(b,a){null==this.gc&&(this.gc={});this.gc[b]=a};m.so=function(){var b=0;eb(this.gc,function(a,c){b+=this.dk(c)}.bind(this));return b};m.dk=function(b){return parseInt(this.gc[b].Size,10)};m.ao=function(){return this.gc};m.co=function(){return this.Mc};m.pl=function(b){this.Mc=b};m.Yn=function(){return this.Qe};m.mo=function(){return this.we};m.po=function(){return this.jb};m.tl=function(b){this.jb=b};m.ye=function(){eb(Vj,function(b,a){null!=this.cf[a]&&(this.jb[b]=this.cf[a])}.bind(this))};
m.vf=function(b){Uj.f.vf.call(this,b)};m.wf=function(b){Uj.f.wf.call(this,b);eb(Wj,function(a,b){null!=this.Ae[b]&&(this.jb[a]=this.Ae[b])}.bind(this))};m.uf=function(b){Uj.f.uf.call(this,b);eb(Xj,function(a,b){null!=this.fe[b]&&(this.jb[a]=this.fe[b])}.bind(this))};m.fo=function(){return this.Te};m.Fg=function(b){b=b[this.Se];if(!za(b,"/"))return this.we+"!"+b};
m.Oc=function(b){if(this.Mc)b();else{var a=0,c=0,d="",e;Y.ic(this.we+this.ng,function(f){for(c=f.length;a<c;a++)if(e=f[a],d=this.Fg(e))this.ol(d,e),this.Gc(d,this.ge);b();this.Mc=!0}.bind(this))}};m.ge=function(b){return-1<b.indexOf("_MACOSX")?null:b};m.rd=function(){};function Zj(b,a,c,d){var e=new zf(b);Yj(b+"/"+a.prototype.Te,function(b){new a(b,e.pc("experiments"),c)},d)}
m.c=function(){Uj.f.c.call(this);null!=this.gc&&(kb(this.gc),delete this.gc);delete this.Mc;kb(this.jb);delete this.jb;null!=this.cf&&(kb(this.cf),delete this.cf);null!=this.If&&(this.If.c(),delete this.If);delete this.Qe;delete this.we};F("gxnat.vis.AjaxViewableTree.VIEWABLE_KEY_MAP",Vj);F("gxnat.vis.AjaxViewableTree.SUBJECT_KEY_MAP",Wj);F("gxnat.vis.AjaxViewableTree.EXPERIMENT_KEY_MAP",Xj);F("gxnat.vis.AjaxViewableTree.FILE_SIZE_KEY","Size");F("gxnat.vis.AjaxViewableTree.loopFolderContents",Yj);
F("gxnat.vis.AjaxViewableTree.getViewableTrees",Zj);F("gxnat.vis.AjaxViewableTree.prototype.filesGotten",Uj.prototype.Mc);F("gxnat.vis.AjaxViewableTree.prototype.setFileMetadata",Uj.prototype.ol);F("gxnat.vis.AjaxViewableTree.prototype.getTotalSize",Uj.prototype.so);F("gxnat.vis.AjaxViewableTree.prototype.getFileSize",Uj.prototype.dk);F("gxnat.vis.AjaxViewableTree.prototype.getFileMetadata",Uj.prototype.ao);F("gxnat.vis.AjaxViewableTree.prototype.getFilesGotten",Uj.prototype.co);
F("gxnat.vis.AjaxViewableTree.prototype.setFilesGotten",Uj.prototype.pl);F("gxnat.vis.AjaxViewableTree.prototype.getExperimentUrl",Uj.prototype.Yn);F("gxnat.vis.AjaxViewableTree.prototype.getQueryUrl",Uj.prototype.mo);F("gxnat.vis.AjaxViewableTree.prototype.getSessionInfo",Uj.prototype.po);F("gxnat.vis.AjaxViewableTree.prototype.setSessionInfo",Uj.prototype.tl);F("gxnat.vis.AjaxViewableTree.prototype.setViewableMetadata",Uj.prototype.ye);
F("gxnat.vis.AjaxViewableTree.prototype.setProjectMetadata",Uj.prototype.vf);F("gxnat.vis.AjaxViewableTree.prototype.setSubjectMetadata",Uj.prototype.wf);F("gxnat.vis.AjaxViewableTree.prototype.setExperimentMetadata",Uj.prototype.uf);F("gxnat.vis.AjaxViewableTree.prototype.getFolderQuerySuffix",Uj.prototype.fo);F("gxnat.vis.AjaxViewableTree.prototype.makeFileUrl",Uj.prototype.Fg);F("gxnat.vis.AjaxViewableTree.prototype.getFileList",Uj.prototype.Oc);
F("gxnat.vis.AjaxViewableTree.prototype.fileFilter",Uj.prototype.ge);F("gxnat.vis.AjaxViewableTree.prototype.getThumbnailImage",Uj.prototype.rd);F("gxnat.vis.AjaxViewableTree.prototype.dispose",Uj.prototype.c);function ak(b,a,c){Uj.call(this,"Scans",b,a);this.jb["Total Frames"]=0;c&&c(this)}J(ak,Uj);F("gxnat.vis.Scan",ak);var bk="dcm dicom ima nii nii.gz nrrd mgh mgz".split(" ");m=ak.prototype;m.Te="scans";m.ng="/files";m.Se="URI";m.ye=function(){ak.f.ye.call(this);null!=this.yd["parameters/orientation"]&&(this.jb.Orientation=this.constructor.Xs(this.yd["parameters/orientation"]),this.orientation=this.jb.Orientation);null!=this.yd["parameters/acqType"]&&(this.jb["Acq. Type"]=this.yd["parameters/acqType"])};
m.Oc=function(b){this.Mc?b():Y.ic(this.If.originalUrl,function(a){this.yd=a.items[0].data_fields;this.ye();ak.f.Oc.call(this,function(){this.rd();b()}.bind(this))}.bind(this))};m.ge=function(b){b=ak.f.ge.call(this,b);if(null!=b){for(var a=0,c=bk.length;a<c;a++)if(Aa(b,"."+bk[a]))return b;window.console.log("Found skippable scan file: ",b);return null}};
m.Gc=function(b){this.Tg("Scans");if(0==this.za.length){var a=new Rj;a.sc("scan");a.Tg("scans");this.za.push(a)}0==this.za[0].Yb.length&&this.za[0].lj(new Qj);this.za[0].Yb[0].Gc(b,this.ge);this.jb["Total Frames"]=this.za[0].Yb[0].Pc().length};m.Fg=function(b){return Ef(this.Qe,b[this.Se],"experiments")};m.rd=function(b){if(this.za&&this.za[0]){var a=this.za[0].Yb[0].Pc().sort(Y.Gg);this.xf(a[Math.floor(a.length/2)]+Y.JPEG_CONVERT_SUFFIX);null!=b&&b(this)}};
m.c=function(){ak.f.c.call(this);null!=this.yd&&kb(this.yd);delete this.yd};F("gxnat.vis.Scan.acceptableFileTypes",bk);F("gxnat.vis.Scan.getOrientationFromAbbreviation",function(b){switch(b){case "Sag":return"Sagittal";case "Cor":return"Coronal";case "Tra":return"Transverse"}});F("gxnat.vis.Scan.prototype.folderQuerySuffix",ak.prototype.Te);F("gxnat.vis.Scan.prototype.fileQuerySuffix",ak.prototype.ng);F("gxnat.vis.Scan.prototype.fileContentsKey",ak.prototype.Se);
F("gxnat.vis.Scan.prototype.setViewableMetadata",ak.prototype.ye);F("gxnat.vis.Scan.prototype.getFileList",ak.prototype.Oc);F("gxnat.vis.Scan.prototype.fileFilter",ak.prototype.ge);F("gxnat.vis.Scan.prototype.addFiles",ak.prototype.Gc);F("gxnat.vis.Scan.prototype.makeFileUrl",ak.prototype.Fg);F("gxnat.vis.Scan.prototype.getThumbnailImage",ak.prototype.rd);F("gxnat.vis.Scan.prototype.dispose",ak.prototype.c);function ck(b,a,c,d){la(this);this.url=b;this.document=a;this.files=d}J(ck,Aj);F("gxnat.slicerNode.Mrml",ck);function dk(b,a){la(this);this.file=b;this.Sb=a}J(dk,Aj);F("gxnat.slicerNode.Displayable",dk);function ek(b){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(b,"application/xml");if("undefined"!=typeof ActiveXObject){var a=new ActiveXObject("MSXML2.DOMDocument");if(a){a.resolveExternals=!1;a.validateOnParse=!1;try{a.setProperty("ProhibitDTD",!0),a.setProperty("MaxXMLSize",2048),a.setProperty("MaxElementDepth",256)}catch(c){}}a.loadXML(b);return a}throw Error("Your browser does not support loading xml documents");};function fk(b,a,c){la(this);this.position=b;this.focus=c}J(fk,Aj);F("gxnat.slicerNode.Camera",fk);function gk(b,a,c,d,e,f){la(this);this.position=b;this.color=a;this.name=f}J(gk,Aj);F("gxnat.slicerNode.Annotations",gk);function hk(){la(this)}J(hk,Aj);F("gxnat.slicerNode.Layout",hk);Y.g={};F("gxnat.slicerUtils",Y.g);Y.g.Xi="/scripts/viewer/xiv/vis/GenericColorTable.txt";Y.g.Sj=function(b){for(var a=[],c=0,d=b.length;c<d;c++)Aa(b[c],".mrml")&&a.push(b[c]);return a};Y.g.ci=function(b,a){Y.get(b,function(b){a(new ek(b))},"text")};Y.g.hk=function(b,a,c){b=ha(b)?b:[b];var d=Y.g.Sj(b),e=[],f=0;P(d,function(a){Y.g.ci(a,function(h){f++;e.push(new ck(a,h,0,b));f==d.length&&c(e)})})};
Y.g.Cj=function(b,a,c){Y.g.Yj(b,a,function(a){c(new Nj(b,Y.g.bk(b),Y.g.Zj(b),Y.g.ek(b),a,Y.g.lk(b),Y.g.gk(b),null))})};Y.g.ik=function(b,a){var c=[],d=[],e=0;P(b,function(b){c=Y.g.jk(b.document);P(c,function(g){Y.g.Cj(g,b,function(b){e++;d.push(b);e==c.length&&a(d)})})})};Y.g.ck=function(b,a){b=n(b)?Y.g.ci(b):b;var c=[];P(b.getElementsByTagName(a),function(a){c.push(a)});return c};Y.g.jk=function(b){return Y.g.ck(b,"SceneView")};
Y.g.bk=function(b){return new fk(zj(b.getElementsByTagName("Camera")[0].getAttribute("position")),zj(b.getElementsByTagName("Camera")[0].getAttribute("viewUp")),zj(b.getElementsByTagName("Camera")[0].getAttribute("focalPoint")))};Y.g.kk=function(b,a){for(var c=b.getAttribute("storageNodeRef"),d=a.getElementsByTagName("SceneViewStorage"),e=0,f=d.length;e<f;e++)if(d[e].getAttribute("id")===c)return d[e].getAttribute("fileName")};
Y.g.Zj=function(b){return new Mj(b.getElementsByTagName("View")[0].getAttribute("backgroundColor"),b.getElementsByTagName("View")[0].getAttribute("backgroundColor2"))};Y.g.ek=function(b){return new hk(b.getElementsByTagName("Layout")[0].getAttribute("currentViewArrangement"))};
Y.g.re=function(b,a){if(null!=b)for(var c=0,d=a.length,e="",f="";c<d;c++)if(e=decodeURIComponent(a[c].toLowerCase()),f=decodeURIComponent(b.toLowerCase()),-1<f.indexOf("%")&&(f=decodeURIComponent(f)),e.indexOf(f)==e.length-f.length)return a[c].replace(/%/g,"%25")};Y.g.bo=function(b,a){var c=b.slice(0,b.lastIndexOf("/")+1);/^\/+$/.test(c)||(c=c.replace(/\/+$/,""));return Qa(a,"!",bj(c),"/",bj(b))};
Y.g.Yj=function(b,a,c){var d=b.getElementsByTagName("MarkupsDisplay"),e=b.getElementsByTagName("MarkupsFiducial");b=b.getElementsByTagName("MarkupsFiducialStorage");var f=[],g=[],h=0,l,k,q="rgb(255,0,0)",p="",s="",u="",w=0,B,E;0==b.length?c(null):(P(b,function(b){g.push(Y.g.re(b.getAttribute("fileName"),a.files))}),0==g.length?c(null):P(g,function(a){Y.get(a,function(a){h++;P(a.split(/\n/),function(a){if(-1==a.indexOf("#")&&(l=a.split(/,/),1!=l.length)){k=[parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3])];
u=l[11];q=[1,0,0];s=p="";w=0;for(len=e.length;w<len;w++)if(B=e[w],p=B.getAttribute("id"),p===l[0].replace("_","")){s=B.getAttribute("displayNodeRef");break}len=d.length;for(w=0;w<len;w++)if(E=d[w],p=E.getAttribute("id"),p===s){q=zj(E.getAttribute("color")).map(function(a){return parseFloat(a)});break}f.push(new gk(k,q,0,0,0,u))}});h==g.length&&c(f)},"text")}))};
Y.g.bi=function(b,a,c){var d=[],e=b.getElementsByTagName(c),f=null,g=0,h=e.length;P(b.getElementsByTagName(a),function(a){for(g=0;g<h;g++)if(f=e[g],f.getAttribute("id")===a.getAttribute("storageNodeRef")){d.push(new dk(f.getAttribute("fileName"),a));break}});return d};Y.g.Zn=function(){return null};
Y.g.lk=function(b){var a=b.getElementsByTagName("Selection")[0].getAttribute("activeVolumeID"),c=Y.g.bi(b,"Volume","VolumeArchetypeStorage"),d=b.getElementsByTagName("LabelMapVolumeDisplay"),e=[],f=[],g="";P(c,function(a){g=a.Sb.getAttribute("displayNodeRef");1<g.indexOf("LabelMap")?(P(d,function(b){b.getAttribute("id")==g&&(a.Oe=b,-1!=b.getAttribute("colorNodeID").indexOf("vtkMRMLColorTableNodeFileGeneric")?a.Hh=serverRoot+Y.g.Xi:window.console.log("Custom color table: ",b.getAttribute("colorNodeID")))}),
e.push(a)):f.push(a)});var h="";P(e,function(a){h=a.Sb.getAttribute("attributes").split(";");P(h,function(b){-1!=b.indexOf("AssociatedNodeID")&&(refVol=b.split(":")[1],P(f,function(b){b.Sb.getAttribute("id")==refVol&&(b.jc=a)}.bind(this)))}.bind(this))});P(f,function(c){c.zb=new Kj(b,c.Sb,a);c.jc&&(c.zb.jc=c.jc,delete c.jc)});return f};Y.g.gk=function(b){var a=Y.g.bi(b,"Model","ModelStorage");P(a,function(a){a.zb=new Cj(b,a.Sb)});return a};F("gxnat.slicerUtils.GENERIC_COLORTABLE_FILE",Y.g.Xi);
F("gxnat.slicerUtils.extractMrmls",Y.g.Sj);F("gxnat.slicerUtils.getMrmlAsXml",Y.g.ci);F("gxnat.slicerUtils.getMrmlNodes",Y.g.hk);F("gxnat.slicerUtils.createSceneViewProperties",Y.g.Cj);F("gxnat.slicerUtils.getSceneViewNodes",Y.g.ik);F("gxnat.slicerUtils.getElementsFromMrml",Y.g.ck);F("gxnat.slicerUtils.getSceneViewsFromMrml",Y.g.jk);F("gxnat.slicerUtils.getCameraFromSceneView",Y.g.bk);F("gxnat.slicerUtils.getThumbnail",Y.g.kk);F("gxnat.slicerUtils.mrmlColorToRgb",Y.g.Rk);
F("gxnat.slicerUtils.getBackgroundColorFromSceneView",Y.g.Zj);F("gxnat.slicerUtils.getLayoutFromSceneView",Y.g.ek);F("gxnat.slicerUtils.matchFileToSet",Y.g.re);F("gxnat.slicerUtils.getFileUrlRelativeToMrbUrl",Y.g.bo);F("gxnat.slicerUtils.getAnnotations",Y.g.Yj);F("gxnat.slicerUtils.getDisplayables",Y.g.bi);F("gxnat.slicerUtils.getFibers",Y.g.Zn);F("gxnat.slicerUtils.getVolumes",Y.g.lk);F("gxnat.slicerUtils.getMeshes",Y.g.gk);function ik(b,a,c){this.lc=[];Uj.call(this,"Slicer Scenes",b,a);c&&c(this)}J(ik,Uj);F("gxnat.vis.Slicer",ik);var jk=["jpeg","jpg","png","gif"];m=ik.prototype;m.Te="resources/Slicer/files";m.ng="?listContents=true";m.Se="File Name";m.Oc=function(b){this.Mc?kk(this,b):ak.f.Oc.call(this,function(){this.rd(function(){this.ye();kk(this,b)}.bind(this))}.bind(this))};function kk(b,a){Y.g.hk(b.lc,0,function(b){Y.g.ik(b,function(d){this.Bj(d,b,a)}.bind(this))}.bind(b))}
m.Bj=function(b,a,c){this.kp=a;this.dq=b;var d,e,f,g;P(this.dq,function(a){d=[a.Kq||[],a.gp||[],a.Jn||[]];e=[];P(d,function(a){P(a,function(a){f=Y.g.re(bj(a.file),this.lc);a.zb instanceof Kj&&a.zb.jc&&(a.zb.labelMapFile=Y.g.re(a.zb.jc.file,this.lc),null!=a.zb.jc.Hh&&null==Y.g.re(a.zb.jc.Hh,this.lc)&&(a.zb.colorTableFile=a.zb.jc.Hh));e.push(new Qj(f,a.zb))}.bind(this))}.bind(this));g=new Rj(e);g.xf(Y.g.re(Y.g.kk(a.element,this.kp[0].document),this.lc));g.sc(a.element.getAttribute("name"));g.Ji(a);
this.za.push(g)}.bind(this));c&&c(this)};m.rd=function(b){var a="",c=0,d=this.lc.length;for(this.thumbnailFiles=[];c<d;c++)a=Wh(this.lc[c]),-1!=jk.indexOf(a)&&this.thumbnailFiles.push(this.lc[c]);P(this.thumbnailFiles,function(a,b){-1!=a.indexOf("%20")&&(this.thumbnailFiles[b]=a.replace(/%20/g,"%2520"))}.bind(this));d=this.thumbnailFiles.length;for(c=0;c<d;c++)if("Data"!=Uh(Vh(this.thumbnailFiles[c]))){this.xf(this.thumbnailFiles[c]);break}b&&b(this)};m.Gc=function(b){ha(b)||(b=[b]);P(b,function(a){this.lc.push(a)}.bind(this))};
F("gxnat.vis.Slicer.thumbnailExtensions",jk);F("gxnat.vis.Slicer.prototype.folderQuerySuffix",ik.prototype.Te);F("gxnat.vis.Slicer.prototype.fileQuerySuffix",ik.prototype.ng);F("gxnat.vis.Slicer.prototype.fileContentsKey",ik.prototype.Se);F("gxnat.vis.Slicer.prototype.getFileList",ik.prototype.Oc);F("gxnat.vis.Slicer.prototype.convertToViewableGroups",ik.prototype.Bj);F("gxnat.vis.Slicer.prototype.getThumbnailImage",ik.prototype.rd);F("gxnat.vis.Slicer.prototype.addFiles",ik.prototype.Gc);/*
 Copyright 2014 Washington University
 @author sunilk@mokacreativellc.com (Sunil Kumar)
 @author herrickr@mir.wustl.edu (Rick Herrick)
*/
function lk(){}F("xiv",lk);function mk(b,a,c,d){ec.call(this);nk();ok();this.Jf={a:ak,sq:ik};this.dn=null!=b?b:mk.States.eh;this.hp=a;this.nl=d;this.Og=Bf(d);this.Kb=this.Kb?this.Kb:[];b="/"!==c[0]?"/"+c:c;-1===this.Kb.indexOf(this.Og+b)&&this.Kb.push(-1===b.indexOf(this.Og)?this.Og+b:b);1==this.Kb.length&&(this.Da=new zf(this.Kb[0]))}J(mk,ec);F("xiv.start",mk);mk.ModalStates={gr:"fullscreen",hm:"popup",hr:"fullscreen-popup",tr:"windowed",eh:"demo",ar:"demp-fullscreen"};mk.States={eh:"demo",kr:"live"};
function nk(){De.IMA=[Ee,null]}function ok(){document.body.style.overflow="hidden"}m=mk.prototype;m.bh=Ua();m.mj=300;m.zk=1E3;m.xg=!1;m.zg=!1;m.sl=function(){};m.pj=function(){pk(this);this.show();if(this.dn==mk.States.eh){xg(this.G.lo());xg(this.G.Xn());var b=Ie(function(){delete b;qk(this)}.bind(this),this.zk)}else this.G.zt(this.hp),rk(this)};m.kq=function(b){this.ip=b};
function pk(b){b.G=new b.ip;b.G.ql(serverRoot);rc(b.G,"g",b.Cp.bind(b));window.onresize=function(){null!=this.G&&this.G.Xb()}.bind(b)}m.Cp=function(){this.Ga.Mk(null,function(b){P(b,function(a){sk(this,a);this.G.qd().lt()}.bind(this))}.bind(this))};m.show=function(){this.G.e().style.opacity=0;this.G.Ea();rc(this.G.qd().$e(),"d",this.Ai.bind(this));rc(this.G.lo(),"click",this.bn.bind(this));rc(this.G.Xn(),"click",this.c.bind(this));this.G.Ys().Tb(!0,0,this.zk);Pi(this.G.e(),this.mj)};
function qk(b){var a=b.G.qd(),c={slicer:(new lk.cq.sr).oo(),scan:(new lk.cq.rr).oo()},d;eb(c,function(a,b){P(a,function(a){d="scan"==b?new this.Jf.a:new this.Jf.sq;d.Gc(a.files);d.pl(!0);d.tl(a.nt);d.xf(a.Ht);tk(this,d,a.Vs)}.bind(this))}.bind(b));a.$e().Ss()}
function rk(b){var a=b.G.qd().$e(),c=0;uk(b);b.Ga=new Ff(b.Kb[0]);b.Ga.Jk(function(b){var e=sk(this,b);0==c&&(this.Io=b,this.xk=a.Tb(e[0]));1==c&&(this.zg=!0,this.Jo=b,this.hi=a.Tb(e[1],this.xk));2==c&&(this.xg=!0,this.yg=b,this.Ho=a.Tb(e[2],this.hi));c++}.bind(b))}function vk(b,a){var c=b.Ga.Ue(a),d=b.Ga.$j(a),e=0;eb(c,function(a,b){d[e]='<font color="black"><b>'+b.toUpperCase()+":</b></font>&nbsp&nbsp&nbsp&nbsp&nbsp"+d[e];e++});return d}
function sk(b,a){var c=b.Ga.ak(a),d=vk(b,a);wk(b,d,c);return d}function xk(b,a){b.Ga.Ik(a.originalUrl,null,function(b){if(a.pc("subjects")==this.Da.pc("subjects")&&this.zg){var d=this.Da.pc("experiments");this.yg=this.Ga.je(d);yb(b,this.yg);Bb(b,0,0,this.yg);this.zg=!1}P(b,function(a){sk(this,a)}.bind(this))}.bind(b))}m.Ai=function(b){if(null!=b.Sb[this.bh])switch(b=new zf(b.Sb[this.bh]),b.og()){case "subjects":xk(this,b);break;case "experiments":yk(this,b.originalUrl)}};
m.ug=function(b){Ri(this.G.e(),this.mj,b)};m.c=function(){this.ug(this.wn.bind(this))};function yk(b,a){if(null==b.qi)b.qi=[];else if(-1<b.qi.indexOf(a)){window.console.log("don't need to reload",a);return}var c=b.Ga.Ue(b.Ga.je(a)),c=new Tj(c.projects[Rf],c.subjects[Rf],c.experiments[Rf]);zk(b,a,function(){this.qi.push(a);this.xg&&(this.xg=!1,eb(this.hi.fh,function(){}.bind(this)))}.bind(b),c)}m.Gp=function(b){var a=b.Sb.Fb.Zf;b.Sb.Fb.Zf=0;b.Sb.Fb.Zf=a};
function uk(b){b.G.qd()&&rc(b.G.qd().$e(),hj.Rr.er.nr,b.Gp.bind(b))}m.bn=function(){var b=open(this.nl+"/scripts/viewer/xiv/popup.html?"+this.Kb[0],"XImgView","width=1200,height=800");b.focus();var a=this.Kb[0];b.onload=function(){b.jt(a,mk.ModalStates.hm,serverRoot)}.bind(this);this.c()};function zk(b,a,c,d){Ak(b,a,function(a){var b=a.we;Bk(this,a,b,function(a){tk(this,a)}.bind(this));null!=d&&(this.Eb[b].vf(d.Op),this.Eb[b].wf(d.wq),this.Eb[b].uf(d.Dn))}.bind(b),c)}
function wk(b,a,c){var d=b.G.qd().$e();d.Js(a);zippyNodes=d.eo(a);P(zippyNodes,function(a,b){null==c||null==c[b]||null==a[this.bh]&&(a[this.bh]=c[b])}.bind(b))}function tk(b,a,c){var d=b.G.qd();null!=d&&(null==c&&null!=b.Ga&&(c=vk(b,b.Ga.je(a.Qe))),"Scans"!=a.gd&&c.push(a.gd),a.Oc(function(){if(0<a.za.length){var b=d.Is(a,c);if("Scans"!=a.gd){var f=d.$e().eo(c);0<c.length&&1<f.length&&d.Tb(c[c.length-1],f[f.length-2])}d.xt(this.G.e());b.yt(a.Af);b.Kt()}}.bind(b)))}
function Bk(b,a,c,d){b.Eb=b.Eb?b.Eb:{};null==b.Eb[c]&&(b.Eb[c]=a,d(a))}
m.wn=function(){mk.f.c.call(this);document.body.style.overflow="visible";eb(this.Eb,function(b,a){b.c();delete this.Eb[a]}.bind(this));delete this.Eb;this.Ga&&(this.Ga.c(),delete this.Ga);delete this.Kb;delete this.nl;delete this.Og;delete this.Zs;null!=this.Da&&(this.Da.c(),delete this.Da);delete this.xg;delete this.zg;delete this.Io;delete this.Jo;delete this.yg;delete this.xk;delete this.hi;delete this.Ho;Bc(this.G);this.G.c();xg(this.G.e());delete this.G};
function Ak(b,a,c,d){var e=fb(b.Jf),f=0;eb(b.Jf,function(b){Zj(a,b,c,function(){f++;f===e&&null!=d&&d()})})}
function Ck(){var b=!0,a=Ob(),c={Chrome:{bf:Jb("Chrome")||Jb("CriOS"),jf:11},IE:{bf:Mb(),jf:11},Safari:{bf:Nb(),jf:5.1},Opera:{bf:Lb(),jf:12},Firefox:{bf:Jb("Firefox"),jf:4}},d=!1;eb(c,function(c){if(c.bf&&!d&&1==Ra(c.jf,a)){c=new mj;c.zm();c.Bm();var f=c.rh();Yf(f,mj.CSS.gm);f.src=serverRoot+"/images/viewer/xiv/ui/Overlay/sadbrain-white.png";c.e().style.position="fixed";c.e().style.height="240px";c.Rd("<br>XImgView is supported on the following browsers:<br>Google Chrome, Version 12+<br>Firefox, Version 4+<br>Safari, Version 5.1+<br>Opera Next, Version 12+<br>Internet Explorer, Version 11+<br>");
c.tc[0].style.top="120px";c.Ea();c.e().style.opacity=0;Pi(c.e(),400);b=!1;d=!0}});b&&!mk.checkForWebGL()&&(Dk(),b=!1);return b}
function Dk(){var b='<br>It looks like <a style="color: #00FFFF" href="https://developer.mozilla.org/en-US/docs/Web/WebGL/Getting_started_with_WebGL">WebGL or Experimental-WebGL</a> is disabled.<br><br>How to enable WebGL in ',a,c=':<br> <a  style="color: #00FFFF" href=';Mb()?(a="Internet Explorer",c+='"http://msdn.microsoft.com/en-us/library/ie/bg182648(v=vs.85).aspx">http://msdn.microsoft.com/en-us/library/ie/bg182648(v=vs.85).aspx</a>'):Jb("Chrome")||Jb("CriOS")?(a="Chrome",c+='"https://www.biodigitalhuman.com/home/enabling-webgl.html">https://www.biodigitalhuman.com/home/enabling-webgl.html</a>'):
Jb("Firefox")?(a="Firefox",c+='"https://www.biodigitalhuman.com/home/enabling-webgl.html">https://www.biodigitalhuman.com/home/enabling-webgl.html</a>'):Nb()?(a="Safari",c+='"https://discussions.apple.com/thread/3300585?start=0">https://discussions.apple.com/thread/3300585?start=0</a>'):Lb()&&(a="Opera",c+='"http://techdows.com/2012/06/turn-on-hardware-acceleration-and-webgl-in-opera-12.html">http://techdows.com/2012/06/turn-on-hardware-acceleration-and-webgl-in-opera-12.html</a>');b+=a+c;a=new mj;
a.zm();a.Bm();c=a.rh();Yf(c,mj.CSS.gm);c.src=serverRoot+"/images/viewer/xiv/ui/Overlay/sadbrain-white.png";a.Rd(b);a.tc[0].style.top="120px";a.Ea();a.e().style.position="fixed";a.e().style.opacity=0;Pi(a.e(),400)}mk.checkForWebGL=function(){var b=sg("canvas"),a;try{a=b.getContext("webgl")||b.getContext("experimental-webgl")}catch(c){a=null}return null!=a?!0:!1};F("xiv.start.States",mk.States);F("xiv.start.loadCustomExtensions",nk);F("xiv.start.adjustDocumentStyle",ok);F("xiv.start.ModalStates",mk.ModalStates);
F("xiv.start.checkForWebGL",mk.checkForWebGL);F("xiv.start.isCompatible",Ck);F("xiv.start.prototype.setServerRoot",mk.prototype.sl);F("xiv.start.prototype.setModalType",mk.prototype.kq);F("xiv.start.prototype.begin",mk.prototype.pj);F("xiv.start.prototype.show",mk.prototype.show);F("xiv.start.prototype.hide",mk.prototype.ug);F("xiv.start.prototype.dispose",mk.prototype.c);window["xiv.start.isCompatible"]=Ck;window["xiv.start.checkForWebGL"]=mk.checkForWebGL;window["xiv.start.ModalStates"]=mk.ModalStates;
mk.prototype.setServerRoot=mk.prototype.sl;mk.prototype.begin=mk.prototype.pj;
