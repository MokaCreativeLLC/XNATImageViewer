var f,aa=aa||{},ba=this;function ca(a){return void 0!==a}function da(a){a=a.split(".");for(var b=ba,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ea(){}function fa(a){a.ce=function(){return a.LA?a.LA:a.LA=new a}}
function ga(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return null!=a}function g(a){return"array"==ga(a)}function ia(a){var b=ga(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function ja(a){return"boolean"==typeof a}function u(a){return"number"==typeof a}function ka(a){return"function"==ga(a)}function ma(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function oa(a){return a[pa]||(a[pa]=++ra)}
var pa="closure_uid_"+(1E9*Math.random()>>>0),ra=0;function sa(a,b,c){return a.call.apply(a.bind,arguments)}function ta(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function ua(a,b,c){ua=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa:ta;return ua.apply(null,arguments)}function wa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var xa=Date.now||function(){return+new Date};
function v(a,b){var c=a.split("."),d=ba;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ca(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function w(a,b){function c(){}c.prototype=b.prototype;a.d=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.xO=function(a,c,h){var k=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,k)}};var A=A||{};A.iM=!0;A.Qd=function(a){eval("X.DEV === undefined")||window.console.time(a)};A.sd=function(a){eval("X.DEV === undefined")||window.console.timeEnd(a)};window["X.counter"]=new function(){this.QE=0;this.HL=function(){return this.QE++}};function Aa(a,b){for(var c in b){var d=b.__lookupGetter__(c),e=b.__lookupSetter__(c);c in a||(d||e?(d&&a.__defineGetter__(c,d),e&&a.__defineSetter__(c,e)):a[c]=b[c])}}var Ba=window.iD;
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return h.apply(this instanceof c?this:a||window,e.concat(d.call(arguments)))}function c(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=Array.prototype.slice,e=d.call(arguments,1),h=this;c.prototype=this.prototype;b.prototype=new c;return b});
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=Date.now(),h=Math.max(0,16-(c-a)),k=window.setTimeout(function(){b(c+h)},h);a=c+h;return k});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();"slice"in ArrayBuffer.prototype||(ArrayBuffer.prototype.slice=function(a,b){if(void 0===a)throw Error("Not enough arguments.");var c=b||this.byteLength;0>a&&(a=this.byteLength+a);0>c&&(c=this.byteLength+c);c<a&&(c=a=0);0>a&&(a=0);0>c&&(c=0);a>this.byteLength&&(a=this.byteLength);c>this.byteLength&&(c=this.byteLength);for(var d=new ArrayBuffer(c-a),e=new Uint8Array(this),h=new Uint8Array(d),k=a,l=0;k<c;++k,++l)h[l]=e[k];return d});v("$",Ba);
v("Function.prototype.bind",Function.prototype.bind);v("window.requestAnimationFrame",window.requestAnimationFrame);v("window.cancelAnimationFrame",window.cancelAnimationFrame);var Ca;function Da(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Da);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}w(Da,Error);Da.prototype.name="CustomError";function Ea(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Fa(a,b){var c=String(b).toLowerCase(),d=String(a.substr(a.length-b.length,b.length)).toLowerCase();return 0==(c<d?-1:c==d?0:1)}function Ga(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Ia(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}
function Ja(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Ka=/(\.\d+)|(\d+)|(\D+)/g;function La(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var c=a.toLowerCase().match(Ka),d=b.toLowerCase().match(Ka),e=Math.min(c.length,d.length),h=0;h<e;h++){var k=c[h],l=d[h];if(k!=l)return c=parseInt(k,10),!isNaN(c)&&(d=parseInt(l,10),!isNaN(d)&&c-d)?c-d:k<l?-1:1}return c.length!=d.length?c.length-d.length:a<b?-1:1}
function Pa(a){if(!Qa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ra,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Sa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ta,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ua,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Va,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Wa,"&#0;"));return a}var Ra=/&/g,Sa=/</g,Ta=/>/g,Ua=/"/g,Va=/'/g,Wa=/\x00/g,Qa=/[\x00&<>"']/;
function Xa(a,b){var c;if(c&&a.length>b)c>b&&(c=b),a=a.substring(0,b-c)+"..."+a.substring(a.length-c);else if(a.length>b){c=Math.floor(b/2);var d=a.length-c;a=a.substring(0,c+b%2)+"..."+a.substring(d)}return a}function Ya(a){return Array.prototype.join.call(arguments,"")}
function Za(a,b){for(var c=0,d=Ja(String(a)).split("."),e=Ja(String(b)).split("."),h=Math.max(d.length,e.length),k=0;0==c&&k<h;k++){var l=d[k]||"",n=e[k]||"",p=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var q=p.exec(l)||["","",""],t=m.exec(n)||["","",""];if(0==q[0].length&&0==t[0].length)break;c=$a(0==q[1].length?0:parseInt(q[1],10),0==t[1].length?0:parseInt(t[1],10))||$a(0==q[2].length,0==t[2].length)||$a(q[2],t[2])}while(0==c)}return c}function $a(a,b){return a<b?-1:a>b?1:0}
var ab=2147483648*Math.random()|0;function B(){return"goog_"+ab++}function bb(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function cb(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()}function db(a){var b=r(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function eb(a,b){b.unshift(a);Da.call(this,Ga.apply(null,b));b.shift()}w(eb,Da);eb.prototype.name="AssertionError";function fb(a,b){throw new eb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var gb="closure_listenable_"+(1E6*Math.random()|0);function hb(a){return!(!a||!a[gb])}var ib=0;function jb(a,b,c,d,e){this.vk=a;this.Kr=null;this.src=b;this.type=c;this.pn=!!d;this.Mq=e;this.key=++ib;this.lm=this.Zp=!1}function lb(a){a.lm=!0;a.vk=null;a.Kr=null;a.src=null;a.Mq=null};function C(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function mb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function nb(a){var b=0,c;for(c in a)b++;return b}function ob(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function pb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function qb(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function rb(){var a=sb,b;for(b in a)return!1;return!0}function tb(a){for(var b in a)delete a[b]}function ub(a,b){b in a&&delete a[b]}
function vb(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}function wb(a){var b={},c;for(c in a)b[c]=a[c];return b}var xb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var h=0;h<xb.length;h++)c=xb[h],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function zb(a){var b=arguments.length;if(1==b&&g(arguments[0]))return zb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var Ab=Array.prototype,Bb=Ab.indexOf?function(a,b,c){return Ab.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(r(a))return r(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},D=Ab.forEach?function(a,b,c){Ab.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)h in e&&b.call(c,e[h],h,a)},Cb=Ab.filter?function(a,b,c){return Ab.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],h=
0,k=r(a)?a.split(""):a,l=0;l<d;l++)if(l in k){var n=k[l];b.call(c,n,l,a)&&(e[h++]=n)}return e},Db=Ab.map?function(a,b,c){return Ab.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),h=r(a)?a.split(""):a,k=0;k<d;k++)k in h&&(e[k]=b.call(c,h[k],k,a));return e},Eb=Ab.some?function(a,b,c){return Ab.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)if(h in e&&b.call(c,e[h],h,a))return!0;return!1},Fb=Ab.every?function(a,b,c){return Ab.every.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)if(h in e&&!b.call(c,e[h],h,a))return!1;return!0};function Gb(a){var b;a:{b=Hb;for(var c=a.length,d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:r(a)?a.charAt(b):a[b]}function Ib(a,b){return 0<=Bb(a,b)}function Jb(a){if(!g(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Kb(a,b){Ib(a,b)||a.push(b)}
function Lb(a,b){var c=Bb(a,b),d;(d=0<=c)&&Ab.splice.call(a,c,1);return d}function Mb(a){return Ab.concat.apply(Ab,arguments)}function Nb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ob(a,b,c,d){Ab.splice.apply(a,Pb(arguments,1))}function Pb(a,b,c){return 2>=arguments.length?Ab.slice.call(a,b):Ab.slice.call(a,b,c)}function Qb(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b};function Rb(a){this.src=a;this.Jc={};this.hp=0}f=Rb.prototype;f.add=function(a,b,c,d,e){var h=a.toString();a=this.Jc[h];a||(a=this.Jc[h]=[],this.hp++);var k=Sb(a,b,d,e);-1<k?(b=a[k],c||(b.Zp=!1)):(b=new jb(b,this.src,h,!!d,e),b.Zp=c,a.push(b));return b};f.remove=function(a,b,c,d){a=a.toString();if(!(a in this.Jc))return!1;var e=this.Jc[a];b=Sb(e,b,c,d);return-1<b?(lb(e[b]),Ab.splice.call(e,b,1),0==e.length&&(delete this.Jc[a],this.hp--),!0):!1};
function Tb(a,b){var c=b.type;if(!(c in a.Jc))return!1;var d=Lb(a.Jc[c],b);d&&(lb(b),0==a.Jc[c].length&&(delete a.Jc[c],a.hp--));return d}f.fg=function(a){a=a&&a.toString();var b=0,c;for(c in this.Jc)if(!a||c==a){for(var d=this.Jc[c],e=0;e<d.length;e++)++b,lb(d[e]);delete this.Jc[c];this.hp--}return b};f.Jn=function(a,b,c,d){a=this.Jc[a.toString()];var e=-1;a&&(e=Sb(a,b,c,d));return-1<e?a[e]:null};
f.Nq=function(a,b){var c=ca(a),d=c?a.toString():"",e=ca(b);return mb(this.Jc,function(a){for(var k=0;k<a.length;++k)if(!(c&&a[k].type!=d||e&&a[k].pn!=b))return!0;return!1})};function Sb(a,b,c,d){for(var e=0;e<a.length;++e){var h=a[e];if(!h.lm&&h.vk==b&&h.pn==!!c&&h.Mq==d)return e}return-1};var Ub;a:{var Vb=ba.navigator;if(Vb){var Wb=Vb.userAgent;if(Wb){Ub=Wb;break a}}Ub=""}function Xb(a){return-1!=Ub.indexOf(a)}function Yb(a){for(var b=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};function Zb(){return Xb("Opera")||Xb("OPR")}function $b(){return Xb("Trident")||Xb("MSIE")}function ac(){return Xb("Safari")&&!Xb("Chrome")&&!Xb("CriOS")&&!Xb("Android")}
function bc(){var a=Ub;if($b()){var b=/rv: *([\d\.]*)/.exec(a);if(b&&b[1])a=b[1];else{var b="",c=/MSIE +([\d\.]+)/.exec(a);if(c&&c[1])if(a=/Trident\/(\d.\d)/.exec(a),"7.0"==c[1])if(a&&a[1])switch(a[1]){case "4.0":b="8.0";break;case "5.0":b="9.0";break;case "6.0":b="10.0";break;case "7.0":b="11.0"}else b="7.0";else b=c[1];a=b}return a}if(Zb())return a=Yb(a),b=a[a.length-1],"OPR"==b[0]&&b[1]?b[1]:a[2]&&a[2][1]?a[2][1]:"";a=Yb(a);return a[2]&&a[2][1]?a[2][1]:""};var cc,dc,ec;function fc(){return ba.navigator||null}var gc=Zb(),E=$b(),hc=Xb("Gecko")&&-1==Ub.toLowerCase().indexOf("webkit")&&!(Xb("Trident")||Xb("MSIE")),ic=-1!=Ub.toLowerCase().indexOf("webkit"),jc,kc=fc();jc=kc&&kc.platform||"";cc=-1!=jc.indexOf("Mac");dc=-1!=jc.indexOf("Win");ec=-1!=jc.indexOf("Linux");var lc=!!fc()&&-1!=(fc().appVersion||"").indexOf("X11");function mc(){var a=ba.document;return a?a.documentMode:void 0}
var nc=function(){var a="",b;if(gc&&ba.opera)return a=ba.opera.version,ka(a)?a():a;hc?b=/rv\:([^\);]+)(\)|;)/:E?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:ic&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Ub))?a[1]:"");return E&&(b=mc(),b>parseFloat(a))?String(b):a}(),oc={};function pc(a){return oc[a]||(oc[a]=0<=Za(nc,a))}function qc(a){return E&&rc>=a}var sc=ba.document,rc=sc&&E?mc()||("CSS1Compat"==sc.compatMode?parseInt(nc,10):5):void 0;var tc=!E||qc(9),uc=!E||qc(9),vc=E&&!pc("9");!ic||pc("528");hc&&pc("1.9b")||E&&pc("8")||gc&&pc("9.5")||ic&&pc("528");hc&&!pc("8")||E&&pc("9");function wc(){0!=xc&&(yc[oa(this)]=this)}var xc=0,yc={};wc.prototype.dk=!1;wc.prototype.g=function(){if(!this.dk&&(this.dk=!0,this.f(),0!=xc)){var a=oa(this);delete yc[a]}};function zc(a,b){a.ro||(a.ro=[]);a.ro.push(ca(void 0)?ua(b,void 0):b)}wc.prototype.f=function(){if(this.ro)for(;this.ro.length;)this.ro.shift()()};function Bc(a){a&&"function"==typeof a.g&&a.g()}function Cc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ia(d)?Cc.apply(null,d):Bc(d)}};function Ec(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.dg=!1;this.Bo=!0}Ec.prototype.f=function(){};Ec.prototype.g=function(){};Ec.prototype.stopPropagation=function(){this.dg=!0};Ec.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Bo=!1};function Fc(a){a.preventDefault()};function Gc(a){Gc[" "](a);return a}Gc[" "]=ea;function Hc(a,b){Ec.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Qv=!1;this.Gc=null;a&&this.ra(a,b)}w(Hc,Ec);var Ic=[1,4,2];f=Hc.prototype;
f.ra=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(hc){var e;a:{try{Gc(d.nodeName);e=!0;break a}catch(h){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=ic||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=ic||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Qv=cc?a.metaKey:a.ctrlKey;this.state=a.state;this.Gc=a;a.defaultPrevented&&this.preventDefault()};function Jc(a){return(tc?0==a.Gc.button:"click"==a.type?!0:!!(a.Gc.button&Ic[0]))&&!(ic&&cc&&a.ctrlKey)}
f.stopPropagation=function(){Hc.d.stopPropagation.call(this);this.Gc.stopPropagation?this.Gc.stopPropagation():this.Gc.cancelBubble=!0};f.preventDefault=function(){Hc.d.preventDefault.call(this);var a=this.Gc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,vc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};f.jG=function(){return this.Gc};f.f=function(){};var Kc="closure_lm_"+(1E6*Math.random()|0),Lc={},Mc=0;function F(a,b,c,d,e){if(g(b)){for(var h=0;h<b.length;h++)F(a,b[h],c,d,e);return null}c=Nc(c);return hb(a)?a.A(b,c,d,e):Oc(a,b,c,!1,d,e)}function Oc(a,b,c,d,e,h){if(!b)throw Error("Invalid event type");var k=!!e,l=Pc(a);l||(a[Kc]=l=new Rb(a));c=l.add(b,c,d,e,h);if(c.Kr)return c;d=Qc();c.Kr=d;d.src=a;d.vk=c;a.addEventListener?a.addEventListener(b.toString(),d,k):a.attachEvent(Rc(b.toString()),d);Mc++;return c}
function Qc(){var a=Sc,b=uc?function(c){return a.call(b.src,b.vk,c)}:function(c){c=a.call(b.src,b.vk,c);if(!c)return c};return b}function Tc(a,b,c,d,e){if(g(b)){for(var h=0;h<b.length;h++)Tc(a,b[h],c,d,e);return null}c=Nc(c);return hb(a)?a.Pu(b,c,d,e):Oc(a,b,c,!0,d,e)}function Uc(a,b,c,d,e){if(g(b))for(var h=0;h<b.length;h++)Uc(a,b[h],c,d,e);else c=Nc(c),hb(a)?a.ob(b,c,d,e):a&&(a=Pc(a))&&(b=a.Jn(b,c,!!d,e))&&Vc(b)}
function Vc(a){if(u(a)||!a||a.lm)return!1;var b=a.src;if(hb(b))return Tb(b.Ig,a);var c=a.type,d=a.Kr;b.removeEventListener?b.removeEventListener(c,d,a.pn):b.detachEvent&&b.detachEvent(Rc(c),d);Mc--;(c=Pc(b))?(Tb(c,a),0==c.hp&&(c.src=null,b[Kc]=null)):lb(a);return!0}function H(a){if(a)if(hb(a))a.removeAllListeners(void 0);else if(a=Pc(a)){var b=0,c;for(c in a.Jc)for(var d=a.Jc[c].concat(),e=0;e<d.length;++e)Vc(d[e])&&++b}}
function Wc(a,b){if(hb(a))return a.Nq(b,void 0);var c=Pc(a);return!!c&&c.Nq(b,void 0)}function Rc(a){return a in Lc?Lc[a]:Lc[a]="on"+a}function Xc(a,b,c,d){var e=1;if(a=Pc(a))if(b=a.Jc[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.pn==c&&!h.lm&&(e&=!1!==Yc(h,d))}return Boolean(e)}function Yc(a,b){var c=a.vk,d=a.Mq||a.src;a.Zp&&Vc(a);return c.call(d,b)}
function Sc(a,b){if(a.lm)return!0;if(!uc){var c=b||da("window.event"),d=new Hc(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var h=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(k){h=!0}if(h||void 0==c.returnValue)c.returnValue=!0}c=[];for(h=d.currentTarget;h;h=h.parentNode)c.push(h);for(var h=a.type,l=c.length-1;!d.dg&&0<=l;l--)d.currentTarget=c[l],e&=Xc(c[l],h,!0,d);for(l=0;!d.dg&&l<c.length;l++)d.currentTarget=c[l],e&=Xc(c[l],h,!1,d)}return e}return Yc(a,new Hc(b,this))}
function Pc(a){a=a[Kc];return a instanceof Rb?a:null}var Zc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Nc(a){return ka(a)?a:a[Zc]||(a[Zc]=function(b){return a.handleEvent(b)})};function $c(){wc.call(this);this.Ig=new Rb(this);this.$E=this;this.Gr=null}w($c,wc);$c.prototype[gb]=!0;f=$c.prototype;f.iw=function(a){this.Gr=a};f.addEventListener=function(a,b,c,d){F(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){Uc(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.Gr;if(c)for(b=[];c;c=c.Gr)b.push(c);var c=this.$E,d=a.type||a;if(r(a))a=new Ec(a,c);else if(a instanceof Ec)a.target=a.target||c;else{var e=a;a=new Ec(d,c);yb(a,e)}var e=!0,h;if(b)for(var k=b.length-1;!a.dg&&0<=k;k--)h=a.currentTarget=b[k],e=ad(h,d,!0,a)&&e;a.dg||(h=a.currentTarget=c,e=ad(h,d,!0,a)&&e,a.dg||(e=ad(h,d,!1,a)&&e));if(b)for(k=0;!a.dg&&k<b.length;k++)h=a.currentTarget=b[k],e=ad(h,d,!1,a)&&e;return e};
f.f=function(){$c.d.f.call(this);this.removeAllListeners();this.Gr=null};f.A=function(a,b,c,d){return this.Ig.add(String(a),b,!1,c,d)};f.Pu=function(a,b,c,d){return this.Ig.add(String(a),b,!0,c,d)};f.ob=function(a,b,c,d){return this.Ig.remove(String(a),b,c,d)};f.removeAllListeners=function(a){return this.Ig?this.Ig.fg(a):0};
function ad(a,b,c,d){b=a.Ig.Jc[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.lm&&k.pn==c){var l=k.vk,n=k.Mq||k.src;k.Zp&&Tb(a.Ig,k);e=!1!==l.call(n,d)&&e}}return e&&!1!=d.Bo}f.Jn=function(a,b,c,d){return this.Ig.Jn(String(a),b,c,d)};f.Nq=function(a,b){return this.Ig.Nq(ca(a)?String(a):void 0,b)};function bd(){$c.call(this);this.s="base";this.ed=window["X.counter"].HL();this.G=!1}w(bd,$c);bd.prototype.__defineGetter__("classname",function(){return this.s});bd.prototype.__defineGetter__("id",function(){return this.ed});v("X.base",bd);function cd(a,b){bd.call(this);this.s="triplets";this.Gf=Infinity;this.Df=-Infinity;this.Hf=Infinity;this.Ef=-Infinity;this.If=Infinity;this.Ff=-Infinity;this.Cp=[0,0,0];this.La=0;this.Tb=new Float32Array(a);null!=b&&(this.Tb=b.Tb.subarray(0,b.Tb.length),this.La=this.Tb.length,this.Gf=b.Gf,this.Df=b.Df,this.Hf=b.Hf,this.Ef=b.Ef,this.If=b.If,this.Ff=b.Ff,this.Cp=b.Cp.slice())}w(cd,bd);f=cd.prototype;
f.add=function(a,b,c){this.Gf=Math.min(this.Gf,a);this.Df=Math.max(this.Df,a);this.Hf=Math.min(this.Hf,b);this.Ef=Math.max(this.Ef,b);this.If=Math.min(this.If,c);this.Ff=Math.max(this.Ff,c);this.Cp=[(this.Gf+this.Df)/2,(this.Hf+this.Ef)/2,(this.If+this.Ff)/2];this.G=!0;this.Tb[this.La++]=a;this.Tb[this.La++]=b;this.Tb[this.La++]=c;return this.La/3};f.resize=function(){if(this.La!=this.Tb.length){var a=new Float32Array(this.La);a.set(this.Tb.subarray(0,this.La));this.Tb=a}};
f.get=function(a){a*=3;return[this.Tb[a],this.Tb[a+1],this.Tb[a+2]]};f.remove=function(){throw Error("Not implemented.");};f.clear=function(){this.Tb=new Float32Array(this.Tb.length);this.G=!0};cd.prototype.__defineGetter__("count",function(){this.resize();return this.Tb.length/3});cd.prototype.__defineGetter__("length",function(){this.resize();return this.Tb.length});v("X.triplets",cd);v("X.triplets.prototype.add",cd.prototype.add);v("X.triplets.prototype.resize",cd.prototype.resize);
v("X.triplets.prototype.get",cd.prototype.get);v("X.triplets.prototype.remove",cd.prototype.remove);v("X.triplets.prototype.clear",cd.prototype.clear);function dd(){bd.call(this);this.s="indexer";this.ft=[];this.Rd={}}w(dd,bd);dd.prototype.add=function(a){if(null==a)throw Error("Invalid object.");var b=window.JSON.stringify(a);b in this.Rd||(this.Rd[b]=this.ft.length,this.ft.push(a));return this.Rd[b]};dd.prototype.unique=function(){return this.ft};function ed(a){bd.call(this);this.s="file";this.Np=a;this.G=!0}w(ed,bd);function fd(){this.xg=this.ea=null}fd.prototype.__defineSetter__("file",function(a){if(null==a||g(a)&&0==a.length)this.ea=null;else{if(g(a)){if(1==a.length){this.ea=new ed(a[0]);return}this.ea=Db(a,function(a){var c=new J;c.ea=new ed(a);return c})}else this.ea=new ed(a);this.xg=null}});fd.prototype.__defineGetter__("file",function(){return this.ea?g(this.ea)?this.ea.map(function(a){return a.ea.Np}):this.ea.Np:""});
fd.prototype.__defineGetter__("filedata",function(){return g(this.ea)?this.ea.map(function(a){return a.xg}):this.xg});fd.prototype.__defineSetter__("filedata",function(a){if(null==a||g(a)&&0==a.length)this.xg=null;if(g(a))if(1==a.length)this.xg=a[0];else{var b=this.ea.length,c;for(c=0;c<b;c++)this.ea[c].xg=a[c]}else this.xg=a});function gd(){return null};function hd(a,b,c){return Math.min(Math.max(a,b),c)};function id(a,b){this.wb={};this.fb=[];this.yh=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.ht(a)}f=id.prototype;f.Fh=function(){return this.yh};f.nk=function(){jd(this);for(var a=[],b=0;b<this.fb.length;b++)a.push(this.wb[this.fb[b]]);return a};f.In=function(){jd(this);return this.fb.concat()};
f.Ft=function(a){for(var b=0;b<this.fb.length;b++){var c=this.fb[b];if(ld(this.wb,c)&&this.wb[c]==a)return!0}return!1};f.Gl=function(a,b){if(this===a)return!0;if(this.yh!=a.Fh())return!1;var c=b||md;jd(this);for(var d,e=0;d=this.fb[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function md(a,b){return a===b}f.Yn=function(){return 0==this.yh};f.clear=function(){this.wb={};this.yh=this.fb.length=0};
f.remove=function(a){return ld(this.wb,a)?(delete this.wb[a],this.yh--,this.fb.length>2*this.yh&&jd(this),!0):!1};function jd(a){if(a.yh!=a.fb.length){for(var b=0,c=0;b<a.fb.length;){var d=a.fb[b];ld(a.wb,d)&&(a.fb[c++]=d);b++}a.fb.length=c}if(a.yh!=a.fb.length){for(var e={},c=b=0;b<a.fb.length;)d=a.fb[b],ld(e,d)||(a.fb[c++]=d,e[d]=1),b++;a.fb.length=c}}f.get=function(a,b){return ld(this.wb,a)?this.wb[a]:b};f.set=function(a,b){ld(this.wb,a)||(this.yh++,this.fb.push(a));this.wb[a]=b};
f.ht=function(a){var b;a instanceof id?(b=a.In(),a=a.nk()):(b=pb(a),a=ob(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};f.forEach=function(a,b){for(var c=this.In(),d=0;d<c.length;d++){var e=c[d],h=this.get(e);a.call(b,h,e,this)}};f.clone=function(){return new id(this)};f.Lw=function(){for(var a=new id,b=0;b<this.fb.length;b++){var c=this.fb[b];a.set(this.wb[c],c)}return a};function ld(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function nd(){bd.call(this);this.s="colortable";this.Rd=new id;Aa(this,new fd)}w(nd,bd);nd.prototype.add=function(a,b,c,d,e,h){if(!(u(a)&&u(c)&&u(d)&&u(e)&&u(h)))throw Error("Invalid color table entry.");this.Rd.set(a,[b,c,d,e,h]);this.G=!0};nd.prototype.get=function(a){return this.Rd.get(a)};v("X.colortable.prototype.get",nd.prototype.get);function od(a,b,c){this.x=ca(a)?a:0;this.y=ca(b)?b:0;this.z=ca(c)?c:0}od.prototype.clone=function(){return new od(this.x,this.y,this.z)};od.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};od.prototype.Gw=function(){return[this.x,this.y,this.z]};function K(a,b,c){this.x=a;this.y=b;this.z=c}w(K,od);f=K.prototype;f.clone=function(){return new K(this.x,this.y,this.z)};f.Yf=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};f.scale=function(a){this.x*=a;this.y*=a;this.z*=a;return this};f.zb=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};f.normalize=function(){return this.scale(1/this.Yf())};f.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};
f.wc=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};f.Gl=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.z==a.z};function pd(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.z-b.z;return Math.sqrt(c*c+d*d+e*e)}function qd(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.z-b.z;return c*c+d*d+e*e}function rd(a,b){return new K(a.x+b.x,a.y+b.y,a.z+b.z)}function sd(a,b){return new K(a.y*b.z-a.z*b.y,a.z*b.x-a.x*b.z,a.x*b.y-a.y*b.x)};A.O=K;f=A.O.prototype;f.clone=K.prototype.clone;f.Yf=K.prototype.Yf;f.scale=K.prototype.scale;f.zb=K.prototype.zb;f.add=K.prototype.add;f.wc=K.prototype.wc;f.normalize=function(){var a=this.Yf();return 0==a?this.scale(0):this.scale(1/a)};A.O.Ii=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z};A.O.bk=sd;A.O.Wt=pd;A.O.gr=function(a,b,c){var d=a.x,e=a.y;a=a.z;return new K(d+c*(b.x-d),e+c*(b.y-e),a+c*(b.z-a))};A.O.prototype.__defineGetter__("xx",function(){return this.x});
A.O.prototype.__defineGetter__("yy",function(){return this.y});A.O.prototype.__defineGetter__("zz",function(){return this.z});v("X.vector",A.O);v("X.vector.prototype.clone",A.O.prototype.clone);v("X.vector.prototype.magnitude",A.O.prototype.Yf);v("X.vector.prototype.scale",A.O.prototype.scale);v("X.vector.prototype.invert",A.O.prototype.zb);v("X.vector.prototype.normalize",A.O.prototype.normalize);v("X.vector.prototype.add",A.O.prototype.add);v("X.vector.prototype.subtract",A.O.prototype.wc);
v("X.vector.dot",A.O.Ii);v("X.vector.cross",A.O.bk);v("X.vector.distance",A.O.Wt);v("X.vector.lerp",A.O.gr);function td(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}td.prototype.BYTES_PER_ELEMENT=8;td.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};td.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{td.BYTES_PER_ELEMENT=8}catch(ud){}td.prototype.BYTES_PER_ELEMENT=td.prototype.BYTES_PER_ELEMENT;td.prototype.set=td.prototype.set;td.prototype.toString=td.prototype.toString;v("Float64Array",td)};function vd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}vd.prototype.BYTES_PER_ELEMENT=4;vd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};vd.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(vd.BYTES_PER_ELEMENT=4,vd.prototype.BYTES_PER_ELEMENT=vd.prototype.BYTES_PER_ELEMENT,vd.prototype.set=vd.prototype.set,vd.prototype.toString=vd.prototype.toString,v("Float32Array",vd));function wd(){return new Float32Array(3)}function xd(a,b,c){var d=wd();d[0]=a;d[1]=b;d[2]=c;return d}function yd(a,b){var c=a[0],d=a[1],e=a[2],c=1/Math.sqrt(c*c+d*d+e*e);b[0]=a[0]*c;b[1]=a[1]*c;b[2]=a[2]*c};function zd(){return new Float32Array(4)}function Ad(a,b,c,d){var e=zd();e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e};function Bd(){return new Float32Array(16)}function Cd(){var a=Bd();a[0]=a[5]=a[10]=a[15]=1;return a}function Dd(a,b,c,d,e,h,k,l,n,p,m,q,t,s,y,z,I){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=h;a[5]=k;a[6]=l;a[7]=n;a[8]=p;a[9]=m;a[10]=q;a[11]=t;a[12]=s;a[13]=y;a[14]=z;a[15]=I;return a}function Ed(a,b,c){b*=4;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3]}function Fd(a,b,c){b*=4;c[0]=a[b];c[1]=a[b+1];c[2]=a[b+2];c[3]=a[b+3]}function L(a,b,c,d,e,h){a[b]=c;a[b+4]=d;a[b+8]=e;a[b+12]=h}
function Gd(a,b,c){a[b]=c[0];a[b+4]=c[1];a[b+8]=c[2];a[b+12]=c[3]}function Hd(a,b,c){c[0]=a[b];c[1]=a[b+4];c[2]=a[b+8];c[3]=a[b+12]}
function Id(a,b,c){var d=a[0],e=a[1],h=a[2],k=a[3],l=a[4],n=a[5],p=a[6],m=a[7],q=a[8],t=a[9],s=a[10],y=a[11],z=a[12],I=a[13],S=a[14];a=a[15];var O=b[0],G=b[1],R=b[2],Y=b[3],Z=b[4],va=b[5],na=b[6],ya=b[7],Ma=b[8],Ha=b[9],Na=b[10],la=b[11],za=b[12],qa=b[13],Dc=b[14];b=b[15];c[0]=d*O+l*G+q*R+z*Y;c[1]=e*O+n*G+t*R+I*Y;c[2]=h*O+p*G+s*R+S*Y;c[3]=k*O+m*G+y*R+a*Y;c[4]=d*Z+l*va+q*na+z*ya;c[5]=e*Z+n*va+t*na+I*ya;c[6]=h*Z+p*va+s*na+S*ya;c[7]=k*Z+m*va+y*na+a*ya;c[8]=d*Ma+l*Ha+q*Na+z*la;c[9]=e*Ma+n*Ha+t*Na+I*la;
c[10]=h*Ma+p*Ha+s*Na+S*la;c[11]=k*Ma+m*Ha+y*Na+a*la;c[12]=d*za+l*qa+q*Dc+z*b;c[13]=e*za+n*qa+t*Dc+I*b;c[14]=h*za+p*qa+s*Dc+S*b;c[15]=k*za+m*qa+y*Dc+a*b;return c}
function Jd(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[4],l=a[5],n=a[6],p=a[7],m=a[8],q=a[9],t=a[10],s=a[11],y=a[12],z=a[13],I=a[14],S=a[15],O=c*l-d*k,G=c*n-e*k,R=c*p-h*k,Y=d*n-e*l,Z=d*p-h*l,va=e*p-h*n,na=m*z-q*y,ya=m*I-t*y,Ma=m*S-s*y,Ha=q*I-t*z,Na=q*S-s*z,la=t*S-s*I,za=O*la-G*Na+R*Ha+Y*Ma-Z*ya+va*na;if(0==za)return!1;za=1/za;b[0]=(l*la-n*Na+p*Ha)*za;b[1]=(-d*la+e*Na-h*Ha)*za;b[2]=(z*va-I*Z+S*Y)*za;b[3]=(-q*va+t*Z-s*Y)*za;b[4]=(-k*la+n*Ma-p*ya)*za;b[5]=(c*la-e*Ma+h*ya)*za;b[6]=(-y*va+I*R-S*G)*za;b[7]=
(m*va-t*R+s*G)*za;b[8]=(k*Na-l*Ma+p*na)*za;b[9]=(-c*Na+d*Ma-h*na)*za;b[10]=(y*Z-z*R+S*O)*za;b[11]=(-m*Z+q*R-s*O)*za;b[12]=(-k*Ha+l*ya-n*na)*za;b[13]=(c*Ha-d*ya+e*na)*za;b[14]=(-y*Y+z*G-I*O)*za;b[15]=(m*Y-q*G+t*O)*za;return!0}function Kd(a,b,c){var d=b[0],e=b[1];b=b[2];c[0]=d*a[0]+e*a[4]+b*a[8]+a[12];c[1]=d*a[1]+e*a[5]+b*a[9]+a[13];c[2]=d*a[2]+e*a[6]+b*a[10]+a[14]}
function Ld(a,b,c){var d=b[0],e=b[1],h=b[2];b=b[3];c[0]=d*a[0]+e*a[4]+h*a[8]+b*a[12];c[1]=d*a[1]+e*a[5]+h*a[9]+b*a[13];c[2]=d*a[2]+e*a[6]+h*a[10]+b*a[14];c[3]=d*a[3]+e*a[7]+h*a[11]+b*a[15];return c}function Md(a,b,c,d){var e=a[1]*b+a[5]*c+a[9]*d+a[13],h=a[2]*b+a[6]*c+a[10]*d+a[14],k=a[3]*b+a[7]*c+a[11]*d+a[15];a[12]=a[0]*b+a[4]*c+a[8]*d+a[12];a[13]=e;a[14]=h;a[15]=k;return a}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);A.t={};A.t.aB=function(a,b,c,d){c=c.wc(b);c.normalize();d=A.O.bk(c,d);d.normalize();var e=A.O.bk(d,c);e.normalize();c.zb();L(a,0,d.x,d.y,d.z,0);L(a,1,e.x,e.y,e.z,0);L(a,2,c.x,c.y,c.z,0);Md(a,-b.x,-b.y,-b.z);return a};A.t.Mb=function(a,b,c,d){var e=1/(b*a[3]+c*a[7]+d*a[11]+a[15]);return new A.O((b*a[0]+c*a[4]+d*a[8]+a[12])*e,(b*a[1]+c*a[5]+d*a[9]+a[13])*e,(b*a[2]+c*a[6]+d*a[10]+a[14])*e)};
A.t.xL=function(a,b,c){var d=new Float32Array(4),e=new Float32Array(4);Hd(a,b,d);Hd(a,c,e);Gd(a,b,e);Gd(a,c,d);return a};A.t.wL=function(a,b,c){var d=new Float32Array(4),e=new Float32Array(4);Fd(a,b,d);Fd(a,c,e);Ed(a,b,e);Ed(a,c,d);return a};A.t.Sn=Cd;A.t.clone=function(a){var b=Bd();b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b};
A.t.Lw=function(a,b){if(b==a){var c=a[1],d=a[2],e=a[3],h=a[6],k=a[7],l=a[11];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=c;b[6]=a[9];b[7]=a[13];b[8]=d;b[9]=h;b[11]=a[14];b[12]=e;b[13]=k;b[14]=l}else b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15];return b};
A.t.LF=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],h=a[4],k=a[5],l=a[6],n=a[7],p=a[8],m=a[9],q=a[10],t=a[11],s=a[12],y=a[13],z=a[14];a=a[15];return(b*k-c*h)*(q*a-t*z)-(b*l-d*h)*(m*a-t*y)+(b*n-e*h)*(m*z-q*y)+(c*l-d*k)*(p*a-t*s)-(c*n-e*k)*(p*z-q*s)+(d*n-e*l)*(p*y-m*s)};A.t.zb=Jd;A.t.Vu=function(a,b,c,d,e){var h=b/2;b=e-d;var k=Math.sin(h);if(0==b||0==k||0==c)return a;h=Math.cos(h)/k;return Dd(a,h/c,0,0,0,0,h,0,0,0,0,-(e+d)/b,-1,0,0,-(2*d*e)/b,0)};
A.t.OI=function(a,b,c,d,e,h,k){return Dd(a,2*h/(c-b),0,0,0,0,2*h/(e-d),0,0,(c+b)/(c-b),(e+d)/(e-d),-(k+h)/(k-h),-1,0,0,-(2*k*h)/(k-h),0)};A.t.QI=function(a,b,c,d,e,h,k){return Dd(a,2/(c-b),0,0,0,0,2/(e-d),0,0,0,0,-2/(k-h),0,-(c+b)/(c-b),-(e+d)/(e-d),-(k+h)/(k-h),1)};A.t.multiply=Id;A.t.iB=Ld;A.t.translate=Md;A.t.scale=function(a,b,c,d){return Dd(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,a[8]*d,a[9]*d,a[10]*d,a[11]*d,a[12],a[13],a[14],a[15])};
A.t.rotate=function(a,b,c,d,e){var h=a[0],k=a[1],l=a[2],n=a[3],p=a[4],m=a[5],q=a[6],t=a[7],s=a[8],y=a[9],z=a[10],I=a[11],S=Math.cos(b),O=Math.sin(b),G=1-S;b=c*c*G+S;var R=c*d*G+e*O,Y=c*e*G-d*O,Z=c*d*G-e*O,va=d*d*G+S,na=d*e*G+c*O,ya=c*e*G+d*O;c=d*e*G-c*O;e=e*e*G+S;return Dd(a,h*b+p*R+s*Y,k*b+m*R+y*Y,l*b+q*R+z*Y,n*b+t*R+I*Y,h*Z+p*va+s*na,k*Z+m*va+y*na,l*Z+q*va+z*na,n*Z+t*va+I*na,h*ya+p*c+s*e,k*ya+m*c+y*e,l*ya+q*c+z*e,n*ya+t*c+I*e,a[12],a[13],a[14],a[15])};
A.t.Nr=function(a,b){var c=a[4],d=a[5],e=a[6],h=a[7],k=a[8],l=a[9],n=a[10],p=a[11],m=Math.cos(b),q=Math.sin(b);a[4]=c*m+k*q;a[5]=d*m+l*q;a[6]=e*m+n*q;a[7]=h*m+p*q;a[8]=c*-q+k*m;a[9]=d*-q+l*m;a[10]=e*-q+n*m;a[11]=h*-q+p*m;return a};A.t.Or=function(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[8],l=a[9],n=a[10],p=a[11],m=Math.cos(b),q=Math.sin(b);a[0]=c*m+k*-q;a[1]=d*m+l*-q;a[2]=e*m+n*-q;a[3]=h*m+p*-q;a[8]=c*q+k*m;a[9]=d*q+l*m;a[10]=e*q+n*m;a[11]=h*q+p*m;return a};
A.t.Pr=function(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[4],l=a[5],n=a[6],p=a[7],m=Math.cos(b),q=Math.sin(b);a[0]=c*m+k*q;a[1]=d*m+l*q;a[2]=e*m+n*q;a[3]=h*m+p*q;a[4]=c*-q+k*m;a[5]=d*-q+l*m;a[6]=e*-q+n*m;a[7]=h*-q+p*m;return a};v("X.matrix.identity",A.t.Sn);v("X.matrix.clone",A.t.clone);v("X.matrix.transpose",A.t.Lw);v("X.matrix.determinant",A.t.LF);v("X.matrix.invert",A.t.zb);v("X.matrix.multiply",A.t.multiply);v("X.matrix.multiplyByVector",A.t.Mb);v("X.matrix.multiplyByVec4",A.t.iB);
v("X.matrix.makePerspective",A.t.Vu);v("X.matrix.makeFrustum",A.t.OI);v("X.matrix.makeOrtho",A.t.QI);v("X.matrix.makeLookAt",A.t.aB);v("X.matrix.translate",A.t.translate);v("X.matrix.scale",A.t.scale);v("X.matrix.rotate",A.t.rotate);v("X.matrix.rotateX",A.t.Nr);v("X.matrix.rotateY",A.t.Or);v("X.matrix.rotateZ",A.t.Pr);v("X.matrix.swapRows",A.t.xL);v("X.matrix.swapCols",A.t.wL);function Nd(){bd.call(this);this.s="transform";this.ub=A.t.Sn()}w(Nd,bd);Nd.prototype.__defineGetter__("matrix",function(){return this.ub});Nd.prototype.__defineSetter__("matrix",function(a){if(!(null!=a&&a instanceof Float32Array))throw Error("Invalid matrix.");this.ub=a;this.da()});f=Nd.prototype;f.Nr=function(a){if(!u(a)||-360>a||360<a)throw Error("Invalid angle.");A.t.Nr(this.ub,a*Math.PI/180);this.da()};
f.Or=function(a){if(!u(a)||-360>a||360<a)throw Error("Invalid angle.");A.t.Or(this.ub,a*Math.PI/180);this.da()};f.Pr=function(a){if(!u(a)||-360>a||360<a)throw Error("Invalid angle.");A.t.Pr(this.ub,a*Math.PI/180);this.da()};f.SC=function(a){if(!u(a))throw Error("Invalid distance.");A.t.translate(this.ub,a,0,0);this.da()};f.TC=function(a){if(!u(a))throw Error("Invalid distance.");A.t.translate(this.ub,0,a,0);this.da()};
f.UC=function(a){if(!u(a))throw Error("Invalid distance.");A.t.translate(this.ub,0,0,a);this.da()};function Od(a,b,c){a.ub[b+4*c]*=-1;a.da()}f.cG=function(){Od(this,0,0)};f.dG=function(){Od(this,1,1)};f.eG=function(){Od(this,2,2)};f.da=function(){this.G=!0};v("X.transform",Nd);v("X.transform.prototype.rotateX",Nd.prototype.Nr);v("X.transform.prototype.rotateY",Nd.prototype.Or);v("X.transform.prototype.rotateZ",Nd.prototype.Pr);v("X.transform.prototype.translateX",Nd.prototype.SC);
v("X.transform.prototype.translateY",Nd.prototype.TC);v("X.transform.prototype.translateZ",Nd.prototype.UC);v("X.transform.prototype.flipX",Nd.prototype.cG);v("X.transform.prototype.flipY",Nd.prototype.dG);v("X.transform.prototype.flipZ",Nd.prototype.eG);v("X.transform.prototype.modified",Nd.prototype.da);function Qd(){bd.call(this);this.s="texture";this.ti=this.Cf=this.ea=null;this.Zs=this.$s=0;this.Lx=!1;Aa(this,new fd)}w(Qd,bd);Qd.prototype.__defineSetter__("rawData",function(a){this.ti=a;this.G=!0});Qd.prototype.__defineSetter__("rawDataHeight",function(a){this.Zs=a;this.G=!0});Qd.prototype.__defineSetter__("rawDataWidth",function(a){this.$s=a;this.G=!0});Qd.prototype.__defineSetter__("grayscale",function(a){this.Lx=a;this.G=!0});v("X.texture",Qd);function Rd(){this.Ad=Sd;this.cc=new Nd;this.Ga=[1,1,1];this.tl=this.Va=this.Cc=this.ca=this.C=null;this.ol=[];this.jb=!0;this.nl=this.Vm=1;this.fl=null;this.Mm=!1;this.Pc=1;this.dd=0;this.Um=!0}var Sd="TRIANGLES";Rd.prototype.__defineSetter__("type",function(a){return this.Ad=a});Rd.prototype.__defineGetter__("type",function(){return this.Ad});Rd.prototype.__defineGetter__("texture",function(){this.Va||(this.Va=new Qd);return this.Va});Rd.prototype.__defineGetter__("transform",function(){return this.cc});
Rd.prototype.__defineGetter__("points",function(){return this.C});Rd.prototype.__defineSetter__("points",function(a){this.C=a});Rd.prototype.__defineGetter__("normals",function(){return this.ca});Rd.prototype.__defineSetter__("normals",function(a){this.ca=a});Rd.prototype.__defineGetter__("colors",function(){return this.Cc});Rd.prototype.__defineSetter__("colors",function(a){this.Cc=a});Rd.prototype.__defineGetter__("color",function(){return this.Ga});
Rd.prototype.__defineSetter__("color",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid color.");for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)b[d].color=a;this.Ga=a;this.G=!0});Rd.prototype.__defineGetter__("opacity",function(){return this.Pc});Rd.prototype.__defineSetter__("opacity",function(a){if(!u(a)||1<a||0>a)throw Error("Invalid opacity.");for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)null!=b[d]&&(b[d].opacity=a);this.Pc=a;this.G=!0});Rd.prototype.__defineGetter__("caption",function(){return this.fl});
Rd.prototype.__defineSetter__("caption",function(a){this.fl=a;this.G=!0});Rd.prototype.__defineGetter__("visible",function(){return this.jb});Rd.prototype.__defineSetter__("visible",function(a){for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)null!=b[d]&&(b[d].visible=a);this.jb=a;this.G=!0});Rd.prototype.__defineGetter__("pointsize",function(){return this.Vm});Rd.prototype.__defineSetter__("pointsize",function(a){if(!u(a))throw Error("Invalid point size.");this.Vm=a;this.G=!0});
Rd.prototype.__defineGetter__("magicmode",function(){return this.Mm});Rd.prototype.__defineSetter__("magicmode",function(a){if(!ja(a))throw Error("Invalid magic mode setting.");this.Mm=a;this.G=!0});Rd.prototype.__defineGetter__("linewidth",function(){return this.nl});Rd.prototype.__defineSetter__("linewidth",function(a){if(!u(a))throw Error("Invalid line width.");this.nl=a;this.G=!0});Rd.prototype.__defineGetter__("pickable",function(){return this.Um});
Rd.prototype.__defineSetter__("pickable",function(a){if(!ja(a))throw Error("Invalid pickable setting.");this.Um=a;this.G=!0});Rd.prototype.__defineGetter__("textureCoordinateMap",function(){return this.tl});Rd.prototype.__defineSetter__("textureCoordinateMap",function(){});function Td(){this.Sd=Infinity;this.tb=this.Sb=-Infinity;this.vb=Infinity;this.pi=[0,0,0];this.ni=[1,1,1]}Td.prototype.__defineGetter__("lowerThreshold",function(){return this.tb});Td.prototype.__defineSetter__("lowerThreshold",function(a){this.tb=a});Td.prototype.__defineGetter__("upperThreshold",function(){return this.vb});Td.prototype.__defineSetter__("upperThreshold",function(a){this.vb=a});Td.prototype.__defineGetter__("min",function(){return this.Sd});Td.prototype.__defineGetter__("max",function(){return this.Sb});
Td.prototype.__defineGetter__("minColor",function(){return this.pi});Td.prototype.__defineSetter__("minColor",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid min. color.");this.pi=a});Td.prototype.__defineGetter__("maxColor",function(){return this.ni});Td.prototype.__defineSetter__("maxColor",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid max. color.");this.ni=a});function Ud(){bd.call(this);this.s="scalars";this.Jm=this.Za=null;this.Yx=!0;this.Os=0;Aa(this,new fd);Aa(this,new Td);this.pi=[0,1,0];this.ni=[1,0,0]}w(Ud,bd);Ud.prototype.__defineGetter__("array",function(){return this.Za});Ud.prototype.__defineSetter__("array",function(a){this.Jm=this.Za=a;this.G=!0});Ud.prototype.__defineGetter__("interpolation",function(){return this.Os});Ud.prototype.__defineSetter__("interpolation",function(a){this.Os=a});v("X.scalars",Ud);function Vd(a){bd.call(this);this.s="object";this.j=[];this.$a=this.xd=null;Aa(this,new Rd);null!=a&&this.Zj(a)}w(Vd,bd);
Vd.prototype.Zj=function(a){this.Ad=a.Ad;this.cc=new Nd;this.cc.ub=new Float32Array(a.cc.ub);this.Ga=a.Ga.slice();a.C&&(this.C=new cd(a.C.length,a.C));a.ca&&(this.ca=new cd(a.ca.length,a.ca));a.Cc&&(this.Cc=new cd(a.Cc.length,a.Cc));this.Va=a.Va;this.tl=a.tl;a.ea&&(this.ea=new ed((new String(a.ea.Np)).toString()));this.Pc=a.Pc;this.j.length=0;var b=a.j;if(b)for(var c=b.length,d=0,d=0;d<c;d++)this.j.push(new A[b[d].s](b[d]));this.jb=a.jb;this.Vm=a.Vm;this.nl=a.nl;a.fl&&(this.fl=(new String(a.fl)).toString());
this.Mm=a.Mm;this.Um=a.Um;this.ol=a.ol.slice();this.G=!0};Vd.prototype.__defineGetter__("colortable",function(){this.xd||(this.xd=new nd);return this.xd});Vd.prototype.__defineGetter__("scalars",function(){this.$a||(this.$a=new Ud);return this.$a});Vd.prototype.__defineGetter__("children",function(){return this.j});Vd.prototype.da=function(){var a=new Wd;a.Ma=this;this.dispatchEvent(a)};Vd.prototype.remove=function(){var a=new Xd;a.Ma=this;this.dispatchEvent(a)};
function Zd(a,b){if(!(null!=a&&null!=b&&a instanceof Vd&&b instanceof Vd))throw Error("Fatal: Two valid X.objects are required for comparison.");return 1==a.Pc?-1:1==b.Pc?1:null!=a.dd&&null!=b.dd&&a.dd>b.dd?-1:1}v("X.object",Vd);v("X.object.prototype.modified",Vd.prototype.da);v("X.object.prototype.remove",Vd.prototype.remove);function $d(a){Ec.call(this,a);this.s="event"}w($d,Ec);var ae="pan"+B(),be="rotate"+B(),ce="zoom"+B(),de="scroll"+B();B();var ee="resetview"+B(),fe="windowlevel"+B(),ge="modified"+B(),he="remove"+B(),ie="progress"+B(),je="hover"+B(),ke="hover_end"+B(),le="computing"+B(),me="computing_end"+B(),oe="computing_progress"+B();function pe(){$d.call(this,fe);this.Ts=this.gt=0}w(pe,$d);function qe(){$d.call(this,ae);this.dd=new A.O(0,0,0)}w(qe,$d);function re(){$d.call(this,be);this.dd=new A.O(0,0,0)}
w(re,$d);function se(){$d.call(this,ce);this.Bf=this.yg=!1}w(se,$d);function we(){$d.call(this,de);this.Ub=!1}w(we,$d);function xe(){$d.call(this,je);this.Vp=this.Tp=0}w(xe,$d);function ye(){$d.call(this,ke)}w(ye,$d);function ze(){$d.call(this,ee)}w(ze,$d);function Wd(){$d.call(this,ge);this.va=this.Ma=null}w(Wd,$d);function Xd(){$d.call(this,he);this.va=this.Ma=null}w(Xd,$d);function Ae(){$d.call(this,ie);this.Oj=0}w(Ae,$d);function Be(){$d.call(this,le);this.Ma=null}w(Be,$d);
function Ce(){$d.call(this,oe);this.Oj=0}w(Ce,$d);function De(){$d.call(this,me);this.Ma=null}w(De,$d);v("X.event.events.PAN",ae);v("X.event.events.ROTATE",be);v("X.event.events.ZOOM",ce);v("X.event.events.SCROLL",de);function Ee(){bd.call(this);this.s="parser";this._data=null;this.La=0;this.TE=0<(new Int8Array((new Int16Array([1])).buffer))[0];this.Jp=!0}w(Ee,bd);Ee.prototype.parse=function(){throw Error("The function parse() should be overloaded.");};function Fe(a){for(var b=Infinity,c=-Infinity,d=a.length,e=0,e=0;e<d;e++)if(!isNaN(a[e]))var h=a[e],b=Math.min(b,h),c=Math.max(c,h);return[b,c]}
function Ge(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);for(var d="",e=0,e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}
Ee.prototype.h=function(a,b){null!=b||(b=1);var c=1,d=Uint8Array;switch(a){case "schar":d=Int8Array;break;case "ushort":d=Uint16Array;c=2;break;case "sshort":d=Int16Array;c=2;break;case "uint":d=Uint32Array;c=4;break;case "sint":d=Int32Array;c=4;break;case "float":d=Float32Array;c=4;break;case "complex":d=Float64Array;c=8;break;case "double":d=Float64Array,c=8}d=new d(this._data.slice(this.La,this.La+=b*c));if(this.TE!=this.Jp)for(var e=new Uint8Array(d.buffer,d.byteOffset,d.byteLength),h=0;h<d.byteLength;h+=
c)for(var k=h+c-1,l=h;k>l;k--,l++){var n=e[l];e[l]=e[k];e[k]=n}return 1==b?d[0]:d};
function He(a,b){var c=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],d=Ad(0,0,0,1),e=zd();Ld(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Ad(0,0,b[2]-1,1);Ld(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Ad(0,b[1]-
1,0,1);Ld(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Ad(b[0]-1,0,0,1);Ld(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Ad(b[0]-1,b[1]-1,0,1);Ld(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];
c[5]=e[2]>c[5]?e[2]:c[5];d=Ad(b[0]-1,0,b[2]-1,1);Ld(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Ad(0,b[1]-1,b[2]-1,1);Ld(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=Ad(b[0]-1,b[1]-1,b[2]-1,1);Ld(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:
c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];return c}
function Ie(a,b){var c=Cd();if(a.length!=b.length||a[0]!=b[0]||a[1]!=b[1]||a[2]!=b[2]){var d=Math.acos(a[2]),e=wd(),h=a[0],k=a[1],l=a[2],n=b[0],p=b[1],m=b[2];e[0]=k*m-l*p;e[1]=l*n-h*m;e[2]=h*p-k*n;yd(e,e);h=Math.cos(d/2);k=Math.sin(d/2)*e[0];l=Math.sin(d/2)*e[1];d=Math.sin(d/2)*e[2];L(c,0,h*h+k*k-l*l-d*d,2*(k*l-h*d),2*(k*d+h*l),0);L(c,1,2*(k*l+h*d),h*h+l*l-k*k-d*d,2*(l*d-h*k),0);L(c,2,2*(k*d-h*l),2*(l*d+h*k),h*h+d*d-l*l-k*k,0)}d=Bd();Jd(c,d);return[c,d]}
function Je(a,b,c,d,e,h,k,l,n){var p=new Ke;yd(c,c);for(var m=[],q=[],t=0;6>t;t++)for(var s=Math.floor(t/2),y=(s+1)%3,z=(s+2)%3,I=(4+2*s)%6,S=0;2>S;S++){var O=(2+S+2*s)%6,G=-(c[s]*(e[t]-a[s])+c[y]*(e[O]-a[y]))/c[z]+a[z];if(G>=e[I]&&G<=e[I+1]||G<=e[I]&&G>=e[I+1]){var R=[];R[s]=e[t];R[y]=e[O];R[z]=G;m.push(R)}else R=[],R[s]=e[t],R[y]=e[O],R[z]=G,q.push(R)}a=xd(0,0,1);a=Ie(c,a);e=a[0];a=a[1];s=[];for(q=0;q<m.length;++q)t=Ad(m[q][0],m[q][1],m[q][2],1),y=zd(),Ld(e,t,y),s.push([y[0],y[1],y[2]]);e=xd(1,
0,0);m=wd();Kd(a,e,m);q=xd(0,1,0);e=wd();Kd(a,q,e);t=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];for(q=q=0;q<s.length;++q)s[q][0]<t[0]&&(t[0]=s[q][0]),s[q][0]>t[1]&&(t[1]=s[q][0]),s[q][1]<t[2]&&(t[2]=s[q][1]),s[q][1]>t[3]&&(t[3]=s[q][1]),s[q][2]<t[4]&&(t[4]=s[q][2]),s[q][2]>t[5]&&(t[5]=s[q][2]);q=Ad(t[0]+(t[1]-t[0])/2,t[2]+(t[3]-t[2])/2,t[4]+(t[5]-t[4])/2,0);s=zd();Id(a,q,s);y=Math.floor(t[0]);z=Math.ceil(t[1]);y==z&&z++;I=z-y;S=Math.floor(t[2]);
O=Math.ceil(t[3]);G=O-S;R=b[0];b=b[1];var q=Math.ceil(I/R),Y=Math.ceil(G/b),Z=new Uint8Array(4*q*Y),va=new Qd;va.$s=q;va.Zs=Y;var Y=zd(),na=Ad(0,0,t[4],1),ya=Bd();Id(k.KE,a,ya);for(var Ma=O-1E-7,Ha=z-1E-7,Na=0,la=0,za=0,qa=S,qa=S;qa<=Ma;qa+=b)for(za++,la=0,na[1]=qa,q=y;q<=Ha;q+=R){la++;na[0]=q;Ld(ya,na,Y);var Dc=4*Na,te=Math.floor(Y[2]),ue=Math.floor(Y[1]),ve=Math.floor(Y[0]);if(0<=ve&&ve<k.Da[0]&&0<=ue&&ue<k.Da[1]&&0<=te&&te<k.Da[2]){var Yd=h[te][ue][ve],Qh=ve=ue=te=0;n?((Yd=n.get(Yd))||(Yd=[0,.61,
0,0,1]),te=255*Yd[1],ue=255*Yd[2],ve=255*Yd[3],Qh=255*Yd[4]):(te=ue=ve=Yd/k.Sb*255,Qh=255);Z[Dc]=te;Z[++Dc]=ue;Z[++Dc]=ve;Z[++Dc]=Qh}else Z[Dc]=0,Z[++Dc]=0,Z[++Dc]=0,Z[++Dc]=0;Na++}va.ti=Z;p.Va=va;p.ZE=t;p.ME=a;p.LE=ya;p.SE=S;p.tO=O;p.YE=y;p.uO=z;p.Nx=la;p.Mx=za;p.uh=R;p.Wa=I;p.nh=b;p.Ha=G;p.Sa=[s[0],s[1],s[2]];p.il=[c[0],c[1],c[2]];p.Op=[m[0],m[1],m[2]];p.Ub=[e[0],e[1],e[2]];p.jb=!1;p.th=k;p.mh=null==k.th||l?!0:!1;p.el=d;p.af();p.jb=!1;return p}
function Le(a,b,c,d){var e;e=d.Bc;for(var h=[],k=[],l=0;6>l;l++){var n=Math.floor(l/2),p=(n+1)%3,m=(n+2)%3,q=(2+2*n)%6,t=(4+2*n)%6,s=1/c[n]*(e[l]-b[n]);if(Infinity!=s&&-Infinity!=s){var y=b[p]+c[p]*s,s=b[m]+c[m]*s;y>=e[q]&&y<=e[q+1]&&s>=e[t]&&s<=e[t+1]?(q=[],q[n]=e[l],q[p]=y,q[m]=s,h.push(q)):(q=[],q[n]=e[l],q[p]=y,q[m]=s,k.push(q))}}e=[h,k];b=e[0];d.e[a].H=e;e=pd(new K(b[0][0],b[0][1],b[0][2]),new K(b[1][0],b[1][1],b[1][2]));d.e[a].sO=e;h=xd(0,0,1);k=Ie(c,h)[0];l=Ad(d.Ls[0],d.Ls[1],d.Ls[2],0);h=
zd();Ld(k,l,h);k=zd();l=h[2];k[0]=c[0]*l;k[1]=c[1]*l;k[2]=c[2]*l;k[3]=c[3]*l;.5>Math.abs(h[0])&&(h[0]=.5);.5>Math.abs(h[1])&&(h[1]=.5);d.e[a].zd=[Math.abs(h[0]),Math.abs(h[1])];d.e[a].rl=h[2];d.e[a].Na=k;e=Math.floor(Math.abs(e/h[2]));d.Xm[a]=e+1;d.e[a].ba=e+1;d.e[a].H[0][0][0]>d.e[a].H[0][1][0]?0<k[0]&&(e=d.e[a].H[0][0],d.e[a].H[0][0]=d.e[a].H[0][1],d.e[a].H[0][1]=e):d.e[a].H[0][0][0]<d.e[a].H[0][1][0]?0>k[0]&&(e=d.e[a].H[0][0],d.e[a].H[0][0]=d.e[a].H[0][1],d.e[a].H[0][1]=e):d.e[a].H[0][0][1]>d.e[a].H[0][1][1]?
0<k[1]&&(e=d.e[a].H[0][0],d.e[a].H[0][0]=d.e[a].H[0][1],d.e[a].H[0][1]=e):d.e[a].H[0][0][1]<d.e[a].H[0][1][1]?0>k[1]&&(e=d.e[a].H[0][0],d.e[a].H[0][0]=d.e[a].H[0][1],d.e[a].H[0][1]=e):d.e[a].H[0][0][2]>d.e[a].H[0][1][2]?0<k[2]&&(e=d.e[a].H[0][0],d.e[a].H[0][0]=d.e[a].H[0][1],d.e[a].H[0][1]=e):d.e[a].H[0][0][2]<d.e[a].H[0][1][2]&&0>k[2]&&(e=d.e[a].H[0][0],d.e[a].H[0][0]=d.e[a].H[0][1],d.e[a].H[0][1]=e);d.e[a].Ws=-(c[0]*b[0][0]+c[1]*b[0][1]+c[2]*b[0][2])}
function Me(a,b){var c;c=b._data;for(var d=b.Da,e=b.Sb,h=Array(d[2]),k=Array(d[2]),l=d[1]*d[0],n=0,p=0,m=0,q=0,t=0,q=0;q<d[2];q++){var s=c.subarray(q*l,(q+1)*l),t=0;k[q]=Array(d[1]);h[q]=Array(d[1]);for(m=0;m<d[1];m++)for(k[q][m]=new c.constructor(d[0]),h[q][m]=new c.constructor(d[0]),p=0;p<d[0];p++)n=s[t],k[q][m][p]=n/e*255,h[q][m][p]=n,t++}c=[h,k];b.bc=c[0];b.rO=c[1];A.Qd(a.s+".reslice");b.cb=null!=b.q;b.xd&&(b.Im=b.xd.Rd);b.lP=[0,0,0];b.ua=[b.wd[0]+(b.lh[0]-1)/2,b.wd[1]+(b.lh[1]-1)/2,b.wd[2]+(b.lh[2]-
1)/2];b.Bc=[Math.min(b.wd[0],b.wd[0]+b.lh[0]-1),Math.max(b.wd[0],b.wd[0]+b.lh[0]-1),Math.min(b.wd[1],b.wd[1]+b.lh[1]-1),Math.max(b.wd[1],b.wd[1]+b.lh[1]-1),Math.min(b.wd[2],b.wd[2]+b.lh[2]-1),Math.max(b.wd[2],b.wd[2]+b.lh[2]-1)];b.e=[{},{},{}];c=xd(b.ua[0],b.ua[1],b.ua[2]);b.e[0].Ym=c;d=xd(1,0,0);yd(d,d);b.e[0].D=d;e=[1,0,0];b.e[0].Ga=e;Le(0,c,d,b);b.j[0].j=Array(b.e[0].ba);c[0]=b.e[0].H[0][0][0]+b.e[0].Na[0]*Math.floor(b.e[0].ba/2);c[1]=b.e[0].H[0][0][1]+b.e[0].Na[1]*Math.floor(b.e[0].ba/2);c[2]=
b.e[0].H[0][0][2]+b.e[0].Na[2]*Math.floor(b.e[0].ba/2);c=Je(c,b.e[0].zd,b.e[0].D,b.e[0].Ga,b.Bc,b.bc,b,b.cb,b.Im);b.cb&&(c.q=b.q.j[0].j[Math.floor(b.e[0].ba/2)].Va);b.j[0].j[Math.floor(b.e[0].ba/2)]=c;b.oh=Math.floor(b.e[0].ba/2);b.jl=Math.floor(b.e[0].ba/2);c=xd(b.ua[0],b.ua[1],b.ua[2]);b.e[1].Ym=c;d=xd(0,1,0);yd(d,d);b.e[1].D=d;e=[0,1,0];b.e[1].Ga=e;Le(1,c,d,b);b.j[1].j=Array(b.e[1].ba);c[0]=b.e[1].H[0][0][0]+b.e[1].Na[0]*Math.floor(b.e[1].ba/2);c[1]=b.e[1].H[0][0][1]+b.e[1].Na[1]*Math.floor(b.e[1].ba/
2);c[2]=b.e[1].H[0][0][2]+b.e[1].Na[2]*Math.floor(b.e[1].ba/2);c=Je(c,b.e[1].zd,b.e[1].D,b.e[1].Ga,b.Bc,b.bc,b,b.cb,b.Im);b.cb&&(c.q=b.q.j[1].j[Math.floor(b.e[1].ba/2)].Va);b.j[1].j[Math.floor(b.e[1].ba/2)]=c;b.ph=Math.floor(b.e[1].ba/2);b.kl=Math.floor(b.e[1].ba/2);c=xd(b.ua[0],b.ua[1],b.ua[2]);b.e[2].Ym=c;d=xd(0,0,1);yd(d,d);b.e[2].D=d;e=[0,.392,.804];b.e[2].Ga=e;Le(2,c,d,b);b.j[2].j=Array(b.e[2].ba);c[0]=b.e[2].H[0][0][0]+b.e[2].Na[0]*Math.floor(b.e[2].ba/2);c[1]=b.e[2].H[0][0][1]+b.e[2].Na[1]*
Math.floor(b.e[2].ba/2);c[2]=b.e[2].H[0][0][2]+b.e[2].Na[2]*Math.floor(b.e[2].ba/2);c=Je(c,b.e[2].zd,b.e[2].D,b.e[2].Ga,b.Bc,b.bc,b,b.cb,b.Im);b.cb&&(c.q=b.q.j[2].j[Math.floor(b.e[2].ba/2)].Va);b.j[2].j[Math.floor(b.e[2].ba/2)]=c;b.qh=Math.floor(b.e[2].ba/2);b.ll=Math.floor(b.e[2].ba/2);A.sd(a.s+".reslice");return b.bc};function Ne(){Ee.call(this);this.s="parserOFF"}w(Ne,Ee);
Ne.prototype.parse=function(a,b,c){function d(){if(n===e)throw Error("End of file reached unexpectedly.");for(var a=n;a<e;++a)if(10===h[a]){var b=Ge(h,n,a);n=a+1;return b}n=e;return Ge(h,n,e-1)}A.Qd(this.s+".parse");this._data=c;var e=c.byteLength,h=this.h("uchar",e);c=[];b.C=new cd(e);b.ca=new cd(e);for(var k=b.C,l=b.ca,n=0,p=d(),p=("OFF"===p?d():p).split(" "),m=p[0],p=p[1];m--;){var q=d(),q=q.split(" ");c.push([parseFloat(q[0]),parseFloat(q[1]),parseFloat(q[2])])}for(;p--;){var q=d(),q=q.split(" "),
t=c[parseInt(q[1],10)],m=c[parseInt(q[2],10)],q=c[parseInt(q[3],10)];k.add(t[0],t[1],t[2]);k.add(m[0],m[1],m[2]);k.add(q[0],q[1],q[2]);t=new K(t[0],t[1],t[2]);q=new K(q[0],q[1],q[2]);m=sd((new K(m[0],m[1],m[2])).wc(t),q.wc(t));m.normalize();l.add(m.x,m.y,m.z);l.add(m.x,m.y,m.z);l.add(m.x,m.y,m.z)}A.sd(this.s+".parse");c=new Wd;c.Ma=b;c.va=a;this.dispatchEvent(c)};v("X.parserOFF",Ne);v("X.parserOFF.prototype.parse",Ne.prototype.parse);function Ke(a){Vd.call(this);this.s="slice";this.Sa=[0,0,0];this.il=[0,0,1];this.Ub=[0,1,0];this.Op=[1,0,0];this.Ha=this.Wa=10;this.tl=[0,1,0,0,1,1,1,1,1,0,0,0];this.q=this.th=null;this.mh=!0;this.el=[1,1,1];null!=a&&this.Zj(a)}w(Ke,Vd);Ke.prototype.Zj=function(a){this.Sa=a.Sa.slice();this.il=a.il.slice();this.Ub=a.Ub.slice();this.Wa=a.Wa;this.Ha=a.Ha;this.th=a.th;this.q=a.q;this.mh=a.mh;this.el=a.el;this.RE=a.RE;Ke.d.Zj.call(this,a)};Ke.prototype.__defineSetter__("height",function(a){this.Ha=a});
Ke.prototype.__defineSetter__("width",function(a){this.Wa=a});Ke.prototype.create=function(){this.af()};
Ke.prototype.af=function(){var a=(new K(this.il[0],this.il[1],this.il[2])).normalize(),b=new K(this.Ub[0],this.Ub[1],this.Ub[2]),c=new K(this.Op[0],this.Op[1],this.Op[2]),d=new K(this.Sa[0],this.Sa[1],this.Sa[2]),e=rd(c.clone().zb().scale(this.Wa/2),b.clone().zb().scale(this.Ha/2)),h=new K(e.x+d.x,e.y+d.y,e.z+d.z),e=rd(c.clone().zb().scale(this.Wa/2),b.clone().scale(this.Ha/2)),k=new K(e.x+d.x,e.y+d.y,e.z+d.z),e=rd(c.clone().scale(this.Wa/2),b.clone().zb().scale(this.Ha/2)),l=new K(e.x+d.x,e.y+d.y,
e.z+d.z),e=rd(c.clone().scale(this.Wa/2),b.clone().scale(this.Ha/2)),b=new K(e.x+d.x,e.y+d.y,e.z+d.z);this.C=new cd(18);this.ca=new cd(18);this.C.add(h.x,h.y,h.z);this.C.add(k.x,k.y,k.z);this.C.add(l.x,l.y,l.z);this.C.add(l.x,l.y,l.z);this.C.add(b.x,b.y,b.z);this.C.add(k.x,k.y,k.z);this.ca.add(a.x,a.y,a.z);this.ca.add(a.x,a.y,a.z);this.ca.add(a.x,a.y,a.z);this.ca.add(a.x,a.y,a.z);this.ca.add(a.x,a.y,a.z);this.ca.add(a.x,a.y,a.z);this.mh&&(a=new Vd,a.C=new cd(24),a.ca=new cd(24),a.C.add(h.x,h.y,h.z),
a.C.add(k.x,k.y,k.z),a.C.add(k.x,k.y,k.z),a.C.add(b.x,b.y,b.z),a.C.add(b.x,b.y,b.z),a.C.add(l.x,l.y,l.z),a.C.add(l.x,l.y,l.z),a.C.add(h.x,h.y,h.z),a.ca.add(0,0,0),a.ca.add(0,0,0),a.ca.add(0,0,0),a.ca.add(0,0,0),a.ca.add(0,0,0),a.ca.add(0,0,0),a.ca.add(0,0,0),a.ca.add(0,0,0),a.Ga=[this.el[0],this.el[1],this.el[2]],a.Ad="LINES",a.nl=2,this.j.push(a))};v("X.slice",Ke);v("X.slice.prototype.create",Ke.prototype.create);function J(a){Vd.call(this);this.s="volume";this.Sa=[0,0,0];this.Da=[10,10,10];this.Bc=[1,1,1];this.Xm=[10,10,10];this.rh=[1,1,1];this.Cf=[];this.ll=this.qh=this.kl=this.ph=this.jl=this.oh=0;this.Zm=new Vd;this.$m=new Vd;this.an=new Vd;this.Sp=this.Be=!1;this.Bb=-1;this.Rp=[];this.q=null;this.mh=!0;this.Lb=Infinity;this.Kb=-Infinity;this.Zx=!0;this.Sb=0;this._data=null;Aa(this,new fd);Aa(this,new Td);null!=a&&this.Zj(a)}w(J,Vd);
J.prototype.Zj=function(a){this.Sa=a.Sa.slice();this.Da=a.Da.slice();this.rh=a.rh.slice();this.oh=a.oh;this.jl=a.jl;this.ph=a.ph;this.kl=a.kl;this.qh=a.qh;this.ll=a.ll;this.Ix=a.Ix.slice();this.Zm=new Vd(a.Zm);this.$m=new Vd(a.$m);this.an=new Vd(a.an);this.Sb=a.Sb;this._data=a._data;this.Be=a.Be;this.Sp=a.Sp;this.Bb=a.Bb;this.q=a.q;this.mh=a.mh;J.d.Zj.call(this,a)};
J.prototype.af=function(a){this.j.length=0;this.Zm.j.length=0;this.$m.j.length=0;this.an.j.length=0;this.j.push(this.Zm);this.j.push(this.$m);this.j.push(this.an);this.wd=a.Xe;this.Ls=a.sg;this.lh=a.cd;this.dl=a.ve;this.KE=a.xe;this.Sb=a.max;this._data=a.data;this.G=!0};
J.prototype.da=function(a){a="undefined"!==typeof a?a:!0;if(0<this.j.length){this.Be!=this.Sp&&(this.Be||-1==this.Bb||(this.j[this.Bb].visible=!1),this.G=!0,this.Sp=this.Be);if(!this.jb)return;for(var b=0,b=0;3>b;b++){var c=this.j[b],d=0,e=0;0==b?(d=this.oh,e=this.jl,this.jl=this.oh):1==b?(d=this.ph,e=this.kl,this.kl=this.ph):2==b&&(d=this.qh,e=this.ll,this.ll=this.qh);if(null==this.j[b].j[parseInt(d,10)]){var h=wd();h[0]=this.e[b].H[0][0][0]+this.e[b].Na[0]*parseInt(d,10);h[1]=this.e[b].H[0][0][1]+
this.e[b].Na[1]*parseInt(d,10);h[2]=this.e[b].H[0][0][2]+this.e[b].Na[2]*parseInt(d,10);if(this.cb){var k=Je(h,this.e[b].zd,this.e[b].D,this.e[b].Ga,this.Bc,this.q.bc,this.q,this.q.cb,this.q.xd.Rd);this.q.j[b].j[parseInt(d,10)]=k;this.q.j[b].da(!0)}h=Je(h,this.e[b].zd,this.e[b].D,this.e[b].Ga,this.Bc,this.bc,this,!0,null);this.cb&&(h.q=h.Va,h.q=this.q.j[b].j[parseInt(d,10)].Va);c.j[parseInt(d,10)]=h;this.j[b].da(!0)}e=c.j[parseInt(e,10)];this.Be||(e.visible=!1);c=c.j[parseInt(d,10)];c.visible=!0;
c.Pc=1;this.Be&&(c.j[0].jb=!1,b!=this.Bb&&(c.visible=!1,c.Pc=0))}this.Be&&-1!=this.Bb&&Oe(this,this.Bb)}a&&J.d.da.call(this)};J.prototype.__defineGetter__("dimensions",function(){return this.Da});J.prototype.__defineSetter__("dimensions",function(a){this.Da=a});J.prototype.__defineGetter__("spacing",function(){return this.rh});J.prototype.__defineSetter__("spacing",function(a){this.rh=a});J.prototype.__defineGetter__("bbox",function(){return this.Bc});J.prototype.__defineGetter__("range",function(){return this.Xm});
J.prototype.__defineGetter__("dimensionsRAS",function(){return this.Ix});J.prototype.__defineGetter__("volumeRendering",function(){return this.Be});J.prototype.__defineSetter__("volumeRendering",function(a){this.Be=a;this.da(!1)});J.prototype.__defineGetter__("visible",function(){return this.jb});J.prototype.__defineSetter__("visible",function(a){if(a)this.jb=a,this.da(!1);else{for(var b=this.j,c=b.length,d=0,d=0;d<c;d++)b[d].visible=a;this.jb=a;this.G=!0}});
J.prototype.__defineGetter__("center",function(){return this.Sa});J.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center.");this.Sa=a});J.prototype.__defineGetter__("volumeRenderingCache",function(){return this.Rp});J.prototype.__defineSetter__("volumeRenderingCache",function(a){if(!(null!=a&&g(a)&&3>=a.length))throw Error("Invalid volumeRederingCache.");this.Rp=a});J.prototype.__defineGetter__("image",function(){return this.Cf});
J.prototype.__defineGetter__("labelmap",function(){this.q||(this.q=new Pe(this));return this.q});J.prototype.__defineGetter__("indexX",function(){return this.oh});J.prototype.__defineSetter__("indexX",function(a){u(a)&&0<=a&&a<this.Zm.j.length&&(this.oh=a,this.da(!1))});J.prototype.__defineGetter__("indexY",function(){return this.ph});J.prototype.__defineSetter__("indexY",function(a){u(a)&&0<=a&&a<this.$m.j.length&&(this.ph=a,this.da(!1))});J.prototype.__defineGetter__("indexZ",function(){return this.qh});
J.prototype.__defineSetter__("indexZ",function(a){u(a)&&0<=a&&a<this.an.j.length&&(this.qh=a,this.da(!1))});J.prototype.__defineGetter__("windowLow",function(){return this.Lb});J.prototype.__defineSetter__("windowLow",function(a){this.Lb=a});J.prototype.__defineGetter__("windowHigh",function(){return this.Kb});J.prototype.__defineSetter__("windowHigh",function(a){this.Kb=a});J.prototype.__defineGetter__("borders",function(){return this.mh});
J.prototype.__defineSetter__("borders",function(a){this.mh=a});J.prototype.__defineGetter__("reslicing",function(){return this.Zx});J.prototype.__defineSetter__("reslicing",function(a){this.Zx=a});J.prototype.__defineSetter__("xNormX",function(a){this.e[0].D[0]=a});J.prototype.__defineGetter__("xNormX",function(){return this.e[0].D[0]});J.prototype.__defineSetter__("xNormY",function(a){this.e[0].D[1]=a});J.prototype.__defineGetter__("xNormY",function(){return this.e[0].D[1]});
J.prototype.__defineSetter__("xNormZ",function(a){this.e[0].D[2]=a});J.prototype.__defineGetter__("xNormZ",function(){return this.e[0].D[2]});J.prototype.__defineSetter__("xColor",function(a){this.e[0].Ga=a});J.prototype.__defineGetter__("xColor",function(){return this.e[0].Ga});J.prototype.__defineSetter__("yNormX",function(a){this.e[1].D[0]=a});J.prototype.__defineGetter__("yNormX",function(){return this.e[1].D[0]});J.prototype.__defineSetter__("yNormY",function(a){this.e[1].D[1]=a});
J.prototype.__defineGetter__("yNormY",function(){return this.e[1].D[1]});J.prototype.__defineSetter__("yNormZ",function(a){this.e[1].D[2]=a});J.prototype.__defineGetter__("yNormZ",function(){return this.e[1].D[2]});J.prototype.__defineSetter__("yColor",function(a){this.e[1].Ga=a});J.prototype.__defineGetter__("yColor",function(){return this.e[1].Ga});J.prototype.__defineSetter__("zNormX",function(a){this.e[2].D[0]=a});J.prototype.__defineGetter__("zNormX",function(){return this.e[2].D[0]});
J.prototype.__defineSetter__("zNormY",function(a){this.e[2].D[1]=a});J.prototype.__defineGetter__("zNormY",function(){return this.e[2].D[1]});J.prototype.__defineSetter__("zNormZ",function(a){this.e[2].D[2]=a});J.prototype.__defineGetter__("zNormZ",function(){return this.e[2].D[2]});J.prototype.__defineSetter__("zColor",function(a){this.e[2].Ga=a});J.prototype.__defineGetter__("zColor",function(){return this.e[2].Ga});
J.prototype.jL=function(a){this.j[a].visible=!1;for(var b=0;b<this.j[a].j.length;b++)"undefined"!=typeof this.j[a].j[b]&&(this.cb&&(this.q.j[a].j[b].remove(),this.q.j[a].j[b]=null),this.j[a].j[b].remove(),this.j[a].j[b]=null);yd(this.e[a].D,this.e[a].D);Le(a,this.e[a].Ym,this.e[a].D,this);this.j[a].j=[];alert("#VOLUME#",this.e[a].ba);this.j[a].j=Array(this.e[a].ba);this.cb&&(b=Je(this.e[a].Ym,this.e[a].zd,this.e[a].D,this.e[a].Ga,this.Bc,this.q.bc,this.q,this.q.cb,this.q.xd.Rd),this.q.j[a].j=[],this.q.j[a].j=
Array(this.e[a].ba),this.q.j[a].j[Math.floor(this.e[a].ba/2)]=b,this.q.j[a].da());b=Je(this.e[a].Ym,this.e[a].zd,this.e[a].D,this.e[a].Ga,this.Bc,this.bc,this,!0,null);this.cb&&(b.q=b.Va,b.q=this.q.j[a].j[Math.floor(this.e[a].ba/2)].Va);this.j[a].j[Math.floor(this.e[a].ba/2)]=b;0==a?(this.oh=Math.floor(this.e[a].ba/2),this.jl=Math.floor(this.e[a].ba/2)):1==a?(this.ph=Math.floor(this.e[a].ba/2),this.kl=Math.floor(this.e[a].ba/2)):(this.qh=Math.floor(this.e[a].ba/2),this.ll=Math.floor(this.e[a].ba/
2));this.j[a].da();this.j[a].j[Math.floor(this.e[a].ba/2)].jb=!0};
function Oe(a,b){if(!a.Dp)if(!a.Be||!a.G&&b==a.Bb)a.Bb=b;else if(-1==a.Rp.indexOf(b))a.Rp.push(b),a.Dp=!0,Qe(a,b),setTimeout(function(){var a=null;0<=this.Bb&&(a=this.j[this.Bb],a.visible=!1);var a=this.j[b],c=a.j.length,d=Math.floor(c/4),e;for(e=0;e<1*d;e++){if(null==a.j[e]){var p=wd();p[0]=this.e[b].H[0][0][0]+this.e[b].Na[0]*e;p[1]=this.e[b].H[0][0][1]+this.e[b].Na[1]*e;p[2]=this.e[b].H[0][0][2]+this.e[b].Na[2]*e;if(this.cb){var m=Je(p,this.e[b].zd,this.e[b].D,this.e[b].Ga,this.Bc,this.q.bc,this.q,
this.q.cb,this.q.xd.Rd);this.q.j[b].j[e]=m;this.q.j[b].da(!0)}p=Je(p,this.e[b].zd,this.e[b].D,this.e[b].Ga,this.Bc,this.bc,this,!0,null);p.j[0].jb=!1;this.cb&&(p.q=p.Va,p.q=this.q.j[b].j[e].Va);a.j[e]=p}a.j[e].jb=!0}Re(this,.25);setTimeout(function(){for(;e<2*d;e++){if(null==a.j[e]){var m=wd();m[0]=this.e[b].H[0][0][0]+this.e[b].Na[0]*e;m[1]=this.e[b].H[0][0][1]+this.e[b].Na[1]*e;m[2]=this.e[b].H[0][0][2]+this.e[b].Na[2]*e;if(this.cb){var p=Je(m,this.e[b].zd,this.e[b].D,this.e[b].Ga,this.Bc,this.q.bc,
this.q,this.q.cb,this.q.xd.Rd);this.q.j[b].j[e]=p;this.q.j[b].da(!0)}m=Je(m,this.e[b].zd,this.e[b].D,this.e[b].Ga,this.Bc,this.bc,this,!0,null);m.j[0].jb=!1;this.cb&&(m.q=m.Va,m.q=this.q.j[b].j[e].Va);a.j[e]=m}a.j[e].jb=!0}Re(this,.5);setTimeout(function(){for(;e<3*d;e++){if(null==a.j[e]){var m=wd();m[0]=this.e[b].H[0][0][0]+this.e[b].Na[0]*e;m[1]=this.e[b].H[0][0][1]+this.e[b].Na[1]*e;m[2]=this.e[b].H[0][0][2]+this.e[b].Na[2]*e;if(this.cb){var p=Je(m,this.e[b].zd,this.e[b].D,this.e[b].Ga,this.Bc,
this.q.bc,this.q,this.q.cb,this.q.xd.Rd);this.q.j[b].j[e]=p;this.q.j[b].da(!0)}m=Je(m,this.e[b].zd,this.e[b].D,this.e[b].Ga,this.Bc,this.bc,this,!0,null);m.j[0].jb=!1;this.cb&&(m.q=m.Va,m.q=this.q.j[b].j[e].Va);a.j[e]=m}a.j[e].jb=!0}Re(this,.75);setTimeout(function(){for(e=3*d;e<c;e++){if(null==a.j[e]){var m=wd();m[0]=this.e[b].H[0][0][0]+this.e[b].Na[0]*e;m[1]=this.e[b].H[0][0][1]+this.e[b].Na[1]*e;m[2]=this.e[b].H[0][0][2]+this.e[b].Na[2]*e;if(this.cb){var p=Je(m,this.e[b].zd,this.e[b].D,this.e[b].Ga,
this.Bc,this.q.bc,this.q,this.q.cb,this.q.xd.Rd);this.q.j[b].j[e]=p;this.q.j[b].da(!0)}m=Je(m,this.e[b].zd,this.e[b].D,this.e[b].Ga,this.Bc,this.bc,this,!0,null);m.j[0].jb=!1;this.cb&&(m.q=m.Va,m.q=this.q.j[b].j[e].Va);a.j[e]=m}a.j[e].jb=!0}Re(this,1);setTimeout(function(){this.Dp&&this.j[b].da(!0);this.Bb=b;this.G=!1;if(this.Dp){var a=new De;a.Ma=this;this.dispatchEvent(a);this.onComputingEnd(b)}this.Dp=!1}.bind(this),10)}.bind(this),10)}.bind(this),10)}.bind(this),10)}.bind(a),10);else{var c=a.j[a.Bb];
c.visible=!1;var c=a.j[b],d=c.j.length,e;for(e=0;e<d;e++)c.j[e].jb=!0;a.Bb=b;a.G=!1}}function Qe(a,b){var c=new Be;c.Ma=a;a.dispatchEvent(c);a.onComputing(b)}function Re(a,b){var c=new Ce;c.Oj=b;a.dispatchEvent(c);a.onComputingProgress(100*b)}J.prototype.nv=function(){};J.prototype.qv=function(){};J.prototype.pv=function(){};J.REORIENT_TRANSFORM_KEY="ot_"+B();v("X.volume.REORIENT_TRANSFORM_KEY",J.REORIENT_TRANSFORM_KEY);J.REORIENTED_DIMENSIONS_KEY="otd_"+B();
v("X.volume.REORIENTED_DIMENSIONS_KEY",J.REORIENTED_DIMENSIONS_KEY);J.ORIENTATION_KEY="or_"+B();v("X.volume.ORIENTATION_KEY",J.ORIENTATION_KEY);v("X.volume",J);v("X.volume.prototype.modified",J.prototype.da);v("X.volume.prototype.sliceInfoChanged",J.prototype.jL);v("X.volume.prototype.onComputing",J.prototype.nv);v("X.volume.prototype.onComputingProgress",J.prototype.qv);v("X.volume.prototype.onComputingEnd",J.prototype.pv);function Se(){Ee.call(this);this.s="parserDCM"}w(Se,Ee);
Se.prototype.parse=function(a,b,c){b.ih={};b.ih.jo=0;this.Th(c,b);if(null==b.ea.length||b.za.length==b.ea.length){b.ih.jo=b.ea.length;var d={};c={};for(var e=0;e<b.za.length;e++)d.hasOwnProperty(b.za[e].series_instance_uid)||(d[b.za[e].series_instance_uid]=[],c[b.za[e].series_instance_uid]={}),c[b.za[e].series_instance_uid].hasOwnProperty(b.za[e].sop_instance_uid)||(c[b.za[e].series_instance_uid][b.za[e].sop_instance_uid]=!0,d[b.za[e].series_instance_uid].push(b.za[e]));var e=Object.keys(d)[0],h=
d[e],k=h.length;c={};var l="image_position_patient";1==k?(l="image_position_patient",d[e][0].dist=0):h[0].image_position_patient[0]!=h[1].image_position_patient[0]||h[0].image_position_patient[1]!=h[1].image_position_patient[1]||h[0].image_position_patient[2]!=h[1].image_position_patient[2]?(l="image_position_patient",e=new K(h[0].image_orientation_patient[0],h[0].image_orientation_patient[1],h[0].image_orientation_patient[2]),d=new K(h[0].image_orientation_patient[3],h[0].image_orientation_patient[4],
h[0].image_orientation_patient[5]),e=sd(e,d),h.map(function(a,b){b.dist=b.image_position_patient[0]*a.x+b.image_position_patient[1]*a.y+b.image_position_patient[2]*a.z;return b}.bind(null,e)),h.sort(function(a,b){return a.dist-b.dist})):h[0].instance_number!=h[1].instance_number?(window.console.log("Ordering by instance number"),l="instance_number",h.sort(function(a,b){return a.instance_number-b.instance_number})):window.console.log("Could not resolve the ordering mode");if("image_position_patient"==
l&&5>k)for(e=0;e<k-1;e++)window.console.log(h[e].dist,h[e+1].dist),.01>h[e].dist-h[e+1].dist&&(window.console.log('Warning: Although series was initially ordered by "image_position_patient", positional overlaps were found.\nSwitching to "instance_number" ordering as a result.'),l="instance_number",h.sort(function(a,b){return a.instance_number-b.instance_number}));for(var e=0,n=h.length;e<n;e++)window.console.log("Image Position Patient: (Image ",e,")",h[e].image_position_patient," Pixel Spacing:",
h[e].pixel_spacing,"Initial Ordering:",l);isNaN(h[0].pixel_spacing[0])&&(h[0].pixel_spacing[0]=1);isNaN(h[0].pixel_spacing[1])&&(h[0].pixel_spacing[1]=1);if(1<h.length)for(var e=function(){l="instance_number";h.sort(function(a,b){return a.instance_number-b.instance_number});h.forced_instance_ordering=!0;window.console.log('Warning: Slices were found unordered after XTK "image_position_patient" sorting. Forcing "instance_number" reordering.')},p=0,n=h.length;p<n-1;p++)if(1!=Math.abs(h[p].instance_number-
h[p+1].instance_number)){e();break}if(1<k)switch(l){case "image_position_patient":var d=h[0].image_position_patient,m=h[1].image_position_patient,e=m[0]-d[0],p=m[1]-d[1],q=m[2]-d[2];h[0].pixel_spacing[2]=Math.sqrt(e*e+p*p+q*q);break;case "instance_number":var t=1;if(!0===h.forced_instance_ordering){for(var e=1,n=h.length,d=h[0].image_position_patient,s=!1;e<n;e++)if(m=h[e].image_position_patient,d[0]!=m[0]||d[1]!=m[1]||d[2]!=m[2]){s=!0;break}s&&(window.console.log("Warning: Setting pixel_spacing according to image_position_patient even though we're using forced_instance_ordering."),
e=m[0]-d[0],p=m[1]-d[1],q=m[2]-d[2],t=Math.sqrt(e*e+p*p+q*q))}h[0].pixel_spacing[2]=t;break;default:window.console.log("Unkown ordering mode - returning: "+l)}else h[0].pixel_spacing[2]=1;m=1;switch(l){case "image_position_patient":d=h[0].image_position_patient;t=h[k-1].image_position_patient;e=t[0]-d[0];p=t[1]-d[1];q=t[2]-d[2];q=Math.sqrt(e*e+p*p+q*q);m+=Math.round(q/h[0].pixel_spacing[2]);break;case "instance_number":m+=Math.abs(h[k-1].instance_number-h[0].instance_number);break;default:window.console.log("Unkown ordering mode - returning: "+
l)}"false"==b.reslicing.toString()&&(window.console.log('Forcing expexted slices to length of files because volume\'s "reslicing" property is set to false.'),window.console.log("Expected slices:",m),m=k,window.console.log("Ordering:",l));for(var d=h[0].columns*h[0].rows,y=d*m,t=!1,e=0,n=h.length,z=s=0;e<n;e++)h[e].columns>z&&(z=h[e].columns),h[e].rows>s&&(s=h[e].rows);z*s>d&&(d=z*s,y=d*m,t=!0,window.console.log("Warning: Dimensional inequalities found in image sizes."));n=null;switch(h[0].Vj){case 8:n=
new Uint8Array(y);window.console.log("Using a Uint8Array.");break;case 16:n=new Uint16Array(y);window.console.log("Using a Uint16Array.");break;case 32:n=new Uint32Array(y),window.console.log("Using a Uint32Array.");default:window.console.log("Unknown number of bits allocated - using default: 32 bits"),n=new Uint32Array(y)}b.rh=h[0].pixel_spacing;for(y=0;y<k;y++){var I=h[y].data,q=0;switch(l){case "image_position_patient":e=h[y].image_position_patient[0]-h[0].image_position_patient[0];p=h[y].image_position_patient[1]-
h[0].image_position_patient[1];q=h[y].image_position_patient[2]-h[0].image_position_patient[2];q=Math.sqrt(e*e+p*p+q*q)/h[0].pixel_spacing[2];break;case "instance_number":q=h[y].instance_number-h[0].instance_number;break;default:window.console.log("Unkown ordering mode - returning: "+l)}if(t){for(var p=h[y].columns,e=h[y].rows,S=0,O=Qb(s*z),G=Math.round((z-p)/2),R=p+G,p=Math.round((s-e)/2),Y=e+p,e=p;e<Y;e++)for(p=G;p<R;p++)O[z*e+p]=I[S],S++;I=O}n.set(I,Math.round(q)*d)}c.data=n;b._data=n;b.Da=[h[0].columns,
h[0].rows,m];t&&(b.Da=[z,s,m]);c.NF=b.Da;m=Fe(n);k=m[0];m=m[1];c.min=b.Sd=b.Lb=k;c.max=b.Sb=b.Kb=m;-Infinity==b.tb&&(b.tb=k);Infinity==b.vb&&(b.vb=m);m=h[0].image_position_patient;k=Bd();if("false"==b.reslicing.toString())"image_position_patient"==l||h.forced_instance_ordering?(window.console.log('NRG modification: Running an orthogonal transform because the volume\'s "reslicing" property is set to false.'),e=new K(h[0].image_orientation_patient[0],h[0].image_orientation_patient[1],h[0].image_orientation_patient[2]),
d=new K(h[0].image_orientation_patient[3],h[0].image_orientation_patient[4],h[0].image_orientation_patient[5]),e=sd(e,d),e.x=Math.round(e.x),e.y=Math.round(e.y),e.z=Math.round(e.z),L(k,0,-Math.round(h[0].image_orientation_patient[0])*h[0].pixel_spacing[0],-Math.round(h[0].image_orientation_patient[3])*h[0].pixel_spacing[1],-e.x*h[0].pixel_spacing[2],-m[0]),L(k,1,-Math.round(h[0].image_orientation_patient[1])*h[0].pixel_spacing[0],-Math.round(h[0].image_orientation_patient[4])*h[0].pixel_spacing[1],
-e.y*h[0].pixel_spacing[2],-m[1]),L(k,2,Math.round(h[0].image_orientation_patient[2])*h[0].pixel_spacing[0],Math.round(h[0].image_orientation_patient[5])*h[0].pixel_spacing[1],e.z*h[0].pixel_spacing[2],m[2]),L(k,3,0,0,0,1),window.console.log("IJKToRAS transform:\n",k),m=Bd(),L(m,0,-Math.round(h[0].image_orientation_patient[0]),-Math.round(h[0].image_orientation_patient[3]),-e.x,0),L(m,1,-Math.round(h[0].image_orientation_patient[1]),-Math.round(h[0].image_orientation_patient[4]),-e.y,0),L(m,2,Math.round(h[0].image_orientation_patient[2]),
Math.round(h[0].image_orientation_patient[5]),e.z,0),L(m,3,0,0,0,1),window.console.log("Orthogonal Transform:\n",m),b[J.REORIENT_TRANSFORM_KEY]=m):"instance_number"==l?(L(k,0,-1,0,0,-m[0]),L(k,1,-0,-1,-0,-m[1]),L(k,2,0,0,1,m[2]),L(k,3,0,0,0,1),"false"==b.reslicing.toString()&&(m=Bd(),L(m,0,-1,0,0,0),L(m,1,-0,-1,-0,0),L(m,2,0,0,1,0),L(m,3,0,0,0,1),L(m,3,0,0,0,1),b[J.REORIENT_TRANSFORM_KEY]=m)):window.console.log("Unkown ordering mode - returning: "+l);else switch(l){case "image_position_patient":e=
new K(h[0].image_orientation_patient[0],h[0].image_orientation_patient[1],h[0].image_orientation_patient[2]);d=new K(h[0].image_orientation_patient[3],h[0].image_orientation_patient[4],h[0].image_orientation_patient[5]);e=sd(e,d);L(k,0,-h[0].image_orientation_patient[0]*h[0].pixel_spacing[0],-h[0].image_orientation_patient[3]*h[0].pixel_spacing[1],-e.x*h[0].pixel_spacing[2],-m[0]);L(k,1,-h[0].image_orientation_patient[1]*h[0].pixel_spacing[0],-h[0].image_orientation_patient[4]*h[0].pixel_spacing[1],
-e.y*h[0].pixel_spacing[2],-m[1]);L(k,2,h[0].image_orientation_patient[2]*h[0].pixel_spacing[0],h[0].image_orientation_patient[5]*h[0].pixel_spacing[1],e.z*h[0].pixel_spacing[2],m[2]);L(k,3,0,0,0,1);break;case "instance_number":L(k,0,-1,0,0,-m[0]);L(k,1,-0,-1,-0,-m[1]);L(k,2,0,0,1,m[2]);L(k,3,0,0,0,1);break;default:window.console.log("Unkown ordering mode - returning: "+l)}c.ve=k;c.xe=Bd();Jd(c.ve,c.xe);e=Ad(0,0,0,1);m=zd();Ld(k,e,m);e=Ad(1,1,1,1);d=zd();Ld(k,e,d);c.sg=[d[0]-m[0],d[1]-m[1],d[2]-m[2]];
k=He(k,[b.Da[0],b.Da[1],b.Da[2]]);c.cd=[k[1]-k[0]+1,k[3]-k[2]+1,k[5]-k[4]+1];c.Xe=[k[0],k[2],k[4]];"false"==b.reslicing.toString()&&(k=Ad(b.Da[0],b.Da[1],b.Da[2],1),m=zd(),Ld(b[J.REORIENT_TRANSFORM_KEY],k,m),m[0]=Math.abs(m[0]),m[1]=Math.abs(m[1]),m[2]=Math.abs(m[2]),b[J.REORIENTED_DIMENSIONS_KEY]=m,m[0]==b.Da[2]?(b[J.ORIENTATION_KEY]="sagittal",c.cd[0]+=1*h[0].pixel_spacing[2],c.sg[0]=c.cd[0]/(h.length+1)):m[1]==b.Da[2]?(b[J.ORIENTATION_KEY]="coronal",c.cd[1]+=1*h[0].pixel_spacing[2],c.Xe[1]-=1*
h[0].pixel_spacing[2]):(b[J.ORIENTATION_KEY]="transverse",c.cd[2]+=2*h[0].pixel_spacing[2],c.sg[2]=c.cd[2]/(h.length+1),c.Xe[2]-=h[0].pixel_spacing[2]),window.console.log("Assessed volume orientation: "+b[J.ORIENTATION_KEY]+"\nXTK Modifications may be applied to restore acquired properties."),window.console.log("_transformedDims",m),window.console.log("RASSpacing",c.sg),window.console.log("RASDimensions",c.cd),window.console.log("RASOrigin",c.Xe));b.af(c);b.Cf=Me(this,b)}c=new Wd;c.Ma=b;c.va=a;this.dispatchEvent(c)};
Se.prototype.de=function(a,b,c,d){switch(c){case 16975:case 20819:case 20053:case 22351:c=function(a){for(var b="",c=128;1<=c;c/=2)b+=a&c?"1":"0";return b};d=a[b++];a=a[b++];d=parseInt(c((a&65280)>>8)+c(a&255)+(c((d&65280)>>8)+c(d&255)),2);4294967295==d&&(d=0);b+=d/2;break;default:b+=d/2}return b};
Se.prototype.Th=function(a,b){this._data=a;if("undefined"==typeof b.za||null==b.za)b.za=[];var c={pixel_spacing:[.1,.1,Infinity],image_orientation_patient:[1,0,0,0,1,0],image_position_patient:[0,0,0],transfer_syntax_uid:"no_transfer_syntax_uid"},d=this.h("ushort",this._data.byteLength),e=66,h=null,k=null,l=null,n=null,p=!1,m,q,t;q=[[136,512]];t=[[18,100],[35,4224],[64,629],[8,4368],[8,4384],[136,512]];for(var s,y;e<d.length;){h=d[e++];k=d[e++];l=d[e++];n=d[e++];"1.2.840.10008.1.2"==c.transfer_syntax_uid&&
0==n&&(n=l);p=!1;if(void 0!==h&&void 0!==k){switch(c.transfer_syntax_uid){case "1.2.840.10008.1.2.1":m="Little Endian Explicit";s=0;for(y=q.length;s<y;s++)if(h===q[s][0]&&k===q[s][1]){p=!0;break}break;case "1.2.840.10008.1.2.2":m="Big Endian Explicit";break;case "1.2.840.10008.1.2":for(m="Little Endian Implicit",s=0,y=t.length;s<y;s++)if(h===t[s][0]&&k===t[s][1]){p=!0;break}}if(p){n="parserDCM.js: Identified "+m+". Skipping DICOM adddress (0x"+h.toString(16)+", 0x"+k.toString(16)+")";window.console.log(n);
continue}}switch(h){case 2:switch(k){case 16:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);c.transfer_syntax_uid=l.replace(/\0/g,"");break;default:e=Se.prototype.de(d,e,l,n)}break;case 40:switch(k){case 16:c.rows=d[e];e+=n/2;break;case 17:c.columns=d[e];e+=n/2;break;case 256:c.Vj=d[e];e+=n/2;break;case 257:c.bits_stored=d[e];e+=n/2;break;case 2:c.number_of_images=d[e];e+=n/2;break;case 48:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>
8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);l=l.split("\\");c.pixel_spacing=[parseFloat(l[0]),parseFloat(l[1]),Infinity];break;default:e=Se.prototype.de(d,e,l,n)}break;case 32:switch(k){case 14:c.series_instance_uid="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,c.series_instance_uid+=String.fromCharCode(h),c.series_instance_uid+=String.fromCharCode(k);break;case 19:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);c.instance_number=
parseInt(l,10);break;case 50:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);l=l.split("\\");c.image_position_patient=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2])];break;case 55:l="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,l+=String.fromCharCode(h),l+=String.fromCharCode(k);l=l.split("\\");c.image_orientation_patient=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[4]),parseFloat(l[5])];break;
default:e=Se.prototype.de(d,e,l,n)}break;case 65534:switch(k){default:n=0,e+=n/2}break;case 8:switch(k){case 24:c.sop_instance_uid="";for(s=0;s<n/2;s++)k=d[e++],h=k&255,k=(k&65280)>>8,c.sop_instance_uid+=String.fromCharCode(h),c.sop_instance_uid+=String.fromCharCode(k);break;default:e=Se.prototype.de(d,e,l,n)}break;case 16:switch(k){case 8720:for(s=0;s<n/2;s++)e++;break;default:e=Se.prototype.de(d,e,l,n)}break;default:e=Se.prototype.de(d,e,l,n)}}switch(c.Vj){case 8:c.data=new Uint8Array(c.columns*
c.rows);break;case 16:c.data=new Uint16Array(c.columns*c.rows);break;case 32:c.data=new Uint32Array(c.columns*c.rows)}this.La=this._data.byteLength-c.columns*c.rows*2;d=null;switch(c.Vj){case 8:d=this.h("uchar",c.columns*c.rows);break;case 16:d=this.h("ushort",c.columns*c.rows);break;case 32:d=this.h("uint",c.columns*c.rows)}c.data=d;b.za.push(c);return b};v("X.parserDCM",Se);v("X.parserDCM.prototype.parse",Se.prototype.parse);function Te(){Ee.call(this);this.s="parserVTK"}w(Te,Ee);
Te.prototype.parse=function(a,b,c){A.Qd(this.s+".parse");var d=b.C,e=b.ca,h=new Uint8Array(c),k="";b.C=d=new cd(c.byteLength);b.ca=e=new cd(c.byteLength);c=0;for(var l=h.length;c<l;c+=32768)k+=Ge(h,c,Math.min(c+32768,l));h=k.split("\n");k=h.length;this.cn=this.en=null;this.Ij=[];this.Ae=Sd;this.Vs=this.qi=this.ki=this.ri=!1;c=0;for(l=k%8;l--;)Ue(this,h[c]),c++;for(l=.125*k^0;l--;)Ue(this,h[c]),c++,Ue(this,h[c]),c++,Ue(this,h[c]),c++,Ue(this,h[c]),c++,Ue(this,h[c]),c++,Ue(this,h[c]),c++,Ue(this,h[c]),
c++,Ue(this,h[c]),c++;c=this.en;var h=this.cn,k=h.length,n=l=this.Ij.length;do{var p=this.Ij[l-n],m=p.length,q;for(q=0;q<m&&!("LINES"==this.Ae&&q+1>=m);q++){var t=parseInt(p[q],10),s=c.get(t);d.add(s[0],s[1],s[2]);var y=t,z=s;"LINES"==this.Ae?(y=parseInt(p[q+1],10),z=c.get(y),d.add(z[0],z[1],z[2])):"TRIANGLE_STRIPS"==this.Ae&&(0!=q&&q!=m-1||d.add(s[0],s[1],s[2]));t<k?(z=h.get(t),e.add(z[0],z[1],z[2]),"LINES"==this.Ae?(y=h.get(y),e.add(y[0],y[1],y[2])):"TRIANGLE_STRIPS"==this.Ae&&(0!=q&&q!=m-1||e.add(z[0],
z[1],z[2]))):(y=new K(s[0],s[1],s[2]),y.normalize(),e.add(y.x,y.y,y.z),"LINES"==this.Ae?(y=new K(z[0],z[1],z[2]),y.normalize(),e.add(y.x,y.y,y.z)):"TRIANGLE_STRIPS"==this.Ae&&(0!=q&&q!=m-1||e.add(y.x,y.y,y.z)))}n--}while(0<n);b.Ad=this.Ae;A.sd(this.s+".parse");d=new Wd;d.Ma=b;d.va=a;this.dispatchEvent(d)};
function Ue(a,b){b=b.replace(/^\s+|\s+$/g,"");var c=b.split(" "),d=c.length,e=c[0];switch(e){case "POINTS":a.ri=!0;a.ki=!1;a.qi=!1;c=parseInt(c[1],10);a.en=new cd(3*c);a.cn=new cd(3*c);return;case "VERTICES":a.ki=!0;a.ri=!1;a.qi=!1;c=parseInt(c[1],10);if(3<=c)a.Ae=Sd;else if(1==c)a.Ae="POINTS";else throw Error("This VTK file is not supported!");a.Ij=[];return;case "TRIANGLE_STRIPS":a.ki=!0;a.ri=!1;a.qi=!1;a.Ae="TRIANGLE_STRIPS";a.Ij=[];return;case "LINES":a.ki=!0;a.ri=!1;a.qi=!1;a.Ae="LINES";a.Ij=
[];return;case "POLYGONS":a.ki=!0;a.ri=!1;a.qi=!1;a.Ae="POLYGONS";a.Ij=[];return;case "POINT_DATA":a.qi=!0;a.ri=!1;a.ki=!1;return}if(a.ri)if(1==d||isNaN(parseFloat(e)))a.ri=!1;else{if(3<=d){var e=parseFloat(c[0]),h=parseFloat(c[1]),k=parseFloat(c[2]);a.en.add(e,h,k)}6<=d&&(e=parseFloat(c[3]),h=parseFloat(c[4]),k=parseFloat(c[5]),a.en.add(e,h,k));9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),a.en.add(d,e,c))}else a.ki?1==d||isNaN(parseFloat(e))?a.ki=!1:(c=c.slice(1),a.Ij.push(c)):
a.qi&&("NORMALS"==e?a.Vs=!0:1==d||isNaN(parseFloat(e))?(a.qi=!1,a.Vs=!1):a.Vs&&(3<=d&&(e=parseFloat(c[0]),h=parseFloat(c[1]),k=parseFloat(c[2]),a.cn.add(e,h,k)),6<=d&&(e=parseFloat(c[3]),h=parseFloat(c[4]),k=parseFloat(c[5]),a.cn.add(e,h,k)),9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),a.cn.add(d,e,c))))}v("X.parserVTK",Te);v("X.parserVTK.prototype.parse",Te.prototype.parse);function Ve(){Ee.call(this);this.s="parserFSM";this.Jp=!1}w(Ve,Ee);
Ve.prototype.parse=function(a,b,c){A.Qd(this.s+".parse");this._data=c;var d=b.C,e=b.ca;b.ol=[];var h=b.ol;c=0;var k;do k=this.h("uchar"),c++;while(200>c&&10!=k);this.h("uchar");e=this.h("uint");c=this.h("uint");var l=this.h("float",3*e);k=this.h("uint",3*c);var n=new Uint32Array(e),p=new Float32Array(9*c);b.C=d=new cd(9*c);b.ca=e=new cd(9*c);var m;for(m=0;m<c;m++){var q=3*m,t=k[q],s=k[q+1],y=k[q+2];h.push(t);h.push(s);h.push(y);n[t]+=1;n[s]+=1;n[y]+=1;var q=3*t,z=3*s,I=3*y,S=l[q],O=l[q+1],G=l[q+2],
s=l[z],y=l[z+1],t=l[z+2],R=l[I],Y=l[I+1],Z=l[I+2];d.add(S,O,G);d.add(s,y,t);d.add(R,Y,Z);S=new K(S,O,G);R=new K(R,Y,Z);s=(new K(s,y,t)).clone().wc(S);y=R.clone().wc(S);s=sd(s,y).normalize();p[q]+=s.x;p[q+1]+=s.y;p[q+2]+=s.z;p[z]+=s.x;p[z+1]+=s.y;p[z+2]+=s.z;p[I]+=s.x;p[I+1]+=s.y;p[I+2]+=s.z}for(m=0;m<c;m++)q=3*m,t=k[q],s=k[q+1],y=k[q+2],q=3*t,z=3*s,I=3*y,h=new K(p[z],p[z+1],p[z+2]),l=new K(p[I],p[I+1],p[I+2]),q=(new K(p[q],p[q+1],p[q+2])).scale(1/n[t]).normalize(),h=h.scale(1/n[s]).normalize(),l=
l.scale(1/n[y]).normalize(),e.add(q.x,q.y,q.z),e.add(h.x,h.y,h.z),e.add(l.x,l.y,l.z);c=this.h("uchar",this._data.byteLength-this.La);k=null;for(q=0;q<c.length;q++)if(99==c[q]&&114==c[q+1]&&97==c[q+2]&&115==c[q+3]){for(e=k=q+9;10!=c[q]&&q<c.length;)e++,q++;k=Ge(c.subarray(k,e)).split(" ");break}k&&(b.cc.SC(parseFloat(k[0])),b.cc.TC(parseFloat(k[1])),b.cc.UC(parseFloat(k[2])));b.Ad=Sd;A.sd(this.s+".parse");c=new Wd;c.Ma=b;c.va=a;this.dispatchEvent(c)};v("X.parserFSM",Ve);
v("X.parserFSM.prototype.parse",Ve.prototype.parse);var We={yt:function(a,b,c){return We.update(a,0,b,c)},update:function(a,b,c,d){var e=We.uE,h="number"===typeof c?c:c=0;d="number"===typeof d?d:a.length;b^=4294967295;for(h=d&7;h--;++c)b=b>>>8^e[(b^a[c])&255];for(h=d>>3;h--;c+=8)b=b>>>8^e[(b^a[c])&255],b=b>>>8^e[(b^a[c+1])&255],b=b>>>8^e[(b^a[c+2])&255],b=b>>>8^e[(b^a[c+3])&255],b=b>>>8^e[(b^a[c+4])&255],b=b>>>8^e[(b^a[c+5])&255],b=b>>>8^e[(b^a[c+6])&255],b=b>>>8^e[(b^a[c+7])&255];return(b^4294967295)>>>0}},Xe;
Xe=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,
3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,
366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,
3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,
1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,
1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);We.uE=Xe;function Ye(a){var b=a.length,c=0,d=Number.POSITIVE_INFINITY,e,h,k,l,n,p,m,q,t;for(q=0;q<b;++q)a[q]>c&&(c=a[q]),a[q]<d&&(d=a[q]);e=1<<c;h=new Uint32Array(e);k=1;l=0;for(n=2;k<=c;){for(q=0;q<b;++q)if(a[q]===k){p=0;m=l;for(t=0;t<k;++t)p=p<<1|m&1,m>>=1;for(t=p;t<e;t+=n)h[t]=k<<16|q;++l}++k;l<<=1;n<<=1}return[h,c,d]};function Ze(a,b){this.tt=[];this.vt=32768;this.Jf=this.mn=this.eb=this.Jw=0;this.input=new Uint8Array(a);this.Ry=!1;this.wt=$e;this.resize=!1;if(b||!(b={}))b.index&&(this.eb=b.index),b.bufferSize&&(this.vt=b.bufferSize),b.bufferType&&(this.wt=b.bufferType),b.resize&&(this.resize=b.resize);switch(this.wt){case af:this.mc=32768;this.output=new Uint8Array(32768+this.vt+258);break;case $e:this.mc=0;this.output=new Uint8Array(this.vt);this.jk=this.YF;this.Zy=this.BF;this.Ot=this.JF;break;default:throw Error("invalid inflate mode");
}}var af=0,$e=1;
Ze.prototype.Gi=function(){for(;!this.Ry;){var a=bf(this,3);a&1&&(this.Ry=!0);a>>>=1;switch(a){case 0:var a=this.input,b=this.eb,c=this.output,d=this.mc,e=void 0,h=void 0,k=void 0,l=c.length,e=void 0;this.Jf=this.mn=0;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: LEN (first byte)");h=e;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: LEN (second byte)");h|=e<<8;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: NLEN (first byte)");k=
e;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: NLEN (second byte)");k|=e<<8;if(h===~k)throw Error("invalid uncompressed block header: length verify");if(b+h>a.length)throw Error("input buffer is broken");switch(this.wt){case af:for(;d+h>c.length;)e=l-d,h-=e,c.set(a.subarray(b,b+e),d),d+=e,b+=e,this.mc=d,c=this.jk(),d=this.mc;break;case $e:for(;d+h>c.length;)c=this.jk({Ez:2});break;default:throw Error("invalid inflate mode");}c.set(a.subarray(b,b+h),d);d+=h;this.eb=b+=h;this.mc=
d;this.output=c;break;case 1:this.Ot(cf,df);break;case 2:ef(this);break;default:throw Error("unknown BTYPE: "+a);}}return this.Zy()};
var ff=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gf=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),hf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),jf=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),kf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),lf=new Uint8Array(288),
nf,of;nf=0;for(of=lf.length;nf<of;++nf)lf[nf]=143>=nf?8:255>=nf?9:279>=nf?7:8;var cf=Ye(lf),pf=new Uint8Array(30),qf,rf;qf=0;for(rf=pf.length;qf<rf;++qf)pf[qf]=5;var df=Ye(pf);function bf(a,b){for(var c=a.mn,d=a.Jf,e=a.input,h=a.eb,k;d<b;){k=e[h++];if(void 0===k)throw Error("input buffer is broken");c|=k<<d;d+=8}k=c&(1<<b)-1;a.mn=c>>>b;a.Jf=d-b;a.eb=h;return k}
function sf(a,b){for(var c=a.mn,d=a.Jf,e=a.input,h=a.eb,k=b[0],l=b[1],n;d<l;){n=e[h++];if(void 0===n)throw Error("input buffer is broken");c|=n<<d;d+=8}e=k[c&(1<<l)-1];k=e>>>16;a.mn=c>>k;a.Jf=d-k;a.eb=h;return e&65535}
function ef(a){function b(a,b,c){var d,e,h;for(h=0;h<a;)switch(d=sf(this,b),d){case 16:for(d=3+bf(this,2);d--;)c[h++]=e;break;case 17:for(d=3+bf(this,3);d--;)c[h++]=0;e=0;break;case 18:for(d=11+bf(this,7);d--;)c[h++]=0;e=0;break;default:e=c[h++]=d}return c}var c=bf(a,5)+257,d=bf(a,5)+1,e=bf(a,4)+4,h=new Uint8Array(ff.length),k;for(k=0;k<e;++k)h[ff[k]]=bf(a,3);e=Ye(h);h=new Uint8Array(c);k=new Uint8Array(d);a.Ot(Ye(b.call(a,c,e,h)),Ye(b.call(a,d,e,k)))}f=Ze.prototype;
f.Ot=function(a,b){var c=this.output,d=this.mc;this.pz=a;for(var e=c.length-258,h,k,l;256!==(h=sf(this,a));)if(256>h)d>=e&&(this.mc=d,c=this.jk(),d=this.mc),c[d++]=h;else for(h-=257,l=gf[h],0<hf[h]&&(l+=bf(this,hf[h])),h=sf(this,b),k=jf[h],0<kf[h]&&(k+=bf(this,kf[h])),d>=e&&(this.mc=d,c=this.jk(),d=this.mc);l--;)c[d]=c[d++-k];for(;8<=this.Jf;)this.Jf-=8,this.eb--;this.mc=d};
f.JF=function(a,b){var c=this.output,d=this.mc;this.pz=a;for(var e=c.length,h,k,l;256!==(h=sf(this,a));)if(256>h)d>=e&&(c=this.jk(),e=c.length),c[d++]=h;else for(h-=257,l=gf[h],0<hf[h]&&(l+=bf(this,hf[h])),h=sf(this,b),k=jf[h],0<kf[h]&&(k+=bf(this,kf[h])),d+l>e&&(c=this.jk(),e=c.length);l--;)c[d]=c[d++-k];for(;8<=this.Jf;)this.Jf-=8,this.eb--;this.mc=d};
f.jk=function(){var a=new Uint8Array(this.mc-32768),b=this.mc-32768,c=this.output;a.set(c.subarray(32768,a.length));this.tt.push(a);this.Jw+=a.length;c.set(c.subarray(b,b+32768));this.mc=32768;return c};
f.YF=function(a){var b=this.input.length/this.eb+1|0,c=this.input,d=this.output;a&&("number"===typeof a.Ez&&(b=a.Ez),"number"===typeof a.fF&&(b+=a.fF));2>b?(a=(c.length-this.eb)/this.pz[2],a=a/2*258|0,a=a<d.length?d.length+a:d.length<<1):a=d.length*b;a=new Uint8Array(a);a.set(d);return this.output=a};
f.Zy=function(){var a=0,b=this.output,c=this.tt,d,e=new Uint8Array(this.Jw+(this.mc-32768)),h,k,l,n;if(0===c.length)return this.output.subarray(32768,this.mc);h=0;for(k=c.length;h<k;++h)for(d=c[h],l=0,n=d.length;l<n;++l)e[a++]=d[l];h=32768;for(k=this.mc;h<k;++h)e[a++]=b[h];this.tt=[];return this.buffer=e};f.BF=function(){var a,b=this.mc;this.resize?(a=new Uint8Array(b),a.set(this.output.subarray(0,b))):a=this.output.subarray(0,b);return this.buffer=a};new Uint8Array(256);var tf;for(tf=0;256>tf;++tf)for(var uf=tf,vf=7,uf=uf>>>1;uf;uf>>>=1)--vf;var wf=[],xf;for(xf=0;288>xf;xf++)switch(!0){case 143>=xf:wf.push([xf+48,8]);break;case 255>=xf:wf.push([xf-144+400,9]);break;case 279>=xf:wf.push([xf-256+0,7]);break;case 287>=xf:wf.push([xf-280+192,8]);break;default:throw"invalid literal: "+xf;}
var yf=function(){function a(a){switch(!0){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw"invalid length: "+a;}}var b=[],c,d;for(c=3;258>=c;c++)d=a(c),b[c]=d[2]<<24|
d[1]<<16|d[0];return b}();new Uint32Array(yf);function zf(){};function Af(a){this.input=a;this.eb=0;this.member=[]}
Af.prototype.Gi=function(){for(var a=this.input.length;this.eb<a;){var b=new zf,c=void 0,d=void 0,e=void 0,h=c=e=void 0,k=void 0,c=c=void 0,l=this.input,d=this.eb;b.id1=l[d++];b.id2=l[d++];if(31!==b.id1||139!==b.id2)throw Error("invalid file signature:",b.id1,b.id2);b.cm=l[d++];switch(b.cm){case 8:break;default:throw Error("unknown compression method: "+b.cm);}b.flg=l[d++];c=l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24;b.mtime=new Date(1E3*c);b.xfl=l[d++];b.os=l[d++];0<(b.flg&4)&&(b.xlen=l[d++]|l[d++]<<
8,d+=b.xlen);if(0<(b.flg&8)){k=[];for(h=0;0<(c=l[d++]);)k[h++]=String.fromCharCode(c);b.name=k.join("")}if(0<(b.flg&16)){k=[];for(h=0;0<(c=l[d++]);)k[h++]=String.fromCharCode(c);b.comment=k.join("")}if(0<(b.flg&2)&&(b.crc16=We.yt(l,0,d)&65535,b.crc16!==(l[d++]|l[d++]<<8)))throw Error("invalid header crc16");c=l[l.length-4]|l[l.length-3]<<8|l[l.length-2]<<16|l[l.length-1]<<24;l.length-d-4-4<512*c&&(e=c);d=new Ze(l,{index:d,bufferSize:e});b.data=e=d.Gi();d=d.eb;b.crc32=c=(l[d++]|l[d++]<<8|l[d++]<<16|
l[d++]<<24)>>>0;if(We.yt(e)!==c)throw Error("invalid CRC-32 checksum: 0x"+We.yt(e).toString(16)+" / 0x"+c.toString(16));b.isize=c=(l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24)>>>0;if((e.length&4294967295)!==c)throw Error("invalid input size: "+(e.length&4294967295)+" / "+c);this.member.push(b);this.eb=d}a=this.member;b=e=d=0;for(l=a.length;b<l;++b)e+=a[b].data.length;e=new Uint8Array(e);for(b=0;b<l;++b)e.set(a[b].data,d),d+=a[b].data.length;return e};function Bf(){Ee.call(this);this.s="parserMGZ";this.Jp=!1}w(Bf,Ee);
Bf.prototype.parse=function(a,b,c,d){A.Qd(this.s+".parse");d&&(c=(new Af(new Uint8Array(c))).Gi(),c=c.buffer);d=this.Th(c);var e=[d.hv,d.iv,d.jv];b.Da=e;var h=d.ZC;b.rh=h;c=d.min;var k=d.max;b.Sd=b.Lb=c;b.Sb=b.Kb=k;-Infinity==b.tb&&(b.tb=c);Infinity==b.vb&&(b.vb=k);c=Bd();L(c,0,d.xf[0][0],d.xf[1][0],d.xf[2][0],0);L(c,1,d.xf[0][1],d.xf[1][1],d.xf[2][1],0);L(c,2,d.xf[0][2],d.xf[1][2],d.xf[2][2],0);L(c,3,0,0,0,1);for(var k=e[0]/2,l=e[1]/2,n=e[2]/2,e=[0,0,0],p=0;3>p;++p)e[p]=d.xf[3][p]-(c[p+0]*h[0]*k+
c[p+4]*h[1]*l+c[p+8]*h[2]*n);h=e[1];k=e[2];c[12]=e[0];c[13]=h;c[14]=k;c[15]=1;d.ve=c;d.xe=Bd();Jd(d.ve,d.xe);e=Ad(0,0,0,1);h=zd();Ld(c,e,h);k=Ad(1,1,1,1);e=zd();Ld(c,k,e);c=He(c,b.Da);d.sg=[e[0]-h[0],e[1]-h[1],e[2]-h[2]];d.cd=[c[1]-c[0]+1,c[3]-c[2]+1,c[5]-c[4]+1];d.Xe=[c[0],c[2],c[4]];b.af(d);A.sd(this.s+".parse");b.Cf=Me(this,b);d=new Wd;d.Ma=b;d.va=a;this.dispatchEvent(d)};
Bf.prototype.Th=function(a){this._data=a;a={version:0,xE:0,vE:0,fG:0,wE:0,hv:0,iv:0,jv:0,iJ:0,type:0,SF:0,JB:0,QM:null,xf:null,ZC:null,data:null,min:Infinity,max:-Infinity};a.version=this.h("uint");a.hv=this.h("uint");a.iv=this.h("uint");a.jv=this.h("uint");a.iJ=this.h("uint");a.type=this.h("uint");a.SF=this.h("uint");a.JB=this.h("ushort");if(0<a.JB){a.ZC=this.h("float",3);var b=[];b.push(this.h("float",3));b.push(this.h("float",3));b.push(this.h("float",3));b.push(this.h("float",3));a.xf=b}this.La=
284;b=a.hv*a.iv*a.jv;switch(a.type){case 0:a.data=this.h("uchar",b);break;case 1:a.data=this.h("uint",b);break;case 3:a.data=this.h("float",b);break;case 4:a.data=this.h("ushort",b);break;default:throw Error("Unsupported MGH/MGZ data type: "+a.type);}b=Fe(a.data);a.min=b[0];a.max=b[1];this.La+16<this._data.byteLength&&(a.xE=this.h("float"),a.fG=this.h("float"),a.vE=this.h("float"),a.wE=this.h("float"));return a};v("X.parserMGZ",Bf);v("X.parserMGZ.prototype.parse",Bf.prototype.parse);function Cf(){Ee.call(this);this.s="parserLBL"}w(Cf,Ee);
Cf.prototype.parse=function(a,b,c){A.Qd(this.s+".parse");var d=b.ol,e=d.length;if(0==e)throw Error("No _pointIndices defined on the X.object.");this._data=c;var h=[],k=this.h("uchar",c.byteLength),l=k.length,n=!1,p=0;for(c=1;c<l;c++)10==k[c-1]?(p=c,n=!0):n&&32==k[c]&&(h.push(parseInt(Ge(k,p,c),10)),n=!1);k=b.$a.Za?b.$a.Za:new Float32Array(e);l=h.length;for(c=0;c<l;c++)k[h[c]]=1;h=new Float32Array(3*e);for(c=l=0;c<e;c++){n=d[c];if(n>e)throw Error("Could not find scalar for vertex.");n=k[n];h[l++]=
n;h[l++]=n;h[l++]=n}b.$a.Za=k;b.$a.Jm=h;b.$a.G=!0;A.sd(this.s+".parse");d=new Wd;d.Ma=b;d.va=a;this.dispatchEvent(d)};v("X.parserLBL",Cf);v("X.parserLBL.prototype.parse",Cf.prototype.parse);function Df(){Ee.call(this);this.s="parserCRV";this.Jp=!1}w(Df,Ee);
Df.prototype.parse=function(a,b,c){A.Qd(this.s+".parse");var d=b.ol;if(0==d.length)throw Error("No _pointIndices defined on the X.object.");this._data=c;this.La=3;var e=this.h("uint");this.h("uint");this.h("uint");var h=0,k=0,l=0,n=0,p=0,m=0,q=0,t=0,s=0,y=0,z=0;c=Array(2);var I=Array(2),S=this.h("float",e),O;for(O=0;O<e;O++){var G=S[O];0==O&&(c[0]=I[0]=G);0<=G?(h++,n+=G):(k++,l+=G);s+=G;z++;I[0]=Math.max(G,I[0]);c[0]=Math.min(G,c[0]);S[O]=G}0!=h&&(p=n/h);0!=k&&(m=l/k);0!=z&&(y=s/z);for(z=s=l=n=0;z<
e;z++)G=S[z],O=0,0<=G?(O=Math.pow(G-p,2),n+=O):(O=Math.pow(G-m,2),l+=O),O=Math.pow(G-y,2),s+=O;1<h&&(q=Math.sqrt(n/(h-1)));1<k&&(t=Math.sqrt(l/(k-1)));c[1]=m-2.5*t;I[1]=p+2.5*q;e=d.length;h=new Float32Array(3*e);for(z=0;z<e;z++)k=S[d[z]],l=3*z,h[l]=k,h[l+1]=k,h[l+2]=k;b.$a.Sd=c[1];b.$a.Sb=I[1];-Infinity==b.$a.tb&&(b.$a.tb=c[1]);Infinity==b.$a.vb&&(b.$a.vb=I[1]);b.$a.Za=S;b.$a.Jm=h;b.$a.G=!0;A.sd(this.s+".parse");d=new Wd;d.Ma=b;d.va=a;this.dispatchEvent(d)};v("X.parserCRV",Df);
v("X.parserCRV.prototype.parse",Df.prototype.parse);function Ef(a,b){var c,d;this.input=a;this.eb=0;if(b||!(b={}))b.index&&(this.eb=b.index),b.verify&&(this.ML=b.verify);c=a[this.eb++];d=a[this.eb++];switch(c&15){case 8:this.method=8;break;default:throw Error("unsupported compression method");}if(0!==((c<<8)+d)%31)throw Error("invalid fcheck flag:"+((c<<8)+d)%31);if(d&32)throw Error("fdict flag is not supported");this.KB=new Ze(a,{index:this.eb,bufferSize:b.bufferSize,bufferType:b.bufferType,resize:b.resize})}
Ef.prototype.Gi=function(){var a=this.input,b;b=this.KB.Gi();this.eb=this.KB.eb;if(this.ML){var a=(a[this.eb++]<<24|a[this.eb++]<<16|a[this.eb++]<<8|a[this.eb++])>>>0,c=b;if("string"===typeof c){var c=c.split(""),d,e;d=0;for(e=c.length;d<e;d++)c[d]=(c[d].charCodeAt(0)&255)>>>0}d=1;e=0;for(var h=c.length,k,l=0;0<h;){k=1024<h?1024:h;h-=k;do d+=c[l++],e+=d;while(--k);d%=65521;e%=65521}if(a!==(e<<16|d)>>>0)throw Error("invalid adler-32 checksum");}return b};function Ff(){Ee.call(this);this.s="parserRAW"}w(Ff,Ee);
Ff.prototype.parse=function(a,b,c,d){A.Qd(this.s+".parse");d&&(c=(new Ef(new Uint8Array(c))).Gi(),c=c.buffer);d={};d.data=new Uint8Array(c);var e=Fe(d.data);c=e[0];e=e[1];d.min=b.Sd=b.Lb=c;d.max=b.Sb=b.Kb=e;-Infinity==b.tb&&(b.tb=c);Infinity==b.vb&&(b.vb=e);e=Cd();d.ve=e;d.xe=Cd();var h=Ad(0,0,0,1);c=zd();Ld(e,h,c);var k=Ad(1,1,1,1),h=zd();Ld(e,k,h);e=He(e,b.Da);d.sg=[h[0]-c[0],h[1]-c[1],h[2]-c[2]];d.cd=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];d.Xe=[e[0],e[2],e[4]];b.af(d);A.sd(this.s+".parse");b.Cf=
Me(this,b);d=new Wd;d.Ma=b;d.va=a;this.dispatchEvent(d)};v("X.parserRAW",Ff);v("X.parserRAW.prototype.parse",Ff.prototype.parse);function Gf(){Ee.call(this);this.s="parserIMAGE"}w(Gf,Ee);Gf.prototype.parse=function(a,b,c,d){if(!(c instanceof ArrayBuffer))throw Error();for(var e=new Uint8Array(c),h=e.length,k=Array(h);h--;)k[h]=String.fromCharCode(e[h]);e=window.btoa(k.join(""));h=new Image;Tc(h,"load",this.zK.bind(this,h,a,b,c,d));h.src="data:image/"+d+";base64,"+e};Gf.prototype.zK=function(a,b,c){b.Cf=a;b.ti=null;a=new Wd;a.Ma=c;a.va=b;this.dispatchEvent(a)};v("X.parserIMAGE",Gf);v("X.parserIMAGE.prototype.parse",Gf.prototype.parse);function Hf(){Ee.call(this);this.s="parserLUT"}w(Hf,Ee);
Hf.prototype.parse=function(a,b,c){A.Qd(this.s+".parse");this._data=c;c=this.h("uchar",c.byteLength);var d=c.length,e=0,h;for(h=0;h<d;h++)if(10==c[h]){var k=Ge(c,e,h),e=h+1,k=k.replace(/^\s+|\s+$/g,"");"#"!=k[0]&&(k=k.split(" "),k=k.filter(function(a){return""!=a}),6==k.length&&(k[2]=parseInt(k[2],10)/255,k[3]=parseInt(k[3],10)/255,k[4]=parseInt(k[4],10)/255,k[5]=parseInt(k[5],10)/255,a.add(parseInt(k[0],10),k[1],k[2],k[3],k[4],k[5],10)))}A.sd(this.s+".parse");c=new Wd;c.Ma=b;c.va=a;this.dispatchEvent(c)};
v("X.parserLUT",Hf);v("X.parserLUT.prototype.parse",Hf.prototype.parse);function If(){Ee.call(this);this.s="parserMRC"}w(If,Ee);
If.prototype.parse=function(a,b,c){A.Qd(this.s+".parse");c=this.Th(c);var d=c.min,e=c.max;b.Da=[c.oo,c.po,c.qo];b.rh=[c.xlen/c.jB,c.fD/c.kB,c.hD/c.lB];b.Sd=b.Lb=d;b.Sb=b.Kb=e;-Infinity==b.tb&&(b.tb=d);Infinity==b.vb&&(b.vb=e);e=Bd();L(e,3,0,0,0,1);L(e,0,-1,0,0,c.oo);L(e,1,0,0,-1,c.po);L(e,2,0,-1,0,c.qo);c.ve=e;c.xe=Bd();Jd(c.ve,c.xe);var h=Ad(0,0,0,1),d=zd();Ld(e,h,d);var k=Ad(1,1,1,1),h=zd();Ld(e,k,h);k=[c.oo,c.po,c.qo];e=He(e,k);c.sg=[h[0]-d[0],h[1]-d[1],h[2]-d[2]];c.cd=[e[1]+e[0]+1,e[3]-e[2]+1,
e[5]-e[4]+1];c.Xe=[e[0],e[2],e[4]];b.Da=k;b.af(c);b.Cf=Me(this,b);A.sd(this.s+".parse");c=new Wd;c.Ma=b;c.va=a;this.dispatchEvent(c)};
If.prototype.Th=function(a){this._data=a;a={oo:0,po:0,qo:0,mode:0,eP:0,fP:0,gP:0,jB:0,kB:0,lB:0,xlen:0,fD:0,hD:0,alpha:0,beta:0,gamma:0,RI:0,SI:0,TI:0,qt:0,Xp:0,Uj:0,TO:0,next:0,HF:0,extra:null,jJ:0,lJ:0,extra:null,qI:0,QO:0,nI:0,lens:0,gJ:0,hJ:0,KL:0,LL:0,CL:null,QL:0,SL:0,TL:0,DO:0,tP:0,OK:0,kJ:0,data:null,min:Infinity,max:-Infinity,aP:0,FC:null,sP:null,mP:null,orientation:null,dP:null};this.La=0;a.oo=this.h("sint");a.po=this.h("sint");a.qo=this.h("sint");a.mode=this.h("sint");var b=a.oo*a.po*a.qo;
this.La=1024;switch(a.mode){case 0:a.data=this.h("schar",b);break;case 1:a.data=this.h("sshort",b);break;case 2:a.data=this.h("float",b);break;case 3:a.data=this.h("uint",b);break;case 4:a.data=this.h("double",b);break;case 6:a.data=this.h("ushort",b);break;case 16:a.data=this.h("uchar",b);break;default:throw Error("Unsupported MRC data type: "+a.mode);}this.La=28;a.jB=this.h("sint");a.kB=this.h("sint");a.lB=this.h("sint");a.xlen=this.h("float");a.fD=this.h("float");a.hD=this.h("float");a.alpha=this.h("float");
a.beta=this.h("float");a.gamma=this.h("float");a.RI=this.h("sint");a.SI=this.h("sint");a.TI=this.h("sint");a.qt=this.h("float");a.Xp=this.h("float");a.Uj=this.h("float");a.SO=this.h("sint");a.next=this.h("sint");a.HF=this.h("short");a.jJ=this.h("short");a.lJ=this.h("short");a.qI=this.h("sint");a.PO=this.h("sint");a.nI=this.h("short");a.lens=this.h("short");a.gJ=this.h("short");a.hJ=this.h("short");a.KL=this.h("short");a.LL=this.h("short");a.CL=this.h("float",6);this.La=196;a.QL=this.h("float");a.SL=
this.h("float");a.TL=this.h("float");this.La=216;a.OK=this.h("float");a.kJ=this.h("sint");a.XO=this.h("schar",10);if(0!=a.next)switch(this.La=parseInt(a.next+1024,10),a.mode){case 0:a.data=this.h("schar",b);break;case 1:a.data=this.h("sshort",b);break;case 2:a.data=this.h("float",b);break;case 3:a.data=this.h("uint",b);break;case 4:a.data=this.h("double",b);break;case 6:a.data=this.h("ushort",b);break;case 16:a.data=this.h("uchar",b);break;default:throw Error("Unsupported MRC data type: "+a.mode);
}0>a.Uj-(a.Xp-a.Uj)?(a.min=a.qt,a.max=a.Uj+(a.Uj-a.qt)):(a.min=a.Uj-(a.Xp-a.Uj),a.max=a.Xp);return a};v("X.parserMRC",If);v("X.parserMRC.prototype.parse",If.prototype.parse);function Jf(){Ee.call(this);this.s="parserNRRD"}w(Jf,Ee);
Jf.prototype.parse=function(a,b,c){A.Qd(this.s+".parse");this._data=c;c=this.h("uchar",c.byteLength);var d=c.length,e=null,h=0,k;for(k=1;k<d;k++)if(10==c[k-1]&&10==c[k]){e=Ge(c,0,k-2);h=k+1;break}var l,n,p,m,d=e.split(/\r?\n/),e=0;for(k=d.length;e<k;e++)l=d[e],l.match(/NRRD\d+/)?this.DI=!0:!l.match(/^#/)&&(m=l.match(/(.*):(.*)/))&&(n=m[1].trim(),l=m[2].trim(),(p=this.bG[n])?p.call(this,l):this[n]=l);if(!this.DI)throw Error("Not an NRRD file");if("raw"!==this.encoding&&"gzip"!==this.encoding&&"gz"!==
this.encoding)throw Error("Only raw or gz/gzip encoding is allowed");if(!this.Xb&&(this.Xb=[new K(1,0,0),new K(0,1,0),new K(0,0,1)],this.uw))for(d=[],m=0;2>=m;m++)d.push(isNaN(this.uw[m])?void 0:this.Xb[m].scale(this.uw[m]));h=c.subarray(h);if("gzip"==this.encoding||"gz"==this.encoding)h=(new Af(new Uint8Array(h))).Gi();h=h.buffer;c={data:null,min:Infinity,max:-Infinity};c.data=new this.ji(h);m=Fe(c.data);h=c.min=m[0];m=c.max=m[1];b.Sd=b.Lb=h;b.Sb=b.Kb=m;b.Da=[this.pw[0],this.pw[1],this.pw[2]];d=
(new K(this.Xb[0][0],this.Xb[0][1],this.Xb[0][2])).Yf();e=(new K(this.Xb[1][0],this.Xb[1][1],this.Xb[1][2])).Yf();k=(new K(this.Xb[2][0],this.Xb[2][1],this.Xb[2][2])).Yf();b.rh=[d,e,k];-Infinity==b.tb&&(b.tb=h);Infinity==b.vb&&(b.vb=m);d=m=1;"left-posterior-superior"==this.FC&&(d=m=-1);h=Cd();L(h,0,m*this.Xb[0][0],m*this.Xb[1][0],m*this.Xb[2][0],m*this.tw[0]);L(h,1,d*this.Xb[0][1],d*this.Xb[1][1],d*this.Xb[2][1],d*this.tw[1]);L(h,2,1*this.Xb[0][2],1*this.Xb[1][2],1*this.Xb[2][2],1*this.tw[2]);L(h,
3,0,0,0,1);c.ve=h;c.xe=Bd();Jd(c.ve,c.xe);d=Ad(0,0,0,1);m=zd();Ld(h,d,m);e=Ad(1,1,1,1);d=zd();Ld(h,e,d);h=He(h,b.Da);c.sg=[d[0]-m[0],d[1]-m[1],d[2]-m[2]];c.cd=[h[1]-h[0]+1,h[3]-h[2]+1,h[5]-h[4]+1];c.Xe=[h[0],h[2],h[4]];b.af(c);A.sd(this.s+".parse");b.Cf=Me(this,b);c=new Wd;c.Ma=b;c.va=a;this.dispatchEvent(c)};
Jf.prototype.bG={type:function(a){switch(a){case "uchar":case "unsigned char":case "uint8":case "uint8_t":this.ji=Uint8Array;break;case "signed char":case "int8":case "int8_t":this.ji=Int8Array;break;case "short":case "short int":case "signed short":case "signed short int":case "int16":case "int16_t":this.ji=Int16Array;break;case "ushort":case "unsigned short":case "unsigned short int":case "uint16":case "uint16_t":this.ji=Uint16Array;break;case "int":case "signed int":case "int32":case "int32_t":this.ji=
Int32Array;break;case "uint":case "unsigned int":case "uint32":case "uint32_t":this.ji=Uint32Array;break;case "float":this.ji=Float32Array;break;case "double":this.ji=Float64Array;break;default:throw Error("Unsupported NRRD data type: "+a);}return this.type=a},endian:function(a){return this.LO=a},encoding:function(a){return this.encoding=a},dimension:function(a){return this.Hi=parseInt(a,10)},sizes:function(a){var b,c,d,e;d=a.split(/\s+/);e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(parseInt(a,10));
return this.pw=e},space:function(a){return this.FC=a},"space origin":function(a){return this.tw=a.split("(")[1].split(")")[0].split(",")},"space directions":function(a){var b,c,d;c=a.match(/\(.*?\)/g);return this.Xb=function(){var a,h,k;k=[];a=0;for(h=c.length;a<h;a++)d=c[a],k.push(function(){var a,c,e,h;e=d.slice(1,-1).split(/,/);h=[];a=0;for(c=e.length;a<c;a++)b=e[a],h.push(parseFloat(b));return h}());return k}()},spacings:function(a){var b;b=a.split(/\s+/);var c,d,e;e=[];c=0;for(d=b.length;c<d;c++)a=
b[c],e.push(parseFloat(a));return this.uw=e}};v("X.parserNRRD",Jf);v("X.parserNRRD.prototype.parse",Jf.prototype.parse);function Kf(){Ee.call(this);this.s="parserSTL"}w(Kf,Ee);
Kf.prototype.parse=function(a,b,c){A.Qd(this.s+".parse");this._data=c;var d=b.C,e=b.ca;if("solid"==Ge(this.h("uchar",5))){b.C=d=new cd(c.byteLength);b.ca=e=new cd(c.byteLength);var h=d,d=e,e=this.h("uchar",c.byteLength-5);c=e.length;var k=!1,l=!1,n=0,p;for(p=0;p<c;p++)if(10==e[p]){if(k||l){var m=Ge(e,n,p).split(" "),l=parseFloat(m[0]),q=parseFloat(m[1]),m=parseFloat(m[2]);k?(d.add(l,q,m),d.add(l,q,m),d.add(l,q,m)):h.add(l,q,m);l=k=!1}}else 32==e[p-1]&&(102==e[p]?(n=p+=13,k=!0):118==e[p]&&(n=p+=7,
l=!0))}else for(this.La=80,h=this.h("uint"),b.C=d=new cd(9*h),b.ca=e=new cd(9*h),c=c=0;c<h;c++)k=this.h("float",12),n=k[0],p=k[1],l=k[2],e.add(n,p,l),e.add(n,p,l),e.add(n,p,l),d.add(k[3],k[4],k[5]),d.add(k[6],k[7],k[8]),d.add(k[9],k[10],k[11]),this.La+=2;A.sd(this.s+".parse");h=new Wd;h.Ma=b;h.va=a;this.dispatchEvent(h)};v("X.parserSTL",Kf);v("X.parserSTL.prototype.parse",Kf.prototype.parse);function Lf(){Ee.call(this);this.s="parserNII"}w(Lf,Ee);
Lf.prototype.parse=function(a,b,c){var d=c,e=-1,e="undefined"==typeof DataView?(new Int32Array(c,0,1))[0]:(new DataView(c,0)).getInt32(0,!0);348!=e&&(d=(new Af(new Uint8Array(d))).Gi(),d=d.buffer);c=this.Th(d);d=c.min;e=c.max;b.Sd=b.Lb=d;b.Sb=b.Kb=e;-Infinity==b.tb&&(b.tb=d);Infinity==b.vb&&(b.vb=e);d=Bd();L(d,3,0,0,0,1);if(0<c.Vv){var e=0,h=c.GB,k=c.HB,l=c.IB,n=1,p=1,m=1,q=c.DB,t=c.EB,s=c.FB,e=1-(h*h+k*k+l*l);1E-7>e?(e=1/Math.sqrt(h*h+k*k+l*l),h*=e,k*=e,l*=e,e=0):e=Math.sqrt(e);0<c.cg[1]&&(n=c.cg[1]);
0<c.cg[2]&&(p=c.cg[2]);0<c.cg[2]&&(m=c.cg[3]);0>c.cg[0]&&(m=-m);L(d,0,(e*e+h*h-k*k-l*l)*n,2*(h*k-e*l)*p,2*(h*l+e*k)*m,q);L(d,1,2*(h*k+e*l)*n,(e*e+k*k-h*h-l*l)*p,2*(k*l-e*h)*m,t);L(d,2,2*(h*l-e*k)*n,2*(k*l+e*h)*p,(e*e+l*l-k*k-h*h)*m,s)}else 0<c.AC?(e=c.GC,h=c.HC,k=c.IC,L(d,0,e[0],e[1],e[2],e[3]),L(d,1,h[0],h[1],h[2],h[3]),L(d,2,k[0],k[1],k[2],k[3])):0==c.Vv?(L(d,0,c.cg[1],0,0,0),L(d,1,0,c.cg[2],0,0),L(d,2,0,0,c.cg[3],0)):window.console.log("UNKNOWN METHOD IN PARSER NII");c.ve=d;c.xe=Bd();Jd(c.ve,c.xe);
h=Ad(0,0,0,1);e=zd();Ld(d,h,e);k=Ad(1,1,1,1);h=zd();Ld(d,k,h);k=[c.Hi[1],c.Hi[2],c.Hi[3]];d=He(d,k);c.sg=[h[0]-e[0],h[1]-e[1],h[2]-e[2]];c.cd=[d[1]-d[0]+1,d[3]-d[2]+1,d[5]-d[4]+1];c.Xe=[d[0],d[2],d[4]];b.Da=k;b.af(c);b.Cf=Me(this,b);c=new Wd;c.Ma=b;c.va=a;this.dispatchEvent(c)};
Lf.prototype.Th=function(a){this._data=a;a={iL:0,data_type:null,IF:null,$F:0,WK:0,FK:0,MF:null,Hi:null,xI:0,yI:0,zI:0,vI:0,Nt:0,vF:0,nL:0,cg:null,aD:0,VK:0,UK:0,mL:0,kL:null,RL:null,xF:0,yF:0,lL:0,EL:0,UH:0,VH:0,KF:null,sF:null,Vv:0,AC:0,GB:0,HB:0,IB:0,DB:0,EB:0,FB:0,GC:null,HC:null,IC:null,wI:null,magic:null,data:null,min:Infinity,max:-Infinity};a.iL=this.h("uint");a.data_type=this.h("uchar",10);a.IF=this.h("uchar",18);a.$F=this.h("uint");a.WK=this.h("ushort");a.FK=this.h("uchar");a.MF=this.h("uchar");
a.Hi=this.h("ushort",8);a.xI=this.h("float");a.yI=this.h("float");a.zI=this.h("float");a.vI=this.h("ushort");a.Nt=this.h("ushort");a.vF=this.h("ushort");a.nL=this.h("ushort");a.cg=this.h("float",8);a.aD=this.h("float");a.VK=this.h("float");a.UK=this.h("float");a.mL=this.h("ushort");a.kL=this.h("uchar");a.RL=this.h("uchar");a.xF=this.h("float");a.yF=this.h("float");a.lL=this.h("float");a.EL=this.h("float");a.UH=this.h("uint",1);a.VH=this.h("uint",1);a.KF=this.h("uchar",80);a.sF=this.h("uchar",24);
a.Vv=this.h("ushort");a.AC=this.h("ushort");a.GB=this.h("float");a.HB=this.h("float");a.IB=this.h("float");a.DB=this.h("float");a.EB=this.h("float");a.FB=this.h("float");a.GC=this.h("float",4);a.HC=this.h("float",4);a.IC=this.h("float",4);a.wI=this.h("uchar",16);a.magic=this.h("uchar",4);this.La=parseInt(a.aD,10);var b=a.Hi[1]*a.Hi[2]*a.Hi[3];switch(a.Nt){case 2:a.data=this.h("uchar",b);break;case 4:a.data=this.h("sshort",b);break;case 8:a.data=this.h("sint",b);break;case 16:a.data=this.h("float",
b);break;case 32:a.data=this.h("complex",b);break;case 64:a.data=this.h("double",b);break;case 256:a.data=this.h("schar",b);break;case 512:a.data=this.h("ushort",b);break;case 768:a.data=this.h("uint",b);break;default:throw Error("Unsupported NII data type: "+a.Nt);}b=Fe(a.data);a.min=b[0];a.max=b[1];return a};v("X.parserNII",Lf);v("X.parserNII.prototype.parse",Lf.prototype.parse);function Mf(){Ee.call(this);this.s="parserTRK"}w(Mf,Ee);
Mf.prototype.parse=function(a,b,c){A.Qd(this.s+".parse");var d=b.C,e=b.ca,h=b.Cc;this._data=c;this.h("uchar",6);this.h("ushort",3);var k=this.h("float",3);this.h("float",3);var l=this.h("ushort");this.h("uchar",200);this.h("ushort");this.h("uchar",200);c=this.h("float",16);this.h("uchar",444);this.h("uchar",4);this.h("uchar",4);this.h("float",6);this.h("uchar",2);this.h("uchar");this.h("uchar");this.h("uchar");this.h("uchar");this.h("uchar");this.h("uchar");var n=this.h("uint");this.h("uint");var p=
this.h("uint"),m=[],q=[],t=Infinity,s=-Infinity,y=null,z=null,I=null,S=null,e=d=null,O=this.h("uint",(this._data.byteLength-1E3)/4);this.La=p;for(var G=this.h("float",(this._data.byteLength-1E3)/4),R=0,p=h=0;p<n;p++){for(var Y=O[R],Z=new cd(3*Y),va=0,na=0;na<Y;na++){var ya=G[R+3*na+na*l+1],Ma=G[R+3*na+na*l+2],Ha=G[R+3*na+na*l+3],ya=ya/k[0],Ma=Ma/k[1],Ha=Ha/k[2];Z.add(ya,Ma,Ha);if(0<na)var Na=Z.get(na-1),va=va+Math.sqrt(Math.pow(ya-Na[0],2)+Math.pow(Ma-Na[1],2)+Math.pow(Ha-Na[2],2));na<Y-1&&(h+=6)}R+=
3*Y+Y*l+1;na=Z.Gf;Y=Z.Df;ya=Z.Hf;Ma=Z.Ef;Ha=Z.If;Na=Z.Ff;if(!y||na<y)y=na;if(!z||Y>z)z=Y;if(!I||ya<I)I=ya;if(!S||Ma>S)S=Ma;if(!d||Ha<d)d=Ha;if(!e||Na>e)e=Na;m.push(Z);q.push(va)}k=(y+z)/2;I=(I+S)/2;l=(d+e)/2;S=new Float32Array(h);b.C=d=new cd(h);b.ca=e=new cd(h);b.Cc=h=new cd(h);for(p=y=0;p<n;p++)for(z=m[p],O=z.count,va=q[p],t=Math.min(t,va),s=Math.max(s,va),na=0;na<O-1;na++){R=z.get(na);G=z.get(na+1);d.add(R[0],R[1],R[2]);d.add(G[0],G[1],G[2]);var Z=R[0]-k,Y=R[1]-I,ya=R[2]-l,Ma=Math.sqrt(Z*Z+Y*Y+
ya*ya),Ha=G[0]-k,Na=G[1]-I,la=G[2]-l,za=Math.sqrt(Ha*Ha+Na*Na+la*la);e.add(Z/Ma,Y/Ma,ya/Ma);e.add(Ha/za,Na/za,la/za);G=[Math.abs(G[0]-R[0]),Math.abs(G[1]-R[1]),Math.abs(G[2]-R[2])];R=Math.sqrt(G[0]*G[0]+G[1]*G[1]+G[2]*G[2]);G[0]/=R;G[1]/=R;G[2]/=R;h.add(G[0],G[1],G[2]);h.add(G[0],G[1],G[2]);S[y++]=va;S[y++]=va;S[y++]=va;S[y++]=va;S[y++]=va;S[y++]=va}b.Ad="LINES";n=new Ud;n.Sd=t;n.Sb=s;n.tb=t;n.vb=s;n.Jm=S;n.Yx=!1;n.G=!0;b.$a=n;t=!1;for(p=0;16>p;p++)if(0!=c[p]){t=!0;break}!1==t&&(c[0]=c[5]=c[10]=c[15]=
1);A.sd(this.s+".parse");A.t.Lw(c,b.cc.ub);c=new Wd;c.Ma=b;c.va=a;this.dispatchEvent(c)};v("X.parserTRK",Mf);v("X.parserTRK.prototype.parse",Mf.prototype.parse);function Nf(){Ee.call(this);this.s="parserOBJ"}w(Nf,Ee);
Nf.prototype.parse=function(a,b,c){A.Qd(this.s+".parse");this._data=c;c=c.byteLength;var d=this.h("uchar",c),e=[];b.C=new cd(c);b.ca=new cd(c);var h=b.C,k=b.ca,l=0,n;for(n=0;n<c;++n)if(10==d[n]){var p=Ge(d,l,n).replace(/\s{2,}/g," ").split(" ");if("v"==p[0])e.push([parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])]);else if("f"==p[0]){var m=e[parseInt(p[1],10)-1],l=e[parseInt(p[2],10)-1],p=e[parseInt(p[3],10)-1];h.add(m[0],m[1],m[2]);h.add(l[0],l[1],l[2]);h.add(p[0],p[1],p[2]);m=new K(m[0],m[1],
m[2]);p=new K(p[0],p[1],p[2]);l=sd((new K(l[0],l[1],l[2])).wc(m),p.wc(m));l.normalize();k.add(l.x,l.y,l.z);k.add(l.x,l.y,l.z);k.add(l.x,l.y,l.z)}l=n+1}A.sd(this.s+".parse");c=new Wd;c.Ma=b;c.va=a;this.dispatchEvent(c)};v("X.parserOBJ",Nf);v("X.parserOBJ.prototype.parse",Nf.prototype.parse);function Of(){bd.call(this);this.s="loader";this.ml=new id;this.Wm=0}w(Of,bd);function Pf(a,b){a.Wm+=b/a.ml.Fh()/3;a.Wm=Math.min(1,a.Wm);var c=new Ae;c.Oj=a.Wm;a.dispatchEvent(c)}function Qf(a){a=a.ea.Np;var b=a.split(".").pop().toUpperCase();b==a.toUpperCase()&&(b="");if(!(b in Rf))throw Error("The "+b+" file format is not supported.");return[a,b,Rf[b][0],Rf[b][1],Rf[b][2]]}
Of.prototype.load=function(a,b){if(!a||!b)throw Error("No container or object to load.");if(!ld(this.ml.wb,a.ed)||this.ml.get(a.ed)){this.ml.set(a.ed,!1);var c=Qf(a)[0];if(null!=a.xg)this.parse(null,a,b);else{var d=new XMLHttpRequest;F(d,"abort",this.Dz.bind(this,d,a,b));F(d,"error",this.Dz.bind(this,d,a,b));F(d,"load",this.parse.bind(this,d,a,b));d.open("GET",c,!0);d.responseType="arraybuffer";d.send(null)}}};
Of.prototype.parse=function(a,b,c){Pf(this,1);setTimeout(function(){var d=Qf(b),e=d[3],d=new d[2];Tc(d,ge,this.complete.bind(this));var h=b.xg;null==h&&(h=a.response,b.xg=h);d.parse(b,c,h,e)}.bind(this),100)};Of.prototype.complete=function(a){Pf(this,1);setTimeout(function(){var b=a.va,c=a.Ma;b.ea.G=!1;b.G=!0;c.da();this.ml.set(b.ed,!0)}.bind(this),100)};Of.prototype.Dz=function(a,b,c){throw Error("Loading failed: ",b,c);};
var Rf={OBJ:[Nf,null],OFF:[Ne,null],STL:[Kf,null],VTK:[Te,null],TRK:[Mf,null],MRC:[If,null],ST:[If,null],FSM:[Ve,null],INFLATED:[Ve,null],SMOOTHWM:[Ve,null],SPHERE:[Ve,null],PIAL:[Ve,null],ORIG:[Ve,null],NRRD:[Jf,null],NII:[Lf,null],GZ:[Lf,null],DCM:[Se,null],DICOM:[Se,null],"":[Se,null],CRV:[Df,null],LABEL:[Cf,null],MGH:[Bf,!1],MGZ:[Bf,!0],RAW:[Ff,!1],RZ:[Ff,!0],TXT:[Hf,null],LUT:[Hf,null],PNG:[Gf,"png"],JPG:[Gf,"jpeg"],JPEG:[Gf,"jpeg"],GIF:[Gf,"gif"]};function Sf(){Ee.call(this);this.s="parserIMA"}w(Sf,Ee);
Sf.prototype.parse=function(a,b,c){b.ih={};b.ih.jo=0;this.Th(c,b);if(null==b.ea.length||b.za.length==b.ea.length){b.ih.jo=b.ea.length;var d={};c={};for(var e=0;e<b.za.length;e++)d.hasOwnProperty(b.za[e].series_instance_uid)||(d[b.za[e].series_instance_uid]=[],c[b.za[e].series_instance_uid]={}),c[b.za[e].series_instance_uid].hasOwnProperty(b.za[e].sop_instance_uid)||(c[b.za[e].series_instance_uid][b.za[e].sop_instance_uid]=!0,d[b.za[e].series_instance_uid].push(b.za[e]));var h=Object.keys(d)[0],e=
d[h],k=e.length;c={};console.log("FIRST IMAGE",e,d,h);var l="image_position_patient";1==k?(l="image_position_patient",d[h][0].dist=0):e[0].image_position_patient[0]!=e[1].image_position_patient[0]||e[0].image_position_patient[1]!=e[1].image_position_patient[1]||e[0].image_position_patient[2]!=e[1].image_position_patient[2]?(l="image_position_patient",d=new K(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),h=new K(e[0].image_orientation_patient[3],
e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]),d=sd(d,h),e.map(function(a,b){b.dist=b.image_position_patient[0]*a.x+b.image_position_patient[1]*a.y+b.image_position_patient[2]*a.z;return b}.bind(null,d)),e.sort(function(a,b){return a.dist-b.dist})):e[0].instance_number!=e[1].instance_number?(l="instance_number",e.sort(function(a,b){return a.instance_number-b.instance_number})):window.console.log("Could not resolve the ordering mode");console.log("SEQUENCE NAME","'"+e[0].sequence_name+
"'");-1<["fgre","memp","fse"].indexOf(e[0].sequence_name)&&(window.console.log(e[0].sequence_name,"reordering..."),l="instance_number",e.sort(function(a,b){return a.instance_number-b.instance_number}));isNaN(e[0].pixel_spacing[0])&&(e[0].pixel_spacing[0]=1);isNaN(e[0].pixel_spacing[1])&&(e[0].pixel_spacing[1]=1);if(1<k)switch(l){case "image_position_patient":var n=e[0].image_position_patient,d=e[1].image_position_patient,h=d[0]-n[0],p=d[1]-n[1],m=d[2]-n[2];e[0].pixel_spacing[2]=Math.sqrt(h*h+p*p+
m*m);break;case "instance_number":e[0].pixel_spacing[2]=1;console.log("INSTANCE NUMBER SPACING");break;default:window.console.log("Unkown ordering mode - returning: "+l)}else e[0].pixel_spacing[2]=1;d=1;switch(l){case "image_position_patient":var n=e[0].image_position_patient,q=e[k-1].image_position_patient,h=q[0]-n[0],p=q[1]-n[1],m=q[2]-n[2],h=Math.sqrt(h*h+p*p+m*m),d=d+Math.round(h/e[0].pixel_spacing[2]);break;case "instance_number":d+=Math.abs(e[k-1].instance_number-e[0].instance_number);break;
default:window.console.log("Unkown ordering mode - returning: "+l)}n=e[0].columns*e[0].rows;h=n*d;q=null;switch(e[0].Vj){case 8:q=new Uint8Array(h);break;case 16:q=new Uint16Array(h);break;case 32:q=new Uint32Array(h);default:window.console.log("Unknown number of bits allocated - using default: 32 bits")}b.rh=e[0].pixel_spacing;for(var t=0;t<k;t++){var s=e[t].data,h=0;switch(l){case "image_position_patient":h=e[t].image_position_patient[0]-e[0].image_position_patient[0];p=e[t].image_position_patient[1]-
e[0].image_position_patient[1];m=e[t].image_position_patient[2]-e[0].image_position_patient[2];h=Math.sqrt(h*h+p*p+m*m)/e[0].pixel_spacing[2];break;case "instance_number":h=e[t].instance_number-e[0].instance_number;break;default:window.console.log("Unkown ordering mode - returning: "+l)}q.set(s,h*n)}c.data=q;b._data=q;b.Da=[e[0].columns,e[0].rows,d];c.NF=b.Da;d=Fe(q);k=d[0];d=d[1];c.min=b.Sd=b.Lb=k;c.max=b.Sb=b.Kb=d;-Infinity==b.tb&&(b.tb=k);Infinity==b.vb&&(b.vb=d);p=e[0].image_position_patient;
k=Bd();switch(l){case "image_position_patient":console.log("ORIENTATION",e[0].image_orientation_patient);d=new K(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]);h=new K(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]);d=sd(d,h);L(k,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2],-p[0]);L(k,1,-e[0].image_orientation_patient[1]*
e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2],-p[1]);L(k,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2],p[2]);L(k,3,0,0,0,1);break;case "instance_number":"memp"===e[0].sequence_name||"fse"===e[0].sequence_name?(d=new K(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),h=new K(e[0].image_orientation_patient[3],
e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]),d=sd(d,h),L(k,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2]*e[0].slice_thickness,-p[0]),L(k,1,-e[0].image_orientation_patient[1]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2]*e[0].slice_thickness,-p[1]),L(k,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*
e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2]*e[0].slice_thickness,p[2])):(L(k,0,1,0,0,-p[0]),L(k,1,0,-1,-0,-p[1]),L(k,2,0,0,1,p[2]));L(k,3,0,0,0,1);break;default:window.console.log("Unkown ordering mode - returning: "+l)}c.ve=k;c.xe=Bd();Jd(c.ve,c.xe);l=Ad(0,0,0,1);e=zd();Ld(k,l,e);l=Ad(1,1,1,1);d=zd();Ld(k,l,d);c.sg=[d[0]-e[0],d[1]-e[1],d[2]-e[2]];e=He(k,[b.Da[0],b.Da[1],b.Da[2]]);c.cd=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];c.Xe=[e[0],e[2],e[4]];b.af(c);b.Cf=Me(this,b)}c=new Wd;c.Ma=b;c.va=a;this.dispatchEvent(c)};
Sf.prototype.de=function(a,b,c,d){switch(c){case 16975:case 20819:case 20053:case 22351:c=function(a){for(var b="",c=128;1<=c;c/=2)b+=a&c?"1":"0";return b};d=a[b++];a=a[b++];d=parseInt(c((a&65280)>>8)+c(a&255)+(c((d&65280)>>8)+c(d&255)),2);4294967295==d&&(d=0);b+=d/2;break;default:b+=d/2}return b};
Sf.prototype.Th=function(a,b){this._data=a;if("undefined"==typeof b.za||null==b.za)b.za=[];for(var c={pixel_spacing:[.1,.1,Infinity],image_orientation_patient:[1,0,0,0,1,0],image_position_patient:[0,0,0],transfer_syntax_uid:"no_transfer_syntax_uid"},d=this.h("ushort",this._data.byteLength),e=66,h=null,k=null,l=null,n=null,p=[[8,4368],[8,4384]],m=!1;e<d.length;){for(var h=d[e++],k=d[e++],l=d[e++],n=d[e++],m=!1,q=0,t=p.length;q<t;q++)if(h===p[q][0]&&k===p[q][1]){m=!0;break}if(m)window.console.log("Skipping ",
"("+h.toString(16)+","+k.toString(16)+")");else switch("1.2.840.10008.1.2"==c.transfer_syntax_uid&&0==n&&(n=l),h){case 2:switch(k){case 16:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);c.transfer_syntax_uid=k.replace(/\0/g,"");break;default:e=Sf.prototype.de(d,e,l,n)}break;case 40:switch(k){case 16:c.rows=d[e];e+=n/2;break;case 17:c.columns=d[e];e+=n/2;break;case 256:c.Vj=d[e];e+=n/2;break;case 257:c.bits_stored=d[e];e+=n/2;break;case 2:c.number_of_images=
d[e];e+=n/2;break;case 48:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.pixel_spacing=[parseFloat(k[0]),parseFloat(k[1]),Infinity];break;default:e=Sf.prototype.de(d,e,l,n)}break;case 32:switch(k){case 14:c.series_instance_uid="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.series_instance_uid+=String.fromCharCode(h),c.series_instance_uid+=String.fromCharCode(l);break;case 19:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,
l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);c.instance_number=parseInt(k,10);break;case 50:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.image_position_patient=[parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2])];break;case 55:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.image_orientation_patient=[parseFloat(k[0]),parseFloat(k[1]),
parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[4]),parseFloat(k[5])];break;default:e=Sf.prototype.de(d,e,l,n)}break;case 24:switch(k){case 36:c.sequence_name="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.sequence_name+=String.fromCharCode(h),c.sequence_name+=String.fromCharCode(l);c.sequence_name=c.sequence_name.replace(/^[\s\xa0]+/,"");c.sequence_name=c.sequence_name.replace(/[\s\xa0]+$/,"");break;case 80:c.slice_thickness="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.slice_thickness+=
String.fromCharCode(h),c.slice_thickness+=String.fromCharCode(l);c.slice_thickness=parseFloat(c.slice_thickness);break;default:e=Sf.prototype.de(d,e,l,n);break}case 65534:switch(k){default:n=0,e+=n/2}break;case 8:switch(k){case 24:c.sop_instance_uid="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.sop_instance_uid+=String.fromCharCode(h),c.sop_instance_uid+=String.fromCharCode(l);break;default:e=Sf.prototype.de(d,e,l,n)}break;case 16:switch(k){case 8720:for(q=0;q<n/2;q++)e++;break;default:e=
Sf.prototype.de(d,e,l,n)}break;default:e=Sf.prototype.de(d,e,l,n)}}switch(c.Vj){case 8:c.data=new Uint8Array(c.columns*c.rows);break;case 16:c.data=new Uint16Array(c.columns*c.rows);break;case 32:c.data=new Uint32Array(c.columns*c.rows)}this.La=this._data.byteLength-c.columns*c.rows*2;d=null;switch(c.Vj){case 8:d=this.h("uchar",c.columns*c.rows);break;case 16:d=this.h("ushort",c.columns*c.rows);break;case 32:d=this.h("uint",c.columns*c.rows)}c.data=d;b.za.push(c);return b};v("X.parserIMA",Sf);
v("X.parserIMA.prototype.parse",Sf.prototype.parse);var Tf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Uf(a){if(Vf){Vf=!1;var b=ba.location;if(b){var c=b.href;if(c&&(c=(c=Uf(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Vf=!0,Error();}}return a.match(Tf)}var Vf=ic;function Wf(a,b){$c.call(this);this.Vf=a||1;this.um=b||ba;this.ut=ua(this.BL,this);this.Lu=xa()}w(Wf,$c);f=Wf.prototype;f.enabled=!1;f.na=null;f.setInterval=function(a){this.Vf=a;this.na&&this.enabled?(this.stop(),this.start()):this.na&&this.stop()};
f.BL=function(){if(this.enabled){var a=xa()-this.Lu;0<a&&a<.8*this.Vf?this.na=this.um.setTimeout(this.ut,this.Vf-a):(this.na&&(this.um.clearTimeout(this.na),this.na=null),this.dispatchEvent(Xf),this.enabled&&(this.na=this.um.setTimeout(this.ut,this.Vf),this.Lu=xa()))}};f.start=function(){this.enabled=!0;this.na||(this.na=this.um.setTimeout(this.ut,this.Vf),this.Lu=xa())};f.stop=function(){this.enabled=!1;this.na&&(this.um.clearTimeout(this.na),this.na=null)};
f.f=function(){Wf.d.f.call(this);this.stop();delete this.um};var Xf="tick";function Yf(a,b,c){if(ka(a))c&&(a=ua(a,c));else if(a&&"function"==typeof a.handleEvent)a=ua(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:ba.setTimeout(a,b||0)};function Zf(a){return"function"==typeof a.Fh?a.Fh():ia(a)||r(a)?a.length:nb(a)}function $f(a){if("function"==typeof a.nk)return a.nk();if(r(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ob(a)}function ag(a){if("function"==typeof a.In)return a.In();if("function"!=typeof a.nk){if(ia(a)||r(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return pb(a)}}
function bg(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(ia(a)||r(a))D(a,b,void 0);else for(var c=ag(a),d=$f(a),e=d.length,h=0;h<e;h++)b.call(void 0,d[h],c&&c[h],a)}function cg(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ia(a)||r(a))return Fb(a,b,void 0);for(var c=ag(a),d=$f(a),e=d.length,h=0;h<e;h++)if(!b.call(void 0,d[h],c&&c[h],a))return!1;return!0};function dg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function eg(){}eg.prototype.Uy=null;function fg(a){var b;(b=a.Uy)||(b={},gg(a)&&(b[0]=!0,b[1]=!0),b=a.Uy=b);return b};var hg;function ig(){}w(ig,eg);function jg(a){return(a=gg(a))?new ActiveXObject(a):new XMLHttpRequest}function gg(a){if(!a.HA&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.HA=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.HA}hg=new ig;function kg(a){this.wb=new id;a&&this.ht(a)}function lg(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+oa(a):b.substr(0,1)+a}f=kg.prototype;f.Fh=function(){return this.wb.Fh()};f.add=function(a){this.wb.set(lg(a),a)};f.ht=function(a){a=$f(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};f.fg=function(a){a=$f(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};f.remove=function(a){return this.wb.remove(lg(a))};f.clear=function(){this.wb.clear()};f.Yn=function(){return this.wb.Yn()};
f.contains=function(a){a=lg(a);return ld(this.wb.wb,a)};f.MA=function(a){var b=new kg;a=$f(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};f.nk=function(){return this.wb.nk()};f.clone=function(){return new kg(this)};f.Gl=function(a){return this.Fh()==Zf(a)&&mg(this,a)};
function mg(a,b){var c=Zf(b);if(a.Fh()>c)return!1;!(b instanceof kg)&&5<c&&(b=new kg(b));return cg(a,function(a){var c=b;return"function"==typeof c.contains?c.contains(a):"function"==typeof c.Ft?c.Ft(a):ia(c)||r(c)?Ib(c,a):qb(c,a)})};function ng(a){var b;b||(b=og(a||arguments.callee.caller,[]));return b}
function og(a,b){var c=[];if(Ib(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(pg(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var h;h=d[e];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=pg(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&(h=h.substr(0,40)+"...");c.push(h)}b.push(a);c.push(")\n");try{c.push(og(a.caller,b))}catch(k){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function pg(a){if(qg[a])return qg[a];a=String(a);if(!qg[a]){var b=/function ([^\(]+)/.exec(a);qg[a]=b?b[1]:"[Anonymous]"}return qg[a]}var qg={};function rg(a,b,c,d,e){this.reset(a,b,c,d,e)}rg.prototype.Bz=null;rg.prototype.Az=null;var sg=0;rg.prototype.reset=function(a,b,c,d,e){"number"==typeof e||sg++;d||xa();this.ho=a;this.fJ=b;delete this.Bz;delete this.Az};rg.prototype.eC=function(a){this.ho=a};function tg(a){this.Ak=a;this.CA=this.Dc=this.ho=this.Qa=null}function ug(a,b){this.name=a;this.value=b}ug.prototype.toString=function(){return this.name};var vg=new ug("SEVERE",1E3),wg=new ug("CONFIG",700),xg=new ug("FINE",500);f=tg.prototype;f.getName=function(){return this.Ak};f.getParent=function(){return this.Qa};f.eu=function(){this.Dc||(this.Dc={});return this.Dc};f.eC=function(a){this.ho=a};
function yg(a){if(a.ho)return a.ho;if(a.Qa)return yg(a.Qa);fb("Root logger has no level set.");return null}f.log=function(a,b,c){if(a.value>=yg(this).value)for(ka(b)&&(b=b()),a=this.aA(a,b,c,tg.prototype.log),b="log:"+a.fJ,ba.console&&(ba.console.timeStamp?ba.console.timeStamp(b):ba.console.markTimeline&&ba.console.markTimeline(b)),ba.msWriteProfilerMark&&ba.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.CA)for(var e=0,h=void 0;h=c.CA[e];e++)h(d);b=b.getParent()}};
f.aA=function(a,b,c,d){a=new rg(a,String(b),this.Ak);if(c){a.Bz=c;var e;d=d||tg.prototype.aA;try{var h;var k=da("window.location.href");if(r(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var l,n;b=!1;try{l=c.lineNumber||c.ZO||"Not available"}catch(p){l="Not available",b=!0}try{n=c.fileName||c.filename||c.sourceURL||ba.$googDebugFname||k}catch(m){n="Not available",b=!0}h=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:l,fileName:n,stack:c.stack||"Not available"}}e="Message: "+Pa(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Pa(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Pa(ng(d)+"-> ")}catch(q){e="Exception trying to expose exception! You win, we lose. "+q}a.Az=e}return a};f.Lo=function(a){this.Qa=a};var zg={},Ag=null;
function Bg(a){Ag||(Ag=new tg(""),zg[""]=Ag,Ag.eC(wg));var b;if(!(b=zg[a])){b=new tg(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Bg(a.substr(0,c));c.eu()[d]=b;b.Lo(c);zg[a]=b}return b};function Cg(a,b){a&&a.log(xg,b,void 0)};function Dg(a){$c.call(this);this.headers=new id;this.us=a||null;this.vi=!1;this.ts=this.Aa=null;this.eo=this.SA=this.fr="";this.tk=this.Au=this.Qq=this.Zt=!1;this.ep=0;this.is=null;this.RB=Eg;this.ns=this.PL=!1}w(Dg,$c);var Eg="",Fg=Dg.prototype,Gg=Bg("goog.net.XhrIo");Fg.lf=Gg;var Hg=/^https?$/i,Ig=["POST","PUT"],Jg=[];function Kg(a,b){var c=new Dg;Jg.push(c);b&&c.A("complete",b);c.Pu("ready",c.AF);c.send(a,void 0,void 0,void 0)}f=Dg.prototype;f.AF=function(){this.g();Lb(Jg,this)};
f.send=function(a,b,c,d){if(this.Aa)throw Error("[goog.net.XhrIo] Object is active with another request="+this.fr+"; newUri="+a);b=b?b.toUpperCase():"GET";this.fr=a;this.eo="";this.SA=b;this.Zt=!1;this.vi=!0;this.Aa=this.us?jg(this.us):jg(hg);this.ts=this.us?fg(this.us):fg(hg);this.Aa.onreadystatechange=ua(this.uB,this);try{Cg(this.lf,Lg(this,"Opening Xhr")),this.Au=!0,this.Aa.open(b,String(a),!0),this.Au=!1}catch(e){Cg(this.lf,Lg(this,"Error opening Xhr: "+e.message));Mg(this,e);return}a=c||"";var h=
this.headers.clone();d&&bg(d,function(a,b){h.set(b,a)});d=Gb(h.In());c=ba.FormData&&a instanceof ba.FormData;!Ib(Ig,b)||d||c||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");h.forEach(function(a,b){this.Aa.setRequestHeader(b,a)},this);this.RB&&(this.Aa.responseType=this.RB);"withCredentials"in this.Aa&&(this.Aa.withCredentials=this.PL);try{Ng(this),0<this.ep&&(this.ns=Og(this.Aa),Cg(this.lf,Lg(this,"Will abort after "+this.ep+"ms if incomplete, xhr2 "+this.ns)),this.ns?(this.Aa.timeout=
this.ep,this.Aa.ontimeout=ua(this.PC,this)):this.is=Yf(this.PC,this.ep,this)),Cg(this.lf,Lg(this,"Sending request")),this.Qq=!0,this.Aa.send(a),this.Qq=!1}catch(k){Cg(this.lf,Lg(this,"Send error: "+k.message)),Mg(this,k)}};function Og(a){return E&&pc(9)&&u(a.timeout)&&ca(a.ontimeout)}function Hb(a){return"content-type"==a.toLowerCase()}f.PC=function(){"undefined"!=typeof aa&&this.Aa&&(this.eo="Timed out after "+this.ep+"ms, aborting",Cg(this.lf,Lg(this,this.eo)),this.dispatchEvent("timeout"),this.abort(8))};
function Mg(a,b){a.vi=!1;a.Aa&&(a.tk=!0,a.Aa.abort(),a.tk=!1);a.eo=b;Pg(a);Qg(a)}function Pg(a){a.Zt||(a.Zt=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}f.abort=function(){this.Aa&&this.vi&&(Cg(this.lf,Lg(this,"Aborting")),this.vi=!1,this.tk=!0,this.Aa.abort(),this.tk=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Qg(this))};f.f=function(){this.Aa&&(this.vi&&(this.vi=!1,this.tk=!0,this.Aa.abort(),this.tk=!1),Qg(this,!0));Dg.d.f.call(this)};
f.uB=function(){this.dk||(this.Au||this.Qq||this.tk?Rg(this):this.RJ())};f.RJ=function(){Rg(this)};
function Rg(a){if(a.vi&&"undefined"!=typeof aa)if(a.ts[1]&&4==Sg(a)&&2==Tg(a))Cg(a.lf,Lg(a,"Local request error detected and ignored"));else if(a.Qq&&4==Sg(a))Yf(a.uB,0,a);else if(a.dispatchEvent("readystatechange"),4==Sg(a)){Cg(a.lf,Lg(a,"Request complete"));a.vi=!1;try{var b=Tg(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}if(!(c=d)){var e;if(e=0===b){var h=Uf(String(a.fr))[1]||null;if(!h&&self.location)var k=self.location.protocol,
h=k.substr(0,k.length-1);e=!Hg.test(h?h.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var l;try{l=2<Sg(a)?a.Aa.statusText:""}catch(n){Cg(a.lf,"Can not get status: "+n.message),l=""}a.eo=l+" ["+Tg(a)+"]";Pg(a)}}finally{Qg(a)}}}
function Qg(a,b){if(a.Aa){Ng(a);var c=a.Aa,d=a.ts[0]?ea:null;a.Aa=null;a.ts=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=a.lf)&&c.log(vg,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ng(a){a.Aa&&a.ns&&(a.Aa.ontimeout=null);u(a.is)&&(ba.clearTimeout(a.is),a.is=null)}f.Og=function(){return!!this.Aa};function Sg(a){return a.Aa?a.Aa.readyState:0}function Tg(a){try{return 2<Sg(a)?a.Aa.status:-1}catch(b){return-1}}
function Lg(a,b){return b+" ["+a.SA+" "+a.fr+" "+Tg(a)+"]"};/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
 @author herrickr@mir.wustl.edu (Rick Herrick)
*/
function M(){}v("gxnat",M);M.JPEG_CONVERT_SUFFIX="?format=image/jpeg";M.gG={projects:"proj",subjects:"subj",experiments:"expt",scans:"scans"};M.Dx="?format=zip";M.Nh=function(a,b,c){a=a+(-1<a.indexOf("?")?"&":"?")+"format=json";null!=c&&("&"!==c[0]&&(c="&"+c),a+=c);M.get(a,b,"json")};
M.get=function(a,b,c){Kg(a,function(a){a=a.target;switch(c){case void 0:b(a);case "json":var e;e=a.Aa?dg(a.Aa.responseText):void 0;e.hasOwnProperty("ResultSet")?b(e.ResultSet.Result):b(e);break;case "text":try{e=a.Aa?a.Aa.responseText:""}catch(h){Cg(a.lf,"Can not get responseText: "+h.message),e=""}b(e)}})};
M.sr=function(a,b){var c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,d=/(^[ ]*|[ ]*$)/g,e=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,h=/^0x[0-9a-f]+$/i,k=/^0/,l=(M.sr.uI&&(""+a).toLowerCase()||""+a).replace(d,"")||"",n=(M.sr.uI&&(""+b).toLowerCase()||""+b).replace(d,"")||"",d=l.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),c=n.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,
"").split("\x00"),l=parseInt(l.match(h))||1!=d.length&&l.match(e)&&Date.parse(l);if(e=parseInt(n.match(h))||l&&n.match(e)&&Date.parse(n)||null){if(l<e)return-1;if(l>e)return 1}l=0;for(n=Math.max(d.length,c.length);l<n;l++){e=!(d[l]||"").match(k)&&parseFloat(d[l])||d[l]||0;h=!(c[l]||"").match(k)&&parseFloat(c[l])||c[l]||0;if(isNaN(e)!==isNaN(h))return isNaN(e)?1:-1;typeof e!==typeof h&&(e+="",h+="");if(e<h)return-1;if(e>h)return 1}return 0};
M.pL=function(a,b){var c=[],d={},e=[],h={};D(a,function(a){h=a;D(b,function(a){h=h[a]});h=h.toLowerCase();c.push(h);d[h]=a});c=c.sort(M.cP);D(c,function(a){e.push(d[a])});return e};v("gxnat.JPEG_CONVERT_SUFFIX",M.JPEG_CONVERT_SUFFIX);v("gxnat.folderAbbrev",M.gG);v("gxnat.ZIP_SUFFIX",M.Dx);v("gxnat.jsonGet",M.Nh);v("gxnat.get",M.get);v("gxnat.naturalSort",M.sr);v("gxnat.sortXnatPropertiesArray",M.pL);function Ug(a){this.originalUrl=a;this.files=this.resources=this.scans=this.experiments=this.subjects=this.projects=this.prefix=null;a=a.split("/");for(var b=!0,c=0,b=0,d=a.length,c=0;c<d;c++)if(b=this.hasOwnProperty(a[c])&&a[c+1]){if("projects"===a[c]&&0!==c)for(this.prefix="",b=0;b<c;b++)this.prefix+=a[b],this.prefix=b<c-1?this.prefix+"/":this.prefix;this[a[c]]=a[c+1];c++}Vg(this)}w(Ug,wc);v("gxnat.Path",Ug);
function Wg(a){a+="/REST";0<a.length&&"/"===a[a.length-1]&&(a=a.substring(0,a.length-1));return a}function Xg(a){for(var b=0,c=Yg.length,b=0;b<c;b++)a(Yg[b],b)}function Zg(a,b,c){if(-1==a.indexOf(c))throw Error("Graft folder",c,"not in prefix:",a);if(-1==a.indexOf(c))throw Error("Graft folder",c,"not in suffix:",b);return a.split(c+"/")[0]+c+b.split(c)[1]}var Yg=["projects","subjects","experiments",["scans","resources"],"files"];
function Vg(a){var b,c,d,e=!1;Xg(function(a,k){if(g(a))for(b=0,c=a.length;b<c;b++)d=a[b],null!=this[d]||e||(this.Pt=Yg[k-1],e=!0);else null!=this[a]||e||(this.Pt=Yg[k-1],e=!0)}.bind(a))}Ug.prototype.xq=function(){null!=this.Pt||Vg(this);return this.Pt};
Ug.prototype.Uh=function(a){if(!this.hasOwnProperty(a))throw Error("Invalid level: ",a);for(var b=this.prefix,c="",d=0,e=0,h=Yg.length,k=0,d=0;d<h;d++){c=Yg[d];if(g(c))for(k=c.length,e=0;e<k;e++)currSubLevel=c[d][e],this[currSubLevel]&&(b+=currSubLevel+"/"+this[currSubLevel]);else b+="/"+c+"/"+this[c];if(a===c||-1<c.indexOf(a))return b}};Ug.prototype.g=function(){Ug.d.g.call(this);tb(this)};v("gxnat.Path.getQueryPrefix",Wg);v("gxnat.Path.forEachXnatLevel",Xg);
v("gxnat.Path.getDeepestSharedXnatLevel",function(a,b){var c=new Ug(a),d=new Ug(b),e=void 0;Xg(function(a){c[a]&&c[a]===d[a]&&(e=a)});return e});v("gxnat.Path.graftUrl",Zg);v("gxnat.Path.xnatLevelOrder",Yg);v("gxnat.Path.prototype.getDeepestLevel",Ug.prototype.xq);v("gxnat.Path.prototype.pathByLevel",Ug.prototype.Uh);v("gxnat.Path.prototype.dispose",Ug.prototype.g);function $g(a){this.Ed=new Ug(a);this.projects=[];this[ah]={};this[bh]={};this[ch]={}}w($g,wc);v("gxnat.ProjectTree",$g);function dh(a){this[eh]=r(a)?new Ug(a):a;this[fh]=this[eh].xq();a=Yg.indexOf(this[eh].xq())+1;-1!=a&&(this[gh]=Yg[a],r(this[gh])&&(this[hh]=this[eh].originalUrl+"/"+this[gh],this[this[gh]]=[]))}w(dh,wc);v("gxnat.ProjectTree.TreeNode",dh);dh.prototype.me=function(a){this.Hb=a};dh.prototype.Dd=function(){return this.Hb};
dh.prototype.g=function(){dh.d.g.call(this);null!=this[eh]&&this[eh].g();tb(this)};var fh=B(),hh=B(),ih=B(),eh=B(),gh=B(),jh=B(),kh=B(),lh=B(),ah=B(),bh=B(),ch=B(),mh=["ID","description","name","URI"],nh=["gender","handedness","label","URI"],oh=["label","URI"];function ph(a,b){return La(a.Dd(),b.Dd())}function qh(a){var b="&columns=";D(a,function(c,d){separator=",";d==a.length-1&&(separator="");b+=c+separator});return b}f=$g.prototype;
f.Jz=function(a){var b=[];C(this.Fn(a),function(a,d){"projects"==d?b.push(a[lh].ID):b.push(a[lh].label)});return b};f.Kz=function(a){var b=[];C(this.Fn(a),function(a){b.push(a[eh].originalUrl)});return b};f.Fn=function(a){branch={projects:this.Md};"experiments"==a[gh]?branch.subjects=a:g(a[gh])&&(branch.subjects=this[bh][a[eh].Uh("subjects")],branch.experiments=a);return branch};f.XA=function(a,b){this.io(this.Ed,a,b)};
f.io=function(a,b,c){var d=r(a)?new Ug(a):a,e;if(null!=this.Md){a={projects:this.Md};if(null!=d.subjects){e=d.Uh("subjects");if(null==this[bh][e]){this.Su(e,function(a){this.ZA(a,function(){null!=b&&b(a);this.io(d,b,c)}.bind(this))}.bind(this));return}a.subjects=this[bh][e]}if(null!=d.experiments){e=d.Uh("experiments");if(null==this[ch][e]){this.Ru(e,function(a){null!=b&&b(a);this.io(d,b,c)}.bind(this));return}a.experiments=this[ch][e]}null!=c&&c(a)}else this.YA(function(a){null!=b&&b(a);this.io(d,
b,c)}.bind(this))};f.YA=function(a){if(null==this.Md){var b=qh(mh),c=this.Ed.prefix+"/projects/"+this.Ed.projects,d;M.Nh(this.Ed.prefix+"/projects",function(b){d=new dh(c);this.projects.push(d);this.Md=d;this[ah][d[eh].originalUrl]=d;d[lh]=b[0];d.me(d[lh].name);a(d)}.bind(this),"&ID="+this.Ed.projects+b)}};f.Kn=function(a){return this[bh][a]};f.Nl=function(a){return this[ch][a]};
f.ZA=function(a,b){var c=a;r(a)?c=this.Kn(a):a instanceof Ug&&(c=this.Kn(a.originalUrl));if(null!=c[lh])b(c);else{var d=this.Ed.prefix+"/subjects",e=qh(nh),e="&ID="+c[eh].subjects+e;M.Nh(d,function(a){c[lh]=a[0];c.me(c[lh].label);b(c)}.bind(this),e)}};
f.$A=function(a,b){if(null==this.Md[jh]||!0!=this.Md[jh]){var c=this.Md[eh].originalUrl+"/subjects",d=qh(nh);window.console.log("load subjects",c,d);var e,h;M.Nh(c,function(c){D(c,function(d){h=this.Md[eh].prefix+"/projects/"+this.Md[eh].projects+"/subjects/"+d.ID;e=this.Su(h);null==e[lh]&&(e[lh]=d,e.me(e[lh].label));null!=a&&a(e);this.Md.subjects.length==c.length&&(this.Md[jh]=!0,null!=b&&(d=this.Md.subjects,d.sort(ph),b(d)))}.bind(this))}.bind(this),d)}};
f.Su=function(a,b){if(null!=this[bh][a])return this[bh][a];subjNode=new dh(a);this.Md.subjects.push(subjNode);this[bh][a]=subjNode;null!=b&&b(subjNode);return subjNode};f.VA=function(a,b){var c=a;r(a)?c=this.Nl(a):a instanceof Ug&&(c=this.Nl(a.originalUrl));var d=this.Ed.prefix+"/experiments",e=qh(oh),e="&ID="+c[eh].experiments+e;M.Nh(d,function(a){c[lh]=a[0];c.me(c[lh].label);b(c)}.bind(this),e)};
f.WA=function(a,b,c){var d=a;r(a)?d=this.Kn(a):a instanceof Ug&&(d=this.Kn(a.originalUrl));if(null!=d[jh]&&!0==d[jh])window.console.log("Don't need to reload the experiments of "+d[eh].originalUrl);else{var e=d[eh].originalUrl+"/experiments";M.Nh(e+"?xsiType=xnat:imageSessionData",function(a){D(a,function(k){this.Ru(e+"/"+k.ID,function(e){null!=b&&b(e);d.experiments.length==a.length&&(d[jh]=!0,null!=c&&(e=d.experiments,e.sort(ph),c(e)))}.bind(this))}.bind(this))}.bind(this))}};
f.Ru=function(a,b){null==this[ch][a]&&(exptNode=new dh(a),this.VA(exptNode,function(c){this[bh][c[eh].Uh("subjects")].experiments.push(c);this[ch][a]=c;null!=b&&b(c)}.bind(this)))};f.g=function(){$g.d.g.call(this);delete this.Md;this.Ed.g();delete this.Ed;D(this.projects,function(a){null!=a.subjects&&D(a.subjects,function(a){null!=a.experiments&&D(a.experiments,function(a){a.g()});a.g()});a.g()});tb(this)};v("gxnat.ProjectTree.TreeNode",dh);v("gxnat.ProjectTree.LEVEL_KEY",fh);
v("gxnat.ProjectTree.NEXTLEVELQUERY_KEY",hh);v("gxnat.ProjectTree.NEXTLEVELJSON_KEY",ih);v("gxnat.ProjectTree.PATH_KEY",eh);v("gxnat.ProjectTree.NEXTLEVEL_KEY",gh);v("gxnat.ProjectTree.NEXTLEVELLOADED_KEY",jh);v("gxnat.ProjectTree.ISLOADING_KEY",kh);v("gxnat.ProjectTree.METADATA_KEY",lh);v("gxnat.ProjectTree.PROJ_DIRECT",ah);v("gxnat.ProjectTree.SUBJ_DIRECT",bh);v("gxnat.ProjectTree.EXPT_DIRECT",ch);v("gxnat.ProjectTree.PROJECT_METADATA",mh);v("gxnat.ProjectTree.SUBJECT_METADATA",nh);
v("gxnat.ProjectTree.EXPERIMENT_METADATA",oh);v("gxnat.ProjectTree.compareNodeTitles",ph);v("gxnat.ProjectTree.getColumnQuery",qh);v("gxnat.ProjectTree.prototype.getBranchTitles",$g.prototype.Jz);v("gxnat.ProjectTree.prototype.getBranchUris",$g.prototype.Kz);v("gxnat.ProjectTree.prototype.getBranchFromEndNode",$g.prototype.Fn);v("gxnat.ProjectTree.prototype.loadInitBranch",$g.prototype.XA);v("gxnat.ProjectTree.prototype.loadBranch",$g.prototype.io);v("gxnat.ProjectTree.prototype.loadProject",$g.prototype.YA);
v("gxnat.ProjectTree.prototype.getSubjectNodeByUri",$g.prototype.Kn);v("gxnat.ProjectTree.prototype.getExperimentNodeByUri",$g.prototype.Nl);v("gxnat.ProjectTree.prototype.loadSubjectMetadata",$g.prototype.ZA);v("gxnat.ProjectTree.prototype.loadSubjects",$g.prototype.$A);v("gxnat.ProjectTree.prototype.loadSubject",$g.prototype.Su);v("gxnat.ProjectTree.prototype.loadExperimentMetadata",$g.prototype.VA);v("gxnat.ProjectTree.prototype.loadExperiments",$g.prototype.WA);
v("gxnat.ProjectTree.prototype.loadExperiment",$g.prototype.Ru);v("gxnat.ProjectTree.prototype.dispose",$g.prototype.g);function rh(a,b){this.x=ca(a)?a:0;this.y=ca(b)?b:0}f=rh.prototype;f.clone=function(){return new rh(this.x,this.y)};f.toString=function(){return"("+this.x+", "+this.y+")"};function sh(a,b){return new rh(a.x-b.x,a.y-b.y)}f.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};f.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};f.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
f.translate=function(a,b){a instanceof rh?(this.x+=a.x,this.y+=a.y):(this.x+=a,u(b)&&(this.y+=b));return this};f.scale=function(a,b){var c=u(b)?b:a;this.x*=a;this.y*=c;return this};function th(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}f=th.prototype;f.clone=function(){return new th(this.top,this.right,this.bottom,this.left)};f.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};f.contains=function(a){return this&&a?a instanceof th?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
f.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};f.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};f.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
f.translate=function(a,b){a instanceof rh?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,u(b)&&(this.top+=b,this.bottom+=b));return this};f.scale=function(a,b){var c=u(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function uh(a,b){this.width=a;this.height=b}function vh(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}f=uh.prototype;f.clone=function(){return new uh(this.width,this.height)};f.toString=function(){return"("+this.width+" x "+this.height+")"};f.Yn=function(){return!(this.width*this.height)};f.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.scale=function(a,b){var c=u(b)?b:a;this.width*=a;this.height*=c;return this};function wh(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}f=wh.prototype;f.clone=function(){return new wh(this.left,this.top,this.width,this.height)};f.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
f.MA=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};f.contains=function(a){return a instanceof wh?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
function xh(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d}f.Wt=function(a){return Math.sqrt(xh(this,a))};f.Ti=function(){return new uh(this.width,this.height)};f.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
f.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.translate=function(a,b){a instanceof rh?(this.left+=a.x,this.top+=a.y):(this.left+=a,u(b)&&(this.top+=b));return this};
f.scale=function(a,b){var c=u(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function yh(){return ic?"Webkit":hc?"Moz":E?"ms":gc?"O":null};function zh(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function N(a,b){var c=zh(a),d=Pb(arguments,1),e=c.length+d.length;Ah(c,d);a.className=c.join(" ");return c.length==e}function Bh(a,b){var c=zh(a),d=Pb(arguments,1),e=Ch(c,d);a.className=e.join(" ");return e.length==c.length-d.length}function Ah(a,b){for(var c=0;c<b.length;c++)Ib(a,b[c])||a.push(b[c])}function Ch(a,b){return Cb(a,function(a){return!Ib(b,a)})}
function Dh(a,b,c){var d=zh(a);r(b)?Lb(d,b):g(b)&&(d=Ch(d,b));r(c)&&!Ib(d,c)?d.push(c):g(c)&&Ah(d,c);a.className=d.join(" ")};var Eh=!E||qc(9),Fh=!hc&&!E||E&&qc(9)||hc&&pc("1.9.1"),Gh=E&&!pc("9");function Hh(a){return a?new Ih(Jh(a)):Ca||(Ca=new Ih)}function Kh(a){return r(a)?document.getElementById(a):a}function Lh(a,b,c){return Mh(document,a,b,c)}function Nh(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):Mh(document,"*",a,b)}function Oh(a,b){var c=b||document,d=null;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Mh(document,"*",a,b)[0])||null}
function Mh(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,h=0,k;k=a[h];h++)b==k.nodeName&&(d[e++]=k);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(h=e=0;k=a[h];h++)b=k.className,"function"==typeof b.split&&Ib(b.split(/\s+/),c)&&(d[e++]=k);d.length=e;return d}return a}
function Ph(a,b){C(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Rh?a.setAttribute(Rh[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Rh={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Sh(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new uh(a.clientWidth,a.clientHeight)}function Th(a){return ic||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Uh(a){return a?a.parentWindow||a.defaultView:window}function P(a,b,c){return Vh(document,arguments)}
function Vh(a,b){var c=b[0],d=b[1];if(!Eh&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Pa(d.name),'"');if(d.type){c.push(' type="',Pa(d.type),'"');var e={};yb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(r(d)?c.className=d:g(d)?c.className=d.join(" "):Ph(c,d));2<b.length&&Wh(a,c,b,2);return c}function Wh(a,b,c,d){function e(c){c&&b.appendChild(r(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var h=c[d];!ia(h)||ma(h)&&0<h.nodeType?e(h):D(Xh(h)?Nb(h):h,e)}}
function Yh(a,b){Wh(Jh(a),a,arguments,1)}function Zh(a){for(var b;b=a.firstChild;)a.removeChild(b)}function $h(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function Q(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function ai(a){return Fh&&void 0!=a.children?a.children:Cb(a.childNodes,function(a){return 1==a.nodeType})}function bi(a){return void 0!=a.firstElementChild?a.firstElementChild:ci(a.firstChild)}
function di(a){return void 0!=a.nextElementSibling?a.nextElementSibling:ci(a.nextSibling)}function ci(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function ei(a){return ma(a)&&1==a.nodeType}function fi(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}
function gi(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],e=Infinity;for(b=0;b<c;b++){for(var h=[],k=arguments[b];k;)h.unshift(k),k=k.parentNode;d.push(h);e=Math.min(e,h.length)}h=null;for(b=0;b<e;b++){for(var k=d[0][b],l=1;l<c;l++)if(k!=d[l][b])return h;h=k}return h}function Jh(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function hi(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Zh(a),a.appendChild(Jh(a).createTextNode(String(b)))}var ii={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},ji={IMG:" ",BR:"\n"};function ki(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))}function li(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}
function mi(a){a=a.tabIndex;return u(a)&&0<=a&&32768>a}function ni(a){if(Gh&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];oi(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Gh||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function pi(a){var b=[];oi(a,b,!1);return b.join("")}
function oi(a,b,c){if(!(a.nodeName in ii))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in ji)b.push(ji[a.nodeName]);else for(a=a.firstChild;a;)oi(a,b,c),a=a.nextSibling}function Xh(a){if(a&&"number"==typeof a.length){if(ma(a))return"function"==typeof a.item||"string"==typeof a.item;if(ka(a))return"function"==typeof a.item}return!1}
function qi(a,b,c){if(!b&&!c)return null;var d=b?b.toUpperCase():null;return ri(a,function(a){return(!d||a.nodeName==d)&&(!c||r(a.className)&&Ib(a.className.split(/\s+/),c))})}function ri(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Ih(a){this.pa=a||ba.document||document}f=Ih.prototype;f.M=Hh;function si(a){return a.pa}f.a=function(a){return r(a)?this.pa.getElementById(a):a};f.iD=Ih.prototype.a;f.w=function(a,b,c){return Vh(this.pa,arguments)};f.createElement=function(a){return this.pa.createElement(a)};
f.createTextNode=function(a){return this.pa.createTextNode(String(a))};function ti(a){return"CSS1Compat"==a.pa.compatMode}function ui(a){a=a.pa;return a.parentWindow||a.defaultView}function vi(a){var b=a.pa;a=Th(b);b=b.parentWindow||b.defaultView;return E&&pc("10")&&b.pageYOffset!=a.scrollTop?new rh(a.scrollLeft,a.scrollTop):new rh(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}f.appendChild=function(a,b){a.appendChild(b)};f.Eu=$h;f.removeNode=Q;f.eu=ai;f.Sz=bi;f.contains=fi;
f.Kh=function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!li(a)||mi(a)):li(a)&&mi(a))&&E?(a=ka(a.getBoundingClientRect)?a.getBoundingClientRect():{height:a.offsetHeight,width:a.offsetWidth},a=null!=a&&0<a.height&&0<a.width):a=b;return a};function wi(a,b,c){r(b)?xi(a,c,b):C(b,wa(xi,a))}function xi(a,b,c){a:if(c=bb(c),void 0===a.style[c]){var d=yh()+db(c);if(void 0!==a.style[d]){c=d;break a}}c&&(a.style[c]=b)}function yi(a,b){var c=Jh(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function zi(a,b){return yi(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Ai(a){return zi(a,"position")}
function Bi(a,b,c){var d,e=hc&&(cc||lc)&&pc("1.9");b instanceof rh?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Ci(d,e);a.style.top=Ci(b,e)}function Di(a){return new rh(a.offsetLeft,a.offsetTop)}function Ei(a){a=a?Jh(a):document;return!E||qc(9)||ti(Hh(a))?a.documentElement:a.body}
function Fi(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}E&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Gi(a){if(E&&!qc(8))return a.offsetParent;var b=Jh(a),c=zi(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=zi(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Hi(a){for(var b=new th(0,Infinity,Infinity,0),c=Hh(a),d=c.pa.body,e=c.pa.documentElement,h=Th(c.pa);a=Gi(a);)if(!(E&&0==a.clientWidth||ic&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=zi(a,"overflow")){var k=Ii(a),l;l=a;if(hc&&!pc("1.9")){var n=parseFloat(yi(l,"borderLeftWidth"));if(Ji(l))var p=l.offsetWidth-l.clientWidth-n-parseFloat(yi(l,"borderRightWidth")),n=n+p;l=new rh(n,parseFloat(yi(l,"borderTopWidth")))}else l=new rh(l.clientLeft,l.clientTop);k.x+=l.x;k.y+=l.y;b.top=Math.max(b.top,
k.y);b.right=Math.min(b.right,k.x+a.clientWidth);b.bottom=Math.min(b.bottom,k.y+a.clientHeight);b.left=Math.max(b.left,k.x)}d=h.scrollLeft;h=h.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,h);c=Sh(ui(c)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,h+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function Ii(a){var b,c=Jh(a),d=zi(a,"position"),e=hc&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),h=new rh(0,0),k=Ei(c);if(a==k)return h;if(a.getBoundingClientRect)b=Fi(a),a=vi(Hh(c)),h.x=b.left+a.x,h.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(k),h.x=b.screenX-a.screenX,h.y=b.screenY-a.screenY;else{b=a;do{h.x+=b.offsetLeft;h.y+=b.offsetTop;b!=a&&(h.x+=b.clientLeft||0,h.y+=b.clientTop||0);
if(ic&&"fixed"==Ai(b)){h.x+=c.body.scrollLeft;h.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(gc||ic&&"absolute"==d)h.y-=c.body.offsetTop;for(b=a;(b=Gi(b))&&b!=c.body&&b!=k;)h.x-=b.scrollLeft,gc&&"TR"==b.tagName||(h.y-=b.scrollTop)}return h}function Ki(a,b){var c=Li(a),d=Li(b);return new rh(c.x-d.x,c.y-d.y)}
function Mi(a){var b;if(a.getBoundingClientRect)b=Fi(a),b=new rh(b.left,b.top);else{b=vi(Hh(a));var c=Ii(a);b=new rh(c.x-b.x,c.y-b.y)}if(hc&&!pc(12)){b:{c=bb("transform");if(void 0===a.style[c]&&(c=yh()+db(c),void 0!==a.style[c])){c=(ic?"-webkit":hc?"-moz":E?"-ms":gc?"-o":null)+"-transform";break b}c="transform"}a=(a=zi(a,c)||zi(a,"transform"))?(a=a.match(Ni))?new rh(parseFloat(a[1]),parseFloat(a[2])):new rh(0,0):new rh(0,0);a=new rh(b.x+a.x,b.y+a.y)}else a=b;return a}
function Li(a){if(1==a.nodeType)return Mi(a);var b=ka(a.jG),c=a;a.targetTouches?c=a.targetTouches[0]:b&&a.Gc.targetTouches&&(c=a.Gc.targetTouches[0]);return new rh(c.clientX,c.clientY)}function Oi(a,b,c){if(b instanceof uh)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");Pi(a,b);Qi(a,c)}function Ci(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Qi(a,b){a.style.height=Ci(b,!0)}function Pi(a,b){a.style.width=Ci(b,!0)}
function T(a){var b=Ri;if("none"!=zi(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,h=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=h;c.visibility=e;return a}function Ri(a){var b=a.offsetWidth,c=a.offsetHeight,d=ic&&!b&&!c;return ca(b)&&!d||!a.getBoundingClientRect?new uh(b,c):(a=Fi(a),new uh(a.right-a.left,a.bottom-a.top))}function Si(a){var b=Ii(a);a=T(a);return new wh(b.x,b.y,a.width,a.height)}
function Ti(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function Ui(a,b){a.style.display=b?"":"none"}function Vi(a){E&&ca(a.cssText)?a.cssText=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }":a.innerHTML=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }"}function Ji(a){return"rtl"==zi(a,"direction")}var Wi=hc?"MozUserSelect":ic?"WebkitUserSelect":null;
function Xi(a,b,c){c=c?null:a.getElementsByTagName("*");if(Wi){if(b=b?"none":"",a.style[Wi]=b,c){a=0;for(var d;d=c[a];a++)d.style[Wi]=b}}else if(E||gc)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}function Yi(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function Zi(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Yi(a,c):0}function $i(a,b){if(E){var c=Zi(a,b+"Left"),d=Zi(a,b+"Right"),e=Zi(a,b+"Top"),h=Zi(a,b+"Bottom");return new th(e,d,h,c)}c=yi(a,b+"Left");d=yi(a,b+"Right");e=yi(a,b+"Top");h=yi(a,b+"Bottom");return new th(parseFloat(e),parseFloat(d),parseFloat(h),parseFloat(c))}var aj={thin:2,medium:4,thick:6};
function bj(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in aj?aj[c]:Yi(a,c)}function cj(a){if(E&&!qc(9)){var b=bj(a,"borderLeft"),c=bj(a,"borderRight"),d=bj(a,"borderTop");a=bj(a,"borderBottom");return new th(d,c,a,b)}b=yi(a,"borderLeftWidth");c=yi(a,"borderRightWidth");d=yi(a,"borderTopWidth");a=yi(a,"borderBottomWidth");return new th(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Ni=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function dj(a){wc.call(this);this.Wc=a;this.fb={}}w(dj,wc);var ej=[];f=dj.prototype;f.A=function(a,b,c,d){g(b)||(b&&(ej[0]=b.toString()),b=ej);for(var e=0;e<b.length;e++){var h=F(a,b[e],c||this.handleEvent,d||!1,this.Wc||this);if(!h)break;this.fb[h.key]=h}return this};f.Pu=function(a,b,c,d){return fj(this,a,b,c,d)};function fj(a,b,c,d,e,h){if(g(c))for(var k=0;k<c.length;k++)fj(a,b,c[k],d,e,h);else{b=Tc(b,c,d||a.handleEvent,e,h||a.Wc||a);if(!b)return a;a.fb[b.key]=b}return a}
f.ob=function(a,b,c,d,e){if(g(b))for(var h=0;h<b.length;h++)this.ob(a,b[h],c,d,e);else c=c||this.handleEvent,e=e||this.Wc||this,c=Nc(c),d=!!d,b=hb(a)?a.Jn(b,c,d,e):a?(a=Pc(a))?a.Jn(b,c,d,e):null:null,b&&(Vc(b),delete this.fb[b.key]);return this};f.fg=function(){C(this.fb,Vc);this.fb={}};f.f=function(){dj.d.f.call(this);this.fg()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function gj(){}fa(gj);gj.prototype.nB=0;function hj(a){$c.call(this);this.lb=a||Hh();this.Vg=ij;this.hf=null;this.fa=!1;this.o=null;this.Ui=void 0;this.Mf=this.Dc=this.Qa=this.av=null;this.bD=!1}w(hj,$c);hj.prototype.mI=gj.ce();var ij=null;
function jj(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}function kj(a){return a.hf||(a.hf=":"+(a.mI.nB++).toString(36))}function lj(a,b){a.Qa&&a.Qa.Mf&&(ub(a.Qa.Mf,a.hf),vb(a.Qa.Mf,b,a));a.hf=b}f=hj.prototype;f.a=function(){return this.o};
f.bb=function(){this.Ui||(this.Ui=new dj(this));return this.Ui};f.Ko=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Qa&&this.hf&&mj(this.Qa,this.hf)&&this.Qa!=a)throw Error("Unable to set parent component");this.Qa=a;hj.d.iw.call(this,a)};f.getParent=function(){return this.Qa};f.iw=function(a){if(this.Qa&&this.Qa!=a)throw Error("Method not supported");hj.d.iw.call(this,a)};f.M=function(){return this.lb};f.w=function(){this.o=this.lb.createElement("div")};f.n=function(a){this.Ug(a)};
f.Ug=function(a,b){if(this.fa)throw Error("Component already rendered");this.o||this.w();a?a.insertBefore(this.o,b||null):this.lb.pa.body.appendChild(this.o);this.Qa&&!this.Qa.fa||this.ab()};f.yb=function(a){if(this.fa)throw Error("Component already rendered");if(a&&this.De(a)){this.bD=!0;var b=Jh(a);this.lb&&this.lb.pa==b||(this.lb=Hh(a));this.Yd(a);this.ab()}else throw Error("Invalid element to decorate");};f.De=function(){return!0};f.Yd=function(a){this.o=a};
f.ab=function(){this.fa=!0;nj(this,function(a){!a.fa&&a.a()&&a.ab()})};f.tc=function(){nj(this,function(a){a.fa&&a.tc()});this.Ui&&this.Ui.fg();this.fa=!1};f.f=function(){this.fa&&this.tc();this.Ui&&(this.Ui.g(),delete this.Ui);nj(this,function(a){a.g()});!this.bD&&this.o&&Q(this.o);this.Qa=this.av=this.o=this.Mf=this.Dc=null;hj.d.f.call(this)};f.fn=function(a,b){this.it(a,oj(this),b)};
f.it=function(a,b,c){if(a.fa&&(c||!this.fa))throw Error("Component already rendered");if(0>b||b>oj(this))throw Error("Child component index out of bounds");this.Mf&&this.Dc||(this.Mf={},this.Dc=[]);if(a.getParent()==this){var d=kj(a);this.Mf[d]=a;Lb(this.Dc,a)}else vb(this.Mf,kj(a),a);a.Ko(this);Ob(this.Dc,b,0,a);a.fa&&this.fa&&a.getParent()==this?(c=this.Ia(),c.insertBefore(a.a(),c.childNodes[b]||null)):c?(this.o||this.w(),b=pj(this,b+1),a.Ug(this.Ia(),b?b.o:null)):this.fa&&!a.fa&&a.o&&a.o.parentNode&&
1==a.o.parentNode.nodeType&&a.ab()};f.Ia=function(){return this.o};f.Ie=function(){null==this.Vg&&(this.Vg=Ji(this.fa?this.o:this.lb.pa.body));return this.Vg};f.nm=function(a){if(this.fa)throw Error("Component already rendered");this.Vg=a};function oj(a){return a.Dc?a.Dc.length:0}function mj(a,b){var c;a.Mf&&b?(c=a.Mf,c=(b in c?c[b]:void 0)||null):c=null;return c}function pj(a,b){return a.Dc?a.Dc[b]||null:null}function nj(a,b,c){a.Dc&&D(a.Dc,b,c)}function qj(a,b){return a.Dc&&b?Bb(a.Dc,b):-1}
f.removeChild=function(a,b){if(a){var c=r(a)?a:kj(a);a=mj(this,c);c&&a&&(ub(this.Mf,c),Lb(this.Dc,a),b&&(a.tc(),a.o&&Q(a.o)),a.Ko(null))}if(!a)throw Error("Child is not in parent component");return a};v("nrg.string",function(){});function rj(a){if(void 0!=a)return a.replace(/\\/g,"/").replace(/.*\//,"")}function sj(a){if(void 0!=a)return a.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function tj(a){if(null!=a)return a="array"==ga(a)?a[0]:a,a=a.slice(a.lastIndexOf(".")+1),"gz"==a&&(a="nii."+a),a.toLowerCase()}function uj(a){return a.replace(/\W/g,"")}function vj(a,b){var c=a.toLowerCase().replace(/\.|_/g,"-");null!=b&&(c+="-"+b.toLowerCase().replace(/\.|_/g,"-"));return c}
function wj(a){return"rgb("+a.split(" ").map(function(a){return Math.round(255*parseFloat(a))}).toString()+")"}v("nrg.string.basename",rj);v("nrg.string.dirname",sj);v("nrg.string.getFileExtension",tj);v("nrg.string.fileNameMatch",function(a,b){return rj(a)===rj(b)});v("nrg.string.stripNonAlphanumeric",uj);v("nrg.string.stripIllegal",function(a){return a.replace(/[|&;$%@"<>()+,]/g,"")});v("nrg.string.getLettersOnly",function(a){return uj(a).replace(/[0-9]/g,"")});
v("nrg.string.replaceIllegal",function(a,b){if("string"!==typeof a)throw Error("Illegal value "+typeof a+" in argument of nrg.string.replaceIllegal .");void 0===b&&(b="");var c=a.replace(/\/./g,b);return c=c.replace(/[|&;$%@"<>()+,]/g,b)});v("nrg.string.truncateString",function(a,b){b=void 0===b?30:b;return a.length>b?a.substring(0,b-3)+"...":a});v("nrg.string.makeCssName",vj);v("nrg.string.mrmlColorToRgb",wj);function xj(a,b,c){wc.call(this);this.Qu=a;this.Vf=b||0;this.Wc=c;this.zF=ua(this.QF,this)}w(xj,wc);f=xj.prototype;f.hf=0;f.f=function(){xj.d.f.call(this);this.stop();delete this.Qu;delete this.Wc};f.start=function(a){this.stop();this.hf=Yf(this.zF,ca(a)?a:this.Vf)};f.stop=function(){this.Og()&&ba.clearTimeout(this.hf);this.hf=0};f.Og=function(){return 0!=this.hf};f.QF=function(){this.hf=0;this.Qu&&this.Qu.call(this.Wc)};var sb={},yj=null;function zj(a){a=oa(a);delete sb[a];rb()&&yj&&yj.stop()}function Aj(){yj||(yj=new xj(function(){Bj()},20));var a=yj;a.Og()||a.start()}function Bj(){var a=xa();C(sb,function(b){Cj(b,a)});rb()||Aj()};function Dj(){$c.call(this);this.Q=Ej;this.endTime=this.startTime=null}w(Dj,$c);var Ej=0;Dj.prototype.jf=function(){return 1==this.Q};Dj.prototype.Rh=function(){this.gc("begin")};Dj.prototype.onEnd=function(){this.gc("end")};Dj.prototype.gc=function(a){this.dispatchEvent(a)};function Fj(a,b,c,d){Dj.call(this);if(!g(a)||!g(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Wo=a;this.XF=b;this.duration=c;this.ay=d;this.coords=[];this.Sk=!1}w(Fj,Dj);f=Fj.prototype;f.Li=function(a){this.Sk=a};f.of=0;
f.play=function(a){if(a||this.Q==Ej)this.of=0,this.coords=this.Wo;else if(this.jf())return!1;zj(this);this.startTime=a=xa();-1==this.Q&&(this.startTime-=this.duration*this.of);this.endTime=this.startTime+this.duration;this.of||this.Rh();this.gc("play");-1==this.Q&&this.gc("resume");this.Q=1;var b=oa(this);b in sb||(sb[b]=this);Aj();Cj(this,a);return!0};f.stop=function(a){zj(this);this.Q=Ej;a&&(this.of=1);Gj(this,this.of);this.gc("stop");this.onEnd()};
f.pause=function(){this.jf()&&(zj(this),this.Q=-1,this.gc("pause"))};f.f=function(){this.Q==Ej||this.stop(!1);this.gc("destroy");Fj.d.f.call(this)};f.Zd=function(){this.g()};function Cj(a,b){a.of=(b-a.startTime)/(a.endTime-a.startTime);1<=a.of&&(a.of=1);Gj(a,a.of);1==a.of?(a.Q=Ej,zj(a),a.gc("finish"),a.onEnd()):a.jf()&&a.kv()}function Gj(a,b){ka(a.ay)&&(b=a.ay(b));a.coords=Array(a.Wo.length);for(var c=0;c<a.Wo.length;c++)a.coords[c]=(a.XF[c]-a.Wo[c])*b+a.Wo[c]}f.kv=function(){this.gc("animate")};
f.gc=function(a){this.dispatchEvent(new Hj(a,this))};function Hj(a,b){Ec.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.of=b.of;this.state=b.Q}w(Hj,Ec);var Ij={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Jj(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Kj.test(c))return b.Vi=Lj(c),b.type="hex",b;a:{var d=a.match(Mj);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length)return b.Vi=Nj(c),b.type="rgb",b;if(Ij&&(c=Ij[a.toLowerCase()]))return b.Vi=c,b.type="named",b;throw Error(a+" is not a valid color string");}var Oj=/#(.)(.)(.)/;
function Lj(a){if(!Kj.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Oj,"#$1$1$2$2$3$3"));return a.toLowerCase()}function Pj(a){a=Lj(a);return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]}
function Nj(a){var b=a[0],c=a[1];a=a[2];b=Number(b);c=Number(c);a=Number(a);if(isNaN(b)||0>b||255<b||isNaN(c)||0>c||255<c||isNaN(a)||0>a||255<a)throw Error('"('+b+","+c+","+a+'") is not a valid RGB color');b=Qj(b.toString(16));c=Qj(c.toString(16));a=Qj(a.toString(16));return"#"+b+c+a}var Kj=/^#(?:[0-9a-f]{3}){1,2}$/i,Mj=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Qj(a){return 1==a.length?"0"+a:a}
function Rj(a,b,c){var d=0,e=0,h=0;if(0==b)h=e=d=c;else{var k=Math.floor(a/60),l=a/60-k;a=c*(1-b);var n=c*(1-b*l);b=c*(1-b*(1-l));switch(k){case 1:d=n;e=c;h=a;break;case 2:d=a;e=c;h=b;break;case 3:d=a;e=n;h=c;break;case 4:d=b;e=a;h=c;break;case 5:d=c;e=a;h=n;break;case 6:case 0:d=c,e=b,h=a}}return Nj([Math.floor(d),Math.floor(e),Math.floor(h)])};function Sj(a){var b=a.offsetLeft,c=a.offsetParent;c||"fixed"!=Ai(a)||(c=Jh(a).documentElement);if(!c)return b;if(hc)var d=cj(c),b=b+d.left;else qc(8)&&(d=cj(c),b-=d.left);return Ji(c)?c.clientWidth-(b+a.offsetWidth):b};function Tj(a,b,c,d,e){Fj.call(this,b,c,d,e);this.element=a}w(Tj,Fj);f=Tj.prototype;f.k=ea;f.Ie=function(){ca(this.Vg)||(this.Vg=Ji(this.element));return this.Vg};f.kv=function(){this.k();Tj.d.kv.call(this)};f.onEnd=function(){this.k();Tj.d.onEnd.call(this)};f.Rh=function(){this.k();Tj.d.Rh.call(this)};function Uj(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Tj.apply(this,arguments)}w(Uj,Tj);
Uj.prototype.k=function(){var a=this.Sk&&this.Ie()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function Vj(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Tj.apply(this,arguments)}w(Vj,Tj);Vj.prototype.k=function(){this.element.style.width=Math.round(this.coords[0])+"px";this.element.style.height=Math.round(this.coords[1])+"px"};
function Wj(a,b,c,d,e){Tj.call(this,a,[b],[c],d,e)}w(Wj,Tj);Wj.prototype.k=function(){this.element.style.width=Math.round(this.coords[0])+"px"};function Xj(a,b,c,d,e){Tj.call(this,a,[b],[c],d,e)}w(Xj,Tj);Xj.prototype.k=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function Yj(a,b,c,d,e){u(b)&&(b=[b]);u(c)&&(c=[c]);Tj.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}w(Yj,Tj);Yj.prototype.k=function(){Ti(this.element,this.coords[0])};
Yj.prototype.show=function(){this.element.style.display=""};Yj.prototype.Vl=function(){this.element.style.display="none"};function Zj(a,b,c){Yj.call(this,a,1,0,b,c)}w(Zj,Yj);function ak(a,b,c){Yj.call(this,a,0,1,b,c)}w(ak,Yj);function bk(a,b,c){Yj.call(this,a,1,0,b,c)}w(bk,Yj);bk.prototype.Rh=function(){this.show();bk.d.Rh.call(this)};bk.prototype.onEnd=function(){this.Vl();bk.d.onEnd.call(this)};function ck(a,b,c){Yj.call(this,a,0,1,b,c)}w(ck,Yj);ck.prototype.Rh=function(){this.show();ck.d.Rh.call(this)};
function dk(a,b,c,d,e){if(3!=b.length||3!=c.length)throw Error("Start and end points must be 3D");Tj.apply(this,arguments)}w(dk,Tj);dk.prototype.Xr=function(){for(var a=[],b=0;b<this.coords.length;b++)a[b]=Math.round(this.coords[b]);this.element.style.backgroundColor="rgb("+a.join(",")+")"};dk.prototype.k=function(){this.Xr()};function ek(){Dj.call(this);this.Nb=[]}w(ek,Dj);ek.prototype.add=function(a){Ib(this.Nb,a)||(this.Nb.push(a),F(a,"finish",this.lv,!1,this))};ek.prototype.remove=function(a){Lb(this.Nb,a)&&Uc(a,"finish",this.lv,!1,this)};ek.prototype.f=function(){D(this.Nb,function(a){a.g()});this.Nb.length=0;ek.d.f.call(this)};function fk(){ek.call(this);this.au=0}w(fk,ek);
fk.prototype.play=function(a){if(0==this.Nb.length)return!1;if(a||this.Q==Ej)this.au=0,this.Rh();else if(this.jf())return!1;this.gc("play");-1==this.Q&&this.gc("resume");var b=-1==this.Q&&!a;this.startTime=xa();this.endTime=null;this.Q=1;D(this.Nb,function(c){b&&-1!=c.Q||c.play(a)});return!0};fk.prototype.pause=function(){this.jf()&&(D(this.Nb,function(a){a.jf()&&a.pause()}),this.Q=-1,this.gc("pause"))};
fk.prototype.stop=function(a){D(this.Nb,function(b){b.Q==Ej||b.stop(a)});this.Q=Ej;this.endTime=xa();this.gc("stop");this.onEnd()};fk.prototype.lv=function(){this.au++;this.au==this.Nb.length&&(this.endTime=xa(),this.Q=Ej,this.gc("finish"),this.onEnd())};function gk(){ek.call(this);this.bf=0}w(gk,ek);
gk.prototype.play=function(a){if(0==this.Nb.length)return!1;if(a||this.Q==Ej)this.bf<this.Nb.length&&this.Nb[this.bf].Q!=Ej&&this.Nb[this.bf].stop(!1),this.bf=0,this.Rh();else if(this.jf())return!1;this.gc("play");-1==this.Q&&this.gc("resume");this.startTime=xa();this.endTime=null;this.Q=1;this.Nb[this.bf].play(a);return!0};gk.prototype.pause=function(){this.jf()&&(this.Nb[this.bf].pause(),this.Q=-1,this.gc("pause"))};
gk.prototype.stop=function(a){this.Q=Ej;this.endTime=xa();if(a)for(a=this.bf;a<this.Nb.length;++a){var b=this.Nb[a];b.Q==Ej&&b.play();b.Q==Ej||b.stop(!0)}else this.bf<this.Nb.length&&this.Nb[this.bf].stop(!1);this.gc("stop");this.onEnd()};gk.prototype.lv=function(){this.jf()&&(this.bf++,this.bf<this.Nb.length?this.Nb[this.bf].play():(this.endTime=xa(),this.Q=Ej,this.gc("finish"),this.onEnd()))};v("nrg.convert",function(){});function hk(a){if(!g(a)&&!u(a))throw new TypeError("Array or number expected!",a);if(a instanceof Array)return a.map(function(a){return a.toString()+"px"});switch(typeof a){case "number":return a.toString()+"px"}}
function ik(a,b,c){if(b[0]===b[1]||c[0]===c[1])throw"Remap: initial domain is equal!";b=b.sort();c=c.sort();if(a<=b[0])return a=b[0],{remappedVal:c[0],oldValue:a};if(a>=b[1])return a=b[1],{remappedVal:c[1],oldValue:a};b=Math.round(a/(b[1]-b[0])*(c[1]-c[0]));b<c[0]?b=c[0]:b>c[1]&&(b=c[1]);return{remappedVal:b,oldValue:a}}function jk(a){if(!r(a)&&!u(a))throw new TypeError("Number or string expected!",a);return parseInt(a,10)}
function kk(a){var b={};C(a,function(a,d){isNaN(a)?r(a)&&(b[d]=a):b[d]=a});return b}function lk(a){var b={};C(a,function(a,d){r(a)?0<a.length&&(b[d]=a):b[d]=a});return b}v("nrg.convert.pct",function(a){if(!u(a))throw new TypeError("Number expected!",a);if(1<a||0>a)throw Error("Value must be between 0 and 1!");return(100*a).toString()+"%"});v("nrg.convert.px",hk);v("nrg.convert.remap1D",ik);v("nrg.convert.toInt",jk);
v("nrg.convert.toFloatArray",function(a){if(!r(a))throw new TypeError("String expected!",a);var b=[];a=a.split(" ");D(a,function(a,d){b[d]=parseFloat(a,10)});return b});v("nrg.convert.objectToArray",function(a){if(!ma(a))throw new TypeError("Object expected!",a);var b=[],c="";for(c in a)b=b.concat(a[c]);return b});v("nrg.convert.rgbToArray",function(a){if(!r(a))throw new TypeError("String expected!",a);a=a.match(/\d+/g);var b=0,b=0;for(len=a.length;b<len;b++)a[b]=parseInt(a[b],10);return a});
v("nrg.convert.arrayToRgb",function(a,b){if(!g(a))throw new TypeError("Array expected!",a);var c="rgb(";b=void 0===b?1:b;D(a,function(a){c+=parseInt(a*b,10).toString()+","});return c=c.substring(0,c.length-1)+")"});v("nrg.convert.filterNaN",kk);v("nrg.convert.filterZeroLengthStrings",lk);v("nrg.style",function(){});var mk="azimuth background-attachment background-color background-image background-position background-repeat background border-collapse border-color border-spacing border-style border-top border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width border-bottom-width border-left-width border-width border bottom caption-side clear clip color content counter-increment counter-reset cue-after cue-before cue cursor direction display elevation empty-cells float font-family font-size font-style font-variant font-weight font height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-right margin-left margin-top margin-bottom margin max-height max-width min-height min-width orphans outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page-break-after page-break-before page-break-inside pause-after pause-before pause pitch-range pitch play-during position quotes richness right speak-header speak-numeral speak-punctuation speak speech-rate stress table-layout text-align text-decoration text-indent text-transform top unicode-bidi vertical-align visibility voice-family volume white-space widows width word-spacing z-index".split(" ");
function nk(a){return a.getBoundingClientRect()}
function ok(a,b){if(b&&"string"===typeof b){var c="";switch(b){case "height":return a.clientHeight;case "width":return a.clientWidth;case "outerHeight":return a.offsetHeight;case "outerWidth":return a.offsetWidth;case "offsetTop":return a.offsetTop;case "offsetLeft":return a.offsetLeft;default:c=/%emt/.test(a.style[b]);if(!c)return jk(a.style[b]);var d=Ki(a,a.parentNode),d={left:jk(a.style.left)||d.x,top:jk(a.style.top)||d.y};return d[b]}}else return c={},d=a.parentNode?Ki(a,a.parentNode):Ki(a,document.body),
d={left:jk(a.style.left)||d.x,top:jk(a.style.top)||d.y},c.left=d.left,c.top=d.top,c.height=a.clientHeight,c.width=a.clientWidth,c.outerHeight=a.offsetWidth,c.outerWidth=a.offsetHeight,c.offsetTop=a.offsetTop,c.offsetLeft=a.offsetLeft,c}
function pk(a){var b="height width left top border-width borderWidth borderRadius border-radius fontSize fontSize margin margin-top marginTop marginLeft margin-left".split(" "),c=0,d=0;for(key in a)for(c=0,d=b.length;c<d;c++)key===b[c]&&(a[key]=parseInt(a[key],10));return a}function qk(a,b){a&&b&&(a.style||(a.style={}),wi(a,b),D("top left height width fontSize borderWidth borderRadius".split(" "),function(c){b[c]&&!Ea(b[c],"%")&&(a.style[c]=hk(b[c]))}))}var rk="is_hovered_"+B();
function sk(a,b,c,d,e,h){function k(){a[rk]=!1;Bh(a,b);null!=h&&h()}function l(){a[rk]=!0;N(a,b);null!=e&&e()}F(a,"mouseenter",l);F(a,"mouseleave",k);c&&(c=void 0!==d?c.bind(d):c,c(l,k))}v("nrg.style.cssProperties",mk);v("nrg.style.removeClassesThatContain",function(a,b){var c=zh(a),d=[],e=0;b=b.toLowerCase();e=0;for(len=c.length;e<len;e++)-1<c[e].toLowerCase().indexOf(b)&&d.push(c[e]);e=0;for(len=d.length;e<len;e++)Bh(a,d[e])});v("nrg.style.absolutePosition",nk);v("nrg.style.dims",ok);
v("nrg.style.getStyleSheet",function(a){for(var b=0;b<document.styleSheets.length;b++){var c=document.styleSheets[b];if(c.title==a)return c}});v("nrg.style.getComputedStyle",function(a,b){if(b&&r(b))return window.getComputedStyle(a,null).getPropertyValue(b);void 0===b&&(b=mk);for(var c={},d=window.getComputedStyle(a,null),e=0,h=b.length,e=0;e<h;e++)c[b[e]]=d.getPropertyValue(b[e]);return pk(c)});v("nrg.style.parseIntNumericalProperties",pk);v("nrg.style.setStyle",qk);v("nrg.style.IS_HOVERED",rk);
v("nrg.style.setHoverClass",sk);v("nrg.style.getPositionRelativeToAncestor",function(a,b){var c=0,d=0;if(a.offsetParent){for(var e=a;e!==b;)c+=e.offsetLeft,d+=e.offsetTop,e=e.offsetParent;return{left:c,top:d}}});function tk(a){return 1-Math.pow(1-a,3)};function uk(){}v("nrg.fx",uk);function vk(a,b,c){void 0===b&&(b=500);wk(a,b,1,c)}function xk(a,b,c){void 0===b&&(b=500);wk(a,0,0,function(){wk(a,b,1,c)})}function yk(a,b,c){void 0===b&&(b=500);wk(a,b,0,c)}function wk(a,b,c,d,e){e||(null!=a.style?e=a.style.opacity?parseInt(a.style.opacity,10):1:a.style.opacity=1);var h=new Yj(a,e,c,b);d&&h.addEventListener("end",function(a){d(a);H(h);delete h});h.play()}
function zk(a,b,c){D(a,function(a){a.style.opacity=0});b=u(b)?b:500;c=u(c)?c:250;var d=new Wf(0);d.addEventListener(Xf,function(){elt=a[0];vk(elt,b);1==a.length?(d.stop(),d.g()):(a=Pb(a,1),d.setInterval(c))});d.start()}uk.animGenStyles="left top width height opacity background-color color z-index".split(" ");function Ak(a,b,c,d){if(("left"in b||"left"in c||"top"in b||"top"in c)&&!(isNaN(b.top)||isNaN(c.top)||isNaN(b.left)||isNaN(c.left)))return new Uj(a,[b.left,b.top],[c.left,c.top],d,tk)}
function Bk(a,b,c,d){if(("height"in b||"height"in c||"width"in b||"width"in c)&&!(isNaN(b.height)||isNaN(c.height)||isNaN(b.width)||isNaN(c.width)))return new Vj(a,[b.width,b.height],[c.width,c.height],d,tk)}function Ck(a,b,c,d){if("opacity"in b||"opacity"in c)if(D([b,c],function(a){"opacity"in a||(a.opacity=1);u(a.opacity)||(a.opacity=parseInt(a.opacity,10))}),b.opacity!==c.opacity)return new Yj(a,b.opacity,c.opacity,d)}
function Dk(a,b,c,d){if("visibility"in b||"visibility"in c)if(D([b,c],function(a){"visibility"in a||(a.visibility="visible")}),b.visibility!==c.visibility)return"hidden"===b.visibility?new ck(a,d):new bk(a,d)}
function Ek(a,b,c,d){if("background-color"in b||"background-color"in c){D([b,c],function(a){"background-color"in a||(a["background-color"]="rgb(255,255,255)")});try{var e=Jj(b["background-color"]),h=Jj(c["background-color"]);if(e.Vi!==h.Vi)return new dk(a,Pj(e.Vi),Pj(h.Vi),d,tk)}catch(k){window.console.log("Skipping color transition anim: ",k.message)}}}function Fk(a){var b=T(a),c=Di(a);return{"background-color":zi(a,"backgroundColor"),width:b.width,left:c.x,top:c.y,height:b.height}}
function Gk(a,b){this.qF=a;this.DL=b}function Hk(a){return lk(kk(a))}function Ik(a){var b=T(a),c=Di(a);return{left:c.x,top:c.y,width:b.width,height:b.height,opacity:parseInt(a.style.opacity,10),"background-color":a.style.backgroundColor,background:a.style.background,color:a.style.color,"z-index":parseInt(a.style.zIndex,10)}}function Jk(a,b){var c=Ik(a),c=Hk(c),d=Ik(b),e=Hk(d);C(c,function(a,b){null!=e[b]||(e[b]=a)});return new Gk(c,e)}
function Kk(a,b,c,d){var e=[];D(uk.animGenStyles,function(h){if(null!=b&&null!=c)switch(h){case "left":e.push(Ak(a,b,c,d));break;case "height":e.push(Bk(a,b,c,d));break;case "opacity":e.push(Ck(a,b,c,d));break;case "visibility":e.push(Dk(a,b,c,d));break;case "background-color":e.push(Ek(a,b,c,d))}});var h=[];D(e,function(a){null!=a&&h.push(a)});delete e;return h}
function Lk(a,b,c,d){var e=new fk;D(a,function(a){c&&F(a,"animate",c);e.add(a)});b&&F(e,"begin",b);F(e,"end",function(){d&&d();e.g();e=null;delete e});e.play()}function Mk(a,b,c){function d(){qk(a,{opacity:c})}b=void 0===b?1:b;c=void 0===c?.5:c;F(a,"mouseover",function(){qk(a,{opacity:b})});F(a,"mouseout",d);d()}
function Nk(a,b,c,d,e,h,k){if(!g(b)){var l=[];D(a,function(){l.push(b)});b=l}g(c)||(l=[],D(a,function(){l.push(c)}),c=l);d=u(d)?d:500;var n=[];D(a,function(a,e){n.push(Ck(a,{opacity:b[e]},{opacity:c[e]},d))});Lk(n,e,h,k)}v("nrg.fx.fadeIn",vk);v("nrg.fx.fadeInFromZero",xk);v("nrg.fx.fadeOut",yk);v("nrg.fx.fadeOutAndRemove",function(a,b,c){void 0===b&&(b=500);wk(a,b,0,function(){a.parentNode.removeChild(a);c&&c()})});v("nrg.fx.fadeTo",wk);v("nrg.fx.animGenStyles",uk.animGenStyles);
v("nrg.fx.generateAnim_Slide",Ak);v("nrg.fx.generateAnim_Resize",Bk);v("nrg.fx.generateAnim_Fade",Ck);v("nrg.fx.generateAnim_RemoveAddFade",Dk);v("nrg.fx.generateAnim_BgColorTrans",Ek);v("nrg.fx.TransitionDims",Gk);v("nrg.fx.filterTransitionStyles",Hk);v("nrg.fx.getTransitionStyles",Ik);v("nrg.fx.generateTransitionDims",Jk);v("nrg.fx.getAnimationDims",Fk);v("nrg.fx.generateAnimations",Kk);v("nrg.fx.parallelAnimate",Lk);
v("nrg.fx.serialAnimate",function(a,b,c,d){var e=new gk;D(a,function(a){c&&F(a,"animate",c);e.add(a)});b&&F(e,"begin",b);F(e,"end",function(){d&&d();e.g();e=null;delete e});e.play()});v("nrg.fx.setBasicHoverStates",Mk);v("nrg.fx.sequentialFadeIn",zk);v("nrg.fx.parallelFade",Nk);function Ok(a){return a.slice(a.lastIndexOf("/")+1)}function Pk(a){for(var b=arguments[0],c=1;c<arguments.length;c++)var d=arguments[c],b=0==d.lastIndexOf("/",0)?d:""==b||Ea(b,"/")?b+d:b+("/"+d);return b};function Qk(){}v("nrg.dom",Qk);function Rk(a,b,c){if(!g(a))throw new TypeError("Array expected!",a);if(b&&!r(b))throw new TypeError("String expected!",b);if(c&&!r(c))throw new TypeError("String expected!",c);var d={};c=c?c:"png";var e="",h=0,h=0;for(len=a.length;h<len;h++)e=a[h],d[e]=Sk(e,{src:b?Pk(b,cb(e)+"."+c):""});return d}function Tk(a,b){var c=P("img",{src:b});c.style.wO="contain";c.style.maxWidth="100%";c.style.maxHeight="100%";Yh(a,c);c.onclick=c.parentNode.onclick}
function Sk(a,b,c,d){if(!r(a))throw new TypeError("String expected!");if(b&&!ma(b))throw new TypeError("Object expected!");if(null!=c&&!u(c))throw new TypeError("Number expected!");if(null!=d&&!u(d))throw new TypeError("Number expected!");a=Uk("div",a,b?b:{});b&&b.src&&Tk(a,b.src);Mk(a,void 0===c?1:c,void 0===d?.5:d);return a}
function Uk(a,b,c){if(!r(a))throw new TypeError("String expected!",a);if(!r(b))throw new TypeError("String expected!",b);if(c&&!ma(c))throw new TypeError("Object expected!");c=c&&ma(c)?c:{};c.id=c.id?c.id:b+"_"+B();c["class"]=c["class"]?c["class"]:cb(b.replace(/\./g,"-").toLowerCase());return P(a,c)}v("nrg.dom.createBasicHoverButtonSet",Rk);v("nrg.dom.createDivChildImage",Tk);v("nrg.dom.createBasicHoverButton",Sk);v("nrg.dom.createUniqueDom",Uk);
v("nrg.dom.stopPropagation",function(a){a||(a=window.event);a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation()});v("nrg.dom.checkForExtraneousArgs",function(a,b){for(var c in b)if(c in a)"[object Object]"===b[c].toString()&&Qk.xP(originString,a[c],b[c]);else throw"Invalid arguments detected in args: '"+c+"' ";});
v("nrg.dom.readCSS",function(a){for(var b=document.styleSheets[0].rules||document.styleSheets[0].cssRules,c=0,c=0;c<b.length;c++)b[c].selectorText==a&&(b[c].cssText?alert(b[c].cssText):alert(b[c].style.cssText));return b});function U(a){hj.call(this,a);this.Tw();this.o=Uk("div",this.constructor.ID_PREFIX,a);this.gq();Vk(this)}w(U,hj);v("nrg.ui.Component",U);f=U.prototype;f.Tw=function(){if(this instanceof U){this.constructor.d&&this.constructor.d instanceof U&&U.prototype.Tw.bind(this.constructor.d)();if(!this.constructor.ID_PREFIX)throw Error("nrg.ui.Component subclass should have the property 'ID_PREFIX' .",this);ca(this.constructor.Dm)||(this.constructor.Dm=Wk(this.constructor.ID_PREFIX),this.constructor.zc=this.constructor.Dm)}};
function Wk(a){return a.toLowerCase().replace(/\./g,"-")}f.gq=function(){if(null!=this.constructor.d)for(var a=this.constructor.d;null!=a.constructor.ID_PREFIX;)U.prototype.gq.bind(a)(),a=a.constructor.d;ca(this.constructor.CSS_SUFFIX)&&!ca(this.constructor.CSS)&&(this.constructor.CSS=wb(this.constructor.CSS_SUFFIX),C(this.constructor.CSS,function(a,c){this.constructor.CSS[c]=vj(this.constructor.ID_PREFIX,a)}.bind(this)))};
function Vk(a){for(var b=[],c=a,d;null!=c.constructor.ID_PREFIX;)d=Wk(c.constructor.ID_PREFIX),Kb(b,d),c=c.constructor.d;D(b,function(a){null!=this.a()&&N(this.a(),a)}.bind(a))}f.Zi="";f.dC=function(a){this.Zi=a};f.LG=function(){return this.Zi};f.gF=function(a){null==this.Zo&&(this.Zo=[]);this.Zo.push(a)};
f.wh=function(){if(null==this.ka)this.ka=T(this.a());else if(this.ka.height!==this.u.height||this.ka.width!==this.u.width)this.ka=this.u;if(null==this.yo)this.yo=Di(this.a());else if(this.yo.x!==this.iq.x||this.yo.y!==this.iq.y)this.yo=this.iq;this.u=T(this.a());this.iq=Di(this.a())};f.k=function(){this.wh()};f.n=function(a){this.fa&&this.a().parentNode!==a&&null!=a?a.appendChild(this.a()):U.d.n.call(this,a)};f.xz=!1;f.OF=function(){return this.xz};
f.f=function(){U.d.f.call(this);null!=this.Zo&&(D(this.Zo,function(a){H(a);a.g()}),Jb(this.Zo));H(this);H(this.a());Q(this.a());this.yo=this.ka=this.iq=this.u=this.Zi=null;this.xz=!0};f.Ut=function(a){null!=a&&(a=g(a)?a:[a],D(a,function(a){H(a);a.g()}),Jb(a))};f.mq=function(a){null!=a&&(H(a),a.g())};f.nq=function(a){C(a,function(b,c){H(b);Q(b);delete a[c]});tb(a)};f.zn=function(a){C(a,function(b,c){H(b);b.g();delete a[c]});tb(a)};v("nrg.ui.Component.animationLengths",{qM:150,MM:300,yN:600});
v("nrg.ui.Component.idPrefixToCssClass",Wk);v("nrg.ui.Component.prototype.validateIdPrefix",U.prototype.Tw);v("nrg.ui.Component.prototype.imagePrefix",U.prototype.Zi);v("nrg.ui.Component.prototype.createCssMap",U.prototype.gq);v("nrg.ui.Component.prototype.setImagePrefix",U.prototype.dC);v("nrg.ui.Component.prototype.getImagePrefix",U.prototype.LG);v("nrg.ui.Component.prototype.addSubComponent",U.prototype.gF);v("nrg.ui.Component.prototype.calcDims",U.prototype.wh);
v("nrg.ui.Component.prototype.updateStyle",U.prototype.k);v("nrg.ui.Component.prototype.render",U.prototype.n);v("nrg.ui.Component.prototype.disposeInternalCalled",U.prototype.OF);v("nrg.ui.Component.prototype.disposeAnimations",U.prototype.Ut);v("nrg.ui.Component.prototype.disposeAnimationQueue",U.prototype.mq);v("nrg.ui.Component.prototype.disposeElementMap",U.prototype.nq);v("nrg.ui.Component.prototype.disposeComponentMap",U.prototype.zn);v("nrg.ui.Component.prototype.disposeInternal",U.prototype.f);var Xk;function Yk(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function Zk(a,b,c){ia(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Xk||(Xk={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Xk,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function $k(a,b){var c=a.getAttribute("aria-"+b);return null==c||void 0==c?"":String(c)};function al(a){if(a.classList)return a.classList;a=a.className;return r(a)&&a.match(/\S+/g)||[]}function bl(a,b){return a.classList?a.classList.contains(b):Ib(al(a),b)}function cl(a,b){a.classList?a.classList.add(b):bl(a,b)||(a.className+=0<a.className.length?" "+b:b)}function dl(a,b){if(a.classList)D(b,function(b){cl(a,b)});else{var c={};D(al(a),function(a){c[a]=!0});D(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function el(a,b){a.classList?a.classList.remove(b):bl(a,b)&&(a.className=Cb(al(a),function(a){return a!=b}).join(" "))}function fl(a,b){a.classList?D(b,function(b){el(a,b)}):a.className=Cb(al(a),function(a){return!Ib(b,a)}).join(" ")}function gl(a,b,c){c?cl(a,b):el(a,b)};function hl(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 224:case 92:return!1;case 0:return!hc;default:return 166>a.keyCode||183<a.keyCode}}
function il(a,b,c,d,e){if(!(E||ic&&pc("525")))return!0;if(cc&&e)return jl(a);if(e&&!d)return!1;u(b)&&(b=kl(b));if(!c&&(17==b||18==b||cc&&91==b))return!1;if(ic&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(E&&d&&b==a)return!1;switch(a){case 13:return!(E&&qc(9));case 27:return!ic}return jl(a)}
function jl(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||ic&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function kl(a){if(hc)a=ll(a);else if(cc&&ic)a:switch(a){case 93:a=91;break a}return a}
function ll(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function ml(a,b,c,d,e){function h(a){a&&(a.tabIndex=0,Yk(a,k.Kg()),cl(a,"goog-zippy-header"),nl(k,a),a&&k.PA.A(a,"keydown",k.vr))}$c.call(this);this.lb=e||Hh();this.gk=this.lb.a(a)||null;this.sq=this.lb.a(d||null);this.ic=(this.Nu=ka(b)?b:null)||!b?null:this.lb.a(b);this.Jg=!0==c;this.PA=new dj(this);this.bv=new dj(this);var k=this;h(this.gk);h(this.sq);this.Vb(this.Jg)}w(ml,$c);var ol={Xw:"action",Ax:"toggle"};f=ml.prototype;f.rk=!0;f.f=function(){ml.d.f.call(this);Bc(this.PA);Bc(this.bv)};
f.Kg=function(){return"tab"};f.Ia=function(){return this.ic};f.toggle=function(){this.Vb(!this.Jg)};f.Vb=function(a){this.ic?Ui(this.ic,a):a&&this.Nu&&(this.ic=this.Nu());this.ic&&cl(this.ic,"goog-zippy-content");this.sq?(Ui(this.gk,!a),Ui(this.sq,a)):pl(this,a);this.Jg=a;this.dispatchEvent(new ql(ol.Ax,this))};function pl(a,b){a.gk&&(gl(a.gk,"goog-zippy-expanded",b),gl(a.gk,"goog-zippy-collapsed",!b),Zk(a.gk,"expanded",b))}
f.Jo=function(a){this.rk!=a&&((this.rk=a)?(nl(this,this.gk),nl(this,this.sq)):this.bv.fg())};function nl(a,b){b&&a.bv.A(b,"click",a.ur)}f.vr=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchEvent(new Ec(ol.Xw,this)),a.preventDefault(),a.stopPropagation()};f.ur=function(){this.toggle();this.dispatchEvent(new Ec(ol.Xw,this))};function ql(a,b){Ec.call(this,a,b)}w(ql,Ec);function rl(a,b,c,d){d=d||Hh();var e=d.w("div",{style:"overflow:hidden"});b=d.a(b);b.parentNode.replaceChild(e,b);e.appendChild(b);this.tq=e;this.$e=null;ml.call(this,a,b,c,void 0,d);a=this.Jg;this.tq.style.display=a?"":"none";pl(this,a)}w(rl,ml);f=rl.prototype;f.yi=500;f.nF=tk;
f.Vb=function(a){if(this.Jg!=a||this.$e){"none"==this.tq.style.display&&(this.tq.style.display="");var b=this.Ia().offsetHeight,c=0;this.$e?(a=this.Jg,H(this.$e),this.$e.stop(!1),c=parseInt(this.Ia().style.marginTop,10),c=b-Math.abs(c)):c=a?0:b;pl(this,a);this.$e=new Fj([0,c],[0,a?b:0],this.yi,this.nF);F(this.$e,["begin","animate","end"],this.nJ,!1,this);F(this.$e,"end",ua(this.oJ,this,a));this.$e.play(!1)}};f.nJ=function(a){var b=this.Ia();b.style.marginTop=a.y-b.offsetHeight+"px"};
f.oJ=function(a){a&&(this.Ia().style.marginTop="0");H(this.$e);this.Jg=a;this.$e=null;a||(this.tq.style.display="none");this.dispatchEvent(new ql(ol.Ax,this))};function sl(a,b,c,d){U.call(this);this.Hb=a;this.Eb=P("div",{id:"ZippyHeader_"+a+"_"+B(),"class":sl.CSS.pp});this.Eb[tl]=a.toLowerCase();null!=d?d(b,this.Eb):b.appendChild(this.Eb);this.Nn=P("div",{id:"ZippyHeaderLabel_"+a+"_"+B(),"class":sl.CSS.zD});this.Mw();this.Eb.appendChild(this.Nn);this.Ch=P("div",{id:"ZippyExpandIcon_"+a+"_"+B(),"class":sl.CSS.wD},"+");this.Eb.appendChild(this.Ch);this.Of=P("div",{id:"ZippyContent_"+a+"_"+B(),"class":sl.CSS.gh});b.appendChild(this.Of);this.ac=new this.gD(this.Eb,
this.Of,null!=c?c:!1);this.ac instanceof rl&&(this.ac.yi=500);this.rL=oa(this);this.Mc={};F(this.Eb,"mouseover",this.vK.bind(this));F(this.Eb,"mouseout",this.uK.bind(this));ul(this)}w(sl,U);v("nrg.ui.ZippyNode",sl);sl.ID_PREFIX="nrg.ui.ZippyNode";var vl={oM:"a",cM:"b",pD:"c"};sl.CSS_SUFFIX={pp:"header",kx:"header-mouseover",zD:"header-label",wD:"expandicon",cx:"expandicon-mouseover",gh:"content",gh:"content-sub",LD:"loading-holder",ND:"loading-text",MD:"loading-image"};
function wl(a,b,c){var d=a[0];r(d)&&null!=b&&(d=b.Mc[d]);d.ac.yi=200;1<a.length&&!d.ac.Jg&&Tc(d,"a",function(){d.ac.yi=500;wl(Pb(a,1),d,c)});d.Vb(!0);null!=c&&c(d,a)}var tl=B();f=sl.prototype;f.gD=rl;f.Mw=function(a){a=null!=a?a:45;var b=this.Nn,c=this.Hb.replace(/<(?:.|\n)*?>/gm,"").replace("&nbsp"," ");b.innerHTML=c.length<this.Hb?Xa(this.Hb,a+60):c.length==this.Hb.length?Xa(this.Hb,a):this.Hb;return b};f.he=null;f.yu=function(){return null!=this.he};f.ir=!1;f.NI=function(){return this.ir};
f.Xv=function(a,b){var c=function(){Q(this.he);this.he=null}.bind(this);a?(this.ir=!0,wk(this.he,500,0,function(){c();null!=b&&b()},1)):c()};f.jy=function(){if(null==this.he){this.he=P("div",{id:"LoadingHolder_"+B()});N(this.he,sl.CSS.LD);var a=P("div");N(a,sl.CSS.ND);a.innerHTML="Loading...";var b=P("img");N(b,sl.CSS.MD);b.src=serverRoot+"/images/viewer/xiv/ui/other/loading.gif";Yh(this.he,a);Yh(this.he,b);Yh(this.Of,this.he);this.he.style.opacity=0;vk(this.he,300);this.ir=!1}};f.Dd=function(){return this.Hb};
f.dH=function(){return this.Mc};f.FG=function(){return this.Eb};f.qG=function(){return this.Of};f.GG=function(){return this.Nn};f.SH=function(){return this.ac};f.Vb=function(a){this.ac.Vb(a)};f.XK=function(a){this.gD=!0===a?rl:ml};function ul(a){F(a.ac,ob(ol),function(a){null!=this.ac.$e?this.dispatchEvent({type:"c"}):a.target.Jg?this.Lv():(this.Ch.innerHTML="+",qk(this.Ch,{"margin-left":"-1.1em"}),this.dispatchEvent({type:"b"}))}.bind(a))}
f.Lv=function(){this.Ch.innerHTML="-";qk(this.Ch,{"margin-left":"-1em"});this.dispatchEvent({type:"a"})};f.vK=function(){N(this.Eb,sl.CSS.kx);N(this.Ch,sl.CSS.cx)};f.uK=function(){Bh(this.Eb,sl.CSS.kx);Bh(this.Ch,sl.CSS.cx)};
f.f=function(){sl.d.f.call(this);Q(this.Nn);delete this.Nn;Q(this.Ch);delete this.Ch;H(this.Eb);Q(this.Eb);delete this.Eb;Q(this.Of);delete this.Of;null!=this.ac&&(this.ac.g(),H(this.ac),delete this.ac);null!=this.he&&(this.Xv(),delete this.he);this.zn(this.Mc);delete this.Mc;delete this.rL;delete this.Hb};v("nrg.ui.ZippyNode.ID_PREFIX",sl.ID_PREFIX);v("nrg.ui.ZippyNode.EventType",vl);v("nrg.ui.ZippyNode.CSS_SUFFIX",sl.CSS_SUFFIX);v("nrg.ui.ZippyNode.NODE_STORT_TAG",tl);
v("nrg.ui.ZippyNode.serialExpand",wl);v("nrg.ui.ZippyNode.prototype.truncateHeaderLabel",sl.prototype.Mw);v("nrg.ui.ZippyNode.prototype.getTitle",sl.prototype.Dd);v("nrg.ui.ZippyNode.prototype.addLoadingImage",sl.prototype.vO);v("nrg.ui.ZippyNode.prototype.getNodes",sl.prototype.dH);v("nrg.ui.ZippyNode.prototype.getHeader",sl.prototype.FG);v("nrg.ui.ZippyNode.prototype.getContentHolder",sl.prototype.qG);v("nrg.ui.ZippyNode.prototype.getHeaderLabel",sl.prototype.GG);
v("nrg.ui.ZippyNode.prototype.getZippy",sl.prototype.SH);v("nrg.ui.ZippyNode.prototype.setExpanded",sl.prototype.Vb);v("nrg.ui.ZippyNode.prototype.setAnimated",sl.prototype.XK);v("nrg.ui.ZippyNode.prototype.hasLoadingIndicator",sl.prototype.yu);v("nrg.ui.ZippyNode.prototype.addLoadingIndicator",sl.prototype.jy);v("nrg.ui.ZippyNode.prototype.removeLoadingIndicator",sl.prototype.Xv);v("nrg.ui.ZippyNode.prototype.loadingIndicatorRemoving",sl.prototype.NI);
v("nrg.ui.ZippyNode.prototype.disposeInternal",sl.prototype.f);M.rd={};M.rd.vd=function(){wc.call(this)};w(M.rd.vd,wc);v("gxnat.vis.VisNode",M.rd.vd);f=M.rd.vd.prototype;f.Lf="Generic";f.Vr=function(a){this.Lf=a};f.mG=function(){return this.Lf};f.tm="";f.Qo=function(a){this.tm=a};f.FH=function(){return this.tm};f.Hb=null;f.me=function(a){this.Hb=a};f.Dd=function(){return this.Hb};f.g=function(){M.rd.vd.d.g.call(this);this.Lf&&delete this.Lf;this.tm&&delete this.tm;this.Hb&&delete this.Hb};v("gxnat.vis.VisNode.prototype.setCategory",M.rd.vd.prototype.Vr);
v("gxnat.vis.VisNode.prototype.getCategory",M.rd.vd.prototype.mG);v("gxnat.vis.VisNode.prototype.setThumbnailUrl",M.rd.vd.prototype.Qo);v("gxnat.vis.VisNode.prototype.getThumbnailUrl",M.rd.vd.prototype.FH);v("gxnat.vis.VisNode.prototype.setTitle",M.rd.vd.prototype.me);v("gxnat.vis.VisNode.prototype.getTitle",M.rd.vd.prototype.Dd);v("gxnat.vis.VisNode.prototype.dispose",M.rd.vd.prototype.g);function xl(a){this.Ap=new JSZip(a)}w(xl,wc);v("gxnat.Zip",xl);function yl(a,b,c,d){if(!Fa(a,".zip")){if(!Fa(a,"/files"))throw Error("filesUrl must end in '/files'!");a+=M.Dx}var e=new XMLHttpRequest;e.open("GET",a);e.responseType="arraybuffer";e.addEventListener("load",function(){b(new xl(e.response))});null!=c&&e.addEventListener("progress",c);null!=d&&e.addEventListener("error",function(a){window.console.log("DOWNLOAD ERROR: ",a);d(e,a)});e.send()}xl.prototype.Rf=function(){return this.Ap.files};
xl.prototype.Uu=function(a,b){var c=0,d=this.Rf(),e=nb(d);C(d,function(d){d.asArrayBuffer();a(d.name,d.asArrayBuffer());c==e-1&&null!=b&&b();c++}.bind(this))};xl.prototype.g=function(){xl.d.g.call(this);this.Uu(function(a){this.Ap.remove(a)}.bind(this));tb(this.Ap);delete this.Ap};v("gxnat.Zip.prototype.getFiles",xl.prototype.Rf);v("gxnat.Zip.prototype.loopFiles",xl.prototype.Uu);v("gxnat.Zip.getFilesAsZip",yl);v("gxnat.Zip.prototype.dispose",xl.prototype.g);v("gxnat.slicerNode",function(){});
function zl(a){a=a.getAttribute("displayNodeRef").split(" ");for(var b=[],c="",d=0,e=a.length;d<e;d++){c=a[d].replace("vtkMRML","").split("Node")[0];switch(c){case "ScalarVolumeDisplay":c="VolumeDisplay";break;case "DiffusionTensorVolumeDisplay":c="DiffusionTensorVolumeDisplay";break;case "NCIRayCastVolumeRenderingDisplay":c="NCIRayCastVolumeRendering";break;case "GPURayCastVolumeRenderingDisplay":c="GPURayCastVolumeRendering";break;case "FiberBundleTubeDisplay":c="FiberBundleTubeDisplayNode";break;
case "FiberBundleLineDisplay":c="FiberBundleLineDisplayNode";break;case "FiberBundleGlyphDisplay":c="FiberBundleGlyphDisplayNode"}b.push(c)}return b}function Al(a){if(null!=a)return a.split(" ").map(function(a){return parseFloat(a)})}v("gxnat.slicerNode.getDisplayNodeTypes",zl);v("gxnat.slicerNode.toFloatArray",Al);function Bl(){oa(this)}v("gxnat.slicerNode.Node",Bl);function Cl(a,b){oa(this);var c=b.getAttribute("displayNodeRef").split(" "),d=[],e=null;D(zl(b),function(b){D(a.getElementsByTagName(b),function(a){d.push(a)})});for(var h=0,k=d.length;h<k;h++)if(-1<c.indexOf(d[h].getAttribute("id"))){e=d[h];break}this.yn=e;this.opacity=parseFloat(e.getAttribute("opacity"),10);this.color=Al(e.getAttribute("color"));this.visible="true"===e.getAttribute("visibility");this.origin=Al(a.getAttribute("origin"));e.getAttribute("colorMode");a.getAttribute("ijkToRASDirections")}
w(Cl,Bl);v("gxnat.slicerNode.Display",Cl);function Dl(a,b){Cl.call(this,a,b)}w(Dl,Cl);v("gxnat.slicerNode.Mesh",Dl);function El(a,b){if(a instanceof El)this.gd=a.Gw();else{var c;if(c=ia(a))a:{for(var d=c=0;d<a.length;d++){if(!ia(a[d])||0<c&&a[d].length!=c){c=!1;break a}for(var e=0;e<a[d].length;e++)if(!u(a[d][e])){c=!1;break a}0==c&&(c=a[d].length)}c=0!=c}if(c)this.gd=Nb(a);else if(a instanceof uh)this.gd=Fl(a.height,a.width);else if(u(a)&&u(b)&&0<a&&0<b)this.gd=Fl(a,b);else throw Error("Invalid argument(s) for Matrix contructor");}this.pd=new uh(this.gd[0].length,this.gd.length)}
function Gl(a,b,c){for(var d=0;d<a.Ti().height;d++)for(var e=0;e<a.Ti().width;e++)b.call(c,a.gd[d][e],d,e,a)}function Hl(a,b){var c=new El(a.Ti());Gl(a,function(d,e,h){c.gd[e][h]=b.call(void 0,d,e,h,a)});return c}function Fl(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c}f=El.prototype;f.add=function(a){if(!vh(this.pd,a.Ti()))throw Error("Matrix summation is only supported on arrays of equal size");return Hl(this,function(b,c,d){return b+a.gd[c][d]})};
f.Gl=function(a,b){if(this.pd.width!=a.pd.width||this.pd.height!=a.pd.height)return!1;for(var c=b||0,d=0;d<this.pd.height;d++)for(var e=0;e<this.pd.width;e++)if(!(Math.abs(this.gd[d][e]-a.gd[d][e])<=(c||1E-6)))return!1;return!0};f.Ti=function(){return this.pd};
f.multiply=function(a){if(a instanceof El){if(this.pd.width!=a.Ti().height)throw Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return Il(this,a)}if(u(a))return Jl(this,a);throw Error("A matrix can only be multiplied by a number or another matrix.");};f.wc=function(a){if(!vh(this.pd,a.Ti()))throw Error("Matrix subtraction is only supported on arrays of equal size.");return Hl(this,function(b,c,d){return b-a.gd[c][d]})};
f.Gw=function(){return this.gd};f.toString=function(){var a=0;Gl(this,function(b){b=String(b).length;b>a&&(a=b)});var b=[];D(this.gd,function(c){b.push("[ ");D(c,function(c){c=String(c);b.push(Array(a-c.length+1).join(" ")+c+" ")});b.push("]\n")});return b.join("")};function Kl(a,b,c){return 0<=b&&b<a.pd.height&&0<=c&&c<a.pd.width}
function Il(a,b){var c=new El(a.pd.height,b.Ti().width);Gl(c,function(a,e,h){for(var k=a=0;k<this.pd.width;k++)a+=(Kl(this,e,k)?this.gd[e][k]:0)*(Kl(b,k,h)?b.gd[k][h]:0);if(!Kl(c,e,h))throw Error("Index out of bounds when setting matrix value, ("+e+","+h+") in size ("+c.pd.height+","+c.pd.width+")");c.gd[e][h]=a},a);return c}function Jl(a,b){return Hl(a,function(a){return a*b})};function Ll(a,b,c){Cl.call(this,a,b);for(var d=0,e,h,k,l;3>d;d++)switch(e=a.getElementsByTagName("Slice")[d].getAttribute("sliceToRAS").split(" ").map(parseFloat),sliceToRASMatrix=Hl(new El(4,4),function(a,b,c){return e[4*b+c]}),d){case 0:h=sliceToRASMatrix;break;case 1:k=sliceToRASMatrix;break;case 2:l=sliceToRASMatrix}this.qw=new Ml(k,l,h);b=c!==b.getAttribute("id")?!1:!0;c=!1;if(b)for(a=a.getElementsByTagName("Slice"),d=0,h=a.length;d<h&&!(c="true"===a[d].getAttribute("sliceVisibility")||!1);d++);
this.Zq=b;this.ms=this.yn?parseInt(this.yn.getAttribute("upperThreshold")):null;this.kr=this.yn?parseInt(this.yn.getAttribute("lowerThreshold")):null;this.visible=c}w(Ll,Cl);v("gxnat.slicerNode.Volume",Ll);function Ml(a,b,c){var d=new El([[0],[0],[0],[1]]);D([a,b,c],function(a,b){var c=a.multiply(d).Gw(),c=[c[0][0],c[1][0],c[2][0]];switch(b){case 0:this.QK=c;break;case 1:this.DF=c;break;case 2:this.tF=c}}.bind(this))}v("gxnat.slicerNode.Volume.sliceToRAS",Ml);function Nl(a,b){oa(this);this.backgroundColor=wj(a);this.Py=wj(b)}w(Nl,Bl);v("gxnat.slicerNode.BackgroundColor",Nl);function Ol(a,b,c,d,e,h,k,l){oa(this);this.element=a;this.$p=b;this.backgroundColor=c;this.TA=d;this.gn=e;this.NL=h;this.YI=k;this.aG=l}w(Ol,Bl);v("gxnat.slicerNode.SceneView",Ol);function Pl(a){wc.call(this);a instanceof Ol?(this.gn=a.gn,this.$p=a.$p,this.backgroundColor=a.backgroundColor,this.TA=a.TA):a instanceof Ll?(this.origin=a.origin||[0,0,0],this.ms=a.ms||1E4,this.kr=a.kr||-1E4,this.Vw=a.Vw||!1,this.Zq=a.Zq||!1,this.qw=a.qw||null,a.Qg&&(this.QA=a.labelMapFile,this.II=a.colorTableFile)):a instanceof Dl&&(this.color=a.color||[.5,.5,.5],this.opacity=a.opacity||1)}w(Pl,wc);v("gxnat.vis.RenderProperties",Pl);Pl.prototype.g=function(){Pl.d.g.call(this);tb(this)};
v("gxnat.vis.RenderProperties.prototype.dispose",Pl.prototype.g);function Ql(a){M.rd.vd.call(this);this.Od=a||null}w(Ql,M.rd.vd);v("gxnat.vis.Renderable",Ql);Ql.prototype.kw=function(a){this.Od=a instanceof Pl?a:new Pl(a)};Ql.prototype.pH=function(){return this.Od};Ql.prototype.g=function(){Ql.d.g.call(this);this.Od&&(this.Od.g(),delete this.Od)};v("gxnat.vis.Renderable.prototype.setRenderProperties",Ql.prototype.kw);v("gxnat.vis.Renderable.prototype.getRenderProperties",Ql.prototype.pH);v("gxnat.vis.Renderable.prototype.dispose",Ql.prototype.g);function Rl(a,b){Ql.call(this,b);this.Qi=a||[];null!=b&&this.kw(b)}w(Rl,Ql);v("gxnat.vis.Viewable",Rl);f=Rl.prototype;f.Oi=null;f.xG=function(){return this.Oi};f.ZK=function(a){return this.Oi=a};f.ZB=function(a,b){null!=this.Oi&&tb(this.Oi);this.Oi={};var c=this.Rf();D(c,function(a){this.Oi[a]=null}.bind(this));var d,e,h,k,l;a.Uu(function(a,b){d=0;for(e=c.length;d<e;d++)if(l=a.split("/"),k=l[l.length-1],"."!=k[0]&&(h=c[d],Fa(h,k))){this.Oi[h]=b;break}}.bind(this),b);a.g()};f.Rf=function(){return this.Qi};
f.HK=function(a){window.EO.log("REMOVING FILE",a);Lb(this.Qi,a)};f.wi=function(a,b){null==this.Qi&&(this.Qi=[]);g(a)||(a=[a]);D(a,function(a){null!=b&&null==b(a)||this.Qi.push(a)}.bind(this))};f.g=function(){Rl.d.g.call(this);this.Qi&&(Jb(this.Qi),delete this.Qi)};v("gxnat.vis.Viewable.prototype.getFileData",Rl.prototype.xG);v("gxnat.vis.Viewable.prototype.setFileData",Rl.prototype.ZK);v("gxnat.vis.Viewable.prototype.setFileDataFromZip",Rl.prototype.ZB);v("gxnat.vis.Viewable.prototype.getFiles",Rl.prototype.Rf);
v("gxnat.vis.Viewable.prototype.removeFile",Rl.prototype.HK);v("gxnat.vis.Viewable.prototype.addFiles",Rl.prototype.wi);v("gxnat.vis.Viewable.prototype.dispose",Rl.prototype.g);function Sl(a){Ql.call(this);null!=a?g(a)||(a=[a]):a=[];this.ud=a}w(Sl,Ql);v("gxnat.vis.ViewableGroup",Sl);Sl.prototype.uy=function(a){return this.ud.push(a)};Sl.prototype.iG=function(){var a=[];D(this.ud,function(b){a=Mb(a,b.Rf())});return a};Sl.prototype.pA=function(){return this.ud};Sl.prototype.g=function(){Sl.d.g.call(this);D(this.ud,function(a){g(a)?D(a,function(a){a.g()}):a instanceof Rl&&a.g()});delete this.ud};v("gxnat.vis.ViewableGroup.prototype.addViewable",Sl.prototype.uy);
v("gxnat.vis.ViewableGroup.prototype.getAllViewableFiles",Sl.prototype.iG);v("gxnat.vis.ViewableGroup.prototype.getViewables",Sl.prototype.pA);v("gxnat.vis.ViewableGroup.prototype.dispose",Sl.prototype.g);function Tl(){M.rd.vd.call(this);this.Nc=[]}w(Tl,M.rd.vd);v("gxnat.vis.ViewableTree",Tl);function Ul(a,b,c){this.EK=a;this.sL=b;this.ZF=c}v("gxnat.vis.ViewableTree.metadataCollection",Ul);f=Tl.prototype;f.Jr=null;f.qm=null;f.Jl=null;f.orientation=null;f.Db=function(){return this.orientation};f.Mo=function(a){this.Jr=a};f.Oo=function(a){this.qm=a};f.Io=function(a){this.Jl=a};f.QH=function(){return this.Nc};
f.g=function(){Tl.d.g.call(this);null!=this.Jr&&(tb(this.Jr),delete this.kP);null!=this.qm&&(tb(this.qm),delete this.uP);null!=this.Jl&&(tb(this.Jl),delete this.MO);null!=this.Nc&&(D(this.Nc,function(a){a.g()}),delete this.Nc);null!=this.OC&&Jb(this.OC);delete this.OC;delete this.orientation};v("gxnat.vis.ViewableTree.metadataCollection",Ul);v("gxnat.vis.ViewableTree.prototype.projectMetadata",Tl.prototype.Jr);v("gxnat.vis.ViewableTree.prototype.subjectMetadata",Tl.prototype.qm);
v("gxnat.vis.ViewableTree.prototype.experimentMetadata",Tl.prototype.Jl);v("gxnat.vis.ViewableTree.prototype.orientation",Tl.prototype.orientation);v("gxnat.vis.ViewableTree.prototype.getOrientation",Tl.prototype.Db);v("gxnat.vis.ViewableTree.prototype.setProjectMetadata",Tl.prototype.Mo);v("gxnat.vis.ViewableTree.prototype.setSubjectMetadata",Tl.prototype.Oo);v("gxnat.vis.ViewableTree.prototype.setExperimentMetadata",Tl.prototype.Io);v("gxnat.vis.ViewableTree.prototype.getViewableGroups",Tl.prototype.QH);
v("gxnat.vis.ViewableTree.prototype.dispose",Tl.prototype.g);function Vl(a,b,c){Tl.call(this);this.Vr(a);null!=c&&null!=b&&(this.Cn=c,this.Vh=Zg(this.Cn,b.URI,"experiments"),this.sp=new Ug(this.Vh));this.ao=b;this.le={}}w(Vl,Tl);v("gxnat.vis.AjaxViewableTree",Vl);var Wl={ID:"Scan ID",Name:"Name",type:"Scan Type"},Xl={yob:"Year of Birth",acquisition_site:"Acq. Site",date:"Date",scanner:"Scanner",label:"Subject"},Yl={label:"Session"};function Zl(a,b,c){M.Nh(a,function(a){g(a);D(a,function(a){b(a)});c&&c()})}f=Vl.prototype;f.Dh=null;f.Pi=!1;
f.$B=function(a,b){null==this.Dh&&(this.Dh={});this.Dh[a]=b};f.lA=function(){var a=0;C(this.Dh,function(b,c){a+=this.Rz(c)}.bind(this));return a};f.Rz=function(a){return parseInt(this.Dh[a].Size,10)};f.yG=function(){return this.Dh};f.AG=function(){return this.Pi};f.aC=function(a){this.Pi=a};f.vG=function(){return this.Cn};f.oH=function(){return this.Vh};f.tH=function(){return this.le};f.qC=function(a){this.le=a};f.om=function(){C(Wl,function(a,b){null!=this.ao[b]&&(this.le[a]=this.ao[b])}.bind(this))};
f.Mo=function(a){Vl.d.Mo.call(this,a)};f.Oo=function(a){Vl.d.Oo.call(this,a);C(Xl,function(a,c){null!=this.qm[c]&&(this.le[a]=this.qm[c])}.bind(this))};f.Io=function(a){Vl.d.Io.call(this,a);C(Yl,function(a,c){null!=this.Jl[c]&&(this.le[a]=this.Jl[c])}.bind(this))};f.BG=function(){return this.En};f.lr=function(a){a=a[this.Dn];if(!Ea(a,"/"))return this.Vh+"!"+a};
f.Ri=function(a){if(this.Pi)a();else{var b=0,c=0,d="",e;M.Nh(this.Vh+this.uq,function(h){for(c=h.length;b<c;b++)if(e=h[b],d=this.lr(e))this.$B(d,e),this.wi(d,this.Ll);a();this.Pi=!0}.bind(this))}};f.Ll=function(a){return-1<a.indexOf("_MACOSX")?null:a};f.mk=function(){};function $l(a,b,c,d){var e=new Ug(a);Zl(a+"/"+b.prototype.En,function(a){new b(a,e.Uh("experiments"),c)},d)}
f.g=function(){Vl.d.g.call(this);null!=this.Dh&&(tb(this.Dh),delete this.Dh);delete this.Pi;tb(this.le);delete this.le;null!=this.ao&&(tb(this.ao),delete this.ao);null!=this.sp&&(this.sp.g(),delete this.sp);delete this.Cn;delete this.Vh};v("gxnat.vis.AjaxViewableTree.VIEWABLE_KEY_MAP",Wl);v("gxnat.vis.AjaxViewableTree.SUBJECT_KEY_MAP",Xl);v("gxnat.vis.AjaxViewableTree.EXPERIMENT_KEY_MAP",Yl);v("gxnat.vis.AjaxViewableTree.FILE_SIZE_KEY","Size");v("gxnat.vis.AjaxViewableTree.loopFolderContents",Zl);
v("gxnat.vis.AjaxViewableTree.getViewableTrees",$l);v("gxnat.vis.AjaxViewableTree.prototype.filesGotten",Vl.prototype.Pi);v("gxnat.vis.AjaxViewableTree.prototype.setFileMetadata",Vl.prototype.$B);v("gxnat.vis.AjaxViewableTree.prototype.getTotalSize",Vl.prototype.lA);v("gxnat.vis.AjaxViewableTree.prototype.getFileSize",Vl.prototype.Rz);v("gxnat.vis.AjaxViewableTree.prototype.getFileMetadata",Vl.prototype.yG);v("gxnat.vis.AjaxViewableTree.prototype.getFilesGotten",Vl.prototype.AG);
v("gxnat.vis.AjaxViewableTree.prototype.setFilesGotten",Vl.prototype.aC);v("gxnat.vis.AjaxViewableTree.prototype.getExperimentUrl",Vl.prototype.vG);v("gxnat.vis.AjaxViewableTree.prototype.getQueryUrl",Vl.prototype.oH);v("gxnat.vis.AjaxViewableTree.prototype.getSessionInfo",Vl.prototype.tH);v("gxnat.vis.AjaxViewableTree.prototype.setSessionInfo",Vl.prototype.qC);v("gxnat.vis.AjaxViewableTree.prototype.setViewableMetadata",Vl.prototype.om);
v("gxnat.vis.AjaxViewableTree.prototype.setProjectMetadata",Vl.prototype.Mo);v("gxnat.vis.AjaxViewableTree.prototype.setSubjectMetadata",Vl.prototype.Oo);v("gxnat.vis.AjaxViewableTree.prototype.setExperimentMetadata",Vl.prototype.Io);v("gxnat.vis.AjaxViewableTree.prototype.getFolderQuerySuffix",Vl.prototype.BG);v("gxnat.vis.AjaxViewableTree.prototype.makeFileUrl",Vl.prototype.lr);v("gxnat.vis.AjaxViewableTree.prototype.getFileList",Vl.prototype.Ri);
v("gxnat.vis.AjaxViewableTree.prototype.fileFilter",Vl.prototype.Ll);v("gxnat.vis.AjaxViewableTree.prototype.getThumbnailImage",Vl.prototype.mk);v("gxnat.vis.AjaxViewableTree.prototype.dispose",Vl.prototype.g);function am(a,b,c,d){this.files=a;this.ZI=b;this.Ew=c;this.du=d}v("xiv.sampleData.Sample",am);function bm(){wc.call(this);this.tg=[]}w(bm,wc);v("xiv.sampleData.SampleCollection",bm);bm.prototype.qH=function(){return this.tg};bm.prototype.g=function(){bm.d.g.call(this);D(this.tg,function(a){tb(a)});delete this.tg};v("xiv.sampleData.SampleCollection.Samples",bm.tg);v("xiv.sampleData.SampleCollection.getSamples",bm.qH);v("xiv.sampleData.SampleCollection.dispose",bm.g);function cm(){bm.call(this);this.tg.push(this.aw)}w(cm,bm);v("xiv.sampleData.SlicerScenes",cm);
cm.prototype.aw=new am("src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Slicer Data Bundle Scene View_4.png;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/oneView_brain_2.mrml;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-176-slutbu.dcm.nrrd.nrrd;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/5%3a%20t1_mpr_1mm_p2_pos50-label.nrrd;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/F.fcsv;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/brain.vtk;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/BrainMesh_Underside.png;src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Data/Top.png".split(";"),{Name:"Example Slicer Scene",
Type:"Slicer Scene"},"src/main/scripts/viewer/xiv/sample-data/slicer-scenes/SampleScene3/Slicer Data Bundle Scene View_4.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
*/
function dm(){}v("xiv",dm);dm.MODE="live";v("xiv.SAMPLE_DATA_PATH","xiv/sample-data");v("xiv.SAMPLE_SCAN_PREFIX","xiv/sample-data/scans/");function em(a,b,c){Vl.call(this,"Scans",a,b);this.le["Total Frames"]=0;c&&c(this)}w(em,Vl);v("gxnat.vis.Scan",em);var fm="dcm dicom ima nii nii.gz nrrd mgh mgz".split(" ");f=em.prototype;f.En="scans";f.uq="/files";f.Dn="URI";
f.om=function(){em.d.om.call(this);if(null!=this.Lk["parameters/orientation"]){var a;a:{switch(this.Lk["parameters/orientation"]){case "Sag":a="Sagittal";break a;case "Cor":a="Coronal";break a;case "Tra":a="Transverse";break a}a=void 0}this.le.Orientation=a;this.orientation=this.le.Orientation}null!=this.Lk["parameters/acqType"]&&(this.le["Acq. Type"]=this.Lk["parameters/acqType"])};
f.Ri=function(a){this.Pi?a():M.Nh(this.sp.originalUrl,function(b){this.Lk=b.items[0].data_fields;this.om();em.d.Ri.call(this,function(){this.mk();a()}.bind(this))}.bind(this))};f.Ll=function(a){a=em.d.Ll.call(this,a);if(null!=a){for(var b=0,c=fm.length;b<c;b++)if(Fa(a,"."+fm[b]))return a;window.console.log("Found skippable scan file: ",a);return null}};
f.wi=function(a){this.Vr("Scans");if(0==this.Nc.length){var b=new Sl;b.me("scan");b.Vr("scans");this.Nc.push(b)}0==this.Nc[0].ud.length&&this.Nc[0].uy(new Rl);this.Nc[0].ud[0].wi(a,this.Ll);this.le["Total Frames"]=this.Nc[0].ud[0].Rf().length};f.lr=function(a){return Zg(this.Cn,a[this.Dn],"experiments")};f.mk=function(a){if(this.Nc&&this.Nc[0]){var b=this.Nc[0].ud[0].Rf().sort(M.sr);this.Qo(b[Math.floor(b.length/2)]+M.JPEG_CONVERT_SUFFIX);null!=a&&a(this)}};
f.g=function(){em.d.g.call(this);null!=this.Lk&&tb(this.Lk);delete this.Lk};v("gxnat.vis.Scan.acceptableFileTypes",fm);v("gxnat.vis.Scan.prototype.folderQuerySuffix",em.prototype.En);v("gxnat.vis.Scan.prototype.fileQuerySuffix",em.prototype.uq);v("gxnat.vis.Scan.prototype.fileContentsKey",em.prototype.Dn);v("gxnat.vis.Scan.prototype.setViewableMetadata",em.prototype.om);v("gxnat.vis.Scan.prototype.getFileList",em.prototype.Ri);v("gxnat.vis.Scan.prototype.fileFilter",em.prototype.Ll);
v("gxnat.vis.Scan.prototype.addFiles",em.prototype.wi);v("gxnat.vis.Scan.prototype.makeFileUrl",em.prototype.lr);v("gxnat.vis.Scan.prototype.getThumbnailImage",em.prototype.mk);v("gxnat.vis.Scan.prototype.dispose",em.prototype.g);function gm(a,b,c){$c.call(this);this.target=a;this.handle=b||a;this.hr=c||new wh(NaN,NaN,NaN,NaN);this.pa=Jh(a);this.sc=new dj(this);zc(this,wa(Bc,this.sc));F(this.handle,["touchstart","mousedown"],this.Vo,!1,this)}w(gm,$c);var hm=E||hc&&pc("1.9.3");f=gm.prototype;f.clientX=0;f.clientY=0;f.screenX=0;f.screenY=0;f.ww=0;f.xw=0;f.zh=0;f.Cd=0;f.Fc=!0;f.Ji=!1;f.GA=0;f.qr=0;f.oI=!1;f.Sk=!1;f.Li=function(a){this.Sk=a};f.bb=function(){return this.sc};function im(a,b){a.hr=b||new wh(NaN,NaN,NaN,NaN)}
f.nC=function(a){this.Qr=a};f.nc=function(a){this.Fc=a};f.f=function(){gm.d.f.call(this);Uc(this.handle,["touchstart","mousedown"],this.Vo,!1,this);this.sc.fg();hm&&this.pa.releaseCapture();this.handle=this.target=null};function jm(a){ca(a.Vg)||(a.Vg=Ji(a.target));return a.Vg}
f.Vo=function(a){var b="mousedown"==a.type;if(!this.Fc||this.Ji||b&&!Jc(a))this.dispatchEvent("earlycancel");else{km(a);if(0==this.GA)if(this.dispatchEvent(new lm("start",this,a.clientX,a.clientY)))this.Ji=!0,a.preventDefault();else return;else a.preventDefault();var b=this.pa,c=b.documentElement,d=!hm;this.sc.A(b,["touchmove","mousemove"],this.fI,d);this.sc.A(b,["touchend","mouseup"],this.Mi,d);hm?(c.setCapture(!1),this.sc.A(c,"losecapture",this.Mi)):this.sc.A(Uh(b),"blur",this.Mi);E&&this.oI&&this.sc.A(b,
"dragstart",Fc);this.Qr&&this.sc.A(this.Qr,"scroll",this.im,d);this.clientX=this.ww=a.clientX;this.clientY=this.xw=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.zh=this.Sk?Sj(this.target):this.target.offsetLeft;this.Cd=this.target.offsetTop;this.Nv=vi(Hh(this.pa));this.qr=xa()}};
f.Mi=function(a,b){this.sc.fg();hm&&this.pa.releaseCapture();if(this.Ji){km(a);this.Ji=!1;var c=mm(this,this.zh),d=nm(this,this.Cd);this.dispatchEvent(new lm("end",this,a.clientX,a.clientY,0,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function km(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.ra(a.Gc.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.ra(a.Gc.changedTouches[0],a.currentTarget)}
f.fI=function(a){if(this.Fc){km(a);var b=(this.Sk&&jm(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Ji){var d=this.ww-this.clientX,e=this.xw-this.clientY;if(d*d+e*e>this.GA)if(this.dispatchEvent(new lm("start",this,a.clientX,a.clientY)))this.Ji=!0;else{this.dk||this.Mi(a);return}}c=om(this,b,c);b=c.x;c=c.y;this.Ji&&this.dispatchEvent(new lm("beforedrag",this,a.clientX,a.clientY,0,b,
c))&&(pm(this,a,b,c),a.preventDefault())}};function om(a,b,c){var d=vi(Hh(a.pa));b+=d.x-a.Nv.x;c+=d.y-a.Nv.y;a.Nv=d;a.zh+=b;a.Cd+=c;b=mm(a,a.zh);a=nm(a,a.Cd);return new rh(b,a)}f.im=function(a){var b=om(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;pm(this,a,b.x,b.y)};function pm(a,b,c,d){a.Qt(c,d);a.dispatchEvent(new lm("drag",a,b.clientX,b.clientY,0,c,d))}
function mm(a,b){var c=a.hr,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function nm(a,b){var c=a.hr,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}f.Qt=function(a,b){this.Sk&&jm(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};f.Wf=function(){return this.Ji};
function lm(a,b,c,d,e,h,k,l){Ec.call(this,a);this.clientX=c;this.clientY=d;this.left=ca(h)?h:b.zh;this.top=ca(k)?k:b.Cd;this.Yt=b;this.TF=!!l}w(lm,Ec);zb("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));function qm(){this.Uv="";this.kE=rm;this.vz=null}qm.prototype.Oz=function(){return this.vz};qm.prototype.toString=function(){return"SafeHtml{"+this.Uv+"}"};function sm(a){if(a instanceof qm&&a.constructor===qm&&a.kE===rm)return a.Uv;fb("expected object of type SafeHtml, got '"+a+"'");return"type_error:SafeHtml"}zb("action","cite","data","formaction","href","manifest","poster","src");zb("link","script","style");var rm={};function tm(a,b){var c=new qm;c.Uv=a;c.vz=b;return c}var um=tm("",0);function vm(a,b){$c.call(this);this.Wc=new dj(this);this.cw(a||null);b&&(this.ym=b)}w(vm,$c);f=vm.prototype;f.o=null;f.rF=!0;f.Ny=null;f.Oy=null;f.em=!1;f.gL=!1;f.Ku=-1;f.lI=!1;f.VF=!0;f.ym="toggle_display";f.a=function(){return this.o};f.cw=function(a){if(this.em)throw Error("Can not change this state of the popup while showing.");this.o=a};f.uC=function(a,b){this.pm=a;this.Wl=b};f.bb=function(){return this.Wc};f.sa=function(){return this.em};
f.aa=function(a){this.pm&&this.pm.stop();this.Wl&&this.Wl.stop();a?this.ow():this.Xl()};f.ke=ea;
f.ow=function(){if(!this.em&&this.mv()){if(!this.o)throw Error("Caller must call setElement before trying to show the popup");this.ke();var a=Jh(this.o);this.lI&&this.Wc.A(a,"keydown",this.sJ,!0);if(this.rF)if(this.Wc.A(a,"mousedown",this.rB,!0),E){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(e){break}a=d;b=a.activeElement}this.Wc.A(a,"mousedown",this.rB,!0);this.Wc.A(a,"deactivate",this.qB)}else this.Wc.A(a,"blur",
this.qB);"toggle_display"==this.ym?(this.o.style.visibility="visible",Ui(this.o,!0)):"move_offscreen"==this.ym&&this.ke();this.em=!0;this.Ku=xa();this.pm?(Tc(this.pm,"end",this.wB,!1,this),this.pm.play()):this.wB()}};f.Xl=function(a){if(!this.em||!this.dispatchEvent({type:"beforehide",target:a}))return!1;this.Wc&&this.Wc.fg();this.em=!1;xa();this.Wl?(Tc(this.Wl,"end",wa(this.cz,a),!1,this),this.Wl.play()):this.cz(a);return!0};
f.cz=function(a){"toggle_display"==this.ym?this.gL?Yf(this.FA,0,this):this.FA():"move_offscreen"==this.ym&&(this.o.style.top="-10000px");this.vv(a)};f.FA=function(){this.o.style.visibility="hidden";Ui(this.o,!1)};f.mv=function(){return this.dispatchEvent("beforeshow")};f.wB=function(){this.dispatchEvent("show")};f.vv=function(a){this.dispatchEvent({type:"hide",target:a})};f.rB=function(a){a=a.target;fi(this.o,a)||wm(this,a)||this.Oy&&!fi(this.Oy,a)||150>xa()-this.Ku||this.Xl(a)};
f.sJ=function(a){27==a.keyCode&&this.Xl(a.target)&&(a.preventDefault(),a.stopPropagation())};f.qB=function(a){if(this.VF){var b=Jh(this.o);if("undefined"!=typeof document.activeElement){if(a=b.activeElement,!a||fi(this.o,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>xa()-this.Ku||this.Xl()}};function wm(a,b){return Eb(a.Ny||[],function(a){return b===a||fi(a,b)})}f.f=function(){vm.d.f.call(this);this.Wc.g();Bc(this.pm);Bc(this.Wl);delete this.o;delete this.Wc;delete this.Ny};function xm(a){$c.call(this);this.o=a;a=E?"focusout":"blur";this.KI=F(this.o,E?"focusin":"focus",this,!E);this.LI=F(this.o,a,this,!E)}w(xm,$c);xm.prototype.handleEvent=function(a){var b=new Hc(a.Gc);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};xm.prototype.f=function(){xm.d.f.call(this);Vc(this.KI);Vc(this.LI);delete this.o};function ym(a,b){hj.call(this,b);this.JL=!!a;this.fo=null}w(ym,hj);f=ym.prototype;f.bu=null;f.yc=!1;f.Ce=null;f.jd=null;f.kg=null;f.st=!1;f.U=function(){return"goog-modalpopup"};f.Eh=function(){return this.Ce};f.w=function(){ym.d.w.call(this);var a=this.a(),b=Ja(this.U()).split(" ");dl(a,b);ki(a,!0);Ui(a,!1);zm(this);Am(this)};
function zm(a){if(a.JL&&!a.jd){var b;b=a.M().w("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});a.jd=b;a.jd.className=a.U()+"-bg";Ui(a.jd,!1);Ti(a.jd,0)}a.Ce||(a.Ce=a.M().w("div",a.U()+"-bg"),Ui(a.Ce,!1))}function Am(a){a.kg||(a.kg=a.M().createElement("span"),Ui(a.kg,!1),ki(a.kg,!0),a.kg.style.position="absolute")}f.PB=function(){this.st=!1};f.De=function(a){return!!a&&"DIV"==a.tagName};
f.Yd=function(a){ym.d.Yd.call(this,a);a=Ja(this.U()).split(" ");dl(this.a(),a);zm(this);Am(this);Ui(this.a(),!1)};f.ab=function(){this.jd&&$h(this.jd,this.a());$h(this.Ce,this.a());ym.d.ab.call(this);var a=this.a();a.parentNode&&a.parentNode.insertBefore(this.kg,a.nextSibling);this.bu=new xm(si(this.M()));this.bb().A(this.bu,"focusin",this.xJ);Bm(this,!1)};f.tc=function(){this.sa()&&this.aa(!1);Bc(this.bu);ym.d.tc.call(this);Q(this.jd);Q(this.Ce);Q(this.kg)};
f.aa=function(a){a!=this.yc&&(this.Gk&&this.Gk.stop(),this.zl&&this.zl.stop(),this.Fk&&this.Fk.stop(),this.yl&&this.yl.stop(),this.fa&&Bm(this,a),a?this.ow():this.Xl())};function Bm(a,b){if(b){a.Ul||(a.Ul=[]);for(var c=a.M(),c=c.eu(c.pa.body),d=0;d<c.length;d++){var e=c[d];e==a.o||$k(e,"hidden")||(Zk(e,"hidden",!0),a.Ul.push(e))}}else if(a.Ul){for(d=0;d<a.Ul.length;d++)a.Ul[d].removeAttribute("aria-hidden");a.Ul=null}}f.uC=function(a,b,c,d){this.Gk=a;this.Fk=b;this.zl=c;this.yl=d};
f.ow=function(){if(this.dispatchEvent("beforeshow")){try{this.fo=si(this.M()).activeElement}catch(a){}this.Zv();this.ke();this.bb().A(ui(this.M()),"resize",this.Zv);Cm(this,!0);this.focus();this.yc=!0;this.Gk&&this.zl?(Tc(this.Gk,"end",this.Cr,!1,this),this.zl.play(),this.Gk.play()):this.Cr()}};
f.Xl=function(){if(this.dispatchEvent("beforehide")){this.bb().ob(ui(this.M()),"resize",this.Zv);this.yc=!1;this.Fk&&this.yl?(Tc(this.Fk,"end",this.so,!1,this),this.yl.play(),this.Fk.play()):this.so();try{var a=si(this.M()).body,b=si(this.M()).activeElement||a;this.fo&&b==a&&this.fo!=a&&this.fo.focus()}catch(c){}this.fo=null}};function Cm(a,b){a.jd&&Ui(a.jd,b);a.Ce&&Ui(a.Ce,b);Ui(a.a(),b);Ui(a.kg,b)}f.Cr=function(){this.dispatchEvent("show")};f.so=function(){Cm(this,!1);this.dispatchEvent("hide")};
f.sa=function(){return this.yc};f.focus=function(){this.Fz()};f.Zv=function(){this.jd&&Ui(this.jd,!1);this.Ce&&Ui(this.Ce,!1);var a=si(this.M()),b=Sh(Uh(a)||window||window),c=Math.max(b.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(b.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.jd&&(Ui(this.jd,!0),Oi(this.jd,c,a));this.Ce&&(Ui(this.Ce,!0),Oi(this.Ce,c,a))};
f.ke=function(){var a=si(this.M()),b=Uh(a)||window;if("fixed"==Ai(this.a()))var c=a=0;else c=vi(this.M()),a=c.x,c=c.y;var d=T(this.a()),b=Sh(b||window),a=Math.max(a+b.width/2-d.width/2,0),c=Math.max(c+b.height/2-d.height/2,0);Bi(this.a(),a,c);Bi(this.kg,a,c)};f.xJ=function(a){this.st?this.PB():a.target==this.kg&&Yf(this.Fz,0,this)};f.Fz=function(){try{E&&si(this.M()).body.focus(),this.a().focus()}catch(a){}};
f.f=function(){Bc(this.Gk);this.Gk=null;Bc(this.Fk);this.Fk=null;Bc(this.zl);this.zl=null;Bc(this.yl);this.yl=null;ym.d.f.call(this)};function Dm(a,b,c){ym.call(this,b,c);this.Bd=a||"modal-dialog";this.$=Em(Em(new Fm,Gm,!0),Hm,!1,!0)}w(Dm,ym);f=Dm.prototype;f.zz=!0;f.zu=!0;f.$u=!0;f.pq=!0;f.Yp=.5;f.Hb="";f.Ec=null;f.Oa=null;f.Vt=!1;f.qd=null;f.Jd=null;f.js=null;f.oe=null;f.Nf=null;f.Tc=null;f.Tv="dialog";f.U=function(){return this.Bd};f.me=function(a){this.Hb=a;this.Jd&&hi(this.Jd,a)};f.Dd=function(){return this.Hb};f.Nk=function(a){this.Ec=a=tm(a,null);this.Nf&&(this.Nf.innerHTML=sm(a))};
f.getContent=function(){return null!=this.Ec?sm(this.Ec):""};f.Si=function(){return this.Tv};f.Ia=function(){this.a()||this.n();return this.Nf};f.kA=function(){this.a()||this.n();return this.qd};f.Eh=function(){this.a()||this.n();return Dm.d.Eh.call(this)};function Im(a,b){a.Yp=b;if(a.a()){var c=a.Eh();c&&Ti(c,a.Yp)}}function Jm(a,b){b!=a.$u&&Km(a,b)}function Km(a,b){a.$u=b;if(a.fa){var c=a.M(),d=a.Eh(),e=a.jd;b?(e&&c.Eu(e,a.a()),c.Eu(d,a.a())):(c.removeNode(e),c.removeNode(d))}a.sa()&&Bm(a,b)}
f.Yr=function(a){this.pq=a;this.Ho(a&&this.fa)};f.Ho=function(a){var b=Ja(this.Bd+"-title-draggable").split(" ");this.a()&&(a?dl(this.qd,b):fl(this.qd,b));a&&!this.Oa?(this.Oa=new gm(this.a(),this.qd),dl(this.qd,b),F(this.Oa,"start",this.Zr,!1,this)):!a&&this.Oa&&(this.Oa.g(),this.Oa=null)};
f.w=function(){Dm.d.w.call(this);var a=this.a(),b=this.M();this.qd=b.w("div",this.Bd+"-title",this.Jd=b.w("span",{className:this.Bd+"-title-text",id:kj(this)},this.Hb),this.oe=b.w("span",this.Bd+"-title-close"));Yh(a,this.qd,this.Nf=b.w("div",this.Bd+"-content"),this.Tc=b.w("div",this.Bd+"-buttons"));Yk(this.Jd,"heading");Yk(this.oe,"button");ki(this.oe,!0);Zk(this.oe,"label",Lm);this.js=this.Jd.id;Yk(a,this.Si());Zk(a,"labelledby",this.js||"");this.Ec&&(this.Nf.innerHTML=sm(this.Ec));Ui(this.oe,
this.zu);this.$&&(a=this.$,a.o=this.Tc,a.n());Ui(this.Tc,!!this.$);Im(this,this.Yp)};
f.Yd=function(a){Dm.d.Yd.call(this,a);a=this.a();var b=this.Bd+"-content";this.Nf=Lh(null,b,a)[0];this.Nf||(this.Nf=this.M().w("div",b),this.Ec&&(this.Nf.innerHTML=sm(this.Ec)),a.appendChild(this.Nf));var b=this.Bd+"-title",c=this.Bd+"-title-text",d=this.Bd+"-title-close";(this.qd=Lh(null,b,a)[0])?(this.Jd=Lh(null,c,this.qd)[0],this.oe=Lh(null,d,this.qd)[0]):(this.qd=this.M().w("div",b),a.insertBefore(this.qd,this.Nf));this.Jd?(this.Hb=ni(this.Jd),this.Jd.id||(this.Jd.id=kj(this))):(this.Jd=P("span",
{className:c,id:kj(this)}),this.qd.appendChild(this.Jd));this.js=this.Jd.id;Zk(a,"labelledby",this.js||"");this.oe||(this.oe=this.M().w("span",d),this.qd.appendChild(this.oe));Ui(this.oe,this.zu);b=this.Bd+"-buttons";(this.Tc=Lh(null,b,a)[0])?(this.$=new Fm(this.M()),this.$.yb(this.Tc)):(this.Tc=this.M().w("div",b),a.appendChild(this.Tc),this.$&&(a=this.$,a.o=this.Tc,a.n()),Ui(this.Tc,!!this.$));Im(this,this.Yp)};
f.ab=function(){Dm.d.ab.call(this);this.bb().A(this.a(),"keydown",this.Sh).A(this.a(),"keypress",this.Sh);this.bb().A(this.Tc,"click",this.pJ);this.Ho(this.pq);this.bb().A(this.oe,"click",this.gK);var a=this.a();Yk(a,this.Si());""!==this.Jd.id&&Zk(a,"labelledby",this.Jd.id);this.$u||Km(this,!1)};f.tc=function(){this.sa()&&this.aa(!1);this.Ho(!1);Dm.d.tc.call(this)};f.aa=function(a){a!=this.sa()&&(this.fa||this.n(),Dm.d.aa.call(this,a))};f.Cr=function(){Dm.d.Cr.call(this);this.dispatchEvent(Mm)};
f.so=function(){Dm.d.so.call(this);this.dispatchEvent(Nm);this.Vt&&this.g()};f.Zr=function(){var a=si(this.M()),b=Sh(Uh(a)||window||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d=T(this.a());"fixed"==Ai(this.a())?im(this.Oa,new wh(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height))):im(this.Oa,new wh(0,0,c-d.width,a-d.height))};f.gK=function(){Om(this)};
function Om(a){if(a.zu){var b=a.$,c=b&&b.zt;c?(b=b.get(c),a.dispatchEvent(new Pm(c,b))&&a.aa(!1)):a.aa(!1)}}f.f=function(){this.Tc=this.oe=null;Dm.d.f.call(this)};function Qm(a,b){a.$=b;if(a.Tc){if(a.$){var c=a.$;c.o=a.Tc;c.n()}else a.Tc.innerHTML=sm(um);Ui(a.Tc,!!a.$)}}f.pJ=function(a){a:{for(a=a.target;null!=a&&a!=this.Tc;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=null}if(a&&!a.disabled){a=a.name;var b=this.$.get(a);this.dispatchEvent(new Pm(a,b))&&this.aa(!1)}};
f.Sh=function(a){var b=!1,c=!1,d=this.$,e=a.target;if("keydown"==a.type)if(this.zz&&27==a.keyCode){var h=d&&d.zt,e="SELECT"==e.tagName&&!e.disabled;h&&!e?(c=!0,b=d.get(h),b=this.dispatchEvent(new Pm(h,b))):e||(b=!0)}else{if(9==a.keyCode&&a.shiftKey&&e==this.a()){this.st=!0;try{this.kg.focus()}catch(k){}Yf(this.PB,0,this)}}else if(13==a.keyCode){if("BUTTON"==e.tagName&&!e.disabled)h=e.name;else if(e==this.oe)Om(this);else if(d){var l=d.Rt,n;if(n=l)a:{n=d.o.getElementsByTagName("BUTTON");for(var p=
0,m;m=n[p];p++)if(m.name==l||m.id==l){n=m;break a}n=null}e=("TEXTAREA"==e.tagName||"SELECT"==e.tagName||"A"==e.tagName)&&!e.disabled;!n||n.disabled||e||(h=l)}h&&d&&(c=!0,b=this.dispatchEvent(new Pm(h,String(d.get(h)))))}else e==this.oe&&32==a.keyCode&&Om(this);if(b||c)a.stopPropagation(),a.preventDefault();b&&this.aa(!1)};function Pm(a,b){this.type=Rm;this.key=a;this.caption=b}w(Pm,Ec);var Rm="dialogselect",Nm="afterhide",Mm="aftershow";function Fm(a){this.lb=a||Hh();id.call(this)}var Sm,Tm;
w(Fm,id);f=Fm.prototype;f.Bd="goog-buttonset";f.Rt=null;f.o=null;f.zt=null;f.set=function(a,b,c,d){id.prototype.set.call(this,a,b);c&&(this.Rt=a);d&&(this.zt=a);return this};function Em(a,b,c,d){return a.set(b.key,b.caption,c,d)}f.n=function(){if(this.o){this.o.innerHTML=sm(um);var a=Hh(this.o);this.forEach(function(b,c){var d=a.w("button",{name:c},b);c==this.Rt&&(d.className=this.Bd+"-default");this.o.appendChild(d)},this)}};
f.yb=function(a){if(a&&1==a.nodeType){this.o=a;a=this.o.getElementsByTagName("button");for(var b=0,c,d,e;c=a[b];b++)if(d=c.name||c.id,e=ni(c)||c.value,d){var h=0==b;this.set(d,e,h,c.name==Um);h&&cl(c,this.Bd+"-default")}}};f.a=function(){return this.o};f.M=function(){return this.lb};var Um="cancel",Lm="Close",Gm={key:"ok",caption:"OK"},Hm={key:Um,caption:"Cancel"},Vm={key:"yes",caption:"Yes"},Wm={key:"no",caption:"No"},Xm={key:"save",caption:"Save"},Ym={key:"continue",caption:"Continue"};
"undefined"!=typeof document&&(Sm=Em(new Fm,Gm,!0,!0),Em(Em(new Fm,Gm,!0),Hm,!1,!0),Tm=Em(Em(new Fm,Vm,!0),Wm,!1,!0),Em(Em(Em(new Fm,Vm),Wm,!0),Hm,!1,!0),Em(Em(Em(new Fm,Ym),Xm),Hm,!0,!0));function Zm(){Dm.call(this);this.zz=!1}w(Zm,Dm);v("nrg.ui.Dialog",Zm);Zm.ID_PREFIX="nrg.ui.Dialog";Zm.CSS={ux:"nrg-ui-dialog-overlay",op:"nrg-ui-dialog-background",uj:"nrg-ui-dialog-closebutton",qD:"nrg-ui-dialog-closebutton-image",qE:"nrg-ui-dialog-subtext",$k:"nrg-ui-dialog-text",TITLE:"nrg-ui-dialog-title",gh:"nrg-ui-dialog-content",mD:"nrg-ui-dialog-buttons"};f=Zm.prototype;f.pq=!0;f.Oa=null;f.Hk=null;
f.hw=function(a){this.vm.style.visibility="hidden";this.Eg.style.visibility="hidden";null!=a&&sk(this.a(),a,null,null,function(){this.vm.style.visibility="visible";this.Eg.style.visibility="visible"}.bind(this),function(){this.vm.style.visibility="hidden";this.Eg.style.visibility="hidden"}.bind(this))};f.sy=function(a){N(this.vm,a)};f.dF=function(a){N(this.Ec,a)};f.bF=function(a){N(this.Eg.parentNode,a)};f.cF=function(a){N(this.Eg,a)};f.dy=function(a){N(this.dq,a)};f.aF=function(a){N(this.xt,a)};
function $m(a){a.dq=Nh("modal-dialog-title-close",a.a())[0];N(a.dq,Zm.CSS.uj);a.Eg=P("img",{id:a.constructor.ID_PREFIX+"_CloseButton_"+B(),"class":Zm.CSS.qD});a.Eg.src=serverRoot+"/images/viewer/xiv/ui/Modal/close.png";a.dq.appendChild(a.Eg);F(a.Eg,"click",function(a){this.aa(!this.sa());this.dispatchEvent({type:"f"});a.stopPropagation()}.bind(a))}f.oF=function(){var a=this.a(),b=ak(a,600),c=Zj(a,600),d=ak(a,600),a=Zj(a,600);this.uC(b,c,d,a)};
f.rr=function(a,b,c,d){var e=this.a(),h=T(e.parentNode),k=T(e);c=null!=c?c:0;"left"==a?e.style.left=0+c+"px":"right"==a&&(e.style.left=h.width-k.width+c+"px");"top"==b&&(e.style.top=0+(null!=d?d:0)+"px")};f.Wd=function(){var a=this.a(),b=T(this.a().parentNode);if(null!=this.Eh()){var c=this.Eh();0==c.opacity?Q(c):qk(c,{width:b.width,height:b.height,"z-index":199})}var c=T(a),d=0,e=0;c.width<=b.width&&(d=b.width/2-c.width/2);c.height<=b.height&&(e=b.height/2-c.height/2);Bi(a,d,e)};
f.Yr=function(a){this.pq=a;this.Ho(a&&this.fa)};f.Ho=function(a){var b=Ja(this.U()+"-title-draggable").split(" "),c=this.kA();this.a()&&(a?dl(c,b):fl(c,b));a&&!this.Oa?(this.Oa=new gm(this.a(),this.qd),dl(c,b),F(this.Oa,"start",this.Zr,!1,this)):!a&&this.Oa&&(this.Oa.g(),this.Oa=null)};f.WC=function(){this.Zr()};f.Pz=function(){return null!=this.Oa?this.Oa.hr:null};
f.Zr=function(){var a=si(this.M()),b=Uh(a)||window;if(null!=this.a()){var a=T(this.a().parentNode),b=Sh(b||window),c=T(this.a());"fixed"==Ai(this.a())?im(this.Oa,new wh(0,0,Math.max(0,b.width-c.width),Math.max(0,b.height-c.height))):im(this.Oa,new wh(-1*c.width,-1*c.height,a.width+c.width,a.height+c.height))}};f.fy=function(a){var b=P("img",{id:this.constructor.ID_PREFIX+"_Image_"+B(),"class":Zm.CSS.ei});null==this.Tn&&(this.Tn=[]);this.Tn.push(b);this.Ia().appendChild(b);null!=a&&(b.src=a);return b};
f.Sj=function(a){var b=P("div",{id:this.constructor.ID_PREFIX+"_Text_"+B(),"class":Zm.CSS.$k},a);null==this.pj&&(this.pj=[]);this.pj.push(b);b.innerHTML=a||"";this.Ia().appendChild(b);return b};f.jt=function(a){var b=P("div",{id:"ErrorSub_"+B(),"class":Zm.CSS.qE});b.innerHTML=a;this.Ia().appendChild(b);return b};f.eH=function(){return this.a()};
f.n=function(a){if(!this.fa)Zm.d.n.call(this,a);else if(null!=a&&this.a().parentNode!=a){Yh(a,this.a());return}N(this.a(),"nrg-ui-dialog");this.vm=Nh("modal-dialog-title",this.a())[0];this.Ec=Nh("modal-dialog-content",this.a())[0];this.xt=Nh("modal-dialog-buttons",this.a())[0];this.Eg=null;$m(this);N(this.xt,Zm.CSS.mD);N(this.vm,Zm.CSS.TITLE);N(this.Ec,Zm.CSS.gh);Zm.d.Yr.call(this,!1);this.Yr(!0)};
f.aa=function(a){null!=this.a()&&(null==this.Hk&&(this.Hk=Di(this.a())),this.sa()&&!1==a?(this.Hk=Di(this.a()),Zm.d.aa.call(this,a)):this.sa()||!0!=a||(Zm.d.aa.call(this,a),Bi(this.a(),this.Hk)))};f.$v=function(){var a;a=this.Ia();a=T(a);Oi(this.a(),a.width+20,a.height+20)};f.AH=function(){return this.pj};
f.f=function(){Zm.d.f.call(this);delete this.xt;delete this.vm;delete this.Ec;delete this.Eg;delete this.dq;null!=this.zB&&(Q(this.zB),delete this.zB);null!=this.pj&&(D(this.pj,function(a){Q(a);delete a}),delete this.pj);null!=this.Tn&&(D(this.Tn,function(a){Q(a);delete a}),delete this.Tn);null!=this.Hk&&(tb(this.Hk),delete this.Hk)};v("nrg.ui.Dialog.ID_PREFIX",Zm.ID_PREFIX);v("nrg.ui.Dialog.EventType",{WM:"d",CLOSED:"e",bM:"f"});v("nrg.ui.Dialog.prototype.setMouseoverClass",Zm.prototype.hw);
v("nrg.ui.Dialog.prototype.addTitleClass",Zm.prototype.sy);v("nrg.ui.Dialog.prototype.addContentClass",Zm.prototype.dF);v("nrg.ui.Dialog.prototype.addCloseButtonClass",Zm.prototype.bF);v("nrg.ui.Dialog.prototype.addCloseButtonImageClass",Zm.prototype.cF);v("nrg.ui.Dialog.prototype.addCloseSpanClass",Zm.prototype.dy);v("nrg.ui.Dialog.prototype.addButtonsClass",Zm.prototype.aF);v("nrg.ui.Dialog.prototype.applyFadeTransitions",Zm.prototype.oF);v("nrg.ui.Dialog.prototype.moveToCorner",Zm.prototype.rr);
v("nrg.ui.Dialog.prototype.center",Zm.prototype.Wd);v("nrg.ui.Dialog.prototype.setDraggable",Zm.prototype.Yr);v("nrg.ui.Dialog.prototype.updateLimits",Zm.prototype.WC);v("nrg.ui.Dialog.prototype.addImage",Zm.prototype.fy);v("nrg.ui.Dialog.prototype.addText",Zm.prototype.Sj);v("nrg.ui.Dialog.prototype.addSubText",Zm.prototype.jt);v("nrg.ui.Dialog.prototype.getOverlay",Zm.prototype.eH);v("nrg.ui.Dialog.prototype.render",Zm.prototype.n);v("nrg.ui.Dialog.prototype.setVisible",Zm.prototype.aa);
v("nrg.ui.Dialog.prototype.getTextElements",Zm.prototype.AH);v("nrg.ui.Dialog.prototype.resizeToContents",Zm.prototype.$v);v("nrg.ui.Dialog.prototype.getDraggerLimits",Zm.prototype.Pz);v("nrg.ui.Dialog.prototype.disposeInternal",Zm.prototype.f);function an(){Zm.call(this);Qm(this,null)}w(an,Zm);v("nrg.ui.ErrorDialog",an);an.ID_PREFIX="nrg.ui.ErrorDialog";an.CSS={ux:"nrg-ui-errordialog",ei:"nrg-ui-errordialog-image",$k:"nrg-ui-errordialog-text"};an.prototype.Hl=null;an.prototype.Sj=function(a){an.d.Sj.call(this,a);a=this.pj;N(a[a.length-1],an.CSS.$k)};an.prototype.n=function(a){an.d.n.call(this,a);N(this.a(),an.CSS.ux);null==this.Hl&&(this.Hl=this.fy(serverRoot+"/images/viewer/xiv/ui/Overlay/sadbrain-white.png"),N(this.Hl,an.CSS.ei),this.Wd())};
an.prototype.f=function(){an.d.f.call(this);null!=this.Hl.parentNode&&Q(this.Hl);delete this.Hl};v("nrg.ui.ErrorDialog.ID_PREFIX",an.ID_PREFIX);v("nrg.ui.ErrorDialog.CSS",an.CSS);v("nrg.ui.ErrorDialog.prototype.addText",an.prototype.Sj);v("nrg.ui.ErrorDialog.prototype.disposeInternal",an.prototype.f);function bn(a,b,c,d){oa(this);this.url=a;this.document=b;this.files=d}w(bn,Bl);v("gxnat.slicerNode.Mrml",bn);function cn(a,b){oa(this);this.file=a;this.je=b}w(cn,Bl);v("gxnat.slicerNode.Displayable",cn);function fn(a){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(a,"application/xml");if("undefined"!=typeof ActiveXObject){var b=new ActiveXObject("MSXML2.DOMDocument");if(b){b.resolveExternals=!1;b.validateOnParse=!1;try{b.setProperty("ProhibitDTD",!0),b.setProperty("MaxXMLSize",2048),b.setProperty("MaxElementDepth",256)}catch(c){}}b.loadXML(a);return b}throw Error("Your browser does not support loading xml documents");};function gn(a,b,c){oa(this);this.position=a;this.IL=b;this.focus=c}w(gn,Bl);v("gxnat.slicerNode.Camera",gn);function hn(a,b,c,d,e,h){oa(this);this.position=a;this.color=b;this.name=h}w(hn,Bl);v("gxnat.slicerNode.Annotations",hn);function jn(){oa(this)}w(jn,Bl);v("gxnat.slicerNode.Layout",jn);M.F={};v("gxnat.slicerUtils",M.F);M.F.dx="/scripts/viewer/xiv/vis/GenericColorTable.txt";M.F.Cz=function(a){for(var b=[],c=0,d=a.length;c<d;c++)Fa(a[c],".mrml")&&b.push(a[c]);return b};M.F.ou=function(a,b){M.get(a,function(a){b(new fn(a))},"text")};M.F.dA=function(a,b,c){a=g(a)?a:[a];var d=M.F.Cz(a),e=[],h=0;D(d,function(b){M.F.ou(b,function(l){h++;e.push(new bn(b,l,0,a));h==d.length&&c(e)})})};
M.F.jz=function(a,b,c){M.F.Hz(a,b,function(b){c(new Ol(a,M.F.Lz(a),M.F.Iz(a),M.F.Zz(a),b,M.F.rA(a),M.F.cA(a),null))})};M.F.fA=function(a,b){var c=[],d=[],e=0;D(a,function(a){c=M.F.gA(a.document);D(c,function(k){M.F.jz(k,a,function(a){e++;d.push(a);e==c.length&&b(d)})})})};M.F.Qz=function(a,b){a=r(a)?M.F.ou(a):a;var c=[];D(a.getElementsByTagName(b),function(a){c.push(a)});return c};M.F.gA=function(a){return M.F.Qz(a,"SceneView")};
M.F.Lz=function(a){var b=a.getElementsByTagName("Camera").length-1,c=a.getElementsByTagName("Camera")[b].getAttribute("position"),d=a.getElementsByTagName("Camera")[b].getAttribute("viewUp");a=a.getElementsByTagName("Camera")[b].getAttribute("focalPoint");return new gn(Al(c),Al(d),Al(a))};M.F.jA=function(a,b){for(var c=a.getAttribute("storageNodeRef"),d=b.getElementsByTagName("SceneViewStorage"),e=0,h=d.length;e<h;e++)if(d[e].getAttribute("id")===c)return d[e].getAttribute("fileName")};
M.F.Iz=function(a){return new Nl(a.getElementsByTagName("View")[0].getAttribute("backgroundColor"),a.getElementsByTagName("View")[0].getAttribute("backgroundColor2"))};M.F.Zz=function(a){return new jn(a.getElementsByTagName("Layout")[0].getAttribute("currentViewArrangement"))};
M.F.gm=function(a,b){if(null!=a)for(var c=0,d=b.length,e="",h="";c<d;c++)if(e=decodeURIComponent(b[c].toLowerCase()),h=decodeURIComponent(a.toLowerCase()),-1<h.indexOf("%")&&(h=decodeURIComponent(h)),e.indexOf(h)==e.length-h.length)return b[c].replace(/%/g,"%25")};M.F.zG=function(a,b){var c=a.slice(0,a.lastIndexOf("/")+1);/^\/+$/.test(c)||(c=c.replace(/\/+$/,""));return Ya(b,"!",Ok(c),"/",Ok(a))};
M.F.Hz=function(a,b,c){var d=a.getElementsByTagName("MarkupsDisplay"),e=a.getElementsByTagName("MarkupsFiducial");a=a.getElementsByTagName("MarkupsFiducialStorage");var h=[],k=[],l=0,n,p,m="rgb(255,0,0)",q="",t="",s="",y=0,z,I;0==a.length?c(null):(D(a,function(a){k.push(M.F.gm(a.getAttribute("fileName"),b.files))}),0==k.length?c(null):D(k,function(a){M.get(a,function(a){l++;D(a.split(/\n/),function(a){if(-1==a.indexOf("#")&&(n=a.split(/,/),1!=n.length)){p=[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])];
s=n[11];m=[1,0,0];t=q="";y=0;for(len=e.length;y<len;y++)if(z=e[y],q=z.getAttribute("id"),q===n[0].replace("_","")){t=z.getAttribute("displayNodeRef");break}len=d.length;for(y=0;y<len;y++)if(I=d[y],q=I.getAttribute("id"),q===t){m=Al(I.getAttribute("color")).map(function(a){return parseFloat(a)});break}h.push(new hn(p,m,0,0,0,s))}});l==k.length&&c(h)},"text")}))};
M.F.ju=function(a,b,c){var d=[],e=a.getElementsByTagName(c),h=null,k=0,l=e.length;D(a.getElementsByTagName(b),function(a){for(k=0;k<l;k++)if(h=e[k],h.getAttribute("id")===a.getAttribute("storageNodeRef")){d.push(new cn(h.getAttribute("fileName"),a));break}});return d};M.F.wG=function(){return null};
M.F.rA=function(a){var b=a.getElementsByTagName("Selection")[0].getAttribute("activeVolumeID"),c=M.F.ju(a,"Volume","VolumeArchetypeStorage"),d=a.getElementsByTagName("LabelMapVolumeDisplay"),e=[],h=[],k="";D(c,function(a){k=a.je.getAttribute("displayNodeRef");1<k.indexOf("LabelMap")?(D(d,function(b){b.getAttribute("id")==k&&(a.yn=b,-1!=b.getAttribute("colorNodeID").indexOf("vtkMRMLColorTableNodeFileGeneric")?a.Dt=serverRoot+M.F.dx:window.console.log("Custom color table: ",b.getAttribute("colorNodeID")))}),
e.push(a)):h.push(a)});var l="";D(e,function(a){l=a.je.getAttribute("attributes").split(";");D(l,function(b){-1!=b.indexOf("AssociatedNodeID")&&(refVol=b.split(":")[1],D(h,function(b){b.je.getAttribute("id")==refVol&&(b.Qg=a)}.bind(this)))}.bind(this))});D(h,function(c){c.eg=new Ll(a,c.je,b);c.Qg&&(c.eg.Qg=c.Qg,delete c.Qg)});return h};M.F.cA=function(a){var b=M.F.ju(a,"Model","ModelStorage");D(b,function(b){b.eg=new Dl(a,b.je)});return b};v("gxnat.slicerUtils.GENERIC_COLORTABLE_FILE",M.F.dx);
v("gxnat.slicerUtils.extractMrmls",M.F.Cz);v("gxnat.slicerUtils.getMrmlAsXml",M.F.ou);v("gxnat.slicerUtils.getMrmlNodes",M.F.dA);v("gxnat.slicerUtils.createSceneViewProperties",M.F.jz);v("gxnat.slicerUtils.getSceneViewNodes",M.F.fA);v("gxnat.slicerUtils.getElementsFromMrml",M.F.Qz);v("gxnat.slicerUtils.getSceneViewsFromMrml",M.F.gA);v("gxnat.slicerUtils.getCameraFromSceneView",M.F.Lz);v("gxnat.slicerUtils.getThumbnail",M.F.jA);v("gxnat.slicerUtils.mrmlColorToRgb",M.F.bP);
v("gxnat.slicerUtils.getBackgroundColorFromSceneView",M.F.Iz);v("gxnat.slicerUtils.getLayoutFromSceneView",M.F.Zz);v("gxnat.slicerUtils.matchFileToSet",M.F.gm);v("gxnat.slicerUtils.getFileUrlRelativeToMrbUrl",M.F.zG);v("gxnat.slicerUtils.getAnnotations",M.F.Hz);v("gxnat.slicerUtils.getDisplayables",M.F.ju);v("gxnat.slicerUtils.getFibers",M.F.wG);v("gxnat.slicerUtils.getVolumes",M.F.rA);v("gxnat.slicerUtils.getMeshes",M.F.cA);function kn(a,b,c){this.Qh=[];Vl.call(this,"Slicer Scenes",a,b);c&&c(this)}w(kn,Vl);v("gxnat.vis.Slicer",kn);var ln=["jpeg","jpg","png","gif"];f=kn.prototype;f.En="resources/Slicer/files";f.uq="?listContents=true";f.Dn="File Name";f.Ri=function(a){this.Pi?mn(this,a):em.d.Ri.call(this,function(){this.mk(function(){this.om();mn(this,a)}.bind(this))}.bind(this))};function mn(a,b){M.F.dA(a.Qh,0,function(a){M.F.fA(a,function(d){this.ez(d,a,b)}.bind(this))}.bind(a))}
f.ez=function(a,b,c){this.eJ=b;this.TK=a;var d,e,h,k;D(this.TK,function(a){d=[a.NL||[],a.YI||[],a.aG||[]];e=[];D(d,function(a){D(a,function(a){h=M.F.gm(Ok(a.file),this.Qh);a.eg instanceof Ll&&a.eg.Qg&&(a.eg.labelMapFile=M.F.gm(a.eg.Qg.file,this.Qh),null!=a.eg.Qg.Dt&&null==M.F.gm(a.eg.Qg.Dt,this.Qh)&&(a.eg.colorTableFile=a.eg.Qg.Dt));e.push(new Rl(h,a.eg))}.bind(this))}.bind(this));k=new Sl(e);k.Qo(M.F.gm(M.F.jA(a.element,this.eJ[0].document),this.Qh));k.me(a.element.getAttribute("name"));k.kw(a);
this.Nc.push(k)}.bind(this));c&&c(this)};f.mk=function(a){var b="",c=0,d=this.Qh.length;for(this.thumbnailFiles=[];c<d;c++)b=tj(this.Qh[c]),-1!=ln.indexOf(b)&&this.thumbnailFiles.push(this.Qh[c]);D(this.thumbnailFiles,function(a,b){-1!=a.indexOf("%20")&&(this.thumbnailFiles[b]=a.replace(/%20/g,"%2520"))}.bind(this));d=this.thumbnailFiles.length;for(c=0;c<d;c++)if("Data"!=rj(sj(this.thumbnailFiles[c]))){this.Qo(this.thumbnailFiles[c]);break}a&&a(this)};f.wi=function(a){g(a)||(a=[a]);D(a,function(a){this.Qh.push(a)}.bind(this))};
v("gxnat.vis.Slicer.thumbnailExtensions",ln);v("gxnat.vis.Slicer.prototype.folderQuerySuffix",kn.prototype.En);v("gxnat.vis.Slicer.prototype.fileQuerySuffix",kn.prototype.uq);v("gxnat.vis.Slicer.prototype.fileContentsKey",kn.prototype.Dn);v("gxnat.vis.Slicer.prototype.getFileList",kn.prototype.Ri);v("gxnat.vis.Slicer.prototype.convertToViewableGroups",kn.prototype.ez);v("gxnat.vis.Slicer.prototype.getThumbnailImage",kn.prototype.mk);v("gxnat.vis.Slicer.prototype.addFiles",kn.prototype.wi);function nn(){bm.call(this);this.tg.push(this.aw);this.tg.push(this.RK);this.tg.push(this.SK)}w(nn,bm);v("xiv.sampleData.Scans",nn);
nn.prototype.aw=new am("src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 1","Total Frames":176,Type:"t1_mpr_1mm_p2_pos50"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample1/Sample1.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);
nn.prototype.RK=new am("src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 2","Total Frames":176,Type:"t1_mpr_1mm_p2_pos50"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample2/Sample2.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);
nn.prototype.SK=new am("src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 3","Total Frames":176,Type:"t2_spc_1mm_p2"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample3/Sample3.png",["Test Project 1-P","Test Subject 1-S","Test Experiment 1-E"]);/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
 @author herrickr@mir.wustl.edu (Rick Herrick)
*/
function on(a,b,c,d){wc.call(this);pn();qn();this.zp={h:em,oL:kn};this.Vc=null!=a?a:on.States.vj;this.$I=b;this.SB=d;this.Lr=Wg(d);this.Fg=this.Fg?this.Fg:[];a="/"!==c[0]?"/"+c:c;-1===this.Fg.indexOf(this.Lr+a)&&this.Fg.push(-1===a.indexOf(this.Lr)?this.Lr+a:a);1==this.Fg.length&&(this.Ed=new Ug(this.Fg[0]))}w(on,wc);v("xiv.start",on);on.ModalStates={ue:"fullscreen",We:"popup",xs:"fullscreen-popup",vg:"windowed",vj:"demo",uD:"demp-fullscreen"};on.States={vj:"demo",LM:"live"};
function pn(){Rf.IMA=[Sf,null]}function qn(){document.body.style.overflow="hidden"}f=on.prototype;f.ws=B();f.Iy=300;f.AI=1E3;f.Rq=!1;f.Uq=!1;f.pC=function(){};f.Qy=function(){rn(this);this.show();this.Vc==on.States.vj?(dm.MODE="demo",Q(this.Ua.$.We),Q(this.Ua.$.Xk),sn(this)):(this.Ua.oc(this.$I),tn(this))};f.dL=function(a){this.aJ=a};function rn(a){a.Ua=new a.aJ;a.Ua.dC(serverRoot);F(a.Ua,"g",a.EJ.bind(a));window.onresize=function(){null!=this.Ua&&this.Ua.k()}.bind(a)}
f.EJ=function(){this.Nd.$A(null,function(a){D(a,function(a){un(this,a);this.Ua.T.Yc()}.bind(this))}.bind(this))};f.show=function(){this.Ua.a().style.opacity=0;this.Ua.n();this.Vc!==on.States.vj&&this.Ua.cy();F(this.Ua.T.ma,"a",this.Lv.bind(this));F(this.Ua.$.We,"click",this.FF.bind(this));F(this.Ua.$.Xk,"click",this.g.bind(this));this.Ua.Zb.Vb(!0,0,this.AI);xk(this.Ua.a(),this.Iy)};
function sn(a){var b=a.Ua.T,c={slicer:(new cm).tg,scan:(new nn).tg},d,e=null;C(c,function(a,b){D(a,function(a){d="scan"==b?new this.zp.h:new this.zp.oL;d.wi(a.files);d.aC(!0);d.qC(a.ZI);d.Qo(a.Ew);vn(this,d,a.du);null==e&&(e=a.du);D(a.du,function(a){Ib(e,a)||e.push(a)})}.bind(this))}.bind(a));a=b.ma.zq(e);var h=[];D(a,function(a){null!=a&&(a.ac.yi=0,a.Vb(!0),a=a.Of,a.style.opacity=0,h.push(a))});b.ma.a().style.opacity=1;Ob(h,void 0,0,b.ma.a());zk(h,400,200)}
function tn(a){var b=a.Ua.T.ma,c=0;a.Ua.T&&F(a.Ua.T.ma,wn,a.tK.bind(a));a.Nd=new $g(a.Fg[0]);a.Nd.XA(function(a){var e=un(this,a);0==c&&(this.rI=a,this.Bu=b.Mc[e[0]],b.Go(e[0]));1==c&&(this.Uq=!0,this.sI=a,this.Vq=this.Bu.Mc[e[1]]);2==c&&(this.Rq=!0,this.Sq=a,this.JA=this.Vq.Mc[e[2]],wl([this.Bu,this.Vq,this.JA]));c++}.bind(a))}
function xn(a,b){var c=a.Nd.Fn(b),d=a.Nd.Jz(b),e=0;C(c,function(a,b){d[e]='<font color="black"><b>'+b.toUpperCase()+":</b></font>&nbsp&nbsp&nbsp&nbsp&nbsp"+d[e];e++});return d}function un(a,b){var c=a.Nd.Kz(b),d=xn(a,b);yn(a,d,c);return d}function zn(a,b){a.Nd.WA(b.originalUrl,null,function(a){if(b.Uh("subjects")==this.Ed.Uh("subjects")&&this.Uq){var d=this.Ed.Uh("experiments");this.Sq=this.Nd.Nl(d);Lb(a,this.Sq);Ob(a,0,0,this.Sq);this.Uq=!1}D(a,function(a){un(this,a)}.bind(this))}.bind(a))}
f.Lv=function(a){if(null!=a.je[this.ws])switch(a=new Ug(a.je[this.ws]),a.xq()){case "subjects":zn(this,a);break;case "experiments":An(this,a.originalUrl)}};f.Vl=function(a){yk(this.Ua.a(),this.Iy,a)};f.g=function(){this.Vl(this.PF.bind(this))};
function An(a,b){if(null==a.Tu)a.Tu=[];else if(-1<a.Tu.indexOf(b)){window.console.log("don't need to reload",b);return}var c=a.Nd.Fn(a.Nd.Nl(b)),c=new Ul(c.projects[lh],c.subjects[lh],c.experiments[lh]);Bn(a,b,function(){this.Tu.push(b);this.Rq&&(this.Rq=!1,C(this.Vq.Mc,function(){}.bind(this)))}.bind(a),c)}f.tK=function(a){var b=a.je.ac.yi;a.je.ac.yi=0;a.je.ac.yi=b};
f.FF=function(){var a=open(this.SB+"/scripts/viewer/xiv/popup.html?"+this.Fg[0],"XImgView","width=1200,height=800");a.focus();var b=this.Fg[0];a.onload=function(){a.YO(b,on.ModalStates.We,serverRoot)}.bind(this);this.g()};function Bn(a,b,c,d){Cn(a,b,function(a){var b=a.Vh;Dn(this,a,b,function(a){vn(this,a)}.bind(this));null!=d&&(this.qb[b].Mo(d.EK),this.qb[b].Oo(d.sL),this.qb[b].Io(d.ZF))}.bind(a),c)}
function yn(a,b,c){var d=a.Ua.T.ma;d.un(b);zippyNodes=d.zq(b);D(zippyNodes,function(a,b){-1<a.Dd().toLowerCase().indexOf("experiments")&&!a.yu()&&Tc(a,"a",function(){a.jy()});null==c||null==c[b]||null==a[this.ws]&&(a[this.ws]=c[b])}.bind(a))}
function vn(a,b,c){var d=a.Ua.T;null!=d&&(null==c&&null!=a.Nd&&(c=xn(a,a.Nd.Nl(b.Cn))),"Scans"!=b.Lf&&c.push(b.Lf),b.Ri(function(){if(0<b.Nc.length){var a=d.Ei(b,c);if("Scans"!=b.Lf){var h=d.ma.zq(c);0<c.length&&1<h.length&&d.Vb(c[c.length-1],h[h.length-2])}d.dw(this.Ua.a());a.ew(b.tm);a.Pw()}}.bind(a)))}function Dn(a,b,c,d){a.qb=a.qb?a.qb:{};null==a.qb[c]&&(a.qb[c]=b,d(b))}
f.PF=function(){on.d.g.call(this);document.body.style.overflow="visible";C(this.qb,function(a,b){a.g();delete this.qb[b]}.bind(this));delete this.qb;this.Nd&&(this.Nd.g(),delete this.Nd);delete this.Fg;delete this.SB;delete this.Lr;delete this.OO;null!=this.Ed&&(this.Ed.g(),delete this.Ed);delete this.Rq;delete this.Uq;delete this.rI;delete this.sI;delete this.Sq;delete this.Bu;delete this.Vq;delete this.JA;H(this.Ua);this.Ua.g();Q(this.Ua.a());delete this.Ua};
function Cn(a,b,c,d){var e=nb(a.zp),h=0;C(a.zp,function(a){$l(b,a,c,function(){h++;h===e&&null!=d&&d()})})}v("xiv.start.States",on.States);v("xiv.start.loadCustomExtensions",pn);v("xiv.start.adjustDocumentStyle",qn);v("xiv.start.ModalStates",on.ModalStates);v("xiv.start.checkForWebGL",on.checkForWebGL);v("xiv.start.isCompatible",on.BI);v("xiv.start.prototype.setServerRoot",on.prototype.pC);v("xiv.start.prototype.setModalType",on.prototype.dL);v("xiv.start.prototype.begin",on.prototype.Qy);
v("xiv.start.prototype.show",on.prototype.show);v("xiv.start.prototype.hide",on.prototype.Vl);v("xiv.start.prototype.dispose",on.prototype.g);window["xiv.start.isCompatible"]=on.BI;window["xiv.start.checkForWebGL"]=on.checkForWebGL;window["xiv.start.ModalStates"]=on.ModalStates;on.prototype.setServerRoot=on.prototype.pC;on.prototype.begin=on.prototype.Qy;function En(){$c.call(this);this.$n=[];this.Dw=[];this.Eo=[]}w(En,$c);f=En.prototype;f.$q=!1;f.ar=!1;f.aj=!1;f.OA=function(){return this.aj};f.nC=function(a){this.Qr=a};f.ra=function(){if(!this.aj){for(var a,b=0;a=this.$n[b];b++)Fn(this,a);this.aj=!0}};function Fn(a,b){a.$q&&(F(b.element,"mousedown",b.ag,!1,b),a.sw&&cl(b.element,a.sw));a.ar&&a.Cw&&cl(b.element,a.Cw)}
function Gn(a){for(var b,c=0;b=a.$n[c];c++){var d=a;d.$q&&(Uc(b.element,"mousedown",b.ag,!1,b),d.sw&&el(b.element,d.sw));d.ar&&d.Cw&&el(b.element,d.Cw);b.g()}a.$n.length=0}
f.Vo=function(a,b){if(!this.df)if(this.df=b,!1==this.dispatchEvent(new Hn("dragstart",0,this.df)))this.df=null;else{var c=b.Fi;this.fk=this.It(c);var d=Jh(c);d.body.appendChild(this.fk);var e=this.fk,h=Ii(c),c=$i(c,"margin");h.x-=2*(c.left||0);h.y-=2*(c.top||0);e.style.position="absolute";e.style.left=h.x+"px";e.style.top=h.y+"px";this.Oa=new gm(e);this.Oa.nC(this.Qr);F(this.Oa,"drag",this.hB,!1,this);F(this.Oa,"end",this.Mi,!1,this);F(d.body,"selectstart",this.LC);this.sm=[];for(e=0;d=this.Dw[e];e++)for(var k,
h=0;k=d.$n[h];h++)for(var c=d,l=[k.element],n=this.sm,p=0;p<l.length;p++){var m=l[p],q,t=m;q=Ii(t);t=T(t);q=new th(q.y,q.x+t.width,q.y+t.height,q.x);n.push(new In(q,c,k,m));Jn(this,q)}this.ai||(this.ai=new th(0,0,0,0));for(e=0;d=this.Eo[e];e++)d.Et=[],d.TB=d.o.scrollLeft,d.UB=d.o.scrollTop,h=Ii(d.o),c=T(d.o),d.rc=new th(h.y,h.x+c.width,h.y+c.height,h.x);for(e=0;c=this.sm[e];e++)for(h=0;d=this.Eo[h];h++)fi(d.o,c.o)&&(d.Et.push(c),c.Do=d);this.Qj=null;for(e=0;d=this.Eo[e];e++)F(d.o,"scroll",this.az,
!1,this);this.Oa.Vo(a);a.preventDefault()}};
f.Mi=function(a){var b=a.TF?null:this.Qj;if(b&&b.Ok){var c=a.clientX;a=a.clientY;var d=vi(Hh(this.fk)),e=c+d.x,d=a+d.y,h;this.$o&&(h=this.$o(b.Mh,b.rc,e,d));this.dispatchEvent(new Hn("drag",0,this.df,0,b.Mh,0,c,a));b.Ok.dispatchEvent(new Hn("drop",0,this.df,0,b.Mh,0,c,a,0,0,h))}this.dispatchEvent(new Hn("dragend",0,this.df));Uc(this.Oa,"drag",this.hB,!1,this);Uc(this.Oa,"end",this.Mi,!1,this);Uc(Jh(this.df.Fi).body,"selectstart",this.LC);for(b=0;c=this.Eo[b];b++)Uc(c.o,"scroll",this.az,!1,this),c.Et=
[];this.Oa.g();Q(this.fk);delete this.df;delete this.fk;delete this.Oa;delete this.sm;delete this.Qj};
f.hB=function(a){var b,c=vi(Hh(this.fk));b=new rh(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.Qj,h;if(e){this.$o&&e.Ok&&(h=this.$o(e.Mh,e.rc,c,d));if(e.rc.contains(b)&&h==this.by)return;e.Ok&&(this.dispatchEvent(new Hn("dragout",0,this.df,0,e.Mh)),e.Ok.dispatchEvent(new Hn("dragout",0,this.df,0,e.Mh,0,void 0,void 0,0,0,this.by)));this.by=h;this.Qj=null}if(this.ai.contains(b)){a:{for(var k=0;e=this.sm[k];k++)if(e.rc.contains(b))if(e.Do){if(e.Do.rc.contains(b)){b=e;break a}}else{b=e;break a}b=
null}if((e=this.Qj=b)&&e.Ok)this.$o&&(h=this.$o(e.Mh,e.rc,c,d)),c=new Hn("dragover",0,this.df,0,e.Mh),c.tL=h,this.dispatchEvent(c),e.Ok.dispatchEvent(new Hn("dragover",0,this.df,0,e.Mh,0,a.clientX,a.clientY,0,0,h));else if(!e){this.Ee||(this.Ee=new In(this.ai.clone()));a=this.Ee.rc;a.top=this.ai.top;a.right=this.ai.right;a.bottom=this.ai.bottom;a.left=this.ai.left;for(h=0;e=this.sm[h];h++)b=e.rc,e.Do&&(e=e.Do.rc,b=new th(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,e.bottom),
Math.max(b.left,e.left))),e=null,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),k=null,d>=b.bottom?k=b.bottom>a.top?b.bottom:a.top:d<b.top&&(k=b.top<a.bottom?b.top:a.bottom),null===e||null===k||(Math.abs(e-c)>Math.abs(k-d)?k=null:e=null),null!==e?e<=c?a.left=e:a.right=e:null!==k&&(k<=d?a.top=k:a.bottom=k);this.Qj=10<=(a.right-a.left)*(a.bottom-a.top)?this.Ee:null}}};f.LC=function(){return!1};
f.az=function(a){for(var b=0,c;c=this.Eo[b];b++)if(a.target==c.o){var d=c.UB-c.o.scrollTop,e=c.TB-c.o.scrollLeft;c.UB=c.o.scrollTop;c.TB=c.o.scrollLeft;this.Ee&&this.Qj==this.Ee&&(0<d?this.Ee.rc.top+=d:this.Ee.rc.bottom+=d,0<e?this.Ee.rc.left+=e:this.Ee.rc.right+=e);for(var h=0,k;k=c.Et[h];h++)k=k.rc,k.top+=d,k.left+=e,k.bottom+=d,k.right+=e,Jn(this,k)}this.Oa.im(a)};
f.It=function(a){a:{for(var b=a.cloneNode(!0),c=a.getElementsByTagName("textarea"),d=b.getElementsByTagName("textarea"),e=0;e<c.length;e++)d[e].value=c[e].value;switch(a.tagName.toLowerCase()){case "tr":a=P("table",null,P("tbody",null,b));break a;case "td":case "th":a=P("table",null,P("tbody",null,P("tr",null,b)));break a;case "textarea":b.value=a.value;default:a=b}}this.UF&&cl(a,this.UF);return a};f.yq=function(){return this.Oa};
function Jn(a,b){if(1==a.sm.length)a.ai=new th(b.top,b.right,b.bottom,b.left);else{var c=a.ai;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}f.f=function(){En.d.f.call(this);Gn(this)};function Hn(a,b,c,d,e,h,k,l,n,p,m){Ec.call(this,a);this.oq=c;this.El=e;this.clientX=k;this.clientY=l;this.tL=m}w(Hn,Ec);Hn.prototype.f=function(){};
function Kn(a,b){$c.call(this);this.element=Kh(a);this.data=b;this.Qa=null;this.sc=new dj(this);zc(this,wa(Bc,this.sc));if(!this.element)throw Error("Invalid argument");}w(Kn,$c);f=Kn.prototype;f.Fi=null;f.ag=function(a){if(Jc(a)){var b=a.target;b&&(this.sc.A(b,"mousemove",this.gB,!1).A(b,"mouseout",this.gB,!1),this.sc.A(Jh(b),"mouseup",this.cJ,!0),this.Fi=b,this.vw=new rh(a.clientX,a.clientY),a.preventDefault())}};f.Ko=function(a){this.Qa=a};
f.gB=function(a){var b=this.Fi,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.vw.x)+Math.abs(a.clientY-this.vw.y)||b)this.sc.fg(),this.Qa.Vo(a,this)};f.cJ=function(){this.sc.fg();delete this.vw;this.Fi=null};function In(a,b,c,d){this.rc=a;this.Ok=b;this.Mh=c;this.o=d}In.prototype.Do=null;function Ln(a,b){this.type=a;this.currentTarget=this.target=b||null}f=Ln.prototype;f.dg=!1;f.defaultPrevented=!1;f.Bo=!0;f.stopPropagation=function(){this.dg=!0};f.preventDefault=function(){this.defaultPrevented=!0;this.Bo=!1};
function Mn(a){a=new Ln("click",a);a.button=0;var b=void 0;if(!b&&a.target&&1==a.target.nodeType)try{b=Li(a.target)}catch(c){}a.clientX=b?b.x:0;a.clientY=b?b.y:0;a.screenX=a.clientX;a.screenY=a.clientY;a.Bo=!0;for(var b=[],d=a.target;d;d=d.parentNode)b.push(d);for(d=b.length-1;0<=d&&!a.dg;d--){var e=b[d],h=a.type,k=new Hc(a,b[d]);hb(e)?ad(e,h,!0,k):Xc(e,h,!0,k)}for(d=0;d<b.length&&!a.dg;d++)e=b[d],h=a.type,k=new Hc(a,b[d]),hb(e)?ad(e,h,!1,k):Xc(e,h,!1,k)};function Nn(a,b){if(!a)throw Error("Invalid class name "+a);if(!ka(b))throw Error("Invalid decorator function "+b);On[a]=b}var Pn={},On={};function Qn(){}var Rn;fa(Qn);var Sn={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};f=Qn.prototype;f.Kg=function(){};f.w=function(a){var b=a.M().w("div",this.lk(a).join(" "),a.getContent());Tn(this,a,b);return b};f.Ia=function(a){return a};f.ik=function(a,b,c){if(a=a.a?a.a():a){var d=[b];E&&!pc("7")&&(d=Un(al(a),b),d.push(b));(c?dl:fl)(a,d)}};f.De=function(){return!0};
f.yb=function(a,b){b.id&&lj(a,b.id);var c=this.Ia(b);c&&c.firstChild?Vn(a,c.firstChild.nextSibling?Nb(c.childNodes):c.firstChild):a.Ec=null;var d=0,e=this.U(),h=this.U(),k=!1,l=!1,c=!1,n=Nb(al(b));D(n,function(a){k||a!=e?l||a!=h?d|=this.pu(a):l=!0:(k=!0,h==e&&(l=!0))},this);a.Q=d;k||(n.push(e),h==e&&(l=!0));l||n.push(h);var p=a.Qf;p&&n.push.apply(n,p);if(E&&!pc("7")){var m=Un(n);0<m.length&&(n.push.apply(n,m),c=!0)}if(!k||!l||p||c)b.className=n.join(" ");Tn(this,a,b);return b};
f.$l=function(a){a.Ie()&&this.nm(a.a(),!0);a.isEnabled()&&this.jj(a,a.sa())};function Wn(a,b,c){if(a=c||a.Kg())c=b.getAttribute("role")||null,a!=c&&Yk(b,a)}function Tn(a,b,c){b.sa()||Zk(c,"hidden",!b.sa());b.isEnabled()||a.bh(c,1,!b.isEnabled());Xn(b,8)&&a.bh(c,8,!!(b.Q&8));Xn(b,16)&&a.bh(c,16,b.Jh());Xn(b,64)&&a.bh(c,64,!!(b.Q&64))}f.Fo=function(a,b){Xi(a,!b,!E&&!gc)};f.nm=function(a,b){this.ik(a,this.U()+"-rtl",b)};f.Kh=function(a){var b;return Xn(a,32)&&(b=a.jc())?li(b)&&mi(b):!1};
f.jj=function(a,b){var c;if(Xn(a,32)&&(c=a.jc())){if(!b&&a.Q&32){try{c.blur()}catch(d){}a.Q&32&&a.pk(null)}(li(c)&&mi(c))!=b&&ki(c,b)}};f.aa=function(a,b){Ui(a,b);a&&Zk(a,"hidden",!b)};f.oc=function(a,b,c){var d=a.a();if(d){var e=this.Gn(b);e&&this.ik(a,e,c);this.bh(d,b,c)}};f.bh=function(a,b,c){Rn||(Rn={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=Rn[b];var d=a.getAttribute("role")||null;d&&(d=Sn[d]||b,b="checked"==b||"selected"==b?d:b);b&&Zk(a,b,c)};
f.Nk=function(a,b){var c=this.Ia(a);if(c&&(Zh(c),b))if(r(b))hi(c,b);else{var d=function(a){if(a){var b=Jh(c);c.appendChild(r(a)?b.createTextNode(a):a)}};g(b)?D(b,d):!ia(b)||"nodeType"in b?d(b):D(Nb(b),d)}};f.jc=function(a){return a.a()};f.U=function(){return"goog-control"};f.lk=function(a){var b=this.U(),c=[b],d=this.U();d!=b&&c.push(d);b=a.Rl();for(d=[];b;){var e=b&-b;d.push(this.Gn(e));b&=~e}c.push.apply(c,d);(a=a.Qf)&&c.push.apply(c,a);E&&!pc("7")&&c.push.apply(c,Un(c));return c};
function Un(a,b){var c=[];b&&(a=a.concat([b]));D([],function(d){!Fb(d,wa(Ib,a))||b&&!Ib(d,b)||c.push(d.join("_"))});return c}f.Gn=function(a){this.cq||Yn(this);return this.cq[a]};f.pu=function(a){if(!this.JC){this.cq||Yn(this);var b=this.cq,c={},d;for(d in b)c[b[d]]=d;this.JC=c}a=parseInt(this.JC[a],10);return isNaN(a)?0:a};function Yn(a){var b=a.U();b.replace(/\xa0|\s/g," ");a.cq={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Zn(a,b){$c.call(this);a&&this.xl(a,b)}w(Zn,$c);f=Zn.prototype;f.o=null;f.br=null;f.Iu=null;f.cr=null;f.Je=-1;f.bj=-1;f.pt=!1;
var $n={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},ao={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},bo=E||ic&&pc("525"),co=cc&&hc;f=Zn.prototype;
f.Hq=function(a){ic&&(17==this.Je&&!a.ctrlKey||18==this.Je&&!a.altKey||cc&&91==this.Je&&!a.metaKey)&&(this.bj=this.Je=-1);-1==this.Je&&(a.ctrlKey&&17!=a.keyCode?this.Je=17:a.altKey&&18!=a.keyCode?this.Je=18:a.metaKey&&91!=a.keyCode&&(this.Je=91));bo&&!il(a.keyCode,this.Je,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.bj=kl(a.keyCode),co&&(this.pt=a.altKey))};f.cI=function(a){this.bj=this.Je=-1;this.pt=a.altKey};
f.handleEvent=function(a){var b=a.Gc,c,d,e=b.altKey;E&&"keypress"==a.type?(c=this.bj,d=13!=c&&27!=c?b.keyCode:0):ic&&"keypress"==a.type?(c=this.bj,d=0<=b.charCode&&63232>b.charCode&&jl(c)?b.charCode:0):gc?(c=this.bj,d=jl(c)?b.keyCode:0):(c=b.keyCode||this.bj,d=b.charCode||0,co&&(e=this.pt),cc&&63==d&&224==c&&(c=191));var h=c=kl(c),k=b.keyIdentifier;c?63232<=c&&c in $n?h=$n[c]:25==c&&a.shiftKey&&(h=9):k&&k in ao&&(h=ao[k]);a=h==this.Je;this.Je=h;b=new eo(h,d,a,b);b.altKey=e;this.dispatchEvent(b)};
f.a=function(){return this.o};f.xl=function(a,b){this.cr&&this.detach();this.o=a;this.br=F(this.o,"keypress",this,b);this.Iu=F(this.o,"keydown",this.Hq,b,this);this.cr=F(this.o,"keyup",this.cI,b,this)};f.detach=function(){this.br&&(Vc(this.br),Vc(this.Iu),Vc(this.cr),this.cr=this.Iu=this.br=null);this.o=null;this.bj=this.Je=-1};f.f=function(){Zn.d.f.call(this);this.detach()};function eo(a,b,c,d){Hc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}w(eo,Hc);function fo(a,b,c){hj.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=oa(b);if(d=Pn[d])break;b=b.d?b.d.constructor:null}b=d?ka(d.ce)?d.ce():new d:null}this.ta=b;this.Ec=ca(a)?a:null}w(fo,hj);f=fo.prototype;f.Ec=null;f.Q=0;f.ap=39;f.hn=255;f.Xo=0;f.yc=!0;f.Qf=null;f.rk=!0;f.Wp=!1;f.Tv=null;f.Jo=function(a){this.fa&&a!=this.rk&&go(this,a);this.rk=a};f.jc=function(){return this.ta.jc(this)};f.Bq=function(){return this.mb||(this.mb=new Zn)};f.Pa=function(){return this.ta};
f.ik=function(a,b){b?a&&(this.Qf?Ib(this.Qf,a)||this.Qf.push(a):this.Qf=[a],this.ta.ik(this,a,!0)):a&&this.Qf&&Lb(this.Qf,a)&&(0==this.Qf.length&&(this.Qf=null),this.ta.ik(this,a,!1))};f.w=function(){var a=this.ta.w(this);this.o=a;Wn(this.ta,a,this.Si());this.Wp||this.ta.Fo(a,!1);this.sa()||this.ta.aa(a,!1)};f.Si=function(){return this.Tv};f.Ia=function(){return this.ta.Ia(this.a())};f.De=function(a){return this.ta.De(a)};
f.Yd=function(a){this.o=a=this.ta.yb(this,a);Wn(this.ta,a,this.Si());this.Wp||this.ta.Fo(a,!1);this.yc="none"!=a.style.display};f.ab=function(){fo.d.ab.call(this);this.ta.$l(this);if(this.ap&-2&&(this.rk&&go(this,!0),Xn(this,32))){var a=this.jc();if(a){var b=this.Bq();b.xl(a);this.bb().A(b,"key",this.Mg).A(a,"focus",this.qk).A(a,"blur",this.pk)}}};
function go(a,b){var c=a.bb(),d=a.a();b?(c.A(d,"mouseover",a.sk).A(d,"mousedown",a.Ng).A(d,"mouseup",a.Tf).A(d,"mouseout",a.Jq),a.Mn!=ea&&c.A(d,"contextmenu",a.Mn),E&&c.A(d,"dblclick",a.tA)):(c.ob(d,"mouseover",a.sk).ob(d,"mousedown",a.Ng).ob(d,"mouseup",a.Tf).ob(d,"mouseout",a.Jq),a.Mn!=ea&&c.ob(d,"contextmenu",a.Mn),E&&c.ob(d,"dblclick",a.tA))}f.tc=function(){fo.d.tc.call(this);this.mb&&this.mb.detach();this.sa()&&this.isEnabled()&&this.ta.jj(this,!1)};
f.f=function(){fo.d.f.call(this);this.mb&&(this.mb.g(),delete this.mb);delete this.ta;this.Qf=this.Ec=null};f.getContent=function(){return this.Ec};f.Nk=function(a){this.ta.Nk(this.a(),a);this.Ec=a};function Vn(a,b){a.Ec=b}f.wq=function(){var a=this.getContent();if(!a)return"";a=r(a)?a:g(a)?Db(a,pi).join(""):ni(a);return Ia(a)};f.nm=function(a){fo.d.nm.call(this,a);var b=this.a();b&&this.ta.nm(b,a)};f.Fo=function(a){this.Wp=a;var b=this.a();b&&this.ta.Fo(b,a)};f.sa=function(){return this.yc};
f.aa=function(a,b){if(b||this.yc!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.a();c&&this.ta.aa(c,a);this.isEnabled()&&this.ta.jj(this,a);this.yc=a;return!0}return!1};f.isEnabled=function(){return!(this.Q&1)};f.nc=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!ho(this,1,!a)||(a||(this.setActive(!1),this.hg(!1)),this.sa()&&this.ta.jj(this,a),this.oc(1,!a))};f.hg=function(a){ho(this,2,a)&&this.oc(2,a)};f.Og=function(){return!!(this.Q&4)};
f.setActive=function(a){ho(this,4,a)&&this.oc(4,a)};f.No=function(a){ho(this,8,a)&&this.oc(8,a)};f.Jh=function(){return!!(this.Q&16)};f.pf=function(a){ho(this,16,a)&&this.oc(16,a)};f.Wb=function(a){ho(this,64,a)&&this.oc(64,a)};f.Rl=function(){return this.Q};f.oc=function(a,b){Xn(this,a)&&b!=!!(this.Q&a)&&(this.ta.oc(this,a,b),this.Q=b?this.Q|a:this.Q&~a)};function Xn(a,b){return!!(a.ap&b)}
f.ad=function(a,b){if(this.fa&&this.Q&a&&!b)throw Error("Component already rendered");!b&&this.Q&a&&this.oc(a,!1);this.ap=b?this.ap|a:this.ap&~a};function io(a,b){return!!(a.hn&b)&&Xn(a,b)}function ho(a,b,c){return Xn(a,b)&&!!(a.Q&b)!=c&&(!(a.Xo&b)||a.dispatchEvent(jj(b,c)))&&!a.dk}f.sk=function(a){(!a.relatedTarget||!fi(this.a(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&io(this,2)&&this.hg(!0)};
f.Jq=function(a){a.relatedTarget&&fi(this.a(),a.relatedTarget)||!this.dispatchEvent("leave")||(io(this,4)&&this.setActive(!1),io(this,2)&&this.hg(!1))};f.Mn=ea;f.Ng=function(a){this.isEnabled()&&(io(this,2)&&this.hg(!0),Jc(a)&&(io(this,4)&&this.setActive(!0),this.ta.Kh(this)&&this.jc().focus()));!this.Wp&&Jc(a)&&a.preventDefault()};f.Tf=function(a){this.isEnabled()&&(io(this,2)&&this.hg(!0),this.Og()&&this.Ek(a)&&io(this,4)&&this.setActive(!1))};f.tA=function(a){this.isEnabled()&&this.Ek(a)};
f.Ek=function(a){io(this,16)&&this.pf(!this.Jh());io(this,8)&&this.No(!0);io(this,64)&&this.Wb(!(this.Q&64));var b=new Ec("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.Qv=a.Qv);return this.dispatchEvent(b)};f.qk=function(){io(this,32)&&ho(this,32,!0)&&this.oc(32,!0)};f.pk=function(){io(this,4)&&this.setActive(!1);io(this,32)&&ho(this,32,!1)&&this.oc(32,!1)};
f.Mg=function(a){return this.sa()&&this.isEnabled()&&this.Sf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};f.Sf=function(a){return 13==a.keyCode&&this.Ek(a)};if(!ka(fo))throw Error("Invalid component class "+fo);if(!ka(Qn))throw Error("Invalid renderer class "+Qn);var jo=oa(fo);Pn[jo]=Qn;Nn("goog-control",function(){return new fo(null)});function ko(){this.Xy=[]}w(ko,Qn);fa(ko);function lo(a,b){var c=a.Xy[b];if(!c){switch(b){case 0:c=a.U()+"-highlight";break;case 1:c=a.U()+"-checkbox";break;case 2:c=a.U()+"-content"}a.Xy[b]=c}return c}f=ko.prototype;f.Kg=function(){return"menuitem"};f.w=function(a){var b=a.M().w("div",this.lk(a).join(" "),mo(this,a.getContent(),a.M()));no(this,a,b,Xn(a,8)||Xn(a,16));return b};f.Ia=function(a){return a&&a.firstChild};
f.yb=function(a,b){var c=bi(b),d=lo(this,2);c&&bl(c,d)||b.appendChild(mo(this,b.childNodes,a.M()));bl(b,"goog-option")&&(a.Wr(!0),this.Wr(a,b,!0));return ko.d.yb.call(this,a,b)};f.Nk=function(a,b){var c=this.Ia(a),d=oo(this,a)?c.firstChild:null;ko.d.Nk.call(this,a,b);d&&!oo(this,a)&&c.insertBefore(d,c.firstChild||null)};function mo(a,b,c){a=lo(a,2);return c.w("div",a,b)}f.oC=function(a,b,c){a&&b&&no(this,a,b,c)};f.Wr=function(a,b,c){a&&b&&no(this,a,b,c)};
function oo(a,b){var c=a.Ia(b);if(c){var c=c.firstChild,d=lo(a,1);return!!c&&ei(c)&&bl(c,d)}return!1}function no(a,b,c,d){Wn(a,c,b.Si());Tn(a,b,c);d!=oo(a,c)&&(gl(c,"goog-option",d),c=a.Ia(c),d?(a=lo(a,1),c.insertBefore(b.M().w("div",a),c.firstChild||null)):c.removeChild(c.firstChild))}f.Gn=function(a){switch(a){case 2:return lo(this,0);case 16:case 8:return"goog-option-selected";default:return ko.d.Gn.call(this,a)}};
f.pu=function(a){var b=lo(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return ko.d.pu.call(this,a)}};f.U=function(){return"goog-menuitem"};function po(a,b,c,d){fo.call(this,a,d||ko.ce(),c);this.I(b)}w(po,fo);f=po.prototype;f.J=function(){var a=this.av;return null!=a?a:this.wq()};f.I=function(a){this.av=a};f.ad=function(a,b){po.d.ad.call(this,a,b);switch(a){case 8:this.Jh()&&!b&&this.pf(!1);var c=this.a();c&&this.Pa().oC(this,c,b);break;case 16:(c=this.a())&&this.Pa().Wr(this,c,b)}};f.oC=function(a){this.ad(8,a)};f.Wr=function(a){this.ad(16,a)};
f.wq=function(){var a=this.getContent();return g(a)?(a=Db(a,function(a){return ei(a)&&(bl(a,"goog-menuitem-accel")||bl(a,"goog-menuitem-mnemonic-separator"))?"":pi(a)}).join(""),Ia(a)):po.d.wq.call(this)};f.Tf=function(a){var b=this.getParent();if(b){var c=b.yB;b.yB=null;if(b=c&&u(a.clientX))b=new rh(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}po.d.Tf.call(this,a)};f.Sf=function(a){return a.keyCode==this.fB&&this.Ek(a)?!0:po.d.Sf.call(this,a)};f.bH=function(){return this.fB};
Nn("goog-menuitem",function(){return new po(null)});po.prototype.Si=function(){return Xn(this,16)?"menuitemcheckbox":Xn(this,8)?"menuitemradio":po.d.Si.call(this)};function qo(a){this.My=a}fa(qo);f=qo.prototype;f.Kg=function(){return this.My};function ro(a,b){a&&(a.tabIndex=b?0:-1)}f.w=function(a){return a.M().w("div",this.lk(a).join(" "))};f.Ia=function(a){return a};f.De=function(a){return"DIV"==a.tagName};f.yb=function(a,b){b.id&&lj(a,b.id);var c=this.U(),d=!1,e=al(b);e&&D(e,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.nc(!1):b==c+"-horizontal"?a.Yh(so):b==c+"-vertical"&&a.Yh(to))},this);d||cl(b,c);uo(this,a,this.Ia(b));return b};
function uo(a,b,c){if(c)for(var d=c.firstChild,e;d&&d.parentNode==c;){e=d.nextSibling;if(1==d.nodeType){var h=a.iu(d);h&&(h.o=d,b.isEnabled()||h.nc(!1),b.fn(h),h.yb(d))}else d.nodeValue&&""!=Ja(d.nodeValue)||c.removeChild(d);d=e}}f.iu=function(a){a:{var b;a=al(a);for(var c=0,d=a.length;c<d;c++)if(b=a[c],b=b in On?On[b]():null){a=b;break a}a=null}return a};f.$l=function(a){a=a.a();Xi(a,!0,hc);E&&(a.hideFocus=!0);var b=this.Kg();b&&Yk(a,b)};f.jc=function(a){return a.a()};f.U=function(){return"goog-container"};
f.lk=function(a){var b=this.U(),c=[b,a.Db()==so?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function vo(){}w(vo,Qn);fa(vo);vo.prototype.w=function(a){return a.M().w("div",this.U())};vo.prototype.yb=function(a,b){b.id&&lj(a,b.id);if("HR"==b.tagName){var c=b;b=this.w(a);$h(b,c);Q(c)}else cl(b,this.U());return b};vo.prototype.Nk=function(){};vo.prototype.U=function(){return"goog-menuseparator"};function wo(a,b){fo.call(this,null,a||vo.ce(),b);this.ad(1,!1);this.ad(2,!1);this.ad(4,!1);this.ad(32,!1);this.Q=1}w(wo,fo);wo.prototype.ab=function(){wo.d.ab.call(this);Yk(this.a(),"separator")};Nn("goog-menuseparator",function(){return new wo});function xo(a){this.My=a||"menu"}w(xo,qo);fa(xo);f=xo.prototype;f.De=function(a){return"UL"==a.tagName||xo.d.De.call(this,a)};f.iu=function(a){return"HR"==a.tagName?new wo:xo.d.iu.call(this,a)};f.Xj=function(a,b){return fi(a.a(),b)};f.U=function(){return"goog-menu"};f.$l=function(a){xo.d.$l.call(this,a);Zk(a.a(),"haspopup","true")};function yo(a,b,c,d,e,h,k,l,n){var p,m;if(p=c.offsetParent){var q="HTML"==p.tagName||"BODY"==p.tagName;q&&"static"==Ai(p)||(m=Ii(p),q||(q=(q=Ji(p))&&hc?-p.scrollLeft:!q||E&&pc("8")||"visible"==zi(p,"overflowX")?p.scrollLeft:p.scrollWidth-p.clientWidth-p.scrollLeft,m=sh(m,new rh(q,p.scrollTop))))}p=m||new rh;m=Si(a);(q=Hi(a))&&m.MA(new wh(q.left,q.top,q.right-q.left,q.bottom-q.top));var q=Hh(a),t=Hh(c);if(q.pa!=t.pa){var s=q.pa.body,t=ui(t),y=new rh(0,0),z=Uh(Jh(s)),I=s;do{var S=z==t?Ii(I):Mi(I);y.x+=
S.x;y.y+=S.y}while(z&&z!=t&&(I=z.frameElement)&&(z=z.parent));s=sh(y,Ii(s));E&&!ti(q)&&(s=sh(s,vi(q)));m.left+=s.x;m.top+=s.y}a=zo(a,b);b=new rh(a&2?m.left+m.width:m.left,a&1?m.top+m.height:m.top);b=sh(b,p);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var O;if(k)if(n)O=n;else if(O=Hi(c))O.top-=p.y,O.right-=p.x,O.bottom-=p.y,O.left-=p.x;return Ao(b,c,d,h,O,k,l)}
function Ao(a,b,c,d,e,h,k){a=a.clone();var l=0,n=zo(b,c);c=T(b);k=k?k.clone():c.clone();if(d||0!=n)n&2?a.x-=k.width+(d?d.right:0):d&&(a.x+=d.left),n&1?a.y-=k.height+(d?d.bottom:0):d&&(a.y+=d.top);if(h&&(e?(l=a,d=0,65==(h&65)&&(l.x<e.left||l.x>=e.right)&&(h&=-2),132==(h&132)&&(l.y<e.top||l.y>=e.bottom)&&(h&=-5),l.x<e.left&&h&1&&(l.x=e.left,d|=1),l.x<e.left&&l.x+k.width>e.right&&h&16&&(k.width=Math.max(k.width-(l.x+k.width-e.right),0),d|=4),l.x+k.width>e.right&&h&1&&(l.x=Math.max(e.right-k.width,e.left),
d|=1),h&2&&(d=d|(l.x<e.left?16:0)|(l.x+k.width>e.right?32:0)),l.y<e.top&&h&4&&(l.y=e.top,d|=2),l.y<=e.top&&l.y+k.height<e.bottom&&h&32&&(k.height=Math.max(k.height-(e.top-l.y),0),l.y=e.top,d|=8),l.y>=e.top&&l.y+k.height>e.bottom&&h&32&&(k.height=Math.max(k.height-(l.y+k.height-e.bottom),0),d|=8),l.y+k.height>e.bottom&&h&4&&(l.y=Math.max(e.bottom-k.height,e.top),d|=2),h&8&&(d=d|(l.y<e.top?64:0)|(l.y+k.height>e.bottom?128:0)),l=d):l=256,l&496))return l;Bi(b,a);vh(c,k)||(e=ti(Hh(Jh(b))),!E||e&&pc("8")?
(b=b.style,hc?b.MozBoxSizing="border-box":ic?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=Math.max(k.width,0)+"px",b.height=Math.max(k.height,0)+"px"):(a=b.style,e?(e=$i(b,"padding"),b=cj(b),a.pixelWidth=k.width-b.left-e.left-e.right-b.right,a.pixelHeight=k.height-b.top-e.top-e.bottom-b.bottom):(a.pixelWidth=k.width,a.pixelHeight=k.height)));return l}function zo(a,b){return(b&4&&Ji(a)?b^2:b)&-5};var Bo,Co;Co=Bo=!1;var Do=Ub;Do&&(-1!=Do.indexOf("Firefox")||-1!=Do.indexOf("Camino")||(-1!=Do.indexOf("iPhone")||-1!=Do.indexOf("iPod")?Bo=!0:-1!=Do.indexOf("iPad")&&(Co=!0)));var Eo=Bo,Fo=Co;Nn("goog-menuseparator",function(){return new wo});function Go(a,b,c){hj.call(this,c);this.ta=b||qo.ce();this.Fa=a||to}w(Go,hj);var so="horizontal",to="vertical";f=Go.prototype;f.Ju=null;f.mb=null;f.ta=null;f.Fa=null;f.yc=!0;f.Fc=!0;f.cu=!0;f.He=-1;f.vc=null;f.Ph=!1;f.iF=!1;f.xK=!0;f.xh=null;f.jc=function(){return this.Ju||this.ta.jc(this)};f.Bq=function(){return this.mb||(this.mb=new Zn(this.jc()))};f.Pa=function(){return this.ta};f.w=function(){this.o=this.ta.w(this)};f.Ia=function(){return this.ta.Ia(this.a())};f.De=function(a){return this.ta.De(a)};
f.Yd=function(a){this.o=this.ta.yb(this,a);"none"==a.style.display&&(this.yc=!1)};f.ab=function(){Go.d.ab.call(this);nj(this,function(a){a.fa&&Ho(this,a)},this);var a=this.a();this.ta.$l(this);this.aa(this.yc,!0);this.bb().A(this,"enter",this.vu).A(this,"highlight",this.wu).A(this,"unhighlight",this.xu).A(this,"open",this.gI).A(this,"close",this.YH).A(a,"mousedown",this.Ng).A(Jh(a),"mouseup",this.$H).A(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.XH);this.Kh()&&Io(this,!0)};
function Io(a,b){var c=a.bb(),d=a.jc();b?c.A(d,"focus",a.qk).A(d,"blur",a.pk).A(a.Bq(),"key",a.Mg):c.ob(d,"focus",a.qk).ob(d,"blur",a.pk).ob(a.Bq(),"key",a.Mg)}f.tc=function(){this.Xg(-1);this.vc&&this.vc.Wb(!1);this.Ph=!1;Go.d.tc.call(this)};f.f=function(){Go.d.f.call(this);this.mb&&(this.mb.g(),this.mb=null);this.ta=this.vc=this.xh=this.Ju=null};f.vu=function(){return!0};
f.wu=function(a){var b=qj(this,a.target);if(-1<b&&b!=this.He){var c=Jo(this);c&&c.hg(!1);this.He=b;c=Jo(this);this.Ph&&c.setActive(!0);this.xK&&this.vc&&c!=this.vc&&(Xn(c,64)?c.Wb(!0):this.vc.Wb(!1))}b=this.a();null!=a.target.a()&&Zk(b,"activedescendant",a.target.a().id)};f.xu=function(a){a.target==Jo(this)&&(this.He=-1);this.a().removeAttribute("aria-activedescendant")};f.gI=function(a){(a=a.target)&&a!=this.vc&&a.getParent()==this&&(this.vc&&this.vc.Wb(!1),this.vc=a)};
f.YH=function(a){a.target==this.vc&&(this.vc=null)};f.Ng=function(a){this.Fc&&(this.Ph=!0);var b=this.jc();b&&li(b)&&mi(b)?b.focus():a.preventDefault()};f.$H=function(){this.Ph=!1};f.XH=function(a){var b;a:{b=a.target;if(this.xh)for(var c=this.a();b&&b!==c;){var d=b.id;if(d in this.xh){b=this.xh[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.Ng(a);break;case "mouseup":b.Tf(a);break;case "mouseover":b.sk(a);break;case "mouseout":b.Jq(a);break;case "contextmenu":b.Mn(a)}};
f.qk=function(){};f.pk=function(){this.Xg(-1);this.Ph=!1;this.vc&&this.vc.Wb(!1)};f.Mg=function(a){return this.isEnabled()&&this.sa()&&(0!=oj(this)||this.Ju)&&this.Sf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
f.Sf=function(a){var b=Jo(this);if(b&&"function"==typeof b.Mg&&b.Mg(a)||this.vc&&this.vc!=b&&"function"==typeof this.vc.Mg&&this.vc.Mg(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Kh())this.jc().blur();else return!1;break;case 36:Ko(this);break;case 35:Lo(this);break;case 38:if(this.Fa==to)Mo(this);else return!1;break;case 37:if(this.Fa==so)this.Ie()?No(this):Mo(this);else return!1;break;case 40:if(this.Fa==to)No(this);else return!1;break;case 39:if(this.Fa==
so)this.Ie()?Mo(this):No(this);else return!1;break;default:return!1}return!0};function Ho(a,b){var c=b.a(),c=c.id||(c.id=kj(b));a.xh||(a.xh={});a.xh[c]=b}f.fn=function(a,b){Go.d.fn.call(this,a,b)};f.it=function(a,b,c){a.Xo|=2;a.Xo|=64;!this.Kh()&&this.iF||a.ad(32,!1);a.Jo(!1);Go.d.it.call(this,a,b,c);a.fa&&this.fa&&Ho(this,a);b<=this.He&&this.He++};
f.removeChild=function(a,b){if(a=r(a)?mj(this,a):a){var c=qj(this,a);-1!=c&&(c==this.He?(a.hg(!1),this.He=-1):c<this.He&&this.He--);(c=a.a())&&c.id&&this.xh&&ub(this.xh,c.id)}a=Go.d.removeChild.call(this,a,b);a.Jo(!0);return a};f.Db=function(){return this.Fa};f.Yh=function(a){if(this.a())throw Error("Component already rendered");this.Fa=a};f.sa=function(){return this.yc};
f.aa=function(a,b){if(b||this.yc!=a&&this.dispatchEvent(a?"show":"hide")){this.yc=a;var c=this.a();c&&(Ui(c,a),this.Kh()&&ro(this.jc(),this.Fc&&this.yc),b||this.dispatchEvent(this.yc?"aftershow":"afterhide"));return!0}return!1};f.isEnabled=function(){return this.Fc};
f.nc=function(a){this.Fc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.Fc=!0,nj(this,function(a){a.cD?delete a.cD:a.nc(!0)})):(nj(this,function(a){a.isEnabled()?a.nc(!1):a.cD=!0}),this.Ph=this.Fc=!1),this.Kh()&&ro(this.jc(),a&&this.yc))};f.Kh=function(){return this.cu};f.jj=function(a){a!=this.cu&&this.fa&&Io(this,a);this.cu=a;this.Fc&&this.yc&&ro(this.jc(),a)};f.Xg=function(a){(a=pj(this,a))?a.hg(!0):-1<this.He&&Jo(this).hg(!1)};f.hg=function(a){this.Xg(qj(this,a))};
function Jo(a){return pj(a,a.He)}function Ko(a){Oo(a,function(a,c){return(a+1)%c},oj(a)-1)}function Lo(a){Oo(a,function(a,c){a--;return 0>a?c-1:a},0)}function No(a){Oo(a,function(a,c){return(a+1)%c},a.He)}function Mo(a){Oo(a,function(a,c){a--;return 0>a?c-1:a},a.He)}function Oo(a,b,c){c=0>c?qj(a,a.vc):c;var d=oj(a);c=b.call(a,c,d);for(var e=0;e<=d;){var h=pj(a,c);if(h&&a.Vy(h)){a.Xg(c);break}e++;c=b.call(a,c,d)}}f.Vy=function(a){return a.sa()&&a.isEnabled()&&Xn(a,2)};function Po(){}w(Po,Qn);fa(Po);Po.prototype.U=function(){return"goog-menuheader"};function Qo(a,b,c){fo.call(this,a,c||Po.ce(),b);this.ad(1,!1);this.ad(2,!1);this.ad(4,!1);this.ad(32,!1);this.Q=1}w(Qo,fo);Nn("goog-menuheader",function(){return new Qo(null)});function Ro(a,b){Go.call(this,to,b||xo.ce(),a);this.jj(!1)}w(Ro,Go);f=Ro.prototype;f.nt=!0;f.jF=!1;f.U=function(){return this.Pa().U()};f.Xj=function(a){if(this.Pa().Xj(this,a))return!0;for(var b=0,c=oj(this);b<c;b++){var d=pj(this,b);if("function"==typeof d.Xj&&d.Xj(a))return!0}return!1};f.Rj=function(a){this.fn(a,!0)};f.jw=function(a,b){var c=this.sa();c||Ui(this.a(),!0);var d=this.a(),e=a,h=b,k=Ii(d);e instanceof rh&&(h=e.y,e=e.x);Bi(d,d.offsetLeft+(e-k.x),d.offsetTop+(h-k.y));c||Ui(this.a(),!1)};
f.aa=function(a,b,c){(b=Ro.d.aa.call(this,a,b))&&a&&this.fa&&this.nt&&this.jc().focus();this.yB=a&&c&&u(c.clientX)?new rh(c.clientX,c.clientY):null;return b};f.vu=function(a){this.nt&&this.jc().focus();return Ro.d.vu.call(this,a)};f.Vy=function(a){return(this.jF||a.isEnabled())&&a.sa()&&Xn(a,2)};f.Yd=function(a){var b=this.Pa(),c;c=this.M();c=Mh(c.pa,"div",b.U()+"-content",a);for(var d=c.length,e=0;e<d;e++)uo(b,this,c[e]);Ro.d.Yd.call(this,a)};
f.Sf=function(a){var b=Ro.d.Sf.call(this,a);b||nj(this,function(c){!b&&c.bH&&c.fB==a.keyCode&&(this.isEnabled()&&this.hg(c),b=c.Mg(a))},this);return b};f.Xg=function(a){Ro.d.Xg.call(this,a);var b=pj(this,a);if(b){a=this.a();var b=b.a(),c=Ii(b),d=Ii(a),e=cj(a),h=c.x-d.x-e.left,c=c.y-d.y-e.top,d=a.clientHeight-b.offsetHeight,e=a.scrollLeft,k=a.scrollTop,e=e+Math.min(h,Math.max(h-(a.clientWidth-b.offsetWidth),0)),k=k+Math.min(c,Math.max(c-d,0)),b=new rh(e,k);a.scrollLeft=b.x;a.scrollTop=b.y}};function So(){}So.prototype.ke=function(){};function To(a,b,c){this.element=a;this.tn=b;this.yK=c}w(To,So);To.prototype.ke=function(a,b,c){yo(this.element,this.tn,a,b,void 0,c,this.yK)};function Uo(a,b,c,d){To.call(this,a,b);this.er=c?5:0;this.Mv=d||void 0}w(Uo,To);Uo.prototype.OG=function(){return this.er};Uo.prototype.ke=function(a,b,c,d){var e=yo(this.element,this.tn,a,b,null,c,10,d,this.Mv);if(e&496){var h=Vo(e,this.tn);b=Vo(e,b);e=yo(this.element,h,a,b,null,c,10,d,this.Mv);e&496&&(h=Vo(e,h),b=Vo(e,b),yo(this.element,h,a,b,null,c,this.er,d,this.Mv))}};function Vo(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function Wo(a,b,c,d){Uo.call(this,a,b,c||d);if(c||d)this.er=65|(d?32:132)}w(Wo,Uo);function Xo(){}w(Xo,Qn);fa(Xo);f=Xo.prototype;f.Kg=function(){return"button"};f.bh=function(a,b,c){switch(b){case 8:case 16:Zk(a,"pressed",c);break;default:case 64:case 1:Xo.d.bh.call(this,a,b,c)}};f.w=function(a){var b=Xo.d.w.call(this,a);this.cs(b,a.Ln());var c=a.J();c&&this.I(b,c);Xn(a,16)&&this.bh(b,16,a.Jh());return b};f.yb=function(a,b){b=Xo.d.yb.call(this,a,b);var c=this.J(b);a.mg=c;a.Iw=this.Ln(b);Xn(a,16)&&this.bh(b,16,a.Jh());return b};f.J=ea;f.I=ea;f.Ln=function(a){return a.title};
f.cs=function(a,b){a&&(b?a.title=b:a.removeAttribute("title"))};f.Go=function(a,b){var c=a.Ie(),d=this.U()+"-collapse-left",e=this.U()+"-collapse-right";a.ik(c?e:d,!!(b&1));a.ik(c?d:e,!!(b&2))};f.U=function(){return"goog-button"};function Yo(){}w(Yo,Xo);fa(Yo);f=Yo.prototype;f.Kg=function(){};f.w=function(a){a.Jo(!1);a.hn&=-256;a.ad(32,!1);return a.M().w("button",{"class":this.lk(a).join(" "),disabled:!a.isEnabled(),title:a.Ln()||"",value:a.J()||""},a.wq()||"")};f.De=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};f.yb=function(a,b){a.Jo(!1);a.hn&=-256;a.ad(32,!1);if(b.disabled){var c=this.Gn(1);cl(b,c)}return Yo.d.yb.call(this,a,b)};
f.$l=function(a){a.bb().A(a.a(),"click",a.Ek)};f.Fo=ea;f.nm=ea;f.Kh=function(a){return a.isEnabled()};f.jj=ea;f.oc=function(a,b,c){Yo.d.oc.call(this,a,b,c);(a=a.a())&&1==b&&(a.disabled=c)};f.J=function(a){return a.value};f.I=function(a,b){a&&(a.value=b)};f.bh=ea;function Zo(a,b,c){fo.call(this,a,b||Yo.ce(),c)}w(Zo,fo);f=Zo.prototype;f.J=function(){return this.mg};f.I=function(a){this.mg=a;this.Pa().I(this.a(),a)};f.Ln=function(){return this.Iw};f.cs=function(a){this.Iw=a;this.Pa().cs(this.a(),a)};f.Go=function(a){this.Pa().Go(this,a)};f.f=function(){Zo.d.f.call(this);delete this.mg;delete this.Iw};f.ab=function(){Zo.d.ab.call(this);if(Xn(this,32)){var a=this.jc();a&&this.bb().A(a,"keyup",this.Sf)}};
f.Sf=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Ek(a):32==a.keyCode};Nn("goog-button",function(){return new Zo(null)});function $o(){}w($o,Xo);fa($o);f=$o.prototype;f.w=function(a){var b={"class":"goog-inline-block "+this.lk(a).join(" ")},b=a.M().w("div",b,this.fq(a.getContent(),a.M()));this.cs(b,a.Ln());Tn(this,a,b);return b};f.Kg=function(){return"button"};f.Ia=function(a){return a&&a.firstChild.firstChild};f.fq=function(a,b){return b.w("div","goog-inline-block "+(this.U()+"-outer-box"),b.w("div","goog-inline-block "+(this.U()+"-inner-box"),a))};f.De=function(a){return"DIV"==a.tagName};
f.yb=function(a,b){ap(b,!0);ap(b,!1);var c;a:{c=a.M().Sz(b);var d=this.U()+"-outer-box";if(c&&bl(c,d)&&(c=a.M().Sz(c),d=this.U()+"-inner-box",c&&bl(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.fq(b.childNodes,a.M()));dl(b,["goog-inline-block",this.U()]);return $o.d.yb.call(this,a,b)};f.U=function(){return"goog-custom-button"};
function ap(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Ja(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function bp(){}w(bp,$o);fa(bp);f=bp.prototype;f.Ia=function(a){return bp.d.Ia.call(this,a&&a.firstChild)};f.yb=function(a,b){var c=Lh("*","goog-menu",b)[0];if(c){Ui(c,!1);Jh(c).body.appendChild(c);var d=new Ro;d.yb(c);cp(a,d)}return bp.d.yb.call(this,a,b)};f.fq=function(a,b){return bp.d.fq.call(this,[this.createCaption(a,b),b.w("div","goog-inline-block "+(this.U()+"-dropdown"),"\u00a0")],b)};f.createCaption=function(a,b){return b.w("div","goog-inline-block "+(this.U()+"-caption"),a)};f.U=function(){return"goog-menu-button"};function dp(a,b,c,d,e){Zo.call(this,a,c||bp.ce(),d);this.ad(64,!0);this.mr=new Wo(null,5);b&&cp(this,b);this.WI=null;this.na=new Wf(500);!Eo&&!Fo||pc("533.17.9")||(this.Xq=!0);this.XI=e||xo.ce()}w(dp,Zo);f=dp.prototype;f.Xq=!1;f.LK=!1;f.ab=function(){dp.d.ab.call(this);ep(this,!0);this.S&&fp(this,this.S,!0);Zk(this.o,"haspopup",!!this.S)};f.tc=function(){dp.d.tc.call(this);ep(this,!1);if(this.S){this.Wb(!1);this.S.tc();fp(this,this.S,!1);var a=this.S.a();a&&Q(a)}};
f.f=function(){dp.d.f.call(this);this.S&&(this.S.g(),delete this.S);delete this.DK;this.na.g()};f.Ng=function(a){dp.d.Ng.call(this,a);this.Og()&&(this.Wb(!(this.Q&64),a),this.S&&(this.S.Ph=!!(this.Q&64)))};f.Tf=function(a){dp.d.Tf.call(this,a);this.S&&!this.Og()&&(this.S.Ph=!1)};f.Ek=function(){this.setActive(!1);return!0};f.ZH=function(a){this.S&&this.S.sa()&&!this.Xj(a.target)&&this.Wb(!1)};f.Xj=function(a){return a&&fi(this.a(),a)||this.S&&this.S.Xj(a)||!1};
f.Sf=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.S&&this.S.sa()){var b=this.S.Mg(a);return 27==a.keyCode?(this.Wb(!1),!0):b}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Wb(!0,a),!0):!1};f.dI=function(){this.Wb(!1)};f.eI=function(){this.Og()||this.Wb(!1)};f.pk=function(a){this.Xq||this.Wb(!1);dp.d.pk.call(this,a)};f.nu=function(){this.S||cp(this,new Ro(this.M(),this.XI));return this.S||null};
function cp(a,b){var c=a.S;b!=c&&(c&&(a.Wb(!1),a.fa&&fp(a,c,!1),delete a.S),a.fa&&Zk(a.o,"haspopup",!!b),b&&(a.S=b,b.Ko(a),b.aa(!1),c=a.Xq,(b.nt=c)&&b.jj(!0),a.fa&&fp(a,b,!0)))}f.Rj=function(a){this.nu().fn(a,!0)};f.aa=function(a,b){var c=dp.d.aa.call(this,a,b);c&&!this.sa()&&this.Wb(!1);return c};f.nc=function(a){dp.d.nc.call(this,a);this.isEnabled()||this.Wb(!1)};f.lw=function(){this.Wb(!0)};f.On=function(){this.Wb(!1)};
f.Wb=function(a,b){dp.d.Wb.call(this,a);if(this.S&&!!(this.Q&64)==a){if(a){if(!this.S.fa)if(this.LK){var c=di(this.a());c?this.S.Ug(c.parentNode,c):this.S.n(this.a().parentNode)}else this.S.n();this.$C=Hi(this.a());this.Ty=Si(this.a());gp(this);this.S.Xg(!b||40!=b.keyCode&&38!=b.keyCode?-1:0)}else{this.setActive(!1);this.S.Ph=!1;if(c=this.a())Zk(c,"activedescendant",""),Zk(c,"owns","");null!=this.Er&&(this.Er=void 0,(c=this.S.a())&&Oi(c,"",""))}this.S.aa(a,!1,b);if(!this.dk){var c=this.bb(),d=a?c.A:
c.ob;d.call(c,si(this.M()),"mousedown",this.ZH,!0);this.Xq&&d.call(c,this.S,"blur",this.eI);d.call(c,this.na,Xf,this.fK);a?this.na.start():this.na.stop()}}};function gp(a){if(a.S.fa){var b=a.mr;a.mr.element=a.DK||a.a();var c=a.S.a();a.S.sa()||(c.style.visibility="hidden",Ui(c,!0));!a.Er&&a.mr.OG&&a.mr.er&32&&(a.Er=T(c));b.ke(c,b.tn^1,a.WI,a.Er);a.S.sa()||(Ui(c,!1),c.style.visibility="visible")}}
f.fK=function(){var a=Si(this.a()),b=Hi(this.a()),c=this.Ty;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.$C,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.Ty=a,this.$C=b,gp(this))};function fp(a,b,c){var d=a.bb();c=c?d.A:d.ob;c.call(d,b,"action",a.dI);c.call(d,b,"highlight",a.wu);c.call(d,b,"unhighlight",a.xu)}function ep(a,b){var c=a.bb();(b?c.A:c.ob).call(c,a.a(),"keydown",a.bI)}
f.wu=function(a){var b=this.a();if(a=a.target.a()){var c=$k(a,"activedescendant");a=Jh(a).getElementById(c)||a;a.id||(c=gj.ce(),a.id=":"+(c.nB++).toString(36));c="";a&&(c=a.id);Zk(b,"activedescendant",c);Zk(b,"owns",a.id)}};f.bI=function(a){Xn(this,32)&&this.jc()&&this.S&&this.S.sa()&&a.stopPropagation()};f.xu=function(){if(!Jo(this.S)){var a=this.a();Zk(a,"activedescendant","");Zk(a,"owns","")}};Nn("goog-menu-button",function(){return new dp(null)});function hp(){U.call(this);this.ee=P("div",{id:this.constructor.ID_PREFIX+"_Holder_"+B(),"class":hp.CSS.RD});Yh(this.a(),this.ee);this.Yi=P("img",{id:this.constructor.ID_PREFIX+"_Icon_"+B(),"class":hp.CSS.ib});Yh(this.a(),this.Yi);this.S=new Ro;this.kb=new fk;this.Cb=[];ip(this);this.On(void 0,0);this.S.n(this.ee);N(this.S.a(),hp.CSS.QD)}w(hp,U);v("nrg.ui.SlideInMenu",hp);hp.ID_PREFIX="nrg.ui.SlideInMenu";
hp.CSS_SUFFIX={ib:"icon",wM:"icon-hovered",QD:"menu",RD:"menuholder",SD:"menuitem",rx:"menuitem-highlight",TD:"menuitem-icon"};var jp={zs:null,gh:null,ib:null};function kp(a,b,c,d){d=ca(d)?d:200;return[new ak(a,d),new Uj(a,b,c,d,tk)]}function lp(a,b,c,d){d=ca(d)?d:200;return[new Zj(a,d),new Uj(a,b,c,d,tk)]}f=hp.prototype;f.lc=null;f.BB=null;f.Cl=null;f.hm=!1;f.Pn=[-100,-100];f.Uo=[0,0];f.Wu=!0;f.Xu=!1;f.cC=function(a,b){return this.Pn=[a,b]};f.rC=function(a,b){return this.Uo=[a,b]};f.HG=function(){return this.Pn};
f.uH=function(){return this.Uo};f.nu=function(){return this.S};f.XG=function(){return this.ee};f.YG=function(){return this.Yi};f.gC=function(a){this.Yi.src=a};f.aL=function(a,b){this.lc[a].ib.src=b};f.Wz=function(a){return pb(this.lc).indexOf(a)};f.ru=function(a){return pb(this.lc)[a]};f.ku=function(a){return this.lc[pb(this.lc)[a]]};f.bB=function(a){return this.Wu=a};f.UI=function(a){return this.Xu=a};f.sH=function(){return this.Cl};
function mp(a){null!=a.kb&&(a.kb.stop(),D(a.Cb,function(a){this.kb.remove(a);a.g()}.bind(a)),Jb(a.Cb))}function np(a,b,c){mp(a);D(g(b)?b:[b],function(a){this.kb.add(a);this.Cb.push(a)}.bind(a));a.ee.style.visibility="visible";Tc(a.kb,"end",function(){c&&c()}.bind(a));a.kb.play()}f.Kl=null;f.lq=null;f.XB=function(a){this.lq=a;this.a().title=a};function op(a){null!=a.Kl&&(ba.clearTimeout(a.Kl),a.Kl=null);a.Kl=Yf(function(){this.Kl=null;this.hm&&(!this.cv&&this.hm?this.On():op(this))}.bind(a),450)}
f.Xg=function(a){N(this.lc[this.ru(a)].gh,hp.CSS.rx);this.Wu&&(this.Yi.src=this.lc[this.ru(a)].ib.src);this.Xu?this.a().title=this.ku(a).zs.getContent():null!=this.lq&&(this.a().title=this.lq)};f.sz=function(){C(this.lc,function(a){Bh(a.gh,hp.CSS.rx)}.bind(this))};
f.ky=function(a,b){null==this.lc&&(this.lc={});a=r(a)?[a]:a;b=b||[];b=g(b)?b:[b];var c=null,d=null,e=null;D(a,function(a,k){if(this.lc[a])throw Error(a+" is already in use!");c=new po(a);this.S.Rj(c);d=c.Ia();N(d,hp.CSS.SD);d.title=a;e=P("img",{id:hp.ID_PREFIX+"_MenuItemIcon_"+B(),"class":hp.CSS.TD});e.src=k<=b.length-1?b[k]:null;Yh(d,e);this.lc[a]=wb(jp);this.lc[a].zs=c;this.lc[a].gh=d;this.lc[a].ib=e}.bind(this))};
f.No=function(a,b){var c=a;if(r(c)){if(!this.lc[c])throw Error(c+" does not exist!");c=this.Wz(c)}this.BB=this.Cl?this.Cl:a;this.Cl=a;ca(b)&&!b||this.sz();this.Xg(c);this.dispatchEvent({type:"item_selected",index:c,title:this.ku(c).zs.getContent()})};f.lw=function(a,b){np(this,kp(this.ee,this.Pn,this.Uo,b),function(){this.hm=!0;null!=a&&a()}.bind(this))};f.On=function(a,b){np(this,lp(this.ee,this.Uo,this.Pn,b),function(){this.hm=!1;this.ee.style.visibility="hidden";ca(a)&&a()}.bind(this))};
function ip(a){F(a.a(),"click",function(){this.hm?this.On():this.lw()}.bind(a));F(a.S,"action",function(a){this.No(a.target.getContent())}.bind(a));F(a.ee,"mouseover",function(){this.cv=!0}.bind(a));F(a.ee,"mouseout",function(){this.cv=!1;op(this)}.bind(a))}
f.f=function(){hp.d.f.call(this);delete this.cv;delete this.Kl;mp(this);Jb(this.Cb);delete this.Cb;C(this.lc,function(a,b){H(a);Q(a);delete this.lc[b]}.bind(this));tb(this.lc);delete this.lc;Q(this.ee);delete this.ee;Q(this.Yi);delete this.Yi;H(this.S);this.S.g();this.mq(this.kb);delete this.kb;delete this.lq;delete this.BB;delete this.Cl;delete this.hm;delete this.Pn;delete this.Uo;delete this.Wu;delete this.Xu};v("nrg.ui.SlideInMenu.ID_PREFIX",hp.ID_PREFIX);v("nrg.ui.SlideInMenu.EventType",{AM:"item_selected"});
v("nrg.ui.SlideInMenu.CSS_SUFFIX",hp.CSS_SUFFIX);v("nrg.ui.SlideInMenu.menuItemCollection",jp);v("nrg.ui.SlideInMenu.FADE_OUT_COUNTDOWN",450);v("nrg.ui.SlideInMenu.ANIM_LEN_IN",200);v("nrg.ui.SlideInMenu.ANIM_LEN_OUT",200);v("nrg.ui.SlideInMenu.MOUSEOUT_HIDE",1E3);v("nrg.ui.SlideInMenu.prototype.setHidePosition",hp.prototype.cC);v("nrg.ui.SlideInMenu.prototype.setShowPosition",hp.prototype.rC);v("nrg.ui.SlideInMenu.prototype.getHidePosition",hp.prototype.HG);
v("nrg.ui.SlideInMenu.prototype.getShowPosition",hp.prototype.uH);v("nrg.ui.SlideInMenu.prototype.getMenu",hp.prototype.nu);v("nrg.ui.SlideInMenu.prototype.getMenuHolder",hp.prototype.XG);v("nrg.ui.SlideInMenu.prototype.getMenuIcon",hp.prototype.YG);v("nrg.ui.SlideInMenu.prototype.setMenuIconSrc",hp.prototype.gC);v("nrg.ui.SlideInMenu.prototype.setMenuItemIconSrc",hp.prototype.aL);v("nrg.ui.SlideInMenu.prototype.getIndexFromTitle",hp.prototype.Wz);
v("nrg.ui.SlideInMenu.prototype.getTitleFromIndex",hp.prototype.ru);v("nrg.ui.SlideInMenu.prototype.getItemCollectionFromIndex",hp.prototype.ku);v("nrg.ui.SlideInMenu.prototype.matchMenuIconToSelected",hp.prototype.bB);v("nrg.ui.SlideInMenu.prototype.matchMenuTitleToSelected",hp.prototype.UI);v("nrg.ui.SlideInMenu.prototype.getSelectedMenuItem",hp.prototype.sH);v("nrg.ui.SlideInMenu.prototype.setHighlightedIndex",hp.prototype.Xg);v("nrg.ui.SlideInMenu.prototype.deselectAll",hp.prototype.sz);
v("nrg.ui.SlideInMenu.prototype.addMenuItem",hp.prototype.ky);v("nrg.ui.SlideInMenu.prototype.setSelected",hp.prototype.No);v("nrg.ui.SlideInMenu.prototype.showMenu",hp.prototype.lw);v("nrg.ui.SlideInMenu.prototype.hideMenu",hp.prototype.On);v("nrg.ui.SlideInMenu.prototype.setDefaultTitle",hp.prototype.XB);v("nrg.ui.SlideInMenu.prototype.disposeInternal",hp.prototype.f);function pp(){U.call(this)}w(pp,U);v("xiv.ui.layouts.interactors.InputController",pp);pp.ID_PREFIX="xiv.ui.layouts.interactors.InputController";pp.CSS_SUFFIX={ED:"inputbox",zM:"inputbox-hovered",bx:"display"};f=pp.prototype;f.cf=null;f.Ja=null;f.tI=!1;f.J=function(){if(null!=this.Ja)return this.Ja.value};f.I=function(a){null!=this.Ja&&(this.Ja.value=a,this.eh())};f.Kc=function(a){null!=this.Ja&&(this.Ja.max=a,this.eh())};f.Hd=function(a){null!=this.Ja&&(this.Ja.min=a,this.eh())};f.eh=function(){};
f.sB=function(a){this.Ja.value=parseInt(a.target.value);this.dispatchEvent({type:"input",value:this.Ja.value});this.eh()};
f.n=function(a){pp.d.n.call(this,a);this.cf=P("div");this.a().appendChild(this.cf);N(this.cf,pp.CSS.bx);this.Ja=P("input");this.Ja.type="number";this.Ja.step=1;this.Ja.min=0;this.Ja.value=0;this.a().appendChild(this.Ja);N(this.Ja,pp.CSS.ED);F(this.Ja,"mouseenter",function(a){a.stopPropagation();this.Ja.style.opacity=1;this.cf.style.opacity=0}.bind(this));F(this.Ja,"mouseleave",function(a){a.stopPropagation();this.Ja.style.opacity=0;this.cf.style.opacity=1}.bind(this));F(this.Ja,"input",this.sB.bind(this));
this.eh()};f.f=function(){pp.d.f.call(this);delete this.tI;this.Ja&&(H(this.Ja),Q(this.Ja),delete this.Ja);this.cf&&(H(this.cf),Q(this.cf),delete this.cf)};v("xiv.ui.layouts.interactors.InputController.EventType",{yM:"input",bx:"display"});v("xiv.ui.layouts.interactors.InputController.ID_PREFIX",pp.ID_PREFIX);v("xiv.ui.layouts.interactors.InputController.CSS_SUFFIX",pp.CSS_SUFFIX);v("xiv.ui.layouts.interactors.InputController.prototype.displayElt",pp.prototype.cf);
v("xiv.ui.layouts.interactors.InputController.prototype.inputBox",pp.prototype.Ja);v("xiv.ui.layouts.interactors.InputController.prototype.getValue",pp.prototype.J);v("xiv.ui.layouts.interactors.InputController.prototype.setValue",pp.prototype.I);v("xiv.ui.layouts.interactors.InputController.prototype.setMaximum",pp.prototype.Kc);v("xiv.ui.layouts.interactors.InputController.prototype.setMinimum",pp.prototype.Hd);v("xiv.ui.layouts.interactors.InputController.prototype.updateValue",pp.prototype.eh);
v("xiv.ui.layouts.interactors.InputController.prototype.onInput",pp.prototype.sB);v("xiv.ui.layouts.interactors.InputController.prototype.render",pp.prototype.n);v("xiv.ui.layouts.interactors.InputController.prototype.disposeInternal",pp.prototype.f);function qp(){U.call(this)}w(qp,pp);v("xiv.ui.layouts.interactors.FrameDisplay",qp);qp.ID_PREFIX="xiv.ui.layouts.interactors.FrameDisplay";qp.prototype.eh=function(){this.cf.innerHTML=this.Ja.value+" / "+this.Ja.max};v("xiv.ui.layouts.interactors.FrameDisplay.ID_PREFIX",qp.ID_PREFIX);v("xiv.ui.layouts.interactors.FrameDisplay.prototype.updateValue",qp.prototype.eh);v("nrg.array",function(){});v("nrg.array.naturalCompare",function(a,b){function c(a){for(var b=[],c=0,d=-1,e=0,h,k;h=(k=a.charAt(c++)).charCodeAt(0);)h=46==h||48<=h&&57>=h,h!==e&&(b[++d]="",e=h),b[d]+=k;return b}var d=c(a),e=c(b);for(x=0;d[x]&&e[x];x++)if(d[x]!==e[x]){var h=Number(d[x]),k=Number(e[x]);return h==d[x]&&k==e[x]?h-k:d[x]>e[x]?1:-1}return d.length-e.length});function rp(a,b,c){this.Ue=this.Te=this.Se=0;3==arguments.length?(this.Se=Number(a),this.Te=Number(b),this.Ue=Number(c)):a instanceof rp?(this.Se=Number(a.x()),this.Te=Number(a.y()),this.Ue=Number(a.z())):(this.Se=Number(a[0]),this.Te=Number(a[1]),this.Ue=Number(a[2]))}
rp.prototype={clone:function(){return new rp(this.Se,this.Te,this.Ue)},Ii:function(a){return this.Se*a.x()+this.Te*a.y()+this.Ue*a.z()},gr:function(a,b){return sp(this,tp(up(a,this),b))},length:function(){return Math.sqrt(this.Ii(this))},bk:function(a){return new rp(this.Te*a.z()-this.Ue*a.y(),this.Ue*a.x()-this.Se*a.z(),this.Se*a.y()-this.Te*a.x())},x:function(){return this.Se},y:function(){return this.Te},z:function(){return this.Ue}};
function vp(a){var b=a.length();return new rp(a.Se/b,a.Te/b,a.Ue/b)}function tp(a,b){return new rp(a.Se*b,a.Te*b,a.Ue*b)}function up(a,b){return new rp(a.Se-b.x(),a.Te-b.y(),a.Ue-b.z())}function sp(a,b){return new rp(a.Se+b.x(),a.Te+b.y(),a.Ue+b.z())}function wp(a){return new rp(-a.Se,-a.Te,-a.Ue)};function xp(a,b){this.Rv=new rp(a);this.$c=new rp(b)}xp.prototype={clone:function(){return new xp(this.Rv.clone(),this.$c.clone())},kk:function(){this.$c=wp(this.$c)},Ne:function(){return this.Rv}};function yp(a,b){this.$c=a;this.mp=b}yp.prototype={clone:function(){return new yp(this.$c.clone(),this.mp)},kk:function(){this.$c=wp(this.$c);this.mp=-this.mp}};function zp(a,b){this.ci=a;this.ds=b;var c=a[0].Ne(),d=a[1].Ne(),e=a[2].Ne(),d=vp(up(d,c).bk(up(e,c)));this.Me=new yp(d,d.Ii(c))}zp.prototype={clone:function(){var a=this.ci.map(function(a){return a.clone()});return new zp(a,this.ds)},kk:function(){this.ci.reverse().map(function(a){a.kk()});this.Me.kk()}};
function Ap(a,b,c,d,e,h){for(var k=0,l=[],n=0;n<a.ci.length;n++){var p=b.$c.Ii(a.ci[n].Ne())-b.mp,p=-1E-5>p?2:1E-5<p?1:0,k=k|p;l.push(p)}switch(k){case 0:(0<b.$c.Ii(a.Me.$c)?c:d).push(a);break;case 1:e.push(a);break;case 2:h.push(a);break;case 3:c=[];d=[];for(n=0;n<a.ci.length;n++){var m=(n+1)%a.ci.length,p=l[n],q=l[m],k=a.ci[n],m=a.ci[m];2!=p&&c.push(k);1!=p&&d.push(2!=p?k.clone():k);3==(p|q)&&(p=(b.mp-b.$c.Ii(k.Ne()))/b.$c.Ii(up(m.Ne(),k.Ne())),p=new xp(k.Rv.gr(m.Ne(),p),k.$c.gr(m.$c,p)),c.push(p),
d.push(p.clone()))}3<=c.length&&e.push(new zp(c,a.ds));3<=d.length&&h.push(new zp(d,a.ds))}};function Bp(a){this.hd=this.kd=this.Me=null;this.Gb=[];a&&Cp(this,a)}Bp.prototype={clone:function(){var a=new Bp;Dp(a,this.Me&&this.Me.clone());Ep(a,this.kd&&this.kd.clone());Fp(a,this.hd&&this.hd.clone());a.as(this.Gb.map(function(a){return a.clone()}));return a},zb:function(){for(var a=0;a<this.Gb.length;a++)this.Gb[a].kk();this.Me.kk();this.kd&&this.kd.zb();this.hd&&this.hd.zb();a=this.kd;this.kd=this.hd;this.hd=a},as:function(a){this.Gb=a}};function Fp(a,b){a.hd=b}function Ep(a,b){a.kd=b}
function Dp(a,b){a.Me=b}function Cp(a,b){if(b.length){a.Me||(a.Me=b[0].Me.clone());for(var c=[],d=[],e=0;e<b.length;e++)Ap(b[e],a.Me,a.Gb,a.Gb,c,d);c.length&&(a.kd||(a.kd=new Bp),Cp(a.kd,c));d.length&&(a.hd||(a.hd=new Bp),Cp(a.hd,d))}}function Gp(a){var b=a.Gb.slice();a.kd&&(b=b.concat(Gp(a.kd)));a.hd&&(b=b.concat(Gp(a.hd)));return b}function Hp(a,b){a.Gb=Ip(b,a.Gb);a.kd&&Hp(a.kd,b);a.hd&&Hp(a.hd,b)}
function Ip(a,b){if(!a.Me)return b.slice();for(var c=[],d=[],e=0;e<b.length;e++)Ap(b[e],a.Me,c,d,c,d);a.kd&&(c=Ip(a.kd,c));d=a.hd?Ip(a.hd,d):[];return c.concat(d)};function Jp(){this.Gb=[]}function Kp(a){var b=new Jp;b.as(a);return b}
Jp.prototype={clone:function(){var a=new Jp;a.as(this.Gb.map(function(a){return a.clone()}));return a},Nw:function(a){var b=new Bp(this.clone().Gb);a=new Bp(a.clone().Gb);Hp(b,a);Hp(a,b);a.zb();Hp(a,b);a.zb();Cp(b,Gp(a));return Kp(Gp(b))},wc:function(a){var b=new Bp(this.clone().Gb);a=new Bp(a.clone().Gb);b.zb();Hp(b,a);Hp(a,b);a.zb();Hp(a,b);a.zb();Cp(b,Gp(a));b.zb();return Kp(Gp(b))},Fu:function(a){var b=new Bp(this.clone().Gb);a=new Bp(a.clone().Gb);b.zb();Hp(a,b);a.zb();Hp(b,a);Hp(a,b);Cp(b,Gp(a));
b.zb();return Kp(Gp(b))},inverse:function(){var a=this.clone();a.Gb.map(function(a){a.kk()});return a},as:function(a){this.Gb=a}};function Lp(){}function Mp(a){for(var b=a.C.count,c=[],d=0,d=0;d<b;d+=3){var e=a.C.get(d),h=a.C.get(d+1),k=a.C.get(d+2),l=a.ca.get(d),n=a.ca.get(d+1),p=a.ca.get(d+2),m=a.Ga;a.Cc&&0<a.Cc.length&&(m=a.Cc.get(d));var q=[];q.push(new xp(e,l));q.push(new xp(h,n));q.push(new xp(k,p));c.push(new zp(q,m))}return Kp(c)}
function Np(a,b){if(!(null!=b&&b instanceof Jp))throw Error("Invalid CSG object.");var c=new dd,d=[];Db(b.Gb,function(a){var b=[],k=a.ds,b=Db(a.ci,function(a){a.color=k;return c.add(a)});for(a=a=2;a<b.length;a++)d.push([b[0],b[a-1],b[a]])}.bind(a));a.PE=Db(c.unique(),function(a){return[a.Ne().x(),a.Ne().y(),a.Ne().z()]});a.OE=Db(c.unique(),function(a){return[a.$c.x(),a.$c.y(),a.$c.z()]});a.NE=Db(c.unique(),function(a){return a.color?[a.color[0],a.color[1],a.color[2]]:null});a.C=new cd(9*d.length);
a.ca=new cd(9*d.length);a.Cc=new cd(9*d.length);Db(d,function(a){var b=a[0],c=a[1];a=a[2];var d=this.PE,n=this.OE,p=this.NE;this.C.add(d[b][0],d[b][1],d[b][2]);this.C.add(d[c][0],d[c][1],d[c][2]);this.C.add(d[a][0],d[a][1],d[a][2]);this.ca.add(n[b][0],n[b][1],n[b][2]);this.ca.add(n[c][0],n[c][1],n[c][2]);this.ca.add(n[a][0],n[a][1],n[a][2]);p[b]&&this.Cc.add(p[b][0],p[b][1],p[b][2]);p[c]&&this.Cc.add(p[c][0],p[c][1],p[c][2]);p[a]&&this.Cc.add(p[a][0],p[a][1],p[a][2])}.bind(a));0==a.Cc.La&&(a.Cc=null);
a.Ad=Sd}Lp.prototype.Nw=function(a){if(null==a||!(a instanceof Jp||a instanceof Vd))throw Error("Invalid object.");var b=a;a instanceof Vd&&(b=Mp(b));a=new Vd;Aa(a,new Lp);Np(a,Mp(this).Nw(b));return a};Lp.prototype.wc=function(a){if(null==a||!(a instanceof Jp||a instanceof Vd))throw Error("Invalid object.");var b=a;a instanceof Vd&&(b=Mp(b));a=new Vd;Aa(a,new Lp);Np(a,Mp(this).wc(b));return a};
Lp.prototype.Fu=function(a){if(null==a||!(a instanceof Jp||a instanceof Vd))throw Error("Invalid object.");var b=a;a instanceof Vd&&(b=Mp(b));a=new Vd;Aa(a,new Lp);Np(a,Mp(this).Fu(b));return a};Lp.prototype.inverse=function(){var a=new Vd;Aa(a,new Lp);Np(a,Mp(this).inverse());return a};v("X.constructable",Lp);v("X.constructable.prototype.intersect",Lp.prototype.Fu);v("X.constructable.prototype.inverse",Lp.prototype.inverse);v("X.constructable.prototype.subtract",Lp.prototype.wc);
v("X.constructable.prototype.union",Lp.prototype.Nw);function Op(a){function b(a,b){a=2*a*Math.PI;b*=Math.PI;var e=new rp(Math.cos(a)*Math.sin(b),Math.cos(b),Math.sin(a)*Math.sin(b));k.push(new xp(sp(c,tp(e,d)),e))}this.Gb=[];a=a||{};var c=new rp(a.Wd||[0,0,0]),d=a.Sg||1,e=a.za||16;a=a.qL||8;for(var h=[],k=[],l=0;l<e;l++)for(var n=0;n<a;n++)k=[],b(l/e,n/a),0<n&&b((l+1)/e,n/a),n<a-1&&b((l+1)/e,(n+1)/a),b(l/e,(n+1)/a),h.push(new zp(k));return Kp(h)}w(Op,Jp);function Pp(){Vd.call(this);this.s="sphere";this.Sa=[0,0,0];this.Kj=5;this.Rc=32;this.UE=16;Aa(this,new Lp)}w(Pp,Vd);Pp.prototype.__defineGetter__("center",function(){return this.Sa});Pp.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center");this.Sa=a});Pp.prototype.__defineGetter__("radius",function(){return this.Kj});Pp.prototype.__defineSetter__("radius",function(a){if(!u(a))throw Error("Invalid radius.");this.Kj=a});
Pp.prototype.da=function(){Np(this,new Op({Wd:this.Sa,Sg:this.Kj,za:this.Rc,qL:this.UE}));Pp.d.da.call(this)};v("X.sphere",Pp);v("X.sphere.prototype.modified",Pp.prototype.da);function Qp(a,b){$c.call(this);this.o=a;var c=ei(this.o)?this.o:this.o?this.o.body:null;this.FI=!!c&&Ji(c);this.UA=F(this.o,hc?"DOMMouseScroll":"mousewheel",this,b)}w(Qp,$c);
Qp.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.Gc;if("mousewheel"==a.type){c=1;if(E||ic&&(dc||pc("532.0")))c=40;d=Rp(-a.wheelDelta,c);ca(a.wheelDeltaX)?(b=Rp(-a.wheelDeltaX,c),c=Rp(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),ca(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;u(this.cB)&&(b=hd(b,-this.cB,this.cB));u(this.dB)&&(c=hd(c,-this.dB,this.dB));this.FI&&(b=-b);b=new Sp(d,a,b,c);this.dispatchEvent(b)};function Rp(a,b){return ic&&(cc||ec)&&0!=a%b?a:a/b}
Qp.prototype.f=function(){Qp.d.f.call(this);Vc(this.UA);this.UA=null};function Sp(a,b,c,d){Hc.call(this,b);this.type="mousewheel";this.detail=a;this.zh=c;this.Cd=d}w(Sp,Hc);function Tp(){$c.call(this)}w(Tp,$c);f=Tp.prototype;f.mg=0;f.$f=0;f.mf=100;f.Fe=0;f.$h=1;f.fe=!1;f.zk=!1;f.I=function(a){a=Up(this,a);this.mg!=a&&(this.mg=a+this.Fe>this.mf?this.mf-this.Fe:a<this.$f?this.$f:a,this.fe||this.zk||this.dispatchEvent("change"))};f.J=function(){return Up(this,this.mg)};f.ij=function(a){a=Up(this,a);this.Fe!=a&&(this.Fe=0>a?0:this.mg+a>this.mf?this.mf-this.mg:a,this.fe||this.zk||this.dispatchEvent("change"))};
f.ef=function(){var a=this.Fe;return null==this.$h?a:Math.round(a/this.$h)*this.$h};f.Hd=function(a){if(this.$f!=a){var b=this.fe;this.fe=!0;this.$f=a;a+this.Fe>this.mf&&(this.Fe=this.mf-this.$f);a>this.mg&&this.I(a);a>this.mf&&(this.Fe=0,this.Kc(a),this.I(a));(this.fe=b)||this.zk||this.dispatchEvent("change")}};f.qa=function(){return Up(this,this.$f)};
f.Kc=function(a){a=Up(this,a);if(this.mf!=a){var b=this.fe;this.fe=!0;this.mf=a;a<this.mg+this.Fe&&this.I(a-this.Fe);a<this.$f&&(this.Fe=0,this.Hd(a),this.I(this.mf));a<this.$f+this.Fe&&(this.Fe=this.mf-this.$f);(this.fe=b)||this.zk||this.dispatchEvent("change")}};f.ha=function(){return Up(this,this.mf)};f.Gh=function(){return this.$h};f.Yg=function(a){this.$h!=a&&(this.$h=a,a=this.fe,this.fe=!0,this.Kc(this.ha()),this.ij(this.ef()),this.I(this.J()),(this.fe=a)||this.zk||this.dispatchEvent("change"))};
function Up(a,b){return null==a.$h?b:a.$f+Math.round((b-a.$f)/a.$h)*a.$h};function Vp(a,b){hj.call(this,a);this.Gy=null;this.Ka=new Tp;this.HI=b||gd;F(this.Ka,"change",this.yA,!1,this)}w(Vp,hj);f=Vp.prototype;f.Fa="horizontal";f.Wn=!1;f.dJ=!1;f.Bg=10;f.nr=0;f.NA=!0;f.qr=0;f.YD=1E3;f.Fc=!0;f.Ge=!1;f.w=function(){Vp.d.w.call(this);var a=this.M().w("div",this.U(this.Fa));this.Yd(a)};f.Yd=function(a){Vp.d.Yd.call(this,a);cl(a,this.U(this.Fa));this.lz();Yk(this.a(),"slider");Wp(this)};
f.ab=function(){Vp.d.ab.call(this);this.te=new gm(this.oa);this.Pf=new gm(this.uc);this.te.Li(this.Ge);this.Pf.Li(this.Ge);this.te.Qt=this.Pf.Qt=ea;this.mb=new Zn(this.a());Xp(this,!0);this.a().tabIndex=0;this.dh()};
function Xp(a,b){b?(a.bb().A(a.te,"beforedrag",a.Gq).A(a.Pf,"beforedrag",a.Gq).A(a.te,["start","end"],a.Lq).A(a.Pf,["start","end"],a.Lq).A(a.mb,"key",a.Hq).A(a.a(),"click",a.Iq).A(a.a(),"mousedown",a.Iq),a.NA&&Yp(a,!0)):(a.bb().ob(a.te,"beforedrag",a.Gq).ob(a.Pf,"beforedrag",a.Gq).ob(a.te,["start","end"],a.Lq).ob(a.Pf,["start","end"],a.Lq).ob(a.mb,"key",a.Hq).ob(a.a(),"click",a.Iq).ob(a.a(),"mousedown",a.Iq),a.NA&&Yp(a,!1))}f.tc=function(){Vp.d.tc.call(this);Cc(this.te,this.Pf,this.mb,this.yk)};
f.Gq=function(a){var b=a.Yt==this.te?this.oa:this.uc,c;"vertical"==this.Fa?(c=this.a().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.ha()-this.qa())+this.qa()):c=a.left/(this.a().clientWidth-b.offsetWidth)*(this.ha()-this.qa())+this.qa();c=a.Yt==this.te?Math.min(Math.max(c,this.qa()),this.J()+this.ef()):Math.min(Math.max(c,this.J()),this.ha());Zp(this,b,c)};
f.Lq=function(a){var b="start"==a.type;gl(this.a(),"goog-slider-dragging",b);gl(a.target.handle,"goog-slider-thumb-dragging",b);a=a.Yt==this.te;b?(this.dispatchEvent("l"),this.dispatchEvent(a?"h":"j")):(this.dispatchEvent("m"),this.dispatchEvent(a?"i":"k"))};
f.Hq=function(a){var b=!0;switch(a.keyCode){case 36:$p(this,this.qa());break;case 35:$p(this,this.ha());break;case 33:aq(this,this.Bg);break;case 34:aq(this,-this.Bg);break;case 37:var c=this.Ge&&this.Ie()?1:-1;aq(this,a.shiftKey?c*this.Bg:c*this.ip);break;case 40:aq(this,a.shiftKey?-this.Bg:-this.ip);break;case 39:c=this.Ge&&this.Ie()?-1:1;aq(this,a.shiftKey?c*this.Bg:c*this.ip);break;case 38:aq(this,a.shiftKey?this.Bg:this.ip);break;default:b=!1}b&&a.preventDefault()};
f.Iq=function(a){this.a().focus&&this.a().focus();var b=a.target;fi(this.oa,b)||fi(this.uc,b)||(b="click"==a.type,b&&xa()<this.qr+this.YD||(b||(this.qr=xa()),this.dJ?$p(this,bq(this,a)):(this.Aw(a),this.sf=cq(this,bq(this,a)),this.IA="vertical"==this.Fa?this.dr<this.sf.offsetTop:this.dr>dq(this,this.sf)+this.sf.offsetWidth,a=Jh(this.a()),this.bb().A(a,"mouseup",this.yw,!0).A(this.a(),"mousemove",this.Aw),this.$i||(this.$i=new Wf(200),this.bb().A(this.$i,Xf,this.zA)),this.zA(),this.$i.start())))};
f.xA=function(a){aq(this,(0<a.detail?-1:1)*this.ip);a.preventDefault()};f.zA=function(){var a;if("vertical"==this.Fa){var b=this.dr,c=this.sf.offsetTop;this.IA?b<c&&(a=eq(this,this.sf)+this.Bg):b>c+this.sf.offsetHeight&&(a=eq(this,this.sf)-this.Bg)}else b=this.dr,c=dq(this,this.sf),this.IA?b>c+this.sf.offsetWidth&&(a=eq(this,this.sf)+this.Bg):b<c&&(a=eq(this,this.sf)-this.Bg);ca(a)&&Zp(this,this.sf,a)};
f.yw=function(){this.$i&&this.$i.stop();var a=Jh(this.a());this.bb().ob(a,"mouseup",this.yw,!0).ob(this.a(),"mousemove",this.Aw)};function fq(a,b){var c=Ki(b,a.a());return"vertical"==a.Fa?c.y:a.Ge&&a.Ie()?a.a().clientWidth-c.x:c.x}f.Aw=function(a){this.dr=fq(this,a)};function bq(a,b){var c=a.qa(),d=a.ha();if("vertical"==a.Fa){var e=a.oa.offsetHeight,h=a.a().clientHeight-e,e=fq(a,b)-e/2;return(d-c)*(h-e)/h+c}e=a.oa.offsetWidth;h=a.a().clientWidth-e;e=fq(a,b)-e/2;return(d-c)*e/h+c}
function eq(a,b){if(b==a.oa)return a.Ka.J();if(b==a.uc)return a.Ka.J()+a.Ka.ef();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");}f.Wf=function(){return this.te.Wf()||this.Pf.Wf()};function aq(a,b){Math.abs(b)<a.Gh()&&(b=(0==b?0:0>b?-1:1)*a.Gh());var c=eq(a,a.oa)+b,d=eq(a,a.uc)+b,c=hd(c,a.qa(),a.ha()-a.nr),d=hd(d,a.qa()+a.nr,a.ha());gq(a,c,d-c)}function Zp(a,b,c){var d=Up(a.Ka,c);c=b==a.oa?d:a.Ka.J();b=b==a.uc?d:a.Ka.J()+a.Ka.ef();c>=a.qa()&&b>=c+a.nr&&a.ha()>=b&&gq(a,c,b-c)}
function gq(a,b,c){a.qa()<=b&&b<=a.ha()-c&&a.nr<=c&&c<=a.ha()-b&&(b!=a.J()||c!=a.ef())&&(a.Ka.zk=!0,a.Ka.ij(0),a.Ka.I(b),a.Ka.ij(c),a.Ka.zk=!1,a.yA())}f.qa=function(){return this.Ka.qa()};f.Hd=function(a){this.Ka.Hd(a)};f.ha=function(){return this.Ka.ha()};f.Kc=function(a){this.Ka.Kc(a)};function cq(a,b){return b<=a.Ka.J()+a.Ka.ef()/2?a.oa:a.uc}f.yA=function(){this.dh();Wp(this);this.dispatchEvent("change")};
f.dh=function(){if(this.oa&&!this.Wn){var a=hq(this,eq(this,this.oa)),b=hq(this,eq(this,this.uc));if("vertical"==this.Fa)this.oa.style.top=a.y+"px",this.uc.style.top=b.y+"px",this.Ob&&(a=iq(b.y,a.y,this.oa.offsetHeight),this.Ob.style.top=a.offset+"px",this.Ob.style.height=a.size+"px");else{var c=this.Ge&&this.Ie()?"right":"left";this.oa.style[c]=a.x+"px";this.uc.style[c]=b.x+"px";this.Ob&&(a=iq(a.x,b.x,this.oa.offsetWidth),this.Ob.style[c]=a.offset+"px",this.Ob.style.width=a.size+"px")}}};
function iq(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}}function hq(a,b){var c=new rh;if(a.oa){var d=a.qa(),e=a.ha(),e=b==d&&d==e?0:(b-d)/(e-d);"vertical"==a.Fa?(d=a.a().clientHeight-a.oa.offsetHeight,e=Math.round(e*d),c.x=dq(a,a.oa),c.y=d-e):(d=Math.round(e*(a.a().clientWidth-a.oa.offsetWidth)),c.x=d,c.y=a.oa.offsetTop)}return c}
function $p(a,b){b=hd(b,a.qa(),a.ha());a.Wn&&a.kq.stop(!0);var c=new fk,d,e=cq(a,b),h=a.J(),k=a.ef(),l=eq(a,e),n=hq(a,l);d=a.Gh();Math.abs(b-l)<d&&(b=hd(l+(b>l?d:-d),a.qa(),a.ha()));Zp(a,e,b);l=hq(a,eq(a,e));d="vertical"==a.Fa?[dq(a,e),l.y]:[l.x,e.offsetTop];n=new Uj(e,[n.x,n.y],d,100);n.Li(a.Ge);c.add(n);a.Ob&&jq(a,e,h,k,l,c);a.Gy&&(e=a.Gy.FO(h,b,100),D(e,function(a){c.add(a)}));a.kq=c;a.bb().A(c,"end",a.WF);a.Wn=!0;c.play(!1)}f.Fd=function(){return this.Wn};
function jq(a,b,c,d,e,h){var k=hq(a,c),l=hq(a,c+d);c=k;d=l;b==a.oa?c=e:d=e;"vertical"==a.Fa?(b=iq(l.y,k.y,a.oa.offsetHeight),k=iq(d.y,c.y,a.oa.offsetHeight),e=new Uj(a.Ob,[dq(a,a.Ob),b.offset],[dq(a,a.Ob),k.offset],100),b=new Xj(a.Ob,b.size,k.size,100)):(b=iq(k.x,l.x,a.oa.offsetWidth),k=iq(c.x,d.x,a.oa.offsetWidth),e=new Uj(a.Ob,[b.offset,a.Ob.offsetTop],[k.offset,a.Ob.offsetTop],100),b=new Wj(a.Ob,b.size,k.size,100));e.Li(a.Ge);b.Li(a.Ge);h.add(e);h.add(b)}f.WF=function(){this.Wn=!1};
f.Yh=function(a){if(this.Fa!=a){var b=this.U(this.Fa),c=this.U(a);this.Fa=a;this.a()&&(a=this.a(),bl(a,b)&&(el(a,b),cl(a,c)),b=this.Ge&&this.Ie()?"right":"left",this.oa.style[b]=this.oa.style.top="",this.uc.style[b]=this.uc.style.top="",this.Ob&&(this.Ob.style[b]=this.Ob.style.top="",this.Ob.style.width=this.Ob.style.height=""),this.dh())}};f.Db=function(){return this.Fa};
f.f=function(){Vp.d.f.call(this);this.$i&&this.$i.g();delete this.$i;this.kq&&this.kq.g();delete this.kq;delete this.oa;delete this.uc;this.Ob&&delete this.Ob;this.Ka.g();delete this.Ka;this.mb&&(this.mb.g(),delete this.mb);this.yk&&(this.yk.g(),delete this.yk);this.te&&(this.te.g(),delete this.te);this.Pf&&(this.Pf.g(),delete this.Pf)};f.ip=1;f.Gh=function(){return this.Ka.Gh()};f.Yg=function(a){this.Ka.Yg(a)};f.J=function(){return this.Ka.J()};f.I=function(a){Zp(this,this.oa,a)};f.ef=function(){return this.Ka.ef()};
f.ij=function(a){Zp(this,this.uc,this.Ka.J()+a)};f.aa=function(a){Ui(this.a(),a);a&&this.dh()};function Wp(a){var b=a.a();b&&(Zk(b,"valuemin",a.qa()),Zk(b,"valuemax",a.ha()),Zk(b,"valuenow",a.J()),Zk(b,"valuetext",a.HI(a.J())||""))}function Yp(a,b){b?(a.yk||(a.yk=new Qp(a.a())),a.bb().A(a.yk,"mousewheel",a.xA)):a.bb().ob(a.yk,"mousewheel",a.xA)}f.nc=function(a){this.Fc!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.Fc=a,Xp(this,a),a||this.yw(),gl(this.a(),"goog-slider-disabled",!a))};
f.isEnabled=function(){return this.Fc};function dq(a,b){return a.Ge?Sj(b):b.offsetLeft};function kq(a){Vp.call(this,a);this.Ka.I(this.qa());this.Ka.ij(this.ha()-this.qa())}w(kq,Vp);kq.prototype.U=function(a){return"vertical"==a?"goog-twothumbslider-vertical":"goog-twothumbslider-horizontal"};kq.prototype.$j=function(a){a=this.M().w("div",a);Yk(a,"button");return a};
kq.prototype.lz=function(){var a=Lh(null,"goog-twothumbslider-value-thumb",this.a())[0],b=Lh(null,"goog-twothumbslider-extent-thumb",this.a())[0],c=Lh(null,"goog-twothumbslider-rangehighlight",this.a())[0];a||(a=this.$j("goog-twothumbslider-value-thumb"),this.a().appendChild(a));b||(b=this.$j("goog-twothumbslider-extent-thumb"),this.a().appendChild(b));c||(c=this.M().w("div","goog-twothumbslider-rangehighlight"),this.M().Eu(c,a));this.oa=a;this.uc=b;this.Ob=c};function lq(){Vd.call(this);this.s="fibers";Aa(this,new fd)}w(lq,Vd);v("X.fibers",lq);function mq(){this.Kk=P("div",{id:this.constructor.ID_PREFIX+"_"+B(),"class":this.constructor.zc});sl.call(this,"",this.Kk,!0);N(this.Eb,mq.CSS.jE);this.Of.style.marginTop="-4px";this.Eb.style.marginTop="0px"}w(mq,sl);v("nrg.ui.ZippyTree",mq);var wn="o",nq={gM:"n",ZD:wn};mq.ID_PREFIX="nrg.ui.ZippyTree";mq.CSS_SUFFIX={jE:"rootnode"};f=mq.prototype;f.wk=1;f.Ni=!1;f.CI=!0;f.Tq=1;f.$t=0;f.Rr=null;f.vf=null;f.bw=function(a){this.qz=a};f.Yn=function(){return 0===ai(this.Of).length};
f.dz=function(){this.gp(function(a){a.ac.Vb(!1)},this)};f.rn=function(){this.dz()};f.hG=function(){var a=[];this.gp(function(b){a.push(b)},this);return a};f.tu=function(){var a=[];C(this.Mc,function(b){a.push(b)});return a};f.Il=function(){this.gp(function(a){a.ac.Vb(!0)},this)};f.gp=function(a,b){C(b.Mc,function(b){a(b);this.gp(a,b)}.bind(this))};f.a=function(){return this.Kk};f.Vb=function(a,b){return oq(this,a,b,!0)};
function oq(a,b,c,d){c=null!=c?c:a;if(null!=c.Mc[b]){var e=c.Mc[b],h=e.ac;null!=h.$e?Tc(h,d?"a":"b",function(){h.Jg!=d&&e.Vb(d)}):e.Vb(d);return e}}f.Go=function(a,b){return oq(this,a,b,!1)};f.zq=function(a){var b=this,c=[];D(a,function(a){c.push(b.Mc[a]);b=b.Mc[a]}.bind(this));return c};f.Ze=function(a,b){!g(a)||ei(a)?pq(this,a,b):D(a,function(a){this.Ze(a,b)}.bind(this))};function pq(a,b,c){c?(c&&(c=r(c)?[c]:c,c.length>a.wk&&(a.wk=c.length)),a.un(c,a,b)):Yh(a.Kk,b)}
f.un=function(a,b,c,d){d=null!=d?d:1;b=null!=b?b:this;var e=b.Of;if(0==a.length)qq(this,b,c),null!=c&&rq(this,c,d-2);else{0<a.length&&a.length>this.wk&&(this.wk=a.length);if(b.Mc[a[0]])e=b.Mc[a[0]];else{var h=a[0];e.style.opacity=this.Tq;var k=new sl(h,e,!1);b.Eb.parentNode==this.Kk&&2==this.Kk.childNodes.length&&(k.Eb.style.marginTop="5px");k.Eb.style.left="inherit";k.Eb.style.width="inherit";sq(this,k);b.Mc[h]=k;k.Eb.style.opacity=this.Tq;e.style.opacity=1;this.Ni&&tq(this,k.Eb);this.dispatchEvent({type:wn,
je:k});e=k}rq(this,e.Eb,d-1);this.un(1<a.length?a.slice(1):[],e,c,d+1)}};function rq(a,b,c){null!=b&&b._maxDepth!=a.wk&&(null==b._maxDepth&&(b._maxDepth=a.wk),c=0>c?0:c,null!=b._nodeDepth||(b._nodeDepth=c),b.style.width=(100-5*c).toString()+"%",b.style.left=(5*c).toString()+"%")}function sq(a,b){F(b,"a",function(){this.dispatchEvent({type:"a",je:b})}.bind(a));F(b,"c",function(){this.dispatchEvent({type:"c",je:b})}.bind(a));F(b,"b",function(){this.dispatchEvent({type:"b",je:b})}.bind(a))}
function tq(a,b){(new ak(b,a.$t)).play()}f.BK=function(){this.Ni&&!this.vf.jf()&&this.vf.play()};f.FL=function(a){this.Tq=(this.Ni=!0===a)?0:1;this.$t=this.Ni?300:0;this.Ni&&(uq(this),this.Rr=[],this.vf=new fk,F(this.vf,"end",this.bz.bind(this)))};
function qq(a,b,c){if(null!=c){var d=b.Of;a=function(){qk(c,{position:"relative"});c.style.opacity=0;vk(c,300);null!=this.qz?this.qz(d,c):d.appendChild(c);vq(d);this.Ni?tq(this,c,function(){this.dispatchEvent({type:"n"})}.bind(this)):this.dispatchEvent({type:"n"})}.bind(a);b.yu()&&!b.ir&&b.Xv(!0);a()}}
function vq(a){var b=[],c=[],d=ai(a),e=d.length;D(d,function(a){bl(a,sl.CSS.pp)?b.push(a):1==a.childNodes.length&&bl(a.childNodes[0],sl.CSS.gh)&&c.push(a)});D(b,function(b,d){a.insertBefore(b,a.childNodes[e]||null);a.insertBefore(c[d],a.childNodes[e+1]||null)})}f.bz=function(){for(this.vf.g();this.Rr.length;)this.vf.add(this.Rr[0]),Ab.splice.call(this.Rr,0,1);F(this.vf,"end",this.bz.bind(this));this.vf.play()};
function uq(a){null!=a.VB&&(a.Ut(a.VB),delete a.VB);null!=a.vf&&(a.mq(a.vf),delete a.vf)}f.f=function(){mq.d.f.call(this);Q(this.Kk);delete this.Kk;uq(this);delete this.wk;delete this.Ni;delete this.CI;delete this.Tq;delete this.$t};v("nrg.ui.ZippyTree.EventType",nq);v("nrg.ui.ZippyTree.INDENT_PCT",5);v("nrg.ui.ZippyTree.ID_PREFIX",mq.ID_PREFIX);v("nrg.ui.ZippyTree.CSS_SUFFIX",mq.CSS_SUFFIX);v("nrg.ui.ZippyTree.FADE_TIME",300);v("nrg.ui.ZippyTree.NODE_DEPTH_KEY","_nodeDepth");
v("nrg.ui.ZippyTree.MAX_DEPTH_KEY","_maxDepth");v("nrg.ui.ZippyTree.folderSorter",function(a,b){if(null!=a.childNodes&&0!=a.childNodes.length)for(var c=ai(a),d=b[tl].toLowerCase(),e,h,k=c.length,l=0;l<k;l++){if(h=c[l],null!=h[tl]&&(e=h[tl].toLowerCase(),e=La(d,e),0>e)){$h(b,h);return}}else window.console.log("FOLDER SORTER",a,b);a.appendChild(b)});v("nrg.ui.ZippyTree.prototype.setCustomInsertMethod",mq.prototype.bw);v("nrg.ui.ZippyTree.prototype.isEmpty",mq.prototype.Yn);
v("nrg.ui.ZippyTree.prototype.contractAll",mq.prototype.dz);v("nrg.ui.ZippyTree.prototype.collapseAll",mq.prototype.rn);v("nrg.ui.ZippyTree.prototype.getAllNodes",mq.prototype.hG);v("nrg.ui.ZippyTree.prototype.getTopLevelNodes",mq.prototype.tu);v("nrg.ui.ZippyTree.prototype.expandAll",mq.prototype.Il);v("nrg.ui.ZippyTree.prototype.traverse",mq.prototype.gp);v("nrg.ui.ZippyTree.prototype.getElement",mq.prototype.a);v("nrg.ui.ZippyTree.prototype.setExpanded",mq.prototype.Vb);
v("nrg.ui.ZippyTree.prototype.setCollapsed",mq.prototype.Go);v("nrg.ui.ZippyTree.prototype.getFolderNodes",mq.prototype.zq);v("nrg.ui.ZippyTree.prototype.addContents",mq.prototype.Ze);v("nrg.ui.ZippyTree.prototype.createBranch",mq.prototype.un);v("nrg.ui.ZippyTree.prototype.playFx",mq.prototype.BK);v("nrg.ui.ZippyTree.prototype.toggleFadeInFx",mq.prototype.FL);v("nrg.ui.ZippyTree.prototype.disposeInternal",mq.prototype.f);function wq(){}w(wq,Qn);fa(wq);wq.prototype.w=function(a){var b=a.M().w("span",this.lk(a).join(" "));xq(this,b,a.Bi);return b};wq.prototype.yb=function(a,b){b=wq.d.yb.call(this,a,b);var c=al(b),d=yq;Ib(c,zq(this,Aq))?d=Aq:Ib(c,zq(this,Bq))?d=Bq:Ib(c,zq(this,yq))&&(d=yq);a.Bi=d;Zk(b,"checked",d==Aq?"mixed":d==Bq?"true":"false");return b};wq.prototype.Kg=function(){return"checkbox"};
function xq(a,b,c){if(b){var d=zq(a,c);bl(b,d)||(C(Cq,function(a){a=zq(this,a);gl(b,a,a==d)},a),Zk(b,"checked",c==Aq?"mixed":c==Bq?"true":"false"))}}wq.prototype.U=function(){return"goog-checkbox"};function zq(a,b){var c=a.U();if(b==Bq)return c+"-checked";if(b==yq)return c+"-unchecked";if(b==Aq)return c+"-undetermined";throw Error("Invalid checkbox state: "+b);};function Dq(a,b,c){c=c||wq.ce();fo.call(this,null,c,b);this.Bi=ca(a)?a:yq}w(Dq,fo);var Bq=!0,yq=!1,Aq=null,Cq={$L:Bq,NN:yq,ON:Aq};f=Dq.prototype;f.Ab=null;f.Jh=function(){return this.Bi==Bq};f.pf=function(a){a!=this.Bi&&(this.Bi=a,xq(this.Pa(),this.a(),this.Bi))};f.ig=function(a){this.fa?(this.tc(),this.Ab=a,this.ab()):this.Ab=a};f.toggle=function(){this.pf(this.Bi?yq:Bq)};
f.ab=function(){Dq.d.ab.call(this);if(this.rk){var a=this.bb();this.Ab&&a.A(this.Ab,"click",this.uu).A(this.Ab,"mouseover",this.sk).A(this.Ab,"mouseout",this.Jq).A(this.Ab,"mousedown",this.Ng).A(this.Ab,"mouseup",this.Tf);a.A(this.a(),"click",this.uu)}this.Ab&&(this.Ab.id||(this.Ab.id=kj(this)+".lbl"),Zk(this.a(),"labelledby",this.Ab.id))};f.nc=function(a){Dq.d.nc.call(this,a);if(a=this.a())a.tabIndex=this.isEnabled()?0:-1};
f.uu=function(a){a.stopPropagation();var b=this.Bi?"uncheck":"check";this.isEnabled()&&!a.target.href&&this.dispatchEvent(b)&&(a.preventDefault(),this.toggle(),this.dispatchEvent("change"))};f.Sf=function(a){32==a.keyCode&&this.uu(a);return!1};Nn("goog-checkbox",function(){return new Dq});function Eq(){Vd.call(this);this.s="mesh";Aa(this,new fd)}w(Eq,Vd);v("X.mesh",Eq);function Fq(){U.call(this);this.Zf=[];this.rf=[]}w(Fq,U);v("xiv.ui.ctrl.XtkController",Fq);Fq.ID_PREFIX="xiv.ui.ctrl.XtkController";Fq.CSS_SUFFIX={FD:"label",tD:"component"};var Gq=B();function Hq(){return P("div",{id:"Label_"+B(),"class":Fq.CSS.FD})}function Iq(a){a=g(a.file)?a.file[0]:a.file||a.name;return Ok(a)}function Jq(a,b){b.bC([Iq(a)])}f=Fq.prototype;f.aj=!1;f.n=function(a){Fq.d.n.call(this,a)};f.ig=function(a){null==this.Ab&&(this.Ab=Hq(),Yh(this.a(),this.Ab));this.Ab.innerHTML=a};
f.MG=function(){return this.Ab};f.bC=function(a){r(a)&&(a=[a]);this.Ml=a};f.CG=function(){return this.Ml};f.Zg=function(a){this.dD=a};f.Ic=function(){return this.dD};f.hj=function(a){a=this.v=a;this.v instanceof hj?(a=this.v.a(),this.v.fa?this.v.a().parentNode!==this.a()&&this.v.a()!==this.a()&&this.a().appendChild(this.v.a()):this.v.n(this.a())):this.a().appendChild(a);null!=a&&N(a,Fq.CSS.tD)};f.Gz=function(){return Mb(this.Zf,this.rf)};f.UG=function(){return this.Zf};f.OA=function(){return this.aj};
f.$K=function(a){this.aj=a};f.wH=function(){return this.rf};f.oG=function(){return this.v};f.hc=ea;f.Xd=function(a,b,c){a=new a;a.n();r(b)&&a.ig(b);Yh(this.a(),a.a());null!=c&&F(a,"p",c);return a};f.update=function(){this.v==this?this.k():this.v.k&&this.v.k()};f.k=function(){this.v.k&&this.v!=this&&this.v.k()};f.lt=function(a,b){var c=this.Xd(b,"Color",function(b){a.color=b.color}.bind(this));Jq(a,c);this.rf.push(c);c[Gq]=a;c.update()};
f.By=function(a,b){var c=this.Xd(b,"Opacity",function(b){a.opacity=parseFloat(b.value)});Jq(a,c);this.rf.push(c);c.v.I(1);c.v.k()};f.mt=function(a,b){var c=this.Xd(b,"Visible",function(b){a.visible=b.checked});Jq(a,c);this.rf.push(c);c.v.pf(a.visible)};
f.f=function(){Fq.d.f.call(this);this[Gq]=null;delete this.aj;delete this.dD;D(this.rf,function(a){H(a);a.g()});Jb(this.rf);delete this.rf;D(this.Zf,function(a){H(a);a.g();controller=null});Jb(this.Zf);delete this.Zf;null!=this.v&&(H(this.v),this.v instanceof hj?this.v.g():Q(this.v),delete this.v);null!=this.Ml&&(Jb(this.Ml),delete this.Ml);null!=this.Ab&&(Q(this.Ab),delete this.Ab)};v("xiv.ui.ctrl.XtkController.ID_PREFIX",Fq.ID_PREFIX);v("xiv.ui.ctrl.XtkController.CSS_SUFFIX",Fq.CSS_SUFFIX);
v("xiv.ui.ctrl.XtkController.EventType",{ZL:"p"});v("xiv.ui.ctrl.XtkController.OBJ_KEY",Gq);v("xiv.ui.ctrl.XtkController.createLabel",Hq);v("xiv.ui.ctrl.XtkController.getXObjLabel",Iq);v("xiv.ui.ctrl.XtkController.getObjectCategory",function(a){if(a instanceof Eq)return"Meshes";if(a instanceof J)return"Volumes";if(a instanceof lq)return"Fibers";if(a instanceof Pp)return"Annotations"});v("xiv.ui.ctrl.XtkController.setControllerFolders",Jq);v("xiv.ui.ctrl.XtkController.prototype.render",Fq.prototype.n);
v("xiv.ui.ctrl.XtkController.prototype.setLabel",Fq.prototype.ig);v("xiv.ui.ctrl.XtkController.prototype.getLabel",Fq.prototype.MG);v("xiv.ui.ctrl.XtkController.prototype.setFolders",Fq.prototype.bC);v("xiv.ui.ctrl.XtkController.prototype.getFolders",Fq.prototype.CG);v("xiv.ui.ctrl.XtkController.prototype.setXObj",Fq.prototype.Zg);v("xiv.ui.ctrl.XtkController.prototype.getXObj",Fq.prototype.Ic);v("xiv.ui.ctrl.XtkController.prototype.setComponent",Fq.prototype.hj);
v("xiv.ui.ctrl.XtkController.prototype.getAllControllers",Fq.prototype.Gz);v("xiv.ui.ctrl.XtkController.prototype.getMasterControllers",Fq.prototype.UG);v("xiv.ui.ctrl.XtkController.prototype.isInitialized",Fq.prototype.OA);v("xiv.ui.ctrl.XtkController.prototype.setInitialized",Fq.prototype.$K);v("xiv.ui.ctrl.XtkController.prototype.getSubControllers",Fq.prototype.wH);v("xiv.ui.ctrl.XtkController.prototype.getComponent",Fq.prototype.oG);
v("xiv.ui.ctrl.XtkController.prototype.dispatchComponentEvent",Fq.prototype.hc);v("xiv.ui.ctrl.XtkController.prototype.createController",Fq.prototype.Xd);v("xiv.ui.ctrl.XtkController.prototype.update",Fq.prototype.update);v("xiv.ui.ctrl.XtkController.prototype.updateStyle",Fq.prototype.k);v("xiv.ui.ctrl.XtkController.prototype.add_colorPalette",Fq.prototype.lt);v("xiv.ui.ctrl.XtkController.prototype.add_opacity",Fq.prototype.By);v("xiv.ui.ctrl.XtkController.prototype.add_visible",Fq.prototype.mt);
v("xiv.ui.ctrl.XtkController.prototype.disposeInternal",Fq.prototype.f);function Kq(){Fq.call(this)}w(Kq,Fq);v("xiv.ui.ctrl.Histogram",Kq);Kq.ID_PREFIX="xiv.ui.ctrl.Histogram";Kq.CSS_SUFFIX={nD:"canvas",KD:"linecanvas",PD:"max",WD:"min"};Kq.LEVEL_CUTOFF=.999;f=Kq.prototype;f.iI=.95;f.ge=null;f.ej=null;f.ls=null;f.lo=null;f.ss=null;f.np=null;f.CF="rgb(40,40,40)";f.rq=!1;
f.n=function(a){Kq.d.n.call(this,a);this.hj(this);this.Ai=P("canvas",{id:this.constructor.ID_PREFIX+"_Canvas_"+B(),"class":this.constructor.CSS.nD});this.a().appendChild(this.Ai);this.Yj=this.Ai.getContext("2d");this.Yj.fillStyle=this.CF;this.Oh=P("canvas",{id:this.constructor.ID_PREFIX+"_LineCanvas_"+B(),"class":this.constructor.CSS.KD});this.a().appendChild(this.Oh);this.Xf=this.Oh.getContext("2d");this.ko=P("div",{id:this.constructor.ID_PREFIX+"_Max_"+B(),"class":this.constructor.CSS.PD},"1000");
this.a().appendChild(this.ko);this.mo=P("div",{id:this.constructor.ID_PREFIX+"_Min_"+B(),"class":this.constructor.CSS.WD},"-1000");this.a().appendChild(this.mo)};f.Ic=function(){return Kq.d.Ic.call(this)};
function Lq(a){if(null==a.ge){var b=a.Ic(),c=b.max;D(b.image,function(a){D(a,function(a){D(a,function(a){if(null==this.ge){this.ge=[];for(var b=0,b=0;b<=c;b++)this.ge.push(0)}this.ge[parseInt(a)]++;this.ls++}.bind(this))}.bind(this))}.bind(a));if(null!=a.ge){var d;null==a.ej&&(a.ej=[],a.lo=0,D(a.ge,function(a){d=a/this.ls;this.ej.push(d);this.lo=Math.max(this.lo,d)}.bind(a)))}}}
f.yz=function(){if(null!=this.Ic()){var a=T(this.Ai),b=a.width,a=a.height;this.Ai.height=a;this.Ai.width=b;this.Oh.height=a;this.Oh.width=b;Lq(this);if(null!=this.ge)for(var b=Math.round(b/this.Ic().windowHigh),b=0<b?b:1,c=this.iI/this.lo,d,e=0,h=this.ej.length;e<h;e++)d=this.ej[e]*c*a,this.Yj.fillRect(b*e,a,b,-Math.round(d)),0<d&&!1==this.rq&&(this.rq=!0)}};f.$z=function(a){if(null!=this.ge)for(var b=0,c=0,d=this.ge.length;c<d;c++)if(b+=this.ge[c],b/this.ls>=a)return c};
f.update=function(){this.rq||this.yz();this.XC();if(null!=this.Ic()){var a=T(this.Oh),b=a.width,a=a.height;this.Oh.width=b;var c;c=0==this.oj&&0<this.Zh?Math.round(this.np/this.Zh*b):Math.round(this.np/this.oj*b);b=0==this.Zh?0:Math.round(this.ss/this.Zh*b);this.Xf.beginPath();this.Xf.strokeStyle="gray";this.Xf.moveTo(c,a);this.Xf.lineTo(b,0);this.Xf.lineWidth=.5;this.Xf.stroke();b=c+(b-c)/2;this.Xf.moveTo(b,a);this.Xf.lineTo(b,a-20);this.Xf.lineWidth=.5;this.Xf.stroke()}};
f.XC=function(){null!=this.Ic()&&(null==this.oj&&(this.oj=parseInt(this.Ic().windowLow),this.Zh=parseInt(this.Ic().windowHigh),this.oj=isNaN(this.oj)?null:this.oj,this.Zh=isNaN(this.Zh)?null:this.Zh,this.np=this.oj,this.ss=this.Zh),this.np=parseInt(this.Ic().windowLow),this.ss=parseInt(this.Ic().windowHigh),this.mo.innerHTML=this.np,this.ko.innerHTML=this.ss)};
f.f=function(){Kq.d.f.call(this);null!=this.ko&&(Q(this.ko),delete this.ko);null!=this.mo&&(Q(this.mo),delete this.mo);null!=this.Ai&&(Q(this.Ai),delete this.Ai);null!=this.Oh&&(Q(this.Oh),delete this.Oh);null!=this.ge&&(Jb(this.ge),delete this.ge);null!=this.ej&&(Jb(this.ej),delete this.ej);delete this.rq;delete this.ls;delete this.lo;delete this.Yj;delete this.Xf;delete this.oj;delete this.Zh};v("xiv.ui.ctrl.Histogram.EventType",{});v("xiv.ui.ctrl.Histogram.ID_PREFIX",Kq.ID_PREFIX);
v("xiv.ui.ctrl.Histogram.CSS_SUFFIX",Kq.CSS_SUFFIX);v("xiv.ui.ctrl.Histogram.LEVEL_CUTOFF",Kq.LEVEL_CUTOFF);v("xiv.ui.ctrl.Histogram.prototype.render",Kq.prototype.n);v("xiv.ui.ctrl.Histogram.prototype.draw",Kq.prototype.yz);v("xiv.ui.ctrl.Histogram.prototype.getLevelByPixelThreshold",Kq.prototype.$z);v("xiv.ui.ctrl.Histogram.prototype.update",Kq.prototype.update);v("xiv.ui.ctrl.Histogram.prototype.updateMaxMin",Kq.prototype.XC);v("xiv.ui.ctrl.Histogram.prototype.disposeInternal",Kq.prototype.f);function Mq(a,b){if(null==a)throw Error("Invalid direction for ResizeDragger: "+a);U.call(this);this.wz=a;this.gj=b;this.nn=null;this.hb=new gm(this.a());this.$r()}w(Mq,U);v("nrg.ui.ResizeDragger",Mq);Mq.ID_PREFIX="nrg.ui.ResizeDragger";Mq.CSS_SUFFIX={};f=Mq.prototype;f.ng=null;f.Ih=null;f.Dl=null;f.Bn=null;f.Hg=null;f.Bh=null;f.qq=null;f.An=null;f.offsetX=0;f.kC=function(a){this.offsetX=a};f.offsetY=0;f.eL=function(a){this.offsetY=a};f.Xa=null;f.Hh=null;f.ya=null;f.Gd=null;f.wa=null;f.dc=null;
f.Fd=!1;f.ie=new uh(10,10);f.ld=function(){return this.nn};f.Wh=function(a){this.nn=a};f.yq=function(){return this.hb};f.Oz=function(){return this.wz};f.md=function(){return this.a()};
f.sj=function(){this.Hh=T(this.a());this.Xa=Di(this.a());this.ng=-1*this.Hh.height/2+this.offsetY;this.Ih=-1*this.Hh.width/2+this.offsetX;this.hb.Wf()||this.Fd||(this.ya=wb(Di(this.gj)),this.Gd=wb(T(this.gj)),this.ya.left=this.ya.x,this.ya.top=this.ya.y,this.ya.right=this.ya.x+this.Gd.width,this.ya.bottom=this.ya.y+this.Gd.height,this.wa=wb(Di(this.nn)),this.dc=wb(T(this.nn)),this.wa.left=this.wa.x,this.wa.top=this.wa.y,this.wa.right=this.wa.x+this.dc.width,this.wa.bottom=this.wa.y+this.dc.height,
this.Dg&&this.Dg(this))};f.iC=function(a){return this.ie=a};f.$r=function(){F(this.hb,"start",this.Fv.bind(this));F(this.hb,"drag",this.bg.bind(this));F(this.hb,"end",this.Ev.bind(this))};f.Fv=function(){this.dispatchEvent({type:"start_resize"})};f.bg=function(){this.sj();this.dispatchEvent({type:"resize",NK:this.ya,Gd:this.Gd,wF:this.wa,dc:this.dc});null!=this.Oe&&this.Oe()};f.Ev=function(){this.dispatchEvent({type:"end_resize"})};f.update=function(){this.hb.Wf()||this.Fd||this.sj()};f.gf=function(){};
f.qf=function(a,b,c){this.sj();a=this.gf(a);u(c)&&0===c?wi(this.a(),a.end):Nq(this,a.start,a.end,b,c)};function Nq(a,b,c,d,e){a.nj=new Uj(a.a(),[b.x,b.y],[c.x,c.y],u(e)?e:500,tk);F(a.nj,"begin",function(){this.Fd=!0;this.Fv()}.bind(a));F(a.nj,"animate",a.bg.bind(a));F(a.nj,"end",function(){this.Fd=!1;this.nj.g();H(this.nj);this.nj.Zd();this.nj=null;Bi(this.a(),c);this.Ev();d&&d()}.bind(a));a.nj.play()}
f.f=function(){delete this.hP;delete this.iP;delete this.Ih;delete this.Dl;delete this.Bn;delete this.Hg;delete this.Bh;delete this.qq;delete this.An;delete this.Fd;tb(this.ie);delete this.ie;delete this.gj;delete this.nn;tb(this.Xa);delete this.Xa;tb(this.Hh);delete this.Hh;tb(this.ya);delete this.ya;tb(this.Gd);delete this.Gd;tb(this.wa);delete this.wa;tb(this.dc);delete this.dc;Q(this.hb.handle);this.hb.handle=null;H(this.hb);this.hb.g();delete this.hb;delete this.wz};
v("nrg.ui.ResizeDragger.EventType",{Cs:"resize",hE:"start_resize",gE:"end_resize"});v("nrg.ui.ResizeDragger.ID_PREFIX",Mq.ID_PREFIX);v("nrg.ui.ResizeDragger.CSS_SUFFIX",Mq.CSS_SUFFIX);v("nrg.ui.ResizeDragger.ANIM_MED",500);v("nrg.ui.ResizeDragger.prototype.vertDraggerOffset",Mq.prototype.ng);v("nrg.ui.ResizeDragger.prototype.horizDraggerOffset",Mq.prototype.Ih);v("nrg.ui.ResizeDragger.prototype.draggerLimitLeft",Mq.prototype.Dl);v("nrg.ui.ResizeDragger.prototype.draggerLimitRight",Mq.prototype.Bn);
v("nrg.ui.ResizeDragger.prototype.draggerLimitTop",Mq.prototype.Hg);v("nrg.ui.ResizeDragger.prototype.draggerLimitBottom",Mq.prototype.Bh);v("nrg.ui.ResizeDragger.prototype.draggerLimitWidth",Mq.prototype.qq);v("nrg.ui.ResizeDragger.prototype.draggerLimitHeight",Mq.prototype.An);v("nrg.ui.ResizeDragger.prototype.offsetX",Mq.prototype.offsetX);v("nrg.ui.ResizeDragger.prototype.setOffsetX",Mq.prototype.kC);v("nrg.ui.ResizeDragger.prototype.offsetY",Mq.prototype.offsetY);
v("nrg.ui.ResizeDragger.prototype.setOffsetY",Mq.prototype.eL);v("nrg.ui.ResizeDragger.prototype.handlePos",Mq.prototype.Xa);v("nrg.ui.ResizeDragger.prototype.handleSize",Mq.prototype.Hh);v("nrg.ui.ResizeDragger.prototype.resizeePos",Mq.prototype.ya);v("nrg.ui.ResizeDragger.prototype.resizeeSize",Mq.prototype.Gd);v("nrg.ui.ResizeDragger.prototype.boundaryPos",Mq.prototype.wa);v("nrg.ui.ResizeDragger.prototype.boundarySize",Mq.prototype.dc);v("nrg.ui.ResizeDragger.prototype.isAnimating",Mq.prototype.Fd);
v("nrg.ui.ResizeDragger.prototype.minSize",Mq.prototype.ie);v("nrg.ui.ResizeDragger.prototype.getBoundaryElement",Mq.prototype.ld);v("nrg.ui.ResizeDragger.prototype.setBoundaryElement",Mq.prototype.Wh);v("nrg.ui.ResizeDragger.prototype.getDragger",Mq.prototype.yq);v("nrg.ui.ResizeDragger.prototype.getDirection",Mq.prototype.Oz);v("nrg.ui.ResizeDragger.prototype.getHandle",Mq.prototype.md);v("nrg.ui.ResizeDragger.prototype.updateTrackingValues",Mq.prototype.sj);
v("nrg.ui.ResizeDragger.prototype.setMinSize",Mq.prototype.iC);v("nrg.ui.ResizeDragger.prototype.onResizeStart",Mq.prototype.Fv);v("nrg.ui.ResizeDragger.prototype.onResize",Mq.prototype.bg);v("nrg.ui.ResizeDragger.prototype.onResizeEnd",Mq.prototype.Ev);v("nrg.ui.ResizeDragger.prototype.update",Mq.prototype.update);v("nrg.ui.ResizeDragger.prototype.getSlideTrajectory",Mq.prototype.gf);v("nrg.ui.ResizeDragger.prototype.slideToLimits",Mq.prototype.qf);
v("nrg.ui.ResizeDragger.prototype.disposeInternal",Mq.prototype.f);function Oq(a){Mq.call(this,"right",a)}w(Oq,Mq);v("nrg.ui.ResizeDraggerRight",Oq);Oq.ID_PREFIX="nrg.ui.ResizeDraggerRight";Oq.CSS_SUFFIX={};Oq.prototype.Dg=function(){this.Dl=this.ya.left+this.ie.width+this.Ih;this.Bn=this.wa.right+this.Ih;this.qq=this.Bn-this.Dl};v("nrg.ui.ResizeDraggerRight.prototype.calculateDraggerLimits",Oq.prototype.Dg);Oq.prototype.Oe=function(){Pi(this.gj,Math.min(Math.max(this.Gd.width+(this.Fd?this.Xa.x-this.ya.right+this.Ih:this.hb.clientX-this.hb.ww),this.ie.width),this.dc.width))};
v("nrg.ui.ResizeDraggerRight.prototype.resizeMethod",Oq.prototype.Oe);Oq.prototype.update=function(a){this.hb.Wf()||this.Fd||(Oq.d.update.call(this,a),im(this.hb,new wh(this.Dl,this.ya.y,this.qq,0)),Bi(this.a(),this.ya.right+this.Ih,this.ya.y),Qi(this.a(),this.Gd.height))};Oq.prototype.gf=function(a){return{start:new rh(this.Xa.x,this.Xa.y),end:"MIN"==a?new rh(this.Dl,this.Xa.y):new rh(this.Bn,this.Xa.y)}};v("nrg.ui.ResizeDraggerRight.ID_PREFIX",Oq.ID_PREFIX);
v("nrg.ui.ResizeDraggerRight.CSS_SUFFIX",Oq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerRight.prototype.update",Oq.prototype.update);v("nrg.ui.ResizeDraggerRight.prototype.getSlideTrajectory",Oq.prototype.gf);function Pq(a){Mq.call(this,"right",a)}w(Pq,Mq);v("nrg.ui.ResizeDraggerBottom",Pq);Pq.ID_PREFIX="nrg.ui.ResizeDraggerBottom";Pq.CSS_SUFFIX={};Pq.prototype.Dg=function(){this.Hg=this.ya.top+this.ie.height+this.ng;this.Bh=this.wa.bottom+this.ng;this.An=this.Bh-this.Hg};v("nrg.ui.ResizeDraggerBottom.prototype.calculateDraggerLimits",Pq.prototype.Dg);Pq.prototype.Oe=function(){Qi(this.gj,Math.max(this.Gd.height+(this.Xa.y-this.ya.bottom),this.ie.height))};
v("nrg.ui.ResizeDraggerBottom.prototype.resizeMethod",Pq.prototype.Oe);Pq.prototype.update=function(){this.hb.Wf()||this.Fd||(Pq.d.update.call(this),im(this.hb,new wh(this.wa.x,this.Hg,0,this.Bh)),Bi(this.a(),this.ya.x,this.ya.bottom+this.ng))};Pq.prototype.gf=function(a){return{start:new rh(this.Xa.x,this.Xa.y),end:"MIN"==a?new rh(this.Xa.x,this.Hg):new rh(this.Xa.x,this.Bh)}};v("nrg.ui.ResizeDraggerBottom.ID_PREFIX",Pq.ID_PREFIX);v("nrg.ui.ResizeDraggerBottom.CSS_SUFFIX",Pq.CSS_SUFFIX);
v("nrg.ui.ResizeDraggerBottom.prototype.update",Pq.prototype.update);v("nrg.ui.ResizeDraggerBottom.prototype.getSlideTrajectory",Pq.prototype.gf);function Qq(a){Mq.call(this,"right",a)}w(Qq,Mq);v("nrg.ui.ResizeDraggerTop",Qq);Qq.ID_PREFIX="nrg.ui.ResizeDraggerTop";Qq.CSS_SUFFIX={};Qq.prototype.Dg=function(){this.Hg=this.wa.top-this.ng;this.Bh=this.ya.bottom-this.ie.height+this.ng;this.An=this.Bh-this.Hg};v("nrg.ui.ResizeDraggerTop.calculateDraggerLimits",Qq.Dg);Qq.prototype.Oe=function(){var a=this.Xa.y-this.ng,b=this.Gd.height+(this.Fd?this.ya.y-a:this.hb.xw-this.hb.clientY);this.gj.style.top=a.toString()+"px";Qi(this.gj,Math.max(b,this.ie.height))};
Qq.prototype.update=function(){this.hb.Wf()||this.Fd||(Qq.d.update.call(this),im(this.hb,new wh(this.wa.x,this.Hg,0,this.An)),Bi(this.a(),this.ya.x,this.ya.y+this.ng))};Qq.prototype.gf=function(a){return{start:new rh(this.Xa.x,this.Xa.y),end:"MIN"==a?new rh(this.Xa.x,this.Bh):new rh(this.Xa.x,this.Hg)}};v("nrg.ui.ResizeDraggerTop.ID_PREFIX",Qq.ID_PREFIX);v("nrg.ui.ResizeDraggerTop.CSS_SUFFIX",Qq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerTop.prototype.calculateDraggerLimits",Qq.prototype.Dg);
v("nrg.ui.ResizeDraggerTop.prototype.resizeMethod",Qq.prototype.Oe);v("nrg.ui.ResizeDraggerTop.resizeMethod",Qq.Oe);v("nrg.ui.ResizeDraggerTop.prototype.update",Qq.prototype.update);v("nrg.ui.ResizeDraggerTop.prototype.getSlideTrajectory",Qq.prototype.gf);function Rq(a){Mq.call(this,"right",a)}w(Rq,Mq);v("nrg.ui.ResizeDraggerTopRight",Rq);Rq.ID_PREFIX="nrg.ui.ResizeDraggerTopRight";Rq.CSS_SUFFIX={};Rq.prototype.sj=function(){Rq.d.sj.call(this);this.hb.Wf()||this.Fd||(Oq.prototype.Dg.bind(this)(),Qq.prototype.Dg.bind(this)())};Rq.prototype.bg=function(){Rq.d.bg.call(this);Oq.prototype.Oe.bind(this)();Qq.prototype.Oe.bind(this)()};
Rq.prototype.update=function(a){this.hb.Wf()||this.Fd||(Rq.d.update.call(this,a),im(this.hb,new wh(this.wa.x+this.Ih,this.wa.y+this.ng,this.dc.width,this.dc.height)),Bi(this.a(),this.ya.right+this.Ih,this.ya.y+this.ng))};
Rq.prototype.gf=function(a){var b=new rh(this.Xa.x,this.Xa.y),c;"TOP_LEFT"==a?c=new rh(this.wa.x,this.wa.y):"TOP_RIGHT"==a?c=new rh(this.wa.x+this.dc.width,this.wa.y):"BOTTOM_RIGHT"==a?c=new rh(this.wa.x+this.dc.width,this.wa.y+this.dc.height):"BOTTOM_LEFT"==a&&(c=new rh(this.wa.x,this.wa.y+this.dc.height));return{start:b,end:c}};v("nrg.ui.ResizeDraggerTopRight.ID_PREFIX",Rq.ID_PREFIX);v("nrg.ui.ResizeDraggerTopRight.CSS_SUFFIX",Rq.CSS_SUFFIX);
v("nrg.ui.ResizeDraggerTopRight.prototype.updateTrackingValues",Rq.prototype.sj);v("nrg.ui.ResizeDraggerTopRight.prototype.onResize",Rq.prototype.bg);v("nrg.ui.ResizeDraggerTopRight.prototype.update",Rq.prototype.update);v("nrg.ui.ResizeDraggerTopRight.prototype.getSlideTrajectory",Rq.prototype.gf);function Sq(a){Mq.call(this,"right",a)}w(Sq,Mq);v("nrg.ui.ResizeDraggerLeft",Sq);Sq.ID_PREFIX="nrg.ui.ResizeDraggerLeft";Sq.CSS_SUFFIX={};Sq.prototype.Oe=function(){Pi(this.gj,Math.min(Math.max(this.Gd.width+(this.ya.x-this.Xa.x),this.ie.width),this.dc.width));Bi(this.a(),this.Xa.x,this.ya.y)};v("nrg.ui.ResizeDraggerLeft.prototype.resizeMethod",Sq.prototype.Oe);
Sq.prototype.update=function(a){this.hb.Wf()||this.Fd||(Sq.d.update.call(this,a),im(this.hb,new wh(this.wa.x-this.Hh.width,this.wa.y,this.dc.width-this.ie.width-this.Hh.width,0)),Bi(this.a(),this.ya.x-this.Hh.width,this.ya.y))};Sq.prototype.gf=function(a){return{start:new rh(this.Xa.x,this.Xa.y),end:"MIN"==a?new rh(this.wa.x+this.ie.width,this.Xa.y):new rh(this.wa.x+this.dc.width-this.ie.width,this.Xa.y)}};v("nrg.ui.ResizeDraggerLeft.ID_PREFIX",Sq.ID_PREFIX);
v("nrg.ui.ResizeDraggerLeft.CSS_SUFFIX",Sq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerLeft.resizeMethod",Sq.Oe);v("nrg.ui.ResizeDraggerLeft.prototype.update",Sq.prototype.update);v("nrg.ui.ResizeDraggerLeft.prototype.getSlideTrajectory",Sq.prototype.gf);function Tq(a,b){U.call(this);this.o=Kh(a);this.Pd={};this.or=this.pr=20;this.mm(b||Tq.HO)}w(Tq,U);v("nrg.ui.Resizable",Tq);Tq.ID_PREFIX="nrg.ui.Resizable";Tq.CSS_SUFFIX={WL:"boundary"};var Uq="TOP RIGHT BOTTOM LEFT TOP_LEFT TOP_RIGHT BOTTOM_RIGHT BOTTOM_LEFT".split(" "),Vq=["RIGHT","BOTTOM"],Wq=new wh(0,0,600,600);f=Tq.prototype;f.YK=function(a,b){this.CO(a);if(0>b)throw Error("Threshold must be greater than zero!");this.yO[a]=b};f.md=function(a){return this.Pd[a].md()};f.Pl=function(a){return this.Pd[a]};
f.EG=function(){var a=[];D(ob(this.Pd),function(b){a.push(b.md())});return a};f.ld=function(){return this.Kf};f.Wh=function(a){this.Kf=a;if(this.Kf.parentNode!==this.o.parentNode)throw Error("Boundary element parentNode must be same as resizable  element's parentNode.");this.update()};f.hC=function(a){this.or=a};f.jC=function(a){this.pr=a};f.$G=function(){return this.or};f.aH=function(){return this.pr};
f.mm=function(a){a=a||"DEFAULT";r(a)&&(a="ALL"==a.toUpperCase()?Uq:"DEFAULT"==a.toUpperCase()?Vq:[a]);Xq(this);D(a,function(a){if(!r(a))throw Error("String required!");if(!Ib(Uq,a))throw Error("Invalid direction: ",a);this.ly(a)}.bind(this))};f.At=function(a){if(!Ib(Uq,a))throw Error("Invalid draggerDir '"+a);};f.hI=function(a){this.At(a);if(!this.Pd[a])throw Error("No ResizeDragger for "+a);};f.qf=function(a,b,c,d){a=a.toUpperCase();this.At(a);this.update();this.Pd[a].qf(b,c,d)};
function Yq(a,b){switch(a){case "TOP":return new Qq(b);case "BOTTOM":return new Pq(b);case "LEFT":return new Sq(b);case "RIGHT":return new Oq(b);case "TOP_RIGHT":return new Rq(b);case "TOP_LEFT":window.console.log("ToDo: need to implement resize dragger for top left.");break;case "BOTTOM_LEFT":window.console.log("ToDo: need to implement resize dragger for bottom left.");break;case "BOTTOM_RIGHT":window.console.log("ToDo: need to implement resize dragger for bottom right.")}}
f.ly=function(a){if(a in this.Pd)throw Error("Resize direction "+a+" already in use.");this.Pd[a]=Yq(a,this.o);F(this.Pd[a],"start_resize",this.VJ.bind(this));F(this.Pd[a],"resize",this.Dk.bind(this));F(this.Pd[a],"end_resize",this.UJ.bind(this));this.update()};f.update=function(){if(null!=this.Kf){var a=new uh(this.pr,this.or);C(this.Pd,function(b){this.Kf&&this.Kf.parentNode&&Yh(this.Kf.parentNode,b.md());b.ld()!==this.Kf&&b.Wh(this.Kf);b.iC(a);b.sj();b.update()}.bind(this))}};f.VJ=function(){this.dispatchEvent({type:"resize_start"})};
f.Dk=function(a){this.dispatchEvent({type:"resize",NK:a.ya,Gd:a.Gd,wF:a.wa,dc:a.dc})};f.UJ=function(){this.update();this.dispatchEvent({type:"resize_end"})};function Xq(a){C(a.Pd,function(a){a&&(H(a),a.g())});tb(a.Pd)}f.f=function(){Tq.d.f.call(this);Xq(this);delete this.Pd;this.Kf&&(Q(this.Kf.parentNode),delete this.Kf)};v("nrg.ui.Resizable.EventType",{Cs:"resize",hE:"resize_start",gE:"resize_end"});v("nrg.ui.Resizable.ID_PREFIX",Tq.ID_PREFIX);v("nrg.ui.Resizable.CSS_SUFFIX",Tq.CSS_SUFFIX);
v("nrg.ui.Resizable.DIRECTIONS",Uq);v("nrg.ui.Resizable.DEFAULT_DIRECTIONS",Vq);v("nrg.ui.Resizable.DEFAULT_LIMITS",Wq);v("nrg.ui.Resizable.DEFAULT_MIN_HEIGHT",20);v("nrg.ui.Resizable.DEFAULT_MIN_WIDTH",20);v("nrg.ui.Resizable.createResizeDragger",Yq);v("nrg.ui.Resizable.prototype.setBoundThreshold",Tq.prototype.YK);v("nrg.ui.Resizable.prototype.getHandle",Tq.prototype.md);v("nrg.ui.Resizable.prototype.getResizeDragger",Tq.prototype.Pl);v("nrg.ui.Resizable.prototype.getHandles",Tq.prototype.EG);
v("nrg.ui.Resizable.prototype.getBoundaryElement",Tq.prototype.ld);v("nrg.ui.Resizable.prototype.setBoundaryElement",Tq.prototype.Wh);v("nrg.ui.Resizable.prototype.setMinHeight",Tq.prototype.hC);v("nrg.ui.Resizable.prototype.setMinWidth",Tq.prototype.jC);v("nrg.ui.Resizable.prototype.getMinHeight",Tq.prototype.$G);v("nrg.ui.Resizable.prototype.getMinWidth",Tq.prototype.aH);v("nrg.ui.Resizable.prototype.setResizeDirections",Tq.prototype.mm);v("nrg.ui.Resizable.prototype.checkDirectionValid",Tq.prototype.At);
v("nrg.ui.Resizable.prototype.hasDragger",Tq.prototype.hI);v("nrg.ui.Resizable.prototype.slideToLimits",Tq.prototype.qf);v("nrg.ui.Resizable.prototype.addResizeDirection",Tq.prototype.ly);v("nrg.ui.Resizable.prototype.update",Tq.prototype.update);v("nrg.ui.Resizable.prototype.disposeInternal",Tq.prototype.f);function Zq(a){U.call(this);this.Hb=a}w(Zq,U);v("xiv.ui.layouts.LayoutFrame",Zq);Zq.ID_PREFIX="xiv.ui.layouts.LayoutFrame";Zq.CSS_SUFFIX={};f=Zq.prototype;f.Dd=function(){return this.Hb};f.Ac=null;f.P=function(){return this.tp};f.mm=function(a){this.tp=this.tp?this.tp:new Tq(this.a());this.tp.mm(a)};f.f=function(){Zq.d.f.call(this);delete this.Hb};v("xiv.ui.layouts.LayoutFrame.EventType",{});v("xiv.ui.layouts.LayoutFrame.ID_PREFIX",Zq.ID_PREFIX);v("xiv.ui.layouts.LayoutFrame.CSS_SUFFIX",Zq.CSS_SUFFIX);
v("xiv.ui.layouts.LayoutFrame.prototype.getTitle",Zq.prototype.Dd);v("xiv.ui.layouts.LayoutFrame.prototype.getResizable",Zq.prototype.P);v("xiv.ui.layouts.LayoutFrame.prototype.setResizeDirections",Zq.prototype.mm);v("xiv.ui.layouts.LayoutFrame.prototype.disposeInternal",Zq.prototype.f);function $q(){U.call(this);if(null==this.constructor.TITLE)throw window.console.log("\n\n\n\nThis is the class attempting to inherit from it:"),window.console.log(this,this.constructor,this.constructor.TITLE,this.constructor.ID_PREFIX),Error("Sublcasses of xiv.ui.layouts.Layout must have  the TITLE defined as a constructor property!");this.i={}}w($q,U);v("xiv.ui.layouts.Layout",$q);
var ar="Slider_"+B(),br="FrameDisplay_"+B(),cr="ZoomDisplay_"+B(),dr="Crosshairs_"+B(),er="PlayButton_"+B(),fr={la:ar,Ld:br,Af:cr,bd:dr,Aj:er};$q.ID_PREFIX="xiv.ui.layouts.Layout";$q.CSS_SUFFIX={};f=$q.prototype;f.nb=20;f.Zc=20;f.bL=function(a){this.Zc=a};f.cL=function(a){this.nb=a};f.QG=function(){return this.i};f.lu=function(a){return this.i[a]};f.PG=function(a){window.console.log(a,this.i[a]);var b={};C(fr,function(c){b[c]=this.i[a][c]}.bind(this));window.console.log("INTERACTORS!",b);return b};
f.Dd=function(){return this.constructor.TITLE};f.iy=function(a){this.i=this.i?this.i:{};this.i[a.Dd()]=a};f.Gg=function(){this.dispatchEvent({type:"q"})};f.Wv=function(){C(this.Ol(),function(a){null!=a.la&&(a.la.g(),delete a.la);null!=a.bd&&(a.bd.g(),delete a.bd);null!=a.Ld&&(a.Ld.g(),delete a.Ld);null!=a.Af&&(a.Af.g(),delete a.Af);null!=a.Aj&&(a.Aj.g(),delete a.Aj)})};
f.kp=function(){C(this.Ol(),function(a){null!=a.la&&(a.la.k(),a.la.I(a.la.J()));null!=a.bd&&a.bd.k();null!=a.Ld&&a.Ld.k();null!=a.Af&&a.Af.k();null!=a.Aj&&a.Aj.k()})};f.k=function(){$q.d.k.call(this);this.Gg()};f.f=function(){$q.d.f.call(this);delete this.Zc;delete this.nb;this.zn(this.OD);delete this.OD};v("xiv.ui.layouts.Layout.EventType",{Cs:"q"});v("xiv.ui.layouts.Layout.INTERACTORS",fr);v("xiv.ui.layouts.Layout.ID_PREFIX",$q.ID_PREFIX);v("xiv.ui.layouts.Layout.CSS_SUFFIX",$q.CSS_SUFFIX);
v("xiv.ui.layouts.Layout.prototype.setMinLayoutFrameHeight",$q.prototype.bL);v("xiv.ui.layouts.Layout.prototype.setMinLayoutFrameWidth",$q.prototype.cL);v("xiv.ui.layouts.Layout.prototype.getLayoutFrames",$q.prototype.QG);v("xiv.ui.layouts.Layout.prototype.getLayoutFrameByTitle",$q.prototype.lu);v("xiv.ui.layouts.Layout.prototype.getLayoutFrameInteractors",$q.prototype.PG);v("xiv.ui.layouts.Layout.prototype.getTitle",$q.prototype.Dd);v("xiv.ui.layouts.Layout.prototype.addLayoutFrame",$q.prototype.iy);
v("xiv.ui.layouts.Layout.prototype.dispatchResize",$q.prototype.Gg);v("xiv.ui.layouts.Layout.prototype.removeAllInteractors",$q.prototype.Wv);v("xiv.ui.layouts.Layout.prototype.updateInteractors",$q.prototype.kp);v("xiv.ui.layouts.Layout.prototype.updateStyle",$q.prototype.k);v("xiv.ui.layouts.Layout.prototype.disposeInternal",$q.prototype.f);function gr(a){bd.call(this);this.s="interactor";this.ze=a;this.Us=this.Sx=this.Rx=this.Tx=this.Qx=this.Ux=null;this.Lp=!0;this.ui=this.oi=this.zg=!1;this.Oc=[0,0];this.Ps=new A.O(0,0,0);this.Km=new A.O(0,0,0);this.RA=0;this.$x=this.Hp=null;this.ct=!1;this.rb={MOUSEWHEEL_ENABLED:!0,MOUSECLICKS_ENABLED:!0,KEYBOARD_ENABLED:!0,HOVERING_ENABLED:!0,CONTEXTMENU_ENABLED:!1,TOUCH_ENABLED:!0,TOUCH_BOUNCING_ENABLED:!1}}w(gr,bd);gr.prototype.__defineGetter__("config",function(){return this.rb});
gr.prototype.__defineGetter__("leftButtonDown",function(){return this.zg});gr.prototype.__defineGetter__("middleButtonDown",function(){return this.oi});gr.prototype.__defineGetter__("rightButtonDown",function(){return this.ui});
gr.prototype.ra=function(){this.rb.MOUSEWHEEL_ENABLED?(this.Us=new Qp(this.ze),this.Ux=F(this.Us,"mousewheel",this.vo.bind(this))):(Vc(this.Ux),this.Us=null);this.rb.MOUSECLICKS_ENABLED?(this.Qx=F(this.ze,"mousedown",this.Av.bind(this)),this.Tx=F(this.ze,"mouseup",this.Cv.bind(this))):(Vc(this.Qx),Vc(this.Tx));this.ze.oncontextmenu=this.rb.CONTEXTMENU_ENABLED?null:function(){return!1};window.onkeydown=this.rb.KEYBOARD_ENABLED?this.Sh.bind(this):null;this.rb.TOUCH_ENABLED?(this.rb.TOUCH_BOUNCING_ENABLED||
document.body.addEventListener("touchmove",function(a){a.preventDefault()},!1),this.XE=F(this.ze,"touchstart",this.oK.bind(this)),this.WE=F(this.ze,"touchmove",this.mK.bind(this)),this.VE=F(this.ze,"touchend",this.iK.bind(this))):(Vc(this.XE),Vc(this.WE),Vc(this.VE));Vc(this.Rx);Vc(this.Sx);this.Rx=F(this.ze,"mousemove",this.KJ.bind(this));this.Sx=F(this.ze,"mouseout",this.LJ.bind(this))};
gr.prototype.Av=function(a){0==a.button?this.zg=!0:1==a.button?this.oi=!0:2==a.button&&(this.ui=!0);eval("this.onMouseDown("+this.zg+","+this.oi+","+this.ui+")");hr(this);a.preventDefault()};gr.prototype.HJ=function(){};gr.prototype.Cv=function(a){0==a.button?this.zg=!1:1==a.button?this.oi=!1:2==a.button&&(this.ui=!1);eval("this.onMouseUp("+this.zg+","+this.oi+","+this.ui+")");hr(this);a.preventDefault()};gr.prototype.__defineGetter__("mousePosition",function(){return this.Oc});f=gr.prototype;
f.NJ=function(){};f.LJ=function(a){this.Lp=!1;this.rb.KEYBOARD_ENABLED&&(window.onkeydown=null);this.ui=this.oi=this.zg=!1;hr(this);this.Ps=new A.O(0,0,0);a.preventDefault()};f.JJ=function(){};f.oK=function(a){a.preventDefault();a.ra(a.Gc.targetTouches[0],a.currentTarget);eval("this.onTouchStart("+a.clientX+","+a.clientY+")");this.Km=new A.O(a.clientX,a.clientY,0);this.$x=setTimeout(this.kK.bind(this,a),500)};f.nK=function(){};
f.kK=function(a){eval("this.onTouchHover("+a.clientX+","+a.clientY+")");a=new se;a.yg=!0;a.Bf=this instanceof ir;this.dispatchEvent(a);this.Pp=!0};f.jK=function(){};function jr(a){clearTimeout(a.$x);if(a.Pp){var b=new se;b.yg=!1;b.Bf=a instanceof ir;a.dispatchEvent(b)}a.Pp=!1}f.iK=function(a){a.preventDefault();eval("this.onTouchEnd()");jr(this)};f.hK=function(){};
f.mK=function(a){a.preventDefault();this.Pp||jr(this);this.touchmoveEvent=a=a.Gc;eval("this.onTouchMove(this['touchmoveEvent'])");var b=a.targetTouches;if(1==b.length){a=b[0];var c=[a.clientX,a.clientY];a=new A.O(c[0],c[1],0);var b=c[0]>3*this.ze.clientWidth/4,d=c[0]<this.ze.clientWidth/4,e=c[1]<this.ze.clientHeight/4,c=c[1]>3*this.ze.clientHeight/4,c=!b&&!d&&!e&&!c,e=this.Km.wc(a);this.Km=a.clone();if(this.Pp)a=new qe,5<e.x?e.x=1:-5>e.x&&(e.x=-1),5<e.y?e.y=1:-5>e.y&&(e.y=-1),a.dd=e,this.dispatchEvent(a);
else if(this instanceof kr&&(b||d))a=new we,a.Ub=0>e.y,this.dispatchEvent(a);else if(this instanceof ir||c)e.scale(3),a=new re,a.dd=e,this.dispatchEvent(a)}else 2==b.length&&(a=b[0],b=b[1],a=[a.clientX,a.clientY],b=[b.clientX,b.clientY],a=new A.O(a[0],a[1],0),b=new A.O(b[0],b[1],0),e=qd(a,b),b=e-this.RA,this.RA=e,this.Km.wc(a),this.Km=a.clone(),10<Math.abs(b)&&(a=new se,a.yg=0<b,a.Bf=this instanceof ir,this.dispatchEvent(a)))};f.lK=function(){};
f.KJ=function(a){this.mousemoveEvent=a;eval("this.onMouseMove(this['mousemoveEvent'])");this.Lp=!0;this.rb.KEYBOARD_ENABLED&&null==window.onkeydown&&(window.onkeydown=this.Sh.bind(this));a.preventDefault();var b=a.shiftKey;this.ct=b;this.Oc=[a.offsetX,a.offsetY];var c=new A.O(this.Oc[0],this.Oc[1],0);a=this.Ps.wc(c);this.Ps=c.clone();this.rb.HOVERING_ENABLED&&((0<Math.abs(a.x)||0<Math.abs(a.y)||this.oi||this.zg||this.ui)&&hr(this),this.Hp=setTimeout(function(){hr(this);var a=new xe;a.Tp=c.x;a.Vp=
c.y;this.dispatchEvent(a);this.Hp=null}.bind(this),300));0!=a.Yf()&&(this.zg&&!b?(b=new re,a.scale(3),b.dd=a,this.dispatchEvent(b)):this.oi||this.zg&&b?(b=new qe,b.dd=a,this.dispatchEvent(b)):this.ui&&(b=new se,b.yg=0<a.y,b.Bf=!1,this.dispatchEvent(b)))};function hr(a){a.Hp&&clearTimeout(a.Hp);a.dispatchEvent(new ye)}f.OJ=function(){};f.vo=function(a){this.mouseWheelEvent=a;eval("this.onMouseWheel(this['mouseWheelEvent'])");hr(this);a.preventDefault()};f.BJ=function(){};
f.Sh=function(a){if(this.Lp){this.keyEvent=a;eval("this.onKey(this['keyEvent'])");hr(this);var b=a.altKey,c=a.ctrlKey,d=a.metaKey,e=a.shiftKey,h=a.keyCode;82!=h||b||c||d||e?37<=h&&40>=h&&(a.preventDefault(),e?a=new qe:b?a=new se:(a=new re,this instanceof kr&&(a=new we)),a&&(c=new A.O(0,0,0),37==h?(c.x=5,a.Ub=!1,b&&(a.Ub=!0,a.yg=!0,a.Bf=!1)):39==h?(c.x=-5,a.Ub=!0,b&&(a.yg=!1,a.Bf=!1)):38==h?(c.y=5,a.Ub=!0,b&&(a.yg=!0,a.Bf=!0)):40==h&&(c.y=-5,a.Ub=!1,b&&(a.yg=!1,a.Bf=!0)),a.dd=c,this.dispatchEvent(a))):
(a.preventDefault(),a=new ze,this.dispatchEvent(a))}};v("X.interactor",gr);v("X.interactor.prototype.init",gr.prototype.ra);v("X.interactor.prototype.onMouseDown",gr.prototype.HJ);v("X.interactor.prototype.onMouseUp",gr.prototype.NJ);v("X.interactor.prototype.onMouseMove",gr.prototype.JJ);v("X.interactor.prototype.onMouseWheel",gr.prototype.OJ);v("X.interactor.prototype.onKey",gr.prototype.BJ);v("X.interactor.prototype.onTouchStart",gr.prototype.nK);v("X.interactor.prototype.onTouchMove",gr.prototype.lK);
v("X.interactor.prototype.onTouchEnd",gr.prototype.hK);v("X.interactor.prototype.onTouchHover",gr.prototype.jK);function kr(a){gr.call(this,a);this.s="interactor2D"}w(kr,gr);kr.prototype.vo=function(a){kr.d.vo.call(this,a);var b=new we;null==a.Cd&&(a.Cd=0);b.Ub=0>a.Cd;this.dispatchEvent(b)};function lr(a,b){if(!u(a)||!u(b))throw Error("A camera needs valid width and height values.");bd.call(this);this.s="camera";this.Jj=new A.O(0,100,0);this.hl=new A.O(0,0,0);this.Ub=new A.O(0,0,1);this.Wa=a;this.Ha=b;this.N=this.jr(this.Jj,this.hl)}w(lr,bd);lr.prototype.observe=function(a){if(!(null!=a&&a instanceof gr))throw Error("Could not observe the interactor.");F(a,be,this.WJ.bind(this));F(a,ae,this.QJ.bind(this));F(a,ce,this.wK.bind(this))};
lr.prototype.WJ=function(a){if(!(a instanceof re))throw Error("Received no valid rotate event.");this.rotate(a.dd)};lr.prototype.wK=function(a){if(!(a instanceof se))throw Error("Received no valid zoom event.");a.yg?this.Bm(a.Bf):this.Cm(a.Bf)};lr.prototype.QJ=function(a){if(!(a instanceof qe))throw Error("Received no valid pan event.");this.Fr(a.dd)};lr.prototype.__defineGetter__("view",function(){return this.N});
lr.prototype.__defineSetter__("view",function(a){if(!(null!=a&&a instanceof Float32Array))throw Error("Invalid view matrix.");this.N=a});lr.prototype.__defineGetter__("position",function(){return[this.Jj.x,this.Jj.y,this.Jj.z]});lr.prototype.__defineSetter__("position",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid position.");this.Jj=new A.O(a[0],a[1],a[2]);this.reset()});lr.prototype.__defineGetter__("focus",function(){return[this.hl.x,this.hl.y,this.hl.z]});
lr.prototype.__defineSetter__("focus",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid focus");this.hl=new A.O(a[0],a[1],a[2]);this.reset()});lr.prototype.__defineGetter__("up",function(){return[this.Ub.x,this.Ub.y,this.Ub.z]});lr.prototype.__defineSetter__("up",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid up vector.");this.Ub=new A.O(a[0],a[1],a[2]);this.reset()});f=lr.prototype;f.reset=function(){this.N=this.jr(this.Jj,this.hl)};
f.rotate=function(a){if(g(a)&&2==a.length)a=new A.O(a[0],a[1],0);else if(!(a instanceof A.O))throw Error("Invalid distance vector for rotate operation.");return a};f.Fr=function(a){if(g(a)&&2==a.length)a=new A.O(a[0],a[1],0);else if(!(a instanceof A.O))throw Error("Invalid distance vector for pan operation.");this.N[12]-=a.x;this.N[13]+=a.y};f.Bm=function(a){var b=20;null!=a&&!a&&(b=1);this.N[14]+=b};f.Cm=function(a){var b=20;null!=a&&!a&&(b=1);this.N[14]-=b};
f.jr=function(a,b){if(!(a instanceof A.O&&b instanceof A.O))throw Error("3D vectors required for calculating the view.");return A.t.Sn()};v("X.camera",lr);v("X.camera.prototype.pan",lr.prototype.Fr);v("X.camera.prototype.rotate",lr.prototype.rotate);v("X.camera.prototype.zoomIn",lr.prototype.Bm);v("X.camera.prototype.zoomOut",lr.prototype.Cm);function mr(a){function b(a,b,d){b=b*Math.PI*2;b=sp(tp(n,Math.cos(b)),tp(p,Math.sin(b)));a=sp(sp(c,tp(e,a)),tp(b,h));d=sp(tp(b,1-Math.abs(d)),tp(k,d));return new xp(a,d)}this.Gb=[];a=a||{};var c=new rp(a.start||[0,-1,0]),d=new rp(a.end||[0,1,0]),e=up(d,c),h=a.Sg||1;a=a.za||16;for(var k=vp(e),l=.5<Math.abs(k.y()),n=vp((new rp(l,!l,0)).bk(k)),p=vp(n.bk(k)),l=new xp(c,wp(k)),d=new xp(d,vp(k)),m=[],q=0;q<a;q++){var t=q/a,s=(q+1)/a;m.push(new zp([l,b(0,t,-1),b(0,s,-1)]));m.push(new zp([b(0,s,0),b(0,t,
0),b(1,t,0),b(1,s,0)]));m.push(new zp([d,b(1,s,1),b(1,t,1)]))}return Kp(m)}w(mr,Jp);function nr(){Vd.call(this);this.s="cylinder";this.et=[-10,-10,-10];this.Ns=[10,10,10];this.Kj=10;this.Rc=32;Aa(this,new Lp)}w(nr,Vd);nr.prototype.__defineGetter__("start",function(){return this.et});nr.prototype.__defineSetter__("start",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid start");this.et=a});nr.prototype.__defineGetter__("end",function(){return this.Ns});nr.prototype.__defineSetter__("end",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid end");this.Ns=a});
nr.prototype.__defineGetter__("radius",function(){return this.Kj});nr.prototype.__defineSetter__("radius",function(a){if(!u(a))throw Error("Invalid radius.");this.Kj=a});nr.prototype.da=function(){Np(this,new mr({start:this.et,end:this.Ns,Sg:this.Kj,za:this.Rc}));nr.d.da.call(this)};v("X.cylinder",nr);v("X.cylinder.prototype.modified",nr.prototype.da);function Pe(a){J.call(this);this.s="labelmap";this.th=a;this.dt=new Float32Array([-255,-255,-255,-255])}w(Pe,J);Pe.prototype.da=function(){var a=new Wd;a.Ma=this;this.dispatchEvent(a);this.th.da()};Pe.prototype.__defineSetter__("showOnly",function(a){var b=[-1,-1,-1,-1];if(null!=a)if(g(a)&&4==a.length)b=a;else{if(!this.xd)throw Error("No colortable assigned.");b=this.xd.Rd.get(a).slice(1,5)}this.dt=new Float32Array([Math.floor(255*b[0]),Math.floor(255*b[1]),Math.floor(255*b[2]),Math.floor(255*b[3])])});
v("X.labelmap",Pe);function or(a){this.Gb=[];a=a||{};var b=new rp(a.Wd||[0,0,0]),c=a.Sg?a.Sg.length?a.Sg:[a.Sg,a.Sg,a.Sg]:[1,1,1];return Kp([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(a){return new zp(a[0].map(function(e){e=new rp(b.x()+c[0]*(2*!!(e&1)-1),b.y()+c[1]*(2*!!(e&2)-1),b.z()+c[2]*(2*!!(e&4)-1));return new xp(e,new rp(a[1]))}))}))}w(or,Jp);function pr(){Vd.call(this);this.s="cube";this.Sa=[0,0,0];this.Ss=this.Rs=this.Qs=20;this.tl=[0,1,1,1,1,0,0,1,1,0,0,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0];Aa(this,new Lp)}w(pr,Vd);pr.prototype.__defineGetter__("center",function(){return this.Sa});pr.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center");this.Sa=a});pr.prototype.__defineGetter__("lengthX",function(){return this.Qs});
pr.prototype.__defineSetter__("lengthX",function(a){if(!u(a))throw Error("Invalid lengthX.");this.Qs=a});pr.prototype.__defineGetter__("lengthY",function(){return this.Rs});pr.prototype.__defineSetter__("lengthY",function(a){if(!u(a))throw Error("Invalid lengthY.");this.Rs=a});pr.prototype.__defineGetter__("lengthZ",function(){return this.Ss});pr.prototype.__defineSetter__("lengthZ",function(a){if(!u(a))throw Error("Invalid lengthZ.");this.Ss=a});
pr.prototype.da=function(){Np(this,new or({Wd:this.Sa,Sg:[this.Qs/2,this.Rs/2,this.Ss/2]}));pr.d.da.call(this)};v("X.cube",pr);v("X.cube.prototype.modified",pr.prototype.da);function ir(a){gr.call(this,a);this.s="interactor3D"}w(ir,gr);ir.prototype.vo=function(a){ir.d.vo.call(this,a);var b=new se;null==a.Cd&&(a.Cd=0);b.yg=0>a.Cd;b.Bf=!0;this.dispatchEvent(b)};function qr(a){bd.call(this);this.s="array";this.Za=[];this.Gx=a}w(qr,bd);function rr(a,b,c){for(var d=0;4>d;d++)if(a[d+0]!==b[d+c])return!1;return!0}qr.prototype.add=function(a){this.Za.push(a);return!0};qr.prototype.remove=function(a){a=this.Za.indexOf(a);-1<a&&this.Za.splice(a,1);return!0};qr.prototype.clear=function(){this.Za.length=0};
function sr(a,b,c){var d=c-b;if(!(2>d))for(d=b+Math.floor(d/2),sr(a,b,d),sr(a,d,c);b<d;++b)if(0<a.Gx(a.Za[b],a.Za[d])){var e=a.Za[b];a.Za[b]=a.Za[d];for(var h=a,k=d,l=c;k+1<l&&0>h.Gx(h.Za[k+1],e);){var n=h,p=k+1,m=n.Za[k];n.Za[k]=n.Za[p];n.Za[p]=m;++k}h.Za[k]=e}}qr.prototype.sort=function(){sr(this,0,this.Za.length)};function tr(a,b){lr.call(this,a,b);this.s="camera2D"}w(tr,lr);tr.prototype.rotate=function(a){a=tr.d.rotate.call(this,a);var b=new pe;0<a.x?b.gt--:0>a.x&&b.gt++;0<a.y?b.Ts++:0>a.y&&b.Ts--;this.dispatchEvent(b)};tr.prototype.Bm=function(a){var b=20;null!=a&&!a&&(b=.02);this.N[14]+=b};tr.prototype.Cm=function(a){var b=20;null!=a&&!a&&(b=.02);this.N[14]-=b};
tr.prototype.Fr=function(a){if(g(a)&&2==a.length)a=new A.O(a[0],a[1],0);else if(!(a instanceof A.O))throw Error("Invalid distance vector for pan operation.");this.N[12]-=a.x/this.N[14];this.N[13]+=a.y/this.N[14]};function ur(a,b){lr.call(this,a,b);this.s="camera3D";this.Jx=45;this.Ys=A.t.Vu(A.t.Sn(),this.Jx,a/b,1,1E4)}w(ur,lr);ur.prototype.rotate=function(a){a=ur.d.rotate.call(this,a);var b=-a.x/5*Math.PI/180;a=-a.y/5*Math.PI/180;var c=new A.O(this.N[1],this.N[5],this.N[9]),d=new A.O(this.N[0],this.N[4],this.N[8]);c.normalize();d.normalize();A.t.rotate(this.N,b,c.x,c.y,c.z);A.t.rotate(this.N,a,d.x,d.y,d.z)};ur.prototype.jr=function(a,b){var c=ur.d.jr.call(this,a,b);A.t.aB(c,a,b,this.Ub);return c};
function vr(a,b,c,d){var e=new Float32Array(4),h=new Float32Array(4),k=new Float32Array(16),l=new Float32Array(16);new Float32Array(16);A.t.multiply(a.Ys,a.N,l);A.t.zb(l,k);e[0]=b;e[1]=c;e[2]=2*d-1;e[3]=1;A.t.iB(k,e,h);h[3]=1/h[3];h[0]*=h[3];h[1]*=h[3];h[2]*=h[3];return h}v("X.camera3D",ur);function wr(a){hj.call(this,a);this.Tg=new Tp;F(this.Tg,"change",this.WH,!1,this)}w(wr,hj);var xr={vertical:"progress-bar-vertical",horizontal:"progress-bar-horizontal"};f=wr.prototype;f.w=function(){this.Qe=this.$j();var a=xr[this.Fa];this.o=this.M().w("div",a,this.Qe);yr(this);zr(this);Ar(this)};f.ab=function(){wr.d.ab.call(this);E&&7>nc&&F(this.a(),"resize",this.dh,!1,this);this.dh();var a=this.a();Yk(a,"progressbar");Zk(a,"live","polite")};f.tc=function(){wr.d.tc.call(this);Br(this)};
f.$j=function(){return this.M().w("div","progress-bar-thumb")};function Br(a){E&&7>nc&&Uc(a.a(),"resize",a.dh,!1,a)}f.Yd=function(a){wr.d.Yd.call(this,a);cl(this.a(),xr[this.Fa]);a=Lh(null,"progress-bar-thumb",this.a())[0];a||(a=this.$j(),this.a().appendChild(a));this.Qe=a};f.J=function(){return this.Tg.J()};f.I=function(a){this.Tg.I(a);this.a()&&yr(this)};function yr(a){Zk(a.a(),"valuenow",a.J())}f.qa=function(){return this.Tg.qa()};f.Hd=function(a){this.Tg.Hd(a);this.a()&&zr(this)};
function zr(a){Zk(a.a(),"valuemin",a.qa())}f.ha=function(){return this.Tg.ha()};f.Kc=function(a){this.Tg.Kc(a);this.a()&&Ar(this)};function Ar(a){Zk(a.a(),"valuemax",a.ha())}f.Fa="horizontal";f.WH=function(){this.dh();this.dispatchEvent("change")};
f.dh=function(){if(this.Qe){var a=this.qa(),b=this.ha(),a=(this.J()-a)/(b-a),b=Math.round(100*a);"vertical"==this.Fa?E&&7>nc?(this.Qe.style.top=0,this.Qe.style.height="100%",b=this.Qe.offsetHeight,a=Math.round(a*b),this.Qe.style.top=b-a+"px",this.Qe.style.height=a+"px"):(this.Qe.style.top=100-b+"%",this.Qe.style.height=b+"%"):this.Qe.style.width=b+"%"}};
f.Yh=function(a){if(this.Fa!=a){var b=xr[this.Fa],c=xr[a];this.Fa=a;if(a=this.a())bl(a,b)&&(el(a,b),cl(a,c)),b=this.Qe.style,"vertical"==this.Fa?(b.left=0,b.width="100%"):(b.top=b.left=0,b.height="100%"),this.dh()}};f.Db=function(){return this.Fa};f.f=function(){Br(this);wr.d.f.call(this);this.Qe=null;this.Tg.g()};f.Gh=function(){return this.Tg.Gh()};f.Yg=function(a){this.Tg.Yg(a)};function Cr(a,b){if(null==a)throw Error("No valid parent element.");if(null==b)throw Error("Invalid initial value.");wr.call(this);this.s="progressbar";this.Ye=a;this.Xs="";this.Ep=this.sh=null;this.Hj=[];var c;c=".progress-bar-horizontal {\n  position: relative;\n  border: 1px solid #949dad;\n";c+="  background: white;\n";c+="  padding: 1px;\n";c+="  overflow: hidden;\n";c+="  margin: 2px;\n";c+="  width: 100px;\n";c+="  height: 5px;\n";c+="}";var d;d=".progress-bar-thumb {\n  position: relative;\n  background: #F62217;\n";
d+="  overflow: hidden;\n";d+="  width: 0%;\n";d+="  height: 100%;\n";d+="}";var e;e=".progress-bar-thumb-done {\n  background: #57E964;\n}";this.Hj=[c,d,e];this.I(b);this.Cu()}w(Cr,wr);
Cr.prototype.Cu=function(){var a=yi(this.Ye,"position");if("static"==a||""==a)this.Xs=this.Ye.style.position,this.Ye.style.position="relative";var a=document.getElementsByTagName("head")[0],b=P("style");b.type="text/css";b.media="screen";var c=document.createTextNode(String(this.Hj[0])),d=document.createTextNode(String(this.Hj[1])),e=document.createTextNode(String(this.Hj[2]));a.appendChild(b);b.appendChild(c);b.appendChild(d);b.appendChild(e);this.sh=b;this.n(this.Ye);a=this.a();a.style.position=
"absolute";a.style.top=(this.Ye.clientHeight-5)/2+"px";a.style.left=(this.Ye.clientWidth-100)/2+"px";a.classList.add("xtk-progress-bar")};Cr.prototype.done=function(){var a=this.a().style.top,b=this.a().style.left;Q(this.a());var c=new Cr(this.Ye,100),d=c.a();d.style.position="absolute";d.style.top=a;d.style.left=b;d.classList.add("xtk-progress-bar");bi(d).classList.add("progress-bar-thumb-done");this.Ep=c};
Cr.prototype.bo=function(){this.sh&&Q(this.sh);this.a()&&Q(this.a());this.Ep&&Q(this.Ep.a());this.Ep=this.sh=null;this.Xs&&(this.Ye.style.position=this.Xs)};function Dr(){bd.call(this);this.s="renderer";this.va=window.document.body;this.Wa=this.va.clientWidth;this.Ha=this.va.clientHeight;this.Ea=this.ga=this.qc=null;this.Ag=new qr(Zd);this.fd=[];this.Jb=null;this.Mp=this.Lm=this.Kp=!1;this.b=this.si=this.Ud=null;this.rb={PROGRESSBAR_ENABLED:!0,INTERMEDIATE_RENDERING:!1,SLICENAVIGATORS:!0};this.Ks=-1;window.console.log("XTK release 10 -- ###TIMESTAMP### -- http://www.goXTK.com -- @goXTK")}w(Dr,bd);f=Dr.prototype;
f.nv=function(){window.cancelAnimationFrame(this.Ks);this.rb.PROGRESSBAR_ENABLED&&(this.si=new Cr(this.va,3))};f.pv=function(){this.rb.PROGRESSBAR_ENABLED&&this.si&&(this.si.done(),this.Bp=Yf(function(){this.Bp=null;this.si&&(this.si.bo(),this.si=null);this.Lm=this.Mp=!0;this.n()}.bind(this),700))};f.qv=function(a){this.si&&this.si.I(100*a.Oj)};f.Ck=function(a){this.Ud&&this.Ud.I(100*a.Oj)};f.GJ=function(a){null!=a&&a instanceof Wd&&a.Ma&&this.fh(a.Ma)};
f.SJ=function(a){null!=a&&a instanceof Xd&&a.Ma&&this.remove(a.Ma)};f.wv=function(a){if(!(null!=a&&a instanceof xe))throw Error("Invalid hover event.");};f.Dk=function(){var a=Kh(this.va);this.Wa=a.clientWidth;this.Ha=a.clientHeight;a=Kh(this.qc);null!=a&&(a.width=this.Wa,a.height=this.Ha,"renderer3D"==this.s&&(this.b.viewport(0,0,this.Wa,this.Ha),this.ga.Ys=A.t.Vu(A.t.Sn(),this.ga.Jx,this.qc.width/this.qc.height,1,1E4)))};
f.im=function(a){if(!(null!=a&&a instanceof we))throw Error("Invalid scroll event.");};Dr.prototype.__defineGetter__("config",function(){return this.rb});Dr.prototype.__defineGetter__("interactor",function(){return this.Ea});Dr.prototype.__defineGetter__("camera",function(){return this.ga});Dr.prototype.__defineGetter__("loadingCompleted",function(){return this.Lm});Dr.prototype.__defineGetter__("container",function(){return this.va});
Dr.prototype.__defineSetter__("container",function(a){if(null==a)throw Error("An ID to a valid container (<div>..) is required.");var b=a;r(b)&&(b=Kh(a));if(!ei(b))throw Error("Could not find the given container.");this.va=b});f=Dr.prototype;f.Ao=function(){this.ga.reset()};function Er(a){a.rb.PROGRESSBAR_ENABLED&&a.Ud&&!a.Bp&&(a.Ud.done(),a.Bp=Yf(function(){this.Bp=null;this.Ud&&(this.Ud.bo(),this.Ud=null);this.n()}.bind(a),700))}
f.ra=function(a){var b=P("canvas");this.va.appendChild(b);this.Wa=this.va.clientWidth;this.Ha=this.va.clientHeight;b.width=this.Wa;b.height=this.Ha;try{var c=b.getContext(a);if(!c)throw Error();}catch(d){throw a="Sorry, "+a+' context is <strong>not supported</strong> on this machine! See <a href="http://crash.goXTK.com" target="_blank">http://crash.goXTK.com</a> for requirements..',this.va.innerHTML='<h3 style="color:red;font-family:sans-serif;">Oooops..</h3><p style="color:red;font-family:sans-serif;">'+
a+"</p>",Error(a);}this.Jb=new Of;F(this.Jb,ie,this.Ck.bind(this));this.qc=b;this.b=c;b=new ir(this.qc);"2d"==a&&(b=new kr(this.qc));b.ra();F(b,ee,this.Ao.bind(this));F(b,je,this.wv.bind(this));F(b,de,this.im.bind(this));this.Ea=b;b=new ur(this.Wa,this.Ha);"2d"==a&&(b=new tr(this.Wa,this.Ha));b.observe(this.Ea);this.ga=b;F(window,"resize",this.Dk,!1,this)};f.add=function(a){(a instanceof pr||a instanceof Pp||a instanceof nr)&&a.da();this.fd.push(a);this.fh(a)};
f.remove=function(a){if(!this.qc||!this.b)throw Error("The renderer was not initialized properly.");null!=a&&H(a);return!1};f.fh=function(a){if(!this.qc||!this.b)throw Error("The renderer was not initialized properly.");null!=a&&(Wc(a,ge)||F(a,ge,this.GJ.bind(this)),Wc(a,he)||F(a,he,this.SJ.bind(this)),Wc(a,le)||F(a,le,this.nv.bind(this)),Wc(a,oe)||F(a,oe,this.qv.bind(this)),Wc(a,me)||F(a,me,this.pv.bind(this)))};
f.get=function(a){if(null==a)throw Error("Invalid object id.");for(var b=this.Ag.Za,c=b.length,d=0,d=0;d<c;d++)if(b[d].ed==a)return b[d];return null};
f.n=function(){if(!this.qc||!this.b)throw Error("The renderer was not initialized properly.");if(null==this.Xx){if(this.Jb.ml.Ft(!1)){if(this.rb.PROGRESSBAR_ENABLED&&!this.Ud&&(this.Ud=new Cr(this.va,3)),this.Mp=this.Lm=!1,this.Xx=Yf(function(){this.Xx=null;this.n()}.bind(this),100),!this.rb.INTERMEDIATE_RENDERING)return}else if(this.Lm||this.Mp||(this.Mp=!0,eval("this.onShowtime()"),this.Lm=!0),this.Ud){Er(this);return}this.Ks=window.requestAnimationFrame(this.n.bind(this));eval("this.onRender()");
this.Ug(!1,!0)}};f.xB=function(){};f.vB=function(){};f.Ug=function(){};f.Zd=function(){window.cancelAnimationFrame(this.Ks);this.Jb&&(delete this.Jb,this.Jb=null);this.Ud&&(this.Ud.bo(),delete this.Ud,this.Ud=null);this.Ag.clear();delete this.Ag;this.fd.length=0;delete this.fd;delete this.Jb;this.Jb=null;delete this.ga;this.ga=null;delete this.Ea;this.Ea=null;delete this.b;this.b=null;Q(this.qc);delete this.qc;this.qc=null};function Fr(){Dr.call(this);this.s="renderer2D";this.Qc=null;this.yd=-1;this.Td=[];this.Ox=this.Ip=this.Kx=this.Gp=null;this.ql=this.sl=this.Lj=this.Mj=0;this.Kb=this.Lb=this.vb=this.tb=this.Hx=-1;this.Px=new Float32Array([-255,-255,-255,-255]);this.Wx=!0}w(Fr,Dr);Fr.prototype.Gv=function(){};Fr.prototype.qK=function(){};Fr.prototype.im=function(a){Fr.d.im.call(this,a);var b=this.fd[0];if(b){var c="",c=0==this.yd?"indexX":1==this.yd?"indexY":"indexZ";b[c]=a.Ub?b[c]+1:b[c]-1;eval("this.onScroll();")}};
Fr.prototype.rK=function(a){var b=this.fd[0];if(b){var c=b.Kb-b.Lb,d=c/2,e=parseInt(c+c/15*-a.gt,10);a=parseInt(d+d/15*a.Ts,10);c==e&&e++;d==a&&a++;b.Lb-=parseInt(d-a,10);b.Lb-=parseInt(c-e,10);b.Lb=Math.max(b.Lb,b.Sd);b.Kb-=parseInt(d-a,10);b.Kb+=parseInt(c-e,10);b.Kb=Math.min(b.Kb,b.Sb);eval("this.onWindowLevel();")}};Fr.prototype.__defineGetter__("orientation",function(){return this.Qc});
Fr.prototype.__defineSetter__("orientation",function(a){a=a.toUpperCase();"AXIAL"==a?(a="Z",this.yd=2):"SAGITTAL"==a?(a="X",this.yd=0):"CORONAL"==a&&(a="Y",this.yd=1);if("X"!=a&&"Y"!=a&&"Z"!=a)throw Error("Invalid orientation.");this.Qc=a});Fr.prototype.__defineGetter__("radiological",function(){return this.Wx});Fr.prototype.__defineSetter__("radiological",function(a){this.Wx=a});f=Fr.prototype;
f.ra=function(){if(!this.Qc)throw Error("No 2D orientation set.");Fr.d.ra.call(this,"2d");this.b.fillStyle="rgba(50,50,50,0)";this.b.fillRect(0,0,this.qc.width,this.qc.height);this.Gp=P("canvas");this.Ip=P("canvas");F(this.ga,fe,this.rK.bind(this))};f.Dk=function(){Fr.d.Dk.call(this);Gr(this)};f.Ao=function(){Fr.d.Ao.call(this);Gr(this);var a=this.fd[0];a&&(a.Kb=a.Sb,a.Lb=a.Sd)};
f.fh=function(a){Fr.d.fh.call(this,a);var b=!1;this.get(a.ed)&&(b=!0);if(a instanceof J){var c=a.ea,d=a.q,e=a.xd;if(null!=d&&null!=d.ea&&d.ea.G)this.fh(d);else if(null!=e&&null!=e.ea&&e.ea.G)this.Jb.load(e,a);else{if(null!=c&&g(c))if(null!=a.ih){if(a.ih.jo!=c.length||b&&!a.G)return}else{b=0;d=c.length;for(b=0;b<d;b++)this.Jb.load(c[b],a);return}else if(null!=c&&c.G){this.Jb.load(a,a);return}c=this.Qc;this.yd="X"==c?0:"Y"==c?1:2;this.Rc=a.j[this.yd].j;e=null;e=0==this.yd?a.indexX:1==this.yd?a.indexY:
a.indexZ;c=a.j[this.yd].j[e].Nx;d=a.j[this.yd].j[e].Mx;this.sl=a.j[this.yd].j[e].uh;this.ql=a.j[this.yd].j[e].nh;this.Mj=c;this.Lj=d;e=this.Gp;e.width=c;e.height=d;var h=this.Ip;h.width=c;h.height=d;this.Kx=e.getContext("2d");this.Ox=h.getContext("2d");b||(this.Ag.add(a),Gr(this))}}};function Gr(a){var b=Math.min(a.Wa/(a.Mj*a.sl),a.Ha/(a.Lj*a.ql));null!=a.ga&&(a.ga.N[14]=b)}f.Dr=function(){};
f.eD=function(a,b){var c=this.fd[0],d=this.ga.N,e=null,h=this.Mj,k=this.Lj,l=null,n=null;if("Y"==this.Qc)e=this.Rc[parseInt(c.indexY,10)],l=e.uh,n=e.nh,this.Td[0]="red",this.Td[1]="blue";else if("Z"==this.Qc)e=this.Rc[parseInt(c.indexZ,10)],l=e.uh,n=e.nh,this.Td[0]="red",this.Td[1]="green";else{e=this.Rc[parseInt(c.indexX,10)];l=e.nh;n=e.uh;this.Td[0]="green";this.Td[1]="blue";var p=h,h=k,k=p}var m=1*d[12],q=-1*d[13],p=Math.max(d[14],.6),d=[this.Wa/2,this.Ha/2],l=h*l*p,n=k*n*p,t=d[0]-l/2,d=d[1]-n/
2,t=t+m*p,d=d+q*p;return a>t&&a<t+l&&b>d&&b<d+n?(m=(a-t)/l*h,q=(b-d)/n*k,n=e.ZE[4],"X"==this.Qc?(p=h-m,m=q,q=p):"Y"==this.Qc?m=h-m:"Z"==this.Qc&&(m=h-m,q=k-q),m=e.YE+m*e.uh,q=e.SE+q*e.nh,m=Ad(m,q,n,1),h=Bd(),Ld(e.LE,m,h),k=Bd(),Ld(e.ME,m,k),e=Math.round((c.e[0].D[0]*k[0]+c.e[0].D[1]*k[1]+c.e[0].D[2]*k[2]+c.e[0].Ws)/c.e[0].rl),e>=c.e[0].ba?e=c.e[0].ba-1:0>e&&(e=0),m=Math.round((c.e[1].D[0]*k[0]+c.e[1].D[1]*k[1]+c.e[1].D[2]*k[2]+c.e[1].Ws)/c.e[1].rl),m>=c.e[1].ba?m=c.e[1].ba-1:0>m&&(m=0),q=Math.round((c.e[2].D[0]*
k[0]+c.e[2].D[1]*k[1]+c.e[2].D[2]*k[2]+c.e[2].Ws)/c.e[2].rl),q>=c.e[2].ba?q=c.e[2].ba-1:0>q&&(q=0),[[e,m,q],[h[0],h[1],h[2]],[k[0],k[1],k[2]]]):null};
f.Ug=function(a,b){Fr.d.Ug.call(this,a,b);if(0!=this.Ag.Za.length){var c=this.fd[0],d=null,d=0==this.yd?c.indexX:1==this.yd?c.indexY:c.indexZ,e=this.Rc[parseInt(d,10)].Nx,h=this.Rc[parseInt(d,10)].Mx;this.sl=this.Rc[parseInt(d,10)].uh;this.ql=this.Rc[parseInt(d,10)].nh;this.Mj=e;this.Lj=h;var k=this.Wa,l=this.Ha,n=this.ga.N;this.b.save();this.b.clearRect(-k,-l,2*k,2*l);this.b.restore();var p=Math.max(n[14],.1);this.b.setTransform(p,0,0,p,0,0);var m=1*n[12],n=-1*n[13],q=null;c.q&&(q=c.q.dt);var t=
this.Rc[parseInt(d,10)],s=t.Va.ti,t=t.q,y=null;t&&(y=t.ti);var z=this.Mj,I=this.Lj,S=this.Kx,O=this.Ox,G=S.getImageData(0,0,z,I),R=O.getImageData(0,0,z,I),Y=G.data,Z=R.data,va=Y.length,na=c.Sb,ya=c.tb,Ma=c.vb,Ha=c.Lb/na,Na=c.Kb/na;if(this.Hx!=d||this.tb!=ya||this.vb!=Ma||this.Lb!=Ha||this.Kb!=Na||q&&!rr(q,this.Px,0)){var la=this.Gp;la.width=e;la.height=h;la=this.Ip;la.width=e;la.height=h;e=0;do{var la=[0,0,0,0],h=[0,0,0,0],za=s[e]/255*na,qa=s[e],qa=(qa/255-Ha)/(Na-Ha),qa=255*qa;za>=ya&&za<=Ma&&(la=
new K(c.pi[0],c.pi[1],c.pi[2]),la=(new K(c.ni[0],c.ni[1],c.ni[2])).scale(qa).add(la.scale(255-qa)),la=[Math.floor(la.x),Math.floor(la.y),Math.floor(la.z),255],t&&(-255==q[3]?h=[y[e],y[e+1],y[e+2],y[e+3]]:rr(q,y,e)&&(h=[y[e],y[e+1],y[e+2],y[e+3]])));"X"==this.Qc?(Y[e]=la[0],Y[e+1]=la[1],Y[e+2]=la[2],Y[e+3]=la[3],Z[e]=h[0],Z[e+1]=h[1],Z[e+2]=h[2],Z[e+3]=h[3]):"Y"==this.Qc?(qa=Math.floor(e/(4*z)),qa=qa*z*4+(4*(z-1)-(e-qa*z*4)),Y[qa]=la[0],Y[qa+1]=la[1],Y[qa+2]=la[2],Y[qa+3]=la[3],Z[qa]=h[0],Z[qa+1]=
h[1],Z[qa+2]=h[2],Z[qa+3]=h[3]):(qa=va-1-e,Y[qa-3]=la[0],Y[qa-2]=la[1],Y[qa-1]=la[2],Y[qa]=la[3],Z[qa-3]=h[0],Z[qa-2]=h[1],Z[qa-1]=h[2],Z[qa]=h[3]);e+=4}while(e<va);S.putImageData(G,0,0);O.putImageData(R,0,0);this.Hx=d;this.tb=ya;this.vb=Ma;this.Lb=Ha;this.Kb=Na;t&&(this.Px=q)}this.b.globalAlpha=1;this.b.translate(k/2/p,l/2/p);"X"==this.Qc&&(this.b.rotate(.5*Math.PI),d=m,m=n,n=-d);m=-z*this.sl/2+m;n=-I*this.ql/2+n;this.b.drawImage(this.Gp,m,n,z*this.sl,I*this.ql);t&&c.q.jb&&(this.b.globalAlpha=c.q.Pc,
this.b.drawImage(this.Ip,m,n,z*this.sl,I*this.ql));this.rb.SLICENAVIGATORS&&this.Ea.Lp&&this.Ea.ct&&!this.Ea.zg&&(m=this.Ea.Oc,m=this.eD(m[0],m[1]))&&(c.oh=m[0][0],c.ph=m[0][1],c.qh=m[0][2],c.da(!1),this.onSliceNavigation(),this.b.setTransform(1,0,0,1,0,0),this.b.lineWidth=1,this.b.beginPath(),this.b.moveTo(this.Ea.Oc[0],0),this.b.lineTo(this.Ea.Oc[0],this.Ea.Oc[1]-10),this.b.moveTo(this.Ea.Oc[0],this.Ea.Oc[1]+10),this.b.lineTo(this.Ea.Oc[0],this.Ha),this.b.strokeStyle=this.Td[0],this.b.stroke(),
this.b.closePath(),this.b.beginPath(),this.b.moveTo(0,this.Ea.Oc[1]),this.b.lineTo(this.Ea.Oc[0]-10,this.Ea.Oc[1]),this.b.moveTo(this.Ea.Oc[0]+10,this.Ea.Oc[1]+.5),this.b.lineTo(this.Wa,this.Ea.Oc[1]),this.b.strokeStyle=this.Td[1],this.b.stroke(),this.b.closePath(),this.b.font="10pt Arial",this.b.textAlign="left",this.b.textBaseline="top",this.b.fillStyle="white",this.b.fillText("RAS: "+m[2][0].toFixed(2)+", "+m[2][1].toFixed(2)+", "+m[2][2].toFixed(2),0,0),z=t=n="undefined","undefined"!=typeof c.bc[m[1][2].toFixed(0)]&&
"undefined"!=typeof c.bc[m[1][2].toFixed(0)][m[1][1].toFixed(0)]&&(n=c.bc[m[1][2].toFixed(0)][m[1][1].toFixed(0)][m[1][0].toFixed(0)],c.cb&&(t=c.q.bc[m[1][2].toFixed(0)][m[1][1].toFixed(0)][m[1][0].toFixed(0)],c.q.Im&&(z=c.q.Im.get(t),"undefined"!=typeof z&&(z=z[0])))),this.b.fillText("Background:  "+n+" ("+m[1][0].toFixed(0)+", "+m[1][1].toFixed(0)+", "+m[1][2].toFixed(0)+")",0,15),c.cb&&this.b.fillText("Labelmap:  "+z+" ("+t+")",0,30))}};v("X.renderer2D",Fr);v("X.renderer2D.prototype.init",Fr.prototype.ra);
v("X.renderer2D.prototype.add",Fr.prototype.add);v("X.renderer2D.prototype.onShowtime",Fr.prototype.xB);v("X.renderer2D.prototype.onRender",Fr.prototype.vB);v("X.renderer2D.prototype.onScroll",Fr.prototype.Gv);v("X.renderer2D.prototype.onWindowLevel",Fr.prototype.qK);v("X.renderer2D.prototype.get",Fr.prototype.get);v("X.renderer2D.prototype.resetViewAndRender",Fr.prototype.Ao);v("X.renderer2D.prototype.xy2ijk",Fr.prototype.eD);v("X.renderer2D.prototype.render",Fr.prototype.n);
v("X.renderer2D.prototype.destroy",Fr.prototype.Zd);v("X.renderer2D.prototype.onSliceNavigation",Fr.prototype.Dr);function Hr(){$c.call(this)}w(Hr,$c);v("xiv.vis.RenderEngine",Hr);Hr.prototype.ID_PREFIX="xiv.vis.RenderEngine";var Ir="isSelectedVolume"+B();v("xiv.vis.RenderEngine.EventType",{bN:"r",ZM:"s",$M:"t"});v("xiv.vis.RenderEngine.SELECTED_VOL_KEY",Ir);v("xiv.vis.RenderEngine.prototype.ID_PREFIX",Hr.prototype.ID_PREFIX);function Jr(){Fr.call(this)}w(Jr,Fr);v("xiv.vis.XtkRenderer2D",Jr);f=Jr.prototype;f.bg=function(){this.Dk()};f.Gv=function(){this.Dr()};f.Ck=function(a){Jr.d.Ck.call(this,a);this.dispatchEvent({type:"s",value:a.Oj})};f.ra=function(){this.config.PROGRESSBAR_ENABLED=!1;this.config.SLICENAVIGATORS=!1;Jr.d.ra.call(this);this.Ea.onMouseMove=this.AJ.bind(this);this.Ea.config.MOUSEWHEEL_ENABLED=!1;this.Ea.config.MOUSECLICKS_ENABLED=!1;this.Ea.config.KEYBOARD_ENABLED=!1;this.Ea.ra()};f.Db=function(){return this.Qc};
f.kG=function(){return this.ga};f.cH=function(){return this.Ea.mousePosition};f.Yq=function(){};f.AJ=function(){this.dispatchEvent({type:"mouseover",bJ:this.Ea.bJ,fL:this.Ea.shiftDown})};f.Dr=function(){this.dispatchEvent({type:"u",volume:this.fd[0],BO:this.fd[0]["index"+this.Qc],AO:this.Qc,fL:this.Ea.ct})};f.n=function(){this.qc&&this.b?(Jr.d.n.call(this),this.dispatchEvent({type:"t"})):(window.console.log("init"),this.ra(),window.console.log(this.Sl().visible))};f.lG=function(){return this.qc};
f.Sl=function(){return this.fd[0]};f.eA=function(){if(null!=this.Rc){var a=this.fd[0];if(null!=a[J.REORIENTED_DIMENSIONS_KEY]&&"false"==a.reslicing.toString())switch(this.Db()){case "X":return a[J.REORIENTED_DIMENSIONS_KEY][0];case "Y":return a[J.REORIENTED_DIMENSIONS_KEY][1];case "Z":return a[J.REORIENTED_DIMENSIONS_KEY][2]}return this.Rc.length}};f.sA=function(){return this.ga.N[14]};f.zC=function(a){this.ga.N[14]=a};function Kr(a){.01>a.ga.N[14]&&(a.ga.N[14]=.01)}
f.Bm=function(){this.ga.N[14]+=.03;Kr(this)};f.Cm=function(){this.ga.N[14]+=-.03;Kr(this)};
function Lr(a,b,c,d){var e=a.fd[0],h=a.ga.N,k=null,l=a.Mj,n=a.Lj,p=null,m=null;if(null!=e){"Y"==a.Qc?(k=a.Rc[parseInt(e.indexY,10)],p=k.uh,m=k.nh,a.Td[0]="red",a.Td[1]="blue"):"Z"==a.Qc?(k=a.Rc[parseInt(e.indexZ,10)],p=k.uh,m=k.nh,a.Td[0]="red",a.Td[1]="green"):(k=a.Rc[parseInt(e.indexX,10)],p=k.nh,m=k.uh,a.Td[0]="green",a.Td[1]="blue",e=l,l=n,n=e);var e=1*h[12],k=-1*h[13],h=Math.max(h[14],.6),q=[a.Wa/2,a.Ha/2],p=l*p*h,m=n*m*h,t=q[0]-p/2,q=q[1]-m/2,t=t+e*h,q=q+k*h;if("vertical"===c)return b=Math.max(0,
b),b=Math.min(b,l),d?t+(a.Mj-b)/l*p:t+b/l*p;b=Math.max(0,b);b=Math.min(b,n);return d?q+(a.Lj-b)/n*m:q+b/n*m}}f.mA=function(a,b){return Lr(this,a,"vertical",b)};f.Vz=function(a,b){return Lr(this,a,"horizontal",b)};f.Zd=function(){Jr.d.Zd.call(this)};v("xiv.vis.XtkRenderer2D.ZOOM_MINIMUM",.01);v("xiv.vis.XtkRenderer2D.prototype.onResize",Jr.prototype.bg);v("xiv.vis.XtkRenderer2D.prototype.onScroll",Jr.prototype.Gv);v("xiv.vis.XtkRenderer2D.prototype.onProgress",Jr.prototype.Ck);
v("xiv.vis.XtkRenderer2D.prototype.init",Jr.prototype.ra);v("xiv.vis.XtkRenderer2D.prototype.getOrientation",Jr.prototype.Db);v("xiv.vis.XtkRenderer2D.prototype.getCamera",Jr.prototype.kG);v("xiv.vis.XtkRenderer2D.prototype.getMousePosition",Jr.prototype.cH);v("xiv.vis.XtkRenderer2D.prototype.isMouseOver",Jr.prototype.Yq);v("xiv.vis.XtkRenderer2D.prototype.onSliceNavigation",Jr.prototype.Dr);v("xiv.vis.XtkRenderer2D.prototype.render",Jr.prototype.n);v("xiv.vis.XtkRenderer2D.prototype.getCanvas",Jr.prototype.lG);
v("xiv.vis.XtkRenderer2D.prototype.getVolume",Jr.prototype.Sl);v("xiv.vis.XtkRenderer2D.prototype.getNumberSlices",Jr.prototype.eA);v("xiv.vis.XtkRenderer2D.prototype.getZoom",Jr.prototype.sA);v("xiv.vis.XtkRenderer2D.prototype.setZoom",Jr.prototype.zC);v("xiv.vis.XtkRenderer2D.prototype.zoomIn",Jr.prototype.Bm);v("xiv.vis.XtkRenderer2D.prototype.zoomOut",Jr.prototype.Cm);v("xiv.vis.XtkRenderer2D.prototype.getVerticalSliceX",Jr.prototype.mA);
v("xiv.vis.XtkRenderer2D.prototype.getHorizontalSliceY",Jr.prototype.Vz);v("xiv.vis.XtkRenderer2D.prototype.destroy",Jr.prototype.Zd);function Mr(){U.call(this)}w(Mr,pp);v("xiv.ui.layouts.interactors.ZoomDisplay",Mr);Mr.ID_PREFIX="xiv.ui.layouts.interactors.ZoomDisplay";Mr.prototype.n=function(a){Mr.d.n.call(this,a);this.Ja.min=1};Mr.prototype.eh=function(){this.cf.innerHTML="Zoom level:&nbsp"+this.Ja.value+"%"};v("xiv.ui.layouts.interactors.ZoomDisplay.ID_PREFIX",Mr.ID_PREFIX);v("xiv.ui.layouts.interactors.ZoomDisplay.prototype.updateValue",Mr.prototype.eh);function Nr(a,b){Vp.call(this,a,b);this.Ka.ij(0)}w(Nr,Vp);Nr.prototype.U=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};Nr.prototype.lz=function(){var a=this.a(),b=Lh(null,"goog-slider-thumb",a)[0];b||(b=this.$j(),a.appendChild(b));this.oa=this.uc=b};Nr.prototype.$j=function(){var a=this.M().w("div","goog-slider-thumb");Yk(a,"button");return a};function Or(a){Nr.call(this);this.constructor.Dm=this.constructor.ID_PREFIX.toLowerCase().replace(/\./g,"-");this.constructor.zc=this.constructor.Dm;U.prototype.gq.bind(this)();null!=a&&this.Yh(a)}w(Or,Nr);v("nrg.ui.Slider",Or);Or.ID_PREFIX="nrg.ui.Slider";Or.CSS_SUFFIX={tE:"track",Bx:"track-hovered",Ds:"thumb",zx:"thumb-hovered"};f=Or.prototype;f.dm=!1;f.Lh=!1;f.bp=!1;f.xi=!1;f.mF=function(){return this.xi};f.hs=null;f.kn=null;f.jn=null;f.Cb=null;f.kb=null;f.vL=function(a){this.bp=a};
f.uL=function(a){this.bp=a};f.n=function(a){this.o=P("div",{id:Or.ID_PREFIX+"_Widget_"+B()});this.yb(this.o);a=null!=a?a:document.body;a.appendChild(this.o);this.qe=P("div",{id:Or.ID_PREFIX+"_Track_"+B()});this.o.appendChild(this.qe);this.xc=Oh("goog-slider-thumb",this.o);F(this,"change",this.qJ.bind(this));F(this.a(),"mouseenter",this.IJ.bind(this));F(this.a(),"mouseleave",this.Bv.bind(this));F(this,"l",this.bK.bind(this));F(this,"m",this.ZJ.bind(this));this.Yh(this.Db().toLowerCase())};f.a=function(){return this.o};
f.HH=function(){return this.qe};f.BH=function(){return this.xc};f.ln=function(a){null==this.zj&&(this.zj={});if(null==this.zj[a.id]){var b=new Qp(a);b.addEventListener("mousewheel",this.PJ,!1,this);this.zj[a.id]=b}};f.uF=function(a){null==this.wj&&(this.wj={});if(null==this.wj[a.id]){var b=new Zn(a);F(b,"key",this.Sh.bind(this));this.wj[a.id]=b}};f.Sh=function(){};
f.k=function(){var a=this.J(),a=hq(this,a);"horizontal"==this.Db().toLowerCase()?this.xc.style.left=a.x.toString()+"px":"vertical"==this.Db().toLowerCase()&&(this.xc.style.left=a.y.toString()+"px")};f.Yh=function(a){Or.d.Yh.call(this,a);this.fa&&Pr(this,this.Db().toLowerCase())};function Pr(a,b){function c(a,c){Dh(a,[vj(c,"horizontal"),vj(c,"vertical")],[c,vj(c,b)])}c(a.o,a.constructor.zc);c(a.qe,Or.CSS.tE);c(a.xc,Or.CSS.Ds)}f.Sw=!1;f.St=1;f.vC=function(a,b){this.Sw=a;u(b)&&(this.St=b)};
f.PJ=function(a){var b=Math.abs(a.Cd)<Math.abs(a.zh)?a.zh:a.Cd;this.Sw?this.I(Math.round(this.J()-b*this.St)):this.I(Math.round(this.J()-(0>b?-1:1)));this.dispatchEvent({type:"w"});a.preventDefault()};f.kt=function(a){this.$g=this.$g?this.$g:[];this.$g.push(a);Qr(this)};f.ty=function(a){this.ah=this.ah?this.ah:[];this.ah.push(a);Rr(this)};
f.rt=function(a){this.xi=!0;this.hs=a;a=this.xc;this.kn=Fk(a);N(a,this.hs);var b=Fk(a);Bh(a,this.hs);if(null!=this.jn)for(var c in b){if(b[c]!=this.kn[c]){this.jn=b;break}}else this.jn=b};function Sr(a){null!=a.Cb&&(D(a.Cb,function(a){a.g()}),Jb(a.Cb),delete a.Cb)}
function Tr(a,b){if(a.xi){var c=a.xc,d=Fk(c),e=T(c),h=Di(c);"vertical"==a.Db()&&(d.top=h.y,d.height=e.height,b.top=h.y,b.height=e.height);null!=a.kb&&(a.kb.stop(),a.kb.g(),delete a.kb,Sr(a));a.kb=new fk;a.Cb=Kk(c,d,b,200);D(a.Cb,function(a){this.kb.add(a)}.bind(a));a.kb.play()}}f.qJ=function(a){a.stopPropagation();this.dm&&(Ur(this),Vr(this));this.bp||this.dispatchEvent({type:"v",value:this.J(),Zu:this.qa(),Yu:this.ha()});this.bp=!1};
function Ur(a){N(a.xc,Or.CSS.zx);null!=a.$g&&D(a.$g,function(a){N(this.xc,a)}.bind(a))}function Vr(a){N(a.qe,Or.CSS.Bx);null!=a.ah&&D(a.ah,function(a){N(this.qe,a)}.bind(a))}function Qr(a){Bh(a.xc,Or.CSS.zx);null!=a.$g&&D(a.$g,function(a){Bh(this.xc,a)}.bind(a))}function Rr(a){Bh(a.qe,Or.CSS.Bx);null!=a.ah&&D(a.ah,function(a){Bh(this.qe,a)}.bind(a))}f.IJ=function(){this.Lh=!0;this.xi?Tr(this,this.jn):(Vr(this),Ur(this))};
f.Bv=function(){this.Lh=!1;this.xi&&!this.dm?Tr(this,this.kn):this.dm||(Qr(this),Rr(this))};f.bK=function(){this.dm=!0};f.ZJ=function(){this.dm=!1;this.Lh||(this.xi?Tr(this,this.kn):(Qr(this),Rr(this)))};
f.f=function(){Or.d.f.call(this);delete this.bp;null!=this.o&&(H(this),Q(this.o),delete this.o);null!=this.xc&&(H(this.xc),Q(this.xc),delete this.xc);null!=this.qe&&(H(this.qe),Q(this.qe),delete this.qe);null!=this.wj&&(C(this.wj,function(a){H(a);a.g()}),tb(this.wj),delete this.wj);null!=this.zj&&(C(this.zj,function(a){H(a);a.g()}),tb(this.zj),delete this.zj);null!=this.$g&&(Jb(this.$g),delete this.$g);null!=this.ah&&(Jb(this.ah),delete this.ah);Sr(this);delete this.Sw;delete this.St;delete this.dm;
delete this.xi;delete this.hs;delete this.Cb;delete this.kb;delete this.RO;delete this.kn;delete this.jn;delete this.Lh};v("nrg.ui.Slider.EventType",{tN:"v",PM:"w"});v("nrg.ui.Slider.ID_PREFIX",Or.ID_PREFIX);v("nrg.ui.Slider.CSS_SUFFIX",Or.CSS_SUFFIX);v("nrg.ui.Slider.prototype.suspendSlideEvent",Or.prototype.vL);v("nrg.ui.Slider.prototype.suspendChangeEvent",Or.prototype.uL);v("nrg.ui.Slider.prototype.render",Or.prototype.n);v("nrg.ui.Slider.prototype.getElement",Or.prototype.a);
v("nrg.ui.Slider.prototype.getTrack",Or.prototype.HH);v("nrg.ui.Slider.prototype.getThumb",Or.prototype.BH);v("nrg.ui.Slider.prototype.bindToMouseWheel",Or.prototype.ln);v("nrg.ui.Slider.prototype.bindToArrowKeys",Or.prototype.uF);v("nrg.ui.Slider.prototype.updateStyle",Or.prototype.k);v("nrg.ui.Slider.prototype.setOrientation",Or.prototype.Yh);v("nrg.ui.Slider.prototype.setUseDeltaToScroll",Or.prototype.vC);v("nrg.ui.Slider.prototype.addThumbHoverClass",Or.prototype.kt);
v("nrg.ui.Slider.prototype.addTrackHoverClass",Or.prototype.ty);v("nrg.ui.Slider.prototype.animateOnHover",Or.prototype.rt);v("nrg.ui.Slider.prototype.animatesOnHover",Or.prototype.mF);v("nrg.ui.Slider.prototype.disposeInternal",Or.prototype.f);function Wr(){Or.call(this)}w(Wr,Or);v("xiv.ui.layouts.interactors.Slider",Wr);Wr.ID_PREFIX="xiv.ui.layouts.interactors.Slider";Wr.CSS_SUFFIX={};Wr.prototype.n=function(){Wr.d.n.call(this)};Wr.prototype.f=function(){Wr.d.f.call(this)};v("xiv.ui.layouts.interactors.Slider.EventType",{});v("xiv.ui.layouts.interactors.Slider.ID_PREFIX",Wr.ID_PREFIX);v("xiv.ui.layouts.interactors.Slider.CSS_SUFFIX",Wr.CSS_SUFFIX);v("xiv.ui.layouts.interactors.Slider.prototype.render",Wr.prototype.n);
v("xiv.ui.layouts.interactors.Slider.prototype.disposeInternal",Wr.prototype.f);function Xr(){U.call(this)}w(Xr,U);v("xiv.ui.layouts.interactors.Crosshairs",Xr);Xr.ID_PREFIX="xiv.ui.layouts.interactors.Crosshairs";Xr.CSS_SUFFIX={vM:"horizontal",$N:"vertical"};f=Xr.prototype;f.og=null;f.Uf=null;f.xC=function(a){null!=a&&(this.og.style.left=a.toString()+"px")};f.yC=function(a){null!=a&&(this.Uf.style.top=a.toString()+"px")};f.n=function(a){this.og=Yr(this,"vertical");this.Uf=Yr(this,"horizontal");a.appendChild(this.Uf);a.appendChild(this.og)};
f.fp=function(a){a=!1===a?"hidden":"visible";this.og.style.visibility=a;this.Uf.style.visibility=a};function Yr(a,b){b=b.toLowerCase();if(!qb(Xr.CSS_SUFFIX,b))throw Error("Invalid orientation: "+b);return P("div",{id:a.constructor.ID_PREFIX+"_"+b+"_"+B(),"class":a.constructor.zc+"-"+b.toLowerCase()})}f.f=function(){Xr.d.f.call(this);Q(this.og);delete this.og;Q(this.Uf);delete this.Uf};v("xiv.ui.layouts.interactors.Crosshairs.EventType",{});v("xiv.ui.layouts.interactors.Crosshairs.ID_PREFIX",Xr.ID_PREFIX);
v("xiv.ui.layouts.interactors.Crosshairs.CSS_SUFFIX",Xr.CSS_SUFFIX);v("xiv.ui.layouts.interactors.Crosshairs.prototype.vertical",Xr.prototype.og);v("xiv.ui.layouts.interactors.Crosshairs.prototype.horizontal",Xr.prototype.Uf);v("xiv.ui.layouts.interactors.Crosshairs.prototype.setX",Xr.prototype.xC);v("xiv.ui.layouts.interactors.Crosshairs.prototype.setY",Xr.prototype.yC);v("xiv.ui.layouts.interactors.Crosshairs.prototype.render",Xr.prototype.n);
v("xiv.ui.layouts.interactors.Crosshairs.prototype.toggleVisible",Xr.prototype.fp);v("xiv.ui.layouts.interactors.Crosshairs.prototype.disposeInternal",Xr.prototype.f);function Zr(){U.call(this)}w(Zr,U);v("xiv.ui.layouts.interactors.PlayButton",Zr);Zr.ID_PREFIX="xiv.ui.layouts.interactors.PlayButton";Zr.CSS_SUFFIX={ei:"image"};f=Zr.prototype;f.Ya=null;f.Zn=!1;f.W=null;f.na=null;f.Vf=70;f.n=function(a){Zr.d.n.call(this,a);this.Ya=P("img",{id:"PlayButton_"+B()});N(this.Ya,Zr.CSS.ei);this.a().appendChild(this.Ya);this.Ya.src=serverRoot+"/images/viewer/xiv/ui/other/play.png";F(this.Ya,"click",function(){this.Zn?(this.Zn=!1,this.pause()):(this.Zn=!0,this.play())}.bind(this))};
f.pause=function(){this.Ya.src=serverRoot+"/images/viewer/xiv/ui/other/play.png";null!=this.W&&null!=this.na&&this.na.stop()};f.play=function(){this.Ya.src=serverRoot+"/images/viewer/xiv/ui/other/pause.png";null!=this.W&&(null==this.na&&(this.na=new Wf),this.na.setInterval(this.Vf),this.na.addEventListener(Xf,function(){this.W.J()==this.W.ha()?this.W.I(this.W.qa()):this.W.I(this.W.J()+1)}.bind(this)),this.na.start())};f.setInterval=function(a){this.Vf=a};f.jf=function(){return this.Zn};
f.sC=function(a){this.W=a};f.f=function(){Zr.d.f.call(this);Q(this.Ya);H(this.Ya);delete this.Ya;null!=this.na&&(H(this.na),this.na.g());delete this.W;delete this.Zn;delete this.na;delete this.Vf};v("xiv.ui.layouts.interactors.PlayButton.ID_PREFIX",Zr.ID_PREFIX);v("xiv.ui.layouts.interactors.PlayButton.prototype.pause",Zr.prototype.pause);v("xiv.ui.layouts.interactors.PlayButton.prototype.play",Zr.prototype.play);v("xiv.ui.layouts.interactors.PlayButton.prototype.isPlaying",Zr.prototype.jf);
v("xiv.ui.layouts.interactors.PlayButton.prototype.setInterval",Zr.prototype.setInterval);v("xiv.ui.layouts.interactors.PlayButton.prototype.setSlider",Zr.prototype.sC);function $r(a){$q.call(this);a=null!=a?a:ob(as);a=g(a)?a:[a];D(a,function(b,c){a[c]=b.toUpperCase()});bs(this,a);cs(this,a);null!=this.i.X&&this.ne();null!=this.i.Y&&this.jg();null!=this.i.Z&&this.lj();null!=this.i.V&&this.To();this.k()}w($r,$q);v("xiv.ui.layouts.XyzvLayout",$r);$r.TITLE="XyzvLayout";$r.ID_PREFIX="xiv.ui.layouts.XyzvLayout";var as={wg:"X",ye:"Y",cl:"Z",xp:"V"};
$r.CSS_SUFFIX={wg:"x",ye:"y",cl:"z",xp:"v",la:"slider",gi:"slider-thumb",wp:"slider-thumb-hovered",hi:"slider-track",vN:"slider-track-x",wN:"slider-track-y",xN:"slider-track-z",rM:"framenumber"};function ds(a,b,c,d,e){this.la=a;this.Ld=b;this.bd=c;this.Af=d;this.Aj=e}f=$r.prototype;f.QB=0;f.Xh=function(a,b){this.i[a].mm(b);var c=this.iz(a);Yh(this.a(),c);c.style.position="absolute";this.i[a].P().Wh(c);this.i[a].P().update()};
f.iz=function(a){return P("div",{id:this.constructor.ID_PREFIX+"_ResizeBoundary_"+a+"_"+B(),"class":vj(this.constructor.zc,a.toLowerCase()+"-resizeboundary")})};function bs(a,b){if(b.length>nb(as))throw Error("Invalid amount of frames "+b+". Must be "+as);D(b,function(a){if(!qb(as,a))throw Error("Invalid frame title ",a);}.bind(a))}function cs(a,b){var c="";D(b,function(a,b){c=a.toUpperCase();this.iy(new Zq(c));Yh(this.a(),this.i[c].a());N(this.i[c].a(),$r.CSS[b])}.bind(a))}f.GL=function(a){a.fw(this.Ol())};
f.fw=function(a){this.Ke(function(b,c){null!=a[c]&&(b[ar]=a[c].la,Q(a[c].la.a()),b.a().appendChild(a[c].la.a()),b[br]=a[c].Ld,Q(a[c].Ld.a()),b.a().appendChild(a[c].Ld.a()),b[dr]=a[c].bd,b.a().appendChild(a[c].bd.og),b.a().appendChild(a[c].bd.Uf))})};f.gy=function(){this.Wv();es(this);fs(this);gs(this);hs(this);is(this)};f.Ol=function(){var a={};this.Ke(function(b,c){a[c]=new ds(b[ar],b[br],b[dr],b[cr],b[er])});return a};f.Yz=function(a){a=this.i[a];return new ds(a[ar],a[br],a[dr],a[cr],a[er])};
f.Xz=function(a,b){return this.i[a][b]};f.Uz=function(a){return this.i[a]};function es(a){var b;a.Ke(function(a,d){b=new Or("horizontal");b.n(a.a());b.a().id=d+"_LayoutFrameSlider_"+B();a[ar]=b;Dh(b.a(),null,[$r.CSS.la]);Dh(b.xc,null,[$r.CSS.gi]);Dh(b.qe,null,[$r.CSS.hi,vj($r.CSS.hi,d.toLowerCase())]);b.kt($r.CSS.wp)}.bind(a))}function fs(a){var b;a.Ke(function(a){b=new qp;b.n(a.a());a[br]=b}.bind(a))}function gs(a){var b;a.Ke(function(a){b=new Mr;b.n(a.a());a[cr]=b}.bind(a))}
function is(a){var b;a.Ke(function(a){b=new Zr;b.n(a.a());a[er]=b}.bind(a))}function hs(a){var b;a.Ke(function(a){b=new Xr;a[dr]=b;b.n(a.a());a.a().appendChild(b.Uf);a.a().appendChild(b.og)}.bind(a))}f.Ke=function(a){C(as,function(b){b=b.toUpperCase();null!=this.i[b]&&"V"!=b&&a(this.i[b],b)}.bind(this))};f.loop=function(a){C(as,function(b){b=b.toUpperCase();a(this.i[b],b)}.bind(this))};f.ne=function(){null!=this.constructor.CSS&&N(this.i.X.a(),this.constructor.CSS.wg)};
f.jg=function(){null!=this.constructor.CSS&&N(this.i.Y.a(),this.constructor.CSS.ye)};f.wo=function(a){this.wh();var b=T(this.i.X.a()),c=T(this.i.Y.a()),d=T(this.i.Z.a());a(b,c,d,b.width+c.width+d.width-this.u.width)};f.lj=function(){null!=this.constructor.CSS&&N(this.i.Z.a(),this.constructor.CSS.cl)};f.To=function(){null!=this.constructor.CSS&&N(this.i.V.a(),this.constructor.CSS.xp)};f.Le=ea;f.Bk=ea;f.xr=ea;f.wr=ea;f.re=ea;f.Re=ea;f.se=ea;f.Rk=ea;f.f=function(){$r.d.f.call(this);delete this.QB};
v("xiv.ui.layouts.XyzvLayout.TITLE",$r.TITLE);v("xiv.ui.layouts.XyzvLayout.EventType",{});v("xiv.ui.layouts.XyzvLayout.ID_PREFIX",$r.ID_PREFIX);v("xiv.ui.layouts.XyzvLayout.FRAMES",as);v("xiv.ui.layouts.XyzvLayout.CSS_SUFFIX",$r.CSS_SUFFIX);v("xiv.ui.layouts.XyzvLayout.InteractorSet",ds);v("xiv.ui.layouts.XyzvLayout.prototype.resizeMargin",$r.prototype.QB);v("xiv.ui.layouts.XyzvLayout.prototype.setLayoutFrameResizable",$r.prototype.Xh);
v("xiv.ui.layouts.XyzvLayout.prototype.createResizeBoundary",$r.prototype.iz);v("xiv.ui.layouts.XyzvLayout.prototype.transferInteractors",$r.prototype.GL);v("xiv.ui.layouts.XyzvLayout.prototype.setInteractors",$r.prototype.fw);v("xiv.ui.layouts.XyzvLayout.prototype.addInteractors",$r.prototype.gy);v("xiv.ui.layouts.XyzvLayout.prototype.getInteractors",$r.prototype.Ol);v("xiv.ui.layouts.XyzvLayout.prototype.getInteractorsByPlane",$r.prototype.Yz);
v("xiv.ui.layouts.XyzvLayout.prototype.getInteractorByPlane",$r.prototype.Xz);v("xiv.ui.layouts.XyzvLayout.prototype.getFrameByPlane",$r.prototype.Uz);v("xiv.ui.layouts.XyzvLayout.prototype.loopXyz",$r.prototype.Ke);v("xiv.ui.layouts.XyzvLayout.prototype.loop",$r.prototype.loop);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_X",$r.prototype.ne);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_Y",$r.prototype.jg);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_Z",$r.prototype.lj);
v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_V",$r.prototype.To);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_X",$r.prototype.Le);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_Y",$r.prototype.Bk);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_Z",$r.prototype.xr);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_V",$r.prototype.wr);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_X",$r.prototype.re);
v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_Z",$r.prototype.Re);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_Y",$r.prototype.se);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_V",$r.prototype.Rk);v("xiv.ui.layouts.XyzvLayout.prototype.disposeInternal",$r.prototype.f);function ks(){$r.call(this,["X","Y","Z"])}w(ks,$r);v("xiv.ui.layouts.TwoDWidescreen",ks);ks.TITLE="TwoDWidescreen";ks.ID_PREFIX="xiv.ui.layouts.TwoDWidescreen";ks.CSS_SUFFIX={wg:"x",ye:"y",cl:"z"};f=ks.prototype;f.ne=function(){ks.d.ne.call(this);this.Xh("X",["RIGHT"]);F(this.i.X.P(),"resize",this.Le.bind(this));F(this.i.X.P(),"resize_end",this.k.bind(this))};f.jg=function(){ks.d.jg.call(this);this.Xh("Y",["BOTTOM"]);F(this.i.Y.P(),"resize",this.Bk.bind(this));F(this.i.Y.P(),"resize_end",this.k.bind(this))};
f.Le=function(){this.wo(function(a){var b=a.width,c=Math.max(this.u.width-a.width,this.nb);D(["Y","Z"],function(a){this.i[a].a().style.left=b+"px";this.i[a].a().style.width=c+"px"}.bind(this))}.bind(this));this.Gg()};f.Bk=function(){this.wo(function(a,b){window.console.log("Y SIZE",b.height);var c=b.height,d=this.u.height-c;this.i.Z.a().style.top=c+"px";this.i.Z.a().style.height=d+"px"}.bind(this));this.Gg()};f.k=function(){ks.d.k.call(this);this.Co();this.re();this.se();this.Re()};
f.Co=function(){if(this.ka.width!==this.u.width||this.ka.height!==this.u.height){var a=1-(this.ka.height-this.u.height)/this.ka.height,b=1-(this.ka.width-this.u.width)/this.ka.width;this.Ke(function(c){frameSize=T(c.a());c.a().style.width=Math.max(frameSize.width*b,this.nb).toString()+"px";c.a().style.height=Math.max(frameSize.height*a,this.Zc).toString()+"px"}.bind(this))}};
f.re=function(){var a=this.i.X;a.a().style.height=this.u.height.toString()+"px";qk(a.P().ld(),{left:this.nb,width:this.u.width-2*this.nb});var b=a.P().md("RIGHT");b.style.left=a.a().style.width;Qi(b,this.u.height);a.P().update()};f.se=function(){var a=this.i.Y;a.a().style.left=this.i.X.a().style.width;qk(a.P().ld(),{top:this.Zc,height:this.u.height-2*this.Zc});var b=a.P().md("BOTTOM");b.style.top=a.a().style.height;Pi(b,parseInt(a.a().style.width));a.P().update()};
f.Re=function(){var a=this.i.Z;a.a().style.left=this.i.X.a().style.width;a.a().style.top=this.i.Y.a().style.height;a.a().style.height=this.u.height-parseInt(this.i.Y.a().style.height)+NaN};v("xiv.ui.layouts.TwoDWidescreen.TITLE",ks.TITLE);v("xiv.ui.layouts.TwoDWidescreen.EventType",{});v("xiv.ui.layouts.TwoDWidescreen.ID_PREFIX",ks.ID_PREFIX);v("xiv.ui.layouts.TwoDWidescreen.CSS_SUFFIX",ks.CSS_SUFFIX);v("xiv.ui.layouts.TwoDWidescreen.prototype.setupLayoutFrame_X",ks.prototype.ne);
v("xiv.ui.layouts.TwoDWidescreen.prototype.setupLayoutFrame_Y",ks.prototype.jg);v("xiv.ui.layouts.TwoDWidescreen.prototype.onLayoutFrameResize_X",ks.prototype.Le);v("xiv.ui.layouts.TwoDWidescreen.prototype.onLayoutFrameResize_Y",ks.prototype.Bk);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle",ks.prototype.k);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_X",ks.prototype.re);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_Y",ks.prototype.se);
v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_Z",ks.prototype.Re);function ls(a){$r.call(this,a)}w(ls,$r);v("xiv.ui.layouts.SingleFrameLayout",ls);ls.TITLE="SingleFrameLayout";ls.ID_PREFIX="xiv.ui.layouts.SingleFrameLayout";ls.prototype.Co=function(){if(this.ka.width!==this.u.width||this.ka.height!==this.u.height){var a=this.ka.height*(1-(this.ka.height-this.u.height)/this.ka.height),b=this.ka.width*(1-(this.ka.width-this.u.width)/this.ka.width);this.loop(function(c){null!=c&&Oi(c.a(),Math.max(b,this.nb),Math.max(a,this.Zc))}.bind(this))}};
ls.prototype.k=function(){ls.d.k.call(this);this.Co()};v("xiv.ui.layouts.SingleFrameLayout.TITLE",ls.TITLE);v("xiv.ui.layouts.SingleFrameLayout.ID_PREFIX",ls.ID_PREFIX);v("xiv.ui.layouts.SingleFrameLayout.prototype.updateStyle",ls.prototype.k);function ms(){$r.call(this,"V");N(this.i.V.a(),vj(Zq.zc,this.constructor.TITLE))}w(ms,ls);v("xiv.ui.layouts.ThreeD",ms);ms.TITLE="ThreeD";ms.ID_PREFIX="xiv.ui.layouts.ThreeD";v("xiv.ui.layouts.ThreeD.TITLE",ms.TITLE);v("xiv.ui.layouts.ThreeD.ID_PREFIX",ms.ID_PREFIX);function ns(){$r.call(this,"X");N(this.i.X.a(),vj(Zq.zc,this.constructor.TITLE.toLowerCase()))}w(ns,ls);v("xiv.ui.layouts.Sagittal",ns);ns.TITLE="Sagittal";ns.ID_PREFIX="xiv.ui.layouts.Sagittal";v("xiv.ui.layouts.Sagittal.TITLE",ns.TITLE);v("xiv.ui.layouts.Sagittal.ID_PREFIX",ns.ID_PREFIX);function os(){$r.call(this)}w(os,$r);v("xiv.ui.layouts.Conventional",os);os.TITLE="Conventional";os.ID_PREFIX="xiv.ui.layouts.Conventional";os.CSS_SUFFIX={wg:"x",ye:"y",cl:"z",xp:"v",oO:"v-boundary"};f=os.prototype;f.ne=function(){os.d.ne.call(this);this.Xh("X",["RIGHT","TOP_RIGHT"]);F(this.i.X.P(),"resize",this.Le.bind(this));F(this.i.X.P(),"resize_end",this.k.bind(this))};f.jg=function(){os.d.jg.call(this)};
f.lj=function(){os.d.lj.call(this);this.Xh("Z",["RIGHT","TOP_RIGHT"]);F(this.i.Z.P(),"resize",this.xr.bind(this));F(this.i.Z.P(),"resize_end",this.k.bind(this))};f.To=function(){os.d.To.call(this);this.Xh("V","BOTTOM");F(this.i.V.P(),"resize",this.wr.bind(this));F(this.i.V.P(),"resize_end",this.k.bind(this))};function ps(a,b){a.wh();var c=T(a.i.X.a()),d=T(a.i.Y.a()),e=T(a.i.Z.a());b(c,d,e)}
f.Le=function(){ps(this,function(a,b,c){var d=Math.max(this.u.width-a.width-c.width,this.nb),e=c.width,h=this.u.height-a.height;this.nb==d&&(e=Math.max(this.u.width-a.width-b.width,this.nb),Bi(this.i.X.a(),e,h));Bi(this.i.Z.a(),0,h);Oi(this.i.Z.a(),e,a.height);Bi(this.i.Y.a(),c.width+a.width,h);Oi(this.i.Y.a(),d,a.height);Oi(this.i.V.a(),this.u.width,this.u.height-a.height)}.bind(this));this.Gg()};
f.xr=function(){ps(this,function(a,b,c){var d=Math.max(this.u.width-c.width-b.width,this.nb),e=b.width,h=this.u.height-c.height;this.nb==d&&(e=Math.max(this.u.width-c.width-a.width,this.nb));Bi(this.i.X.a(),c.width,h);Oi(this.i.X.a(),d,c.height);Bi(this.i.Y.a(),c.width+d,h);Oi(this.i.Y.a(),e,b.height);Oi(this.i.V.a(),this.u.width,this.u.height-c.height)}.bind(this));this.Gg()};
f.wr=function(){this.wh();var a=parseInt(this.i.V.a().style.height),b=this.u.height-a;C(this.i,function(c){c!==this.i.V&&qk(c.a(),{top:a,height:b})}.bind(this));this.re();this.se();this.Gg()};f.k=function(){os.d.k.call(this);this.Rk();this.Qw();this.Rw();this.re();this.se();this.Re()};f.Qw=function(){var a=parseInt(this.i.V.a().style.height),b=Math.max(this.u.height-a,this.Zc);this.Ke(function(c){c.a().style.top=a+"px";c.a().style.height=b+"px"})};
f.Rw=function(){var a,b=1-(this.ka.width-this.u.width)/this.ka.width;this.ka.width!==this.u.width&&this.Ke(function(c){a=T(c.a());c.a().style.width=Math.max(a.width*b,this.nb).toString()+"px"}.bind(this))};
function qs(a,b){var c=a.i.V.P().Pl("BOTTOM"),d=a.i[b].P().ld(),e=Di(a.i[b].a()),h=T(a.i[b].a());Bi(d,parseInt(d.style.left),a.Zc);Oi(d,a.u.width-3*a.nb,a.u.height-2*a.Zc);d=a.i[b].P().md("RIGHT");Bi(d,e.x+h.width,e.y);Qi(d,a.u.height-c.Xa.y);Bi(a.i[b].P().md("TOP_RIGHT"),e.x+h.width,e.y);a.i[b].P().update()}f.re=function(){this.i.X.a().style.left=this.i.Z.a().style.width;qk(this.i.X.P().ld(),{left:2*this.nb});qs(this,"X")};
f.se=function(){this.i.Y.a().style.left=(parseInt(this.i.Z.a().style.width)+parseInt(this.i.X.a().style.width)).toString()+"px"};f.Re=function(){qk(this.i.Z.P().ld(),{left:this.nb});qs(this,"Z")};
f.Rk=function(){if(this.ka.width!==this.u.width||this.ka.height!==this.u.height){var a=T(this.i.V.a());Oi(this.i.V.a(),this.u.width,Math.max(a.height*(1-(this.ka.height-this.u.height)/this.ka.height),this.Zc))}Bi(this.i.V.P().ld(),this.u.width,this.Zc);Oi(this.i.V.P().ld(),this.u.width-3*this.nb,this.u.height-2*this.Zc);a=this.i.V.P().md("BOTTOM");Bi(a,0,T(this.i.V.a()).height);Pi(a,this.u.width);this.i.V.P().update()};v("xiv.ui.layouts.Conventional.TITLE",os.TITLE);
v("xiv.ui.layouts.Conventional.EventType",{});v("xiv.ui.layouts.Conventional.ID_PREFIX",os.ID_PREFIX);v("xiv.ui.layouts.Conventional.CSS_SUFFIX",os.CSS_SUFFIX);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_X",os.prototype.ne);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_Y",os.prototype.jg);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_Z",os.prototype.lj);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_V",os.prototype.To);
v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_Z",os.prototype.xr);v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_X",os.prototype.Le);v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_V",os.prototype.wr);v("xiv.ui.layouts.Conventional.prototype.updateStyle",os.prototype.k);v("xiv.ui.layouts.Conventional.prototype.updateStyle_X",os.prototype.re);v("xiv.ui.layouts.Conventional.prototype.updateStyle_Y",os.prototype.se);
v("xiv.ui.layouts.Conventional.prototype.updateStyle_Z",os.prototype.Re);v("xiv.ui.layouts.Conventional.prototype.updateStyle_V",os.prototype.Rk);function rs(){$r.call(this,"Z");N(this.i.Z.a(),vj(Zq.zc,this.constructor.TITLE))}w(rs,ls);v("xiv.ui.layouts.Transverse",rs);rs.TITLE="Transverse";rs.ID_PREFIX="xiv.ui.layouts.Transverse";v("xiv.ui.layouts.Transverse.TITLE",rs.TITLE);v("xiv.ui.layouts.Transverse.ID_PREFIX",rs.ID_PREFIX);function ss(){$r.call(this)}w(ss,$r);v("xiv.ui.layouts.FourUp",ss);ss.TITLE="Four-Up";ss.ID_PREFIX="xiv.ui.layouts.FourUp";ss.CSS_SUFFIX={wg:"x",ye:"y",cl:"z",xp:"v"};f=ss.prototype;f.ne=function(){ss.d.ne.call(this);this.Xh("X",["RIGHT","TOP","TOP_RIGHT"]);F(this.i.X.P(),"resize",this.Le.bind(this));F(this.i.X.P(),"resize_end",this.k.bind(this))};
f.Le=function(){var a=Di(this.i.X.a()),b=T(this.i.X.a());Bi(this.i.Y.a(),b.width,a.y);Oi(this.i.Y.a(),this.u.width-b.width,b.height);Bi(this.i.Z.a(),0,0);Oi(this.i.Z.a(),b.width,a.y);Bi(this.i.V.a(),b.width,0);Oi(this.i.V.a(),this.u.width-b.width,a.y);a=this.i.X.P().Pl("RIGHT").md();a.style.top="0px";a.style.height=this.u.height.toString()+"px";this.Gg()};f.k=function(){ss.d.k.call(this);this.Co();this.Re();this.Rk();this.re();this.se()};
f.Co=function(){if(this.ka.width!==this.u.width||this.ka.height!==this.u.height){var a=this.ka.height*(1-(this.ka.height-this.u.height)/this.ka.height)/2,b=this.ka.width*(1-(this.ka.width-this.u.width)/this.ka.width)/2;this.loop(function(c){Oi(c.a(),Math.max(b,this.nb),Math.max(a,this.Zc))}.bind(this))}};
f.re=function(){this.i.X.a().style.top=this.i.Z.a().style.height;Bi(this.i.X.P().ld(),this.nb,this.Zc);Oi(this.i.X.P().ld(),this.u.width-2*this.nb,this.u.height-2*this.Zc);var a=this.i.X.P().Pl("TOP").md();a.style.left="0px";a.style.width=this.u.width.toString()+"px";this.i.X.P().update();a=this.i.X.P().Pl("RIGHT").md();a.style.top="0px";a.style.height=this.u.height.toString()+"px"};f.se=function(){this.i.Y.a().style.left=this.i.Z.a().style.width;this.i.Y.a().style.top=this.i.Z.a().style.height};
f.Re=function(){};f.Rk=function(){this.i.V.a().style.left=this.i.Z.a().style.width};f.f=function(){ss.d.f.call(this)};v("xiv.ui.layouts.FourUp.TITLE",ss.TITLE);v("xiv.ui.layouts.FourUp.EventType",{});v("xiv.ui.layouts.FourUp.ID_PREFIX",ss.ID_PREFIX);v("xiv.ui.layouts.FourUp.CSS_SUFFIX",ss.CSS_SUFFIX);v("xiv.ui.layouts.FourUp.prototype.setupLayoutFrame_X",ss.prototype.ne);v("xiv.ui.layouts.FourUp.prototype.onLayoutFrameResize_X",ss.prototype.Le);v("xiv.ui.layouts.FourUp.prototype.updateStyle",ss.prototype.k);
v("xiv.ui.layouts.FourUp.prototype.updateStyle_X",ss.prototype.re);v("xiv.ui.layouts.FourUp.prototype.updateStyle_Y",ss.prototype.se);v("xiv.ui.layouts.FourUp.prototype.updateStyle_Z",ss.prototype.Re);v("xiv.ui.layouts.FourUp.prototype.updateStyle_V",ss.prototype.Rk);v("xiv.ui.layouts.FourUp.prototype.disposeInternal",ss.prototype.f);function ts(){$r.call(this,["X","Y","Z"])}w(ts,$r);v("xiv.ui.layouts.TwoDRow",ts);ts.TITLE="TwoDRow";ts.ID_PREFIX="xiv.ui.layouts.TwoDRow";ts.CSS_SUFFIX={wg:"x",ye:"y",cl:"z"};f=ts.prototype;f.ne=function(){ts.d.ne.call(this);this.Xh("X",["RIGHT"]);F(this.i.X.P(),"resize",this.Le.bind(this));F(this.i.X.P(),"resize_end",this.k.bind(this))};f.jg=function(){ts.d.jg.call(this);this.Xh("Y",["RIGHT"]);F(this.i.Y.P(),"resize",this.Bk.bind(this));F(this.i.Y.P(),"resize_end",this.k.bind(this))};f.lj=function(){ts.d.lj.call(this)};
f.wo=function(a){this.wh();var b=T(this.i.X.a()),c=T(this.i.Y.a()),d=T(this.i.Z.a());a(b,c,d,b.width+c.width+d.width-this.u.width)};f.Le=function(){this.wo(function(a,b,c){b=Math.max(this.u.width-a.width-c.width,this.nb);var d=this.u.height-a.height;Bi(this.i.Y.a(),a.width,d);Oi(this.i.Y.a(),b,a.height);Bi(this.i.Z.a(),a.width+b,d);Oi(this.i.Z.a(),c.width,a.height)}.bind(this));this.Gg()};
f.Bk=function(){this.wo(function(a,b){var c=this.u.height-b.height;Bi(this.i.X.a(),0,c);Oi(this.i.X.a(),a.width,b.height);Bi(this.i.Z.a(),a.width+b.width,c);Oi(this.i.Z.a(),this.u.width-a.width-b.width,b.height)}.bind(this));this.Gg()};f.k=function(){ts.d.k.call(this);this.Rw();this.Qw();this.re();this.se();this.Re()};f.Qw=function(){var a=this.u.height.toString()+"px";this.Ke(function(b){b.a().style.height=a})};
f.Rw=function(){var a,b=1-(this.ka.width-this.u.width)/this.ka.width;this.ka.width!==this.u.width&&this.Ke(function(c){a=T(c.a());newWidth=c.a().style.width=Math.max(a.width*b,this.nb).toString()+"px"}.bind(this))};function us(a,b){var c=a.i[b].P().ld(),d=Di(a.i[b].a()),e=T(a.i[b].a());Bi(c,parseInt(c.style.left),a.Zc);Oi(c,a.u.width-3*a.nb,a.u.height-2*a.Zc);c=a.i[b].P().md("RIGHT");Bi(c,d.x+e.width,d.y);Qi(c,a.u.height);a.i[b].P().update()}
f.re=function(){qk(this.i.X.P().ld(),{left:this.nb});us(this,"X")};f.se=function(){this.i.Y.a().style.left=this.i.X.a().style.width;qk(this.i.Y.P().ld(),{left:2*this.nb});us(this,"Y")};f.Re=function(){this.i.Z.a().style.left=(parseInt(this.i.X.a().style.width)+parseInt(this.i.Y.a().style.width)).toString()+"px"};v("xiv.ui.layouts.TwoDRow.TITLE",ts.TITLE);v("xiv.ui.layouts.TwoDRow.EventType",{});v("xiv.ui.layouts.TwoDRow.ID_PREFIX",ts.ID_PREFIX);v("xiv.ui.layouts.TwoDRow.CSS_SUFFIX",ts.CSS_SUFFIX);
v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_X",ts.prototype.ne);v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_Y",ts.prototype.jg);v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_Z",ts.prototype.lj);v("xiv.ui.layouts.TwoDRow.prototype.onLayoutFrameResize_X",ts.prototype.Le);v("xiv.ui.layouts.TwoDRow.prototype.onLayoutFrameResize_Y",ts.prototype.Bk);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle",ts.prototype.k);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_X",ts.prototype.re);
v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_Y",ts.prototype.se);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_Z",ts.prototype.Re);function vs(){$r.call(this,"Y");N(this.i.Y.a(),vj(Zq.zc,this.constructor.TITLE.toLowerCase()))}w(vs,ls);v("xiv.ui.layouts.Coronal",vs);vs.TITLE="Coronal";vs.ID_PREFIX="xiv.ui.layouts.Coronal";v("xiv.ui.layouts.Coronal.TITLE",vs.TITLE);v("xiv.ui.layouts.Coronal.ID_PREFIX",vs.ID_PREFIX);function ws(){U.call(this);this.constructor.ox={};this.constructor.ox[ss.TITLE]=ss;this.constructor.ox[os.TITLE]=os;this.Zk={};this.fj={};this.bi={}}w(ws,U);v("xiv.ui.layouts.LayoutHandler",ws);ws.ID_PREFIX="xiv.ui.layouts.LayoutHandler";ws.CSS_SUFFIX={};f=ws.prototype;f.pb=null;f.nd=null;f.Mu=!1;f.zi=null;f.pe=null;f.Jy=!0;f.JI=function(){return this.Mu};f.lF=function(a){this.Jy=a};f.Mz=function(){return this.pb[this.Uc]};f.Nz=function(a){return this.pb[this.Uc].lu(a)};
f.kp=function(){null!=this.nd&&this.nd.kp()};f.mu=function(){return null!=this.nd?this.nd.Ol():null};function xs(a){var b=[];a=a.nd.Ol();C(a,function(a){C(a,function(a){b.push(a.a())})});return b}f.WG=function(a){return null!=this.nd?this.nd.Yz(a):null};f.VG=function(a){return null!=this.nd?this.nd.Uz(a):null};f.bA=function(a,b){return null!=this.nd?this.nd.Xz(a,b):null};f.fC=function(a){this.kj(a);null!=this.nd&&this.nd.Wv();this.pb[a].gy();this.nd=this.pb[a]};
f.hy=function(a,b){if(void 0 in this.Zk)throw Error(a+" is an already used layout title!");b&&(this.Zk[a]=b)};f.kj=function(a,b){if(!(a in this.Zk))throw Error("Invalid layout: "+a+"!");null==this.pb&&(this.pb={});a in this.pb||(this.pb[a]=new this.Zk[a],F(this.pb[a],"q",this.yr.bind(this)),ys(this.pb[a]),Yh(this.a(),this.pb[a].a()));this.Hr=this.Uc;this.Uc=a;this.MC(!1===b?0:500)};
function zs(a){var b;C(a.pb[a.Uc].i,function(a,d){b=this.bA(d,ar);null!=b&&null==a[As]&&(b.ln(a.a()),a[As]=!0)}.bind(a))}f.yr=function(){this.dispatchEvent({type:"A"})};f.MC=function(a){a=u(a)&&0<=a?a:500;this.Hr==this.Uc?zs(this):this.Hr?this.Jy?Bs(this,a):Bs(this,0):(Cs(this,this.Uc),Ds(this,this.Uc))};function Es(a,b,c){D(ai(b.a()),function(a){null!=this.fj[c]||(this.fj[c]=[]);this.fj[c].push(a)}.bind(a))}function Fs(a){C(a.bi,function(a){Yh(this.a().parentNode,a)}.bind(a))}
function Gs(a,b){var c=[];C(a.bi,function(a,e){c=Mb(c,Kk(a,this.zi[e],this.pe[e],b))}.bind(a));return c}
function Bs(a,b){var c=a.pb[a.Uc].i,d;Cs(a,a.Uc);Ds(a,a.Uc);null!=a.zi&&tb(a.zi);null!=a.pe&&tb(a.pe);a.zi={};a.pe={};C(a.pb[a.Hr].i,function(a,b){d=a.a().cloneNode(!1);this.bi[b]=d;Es(this,a,b);C(this.fj,function(a,b){D(a,function(a){Q(a);null!=this.bi[b]&&this.bi[b].appendChild(a)}.bind(this))}.bind(this));if(b in c){var k=Jk(a.a(),c[b].a());this.zi[b]=k.qF;this.pe[b]=k.DL}else this.zi[b]={"z-index":0},this.pe[b]={opacity:0}}.bind(a));Fs(a);Lk(Gs(a,b),a.yv.bind(a),a.zv.bind(a),a.xv.bind(a))}
f.yv=function(){this.EA();this.Mu=!0;this.dispatchEvent({type:"x",Kw:this.bi})};var As=B();f=ws.prototype;f.zv=function(){this.dispatchEvent({type:"z",Kw:this.bi})};
f.xv=function(){var a=this.pb[this.Uc].i;C(a,function(a,c){null!=this.fj[c]&&D(this.fj[c],function(c){a.a().appendChild(c)})}.bind(this));C(a,function(a,c){null!=this.pe[c]&&qk(a.a(),this.pe[c])}.bind(this));this.pb[this.Uc]!==this.nd&&this.pb[this.Uc].fw(this.mu());Hs(this);this.Mu=!1;Cs(this,this.Uc);Ds(this,this.Uc);Is(this);this.dispatchEvent({type:"y",frames:a});zs(this);this.k()};function Ds(a,b){a.pb[b].a().style.opacity=1;a.pb[b].k()}
function Cs(a,b){a.pb[b].a().style.visibility="visible";a.pb[b].k()}f.EA=function(){C(this.pb,function(a){a.a().style.visibility="hidden";a.k()}.bind(this))};function Hs(a){C(a.bi,function(a){Q(a);delete a})}function ys(a){C(a.i,function(a){F(a.a(),"dblclick",function(){})})}f.CJ=function(a){this.jP.push(a)};f.k=function(){ws.d.k.call(this);this.pb[this.Uc].k()};
function Is(a){null!=a.zi&&(C(a.zi,function(a){tb(a)}),tb(a.pe),delete a.pe);null!=a.pe&&(C(a.pe,function(a){tb(a)}),tb(a.pe),delete a.pe)}f.f=function(){ws.d.f.call(this);Is(this);delete this.bi;tb(this.fj);delete this.fj;delete this.nd;this.zn(this.pb);delete this.pb;tb(this.Zk);delete this.Zk;delete this.Uc;delete this.Hr};v("xiv.ui.layouts.LayoutHandler.EventType",{EM:"x",DM:"y",FM:"z",Cs:"A"});v("xiv.ui.layouts.LayoutHandler.ID_PREFIX",ws.ID_PREFIX);
v("xiv.ui.layouts.LayoutHandler.CSS_SUFFIX",ws.CSS_SUFFIX);v("xiv.ui.layouts.LayoutHandler.ANIM_TIME",500);v("xiv.ui.layouts.LayoutHandler.SLIDER_BOUND",As);v("xiv.ui.layouts.LayoutHandler.prototype.layoutChanging",ws.prototype.JI);v("xiv.ui.layouts.LayoutHandler.prototype.animateLayoutChange",ws.prototype.lF);v("xiv.ui.layouts.LayoutHandler.prototype.getCurrentLayout",ws.prototype.Mz);v("xiv.ui.layouts.LayoutHandler.prototype.getCurrentLayoutFrame",ws.prototype.Nz);
v("xiv.ui.layouts.LayoutHandler.prototype.updateInteractors",ws.prototype.kp);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractors",ws.prototype.mu);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorsElements",ws.prototype.NO);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorsByPlane",ws.prototype.WG);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterFrameByPlane",ws.prototype.VG);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorByPlane",ws.prototype.bA);
v("xiv.ui.layouts.LayoutHandler.prototype.setMasterLayout",ws.prototype.fC);v("xiv.ui.layouts.LayoutHandler.prototype.addLayout",ws.prototype.hy);v("xiv.ui.layouts.LayoutHandler.prototype.setLayout",ws.prototype.kj);v("xiv.ui.layouts.LayoutHandler.prototype.switchLayout",ws.prototype.MC);v("xiv.ui.layouts.LayoutHandler.prototype.hideAllLayouts",ws.prototype.EA);v("xiv.ui.layouts.LayoutHandler.prototype.onLayoutFrameDoubleClicked",ws.prototype.CJ);
v("xiv.ui.layouts.LayoutHandler.prototype.updateStyle",ws.prototype.k);v("xiv.ui.layouts.LayoutHandler.prototype.disposeInternal",ws.prototype.f);function Js(a,b){this.x=a;this.y=b}w(Js,rh);f=Js.prototype;f.clone=function(){return new Js(this.x,this.y)};f.Yf=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};f.scale=rh.prototype.scale;f.zb=function(){this.x=-this.x;this.y=-this.y;return this};f.normalize=function(){return this.scale(1/this.Yf())};f.add=function(a){this.x+=a.x;this.y+=a.y;return this};f.wc=function(a){this.x-=a.x;this.y-=a.y;return this};
f.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};f.Gl=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y};function Ks(){Fq.call(this);this.ig("Display All");this.bq=P("div",{id:"CheckboxHodler_"+B()});N(this.bq,Ks.CSS.oD);this.Wj=new Dq(!0);this.Wj.yb(this.bq);this.hj(this.Wj);F(this.Wj,"change",this.hc.bind(this))}w(Ks,Fq);v("xiv.ui.ctrl.CheckboxController",Ks);Ks.ID_PREFIX="xiv.ui.ctrl.CheckboxController";Ks.CSS_SUFFIX={oD:"checkboxholder"};Ks.prototype.pf=function(a){this.v.pf(a);this.hc()};Ks.prototype.hc=function(){this.dispatchEvent({type:"p",checked:this.Wj.Jh()})};
Ks.prototype.f=function(){Ks.d.f.call(this);Q(this.bq);delete this.bq;H(this.Wj);this.Wj.g();delete this.Wj};v("xiv.ui.ctrl.CheckboxController.ID_PREFIX",Ks.ID_PREFIX);v("xiv.ui.ctrl.CheckboxController.CSS_SUFFIX",Ks.CSS_SUFFIX);v("xiv.ui.ctrl.CheckboxController.prototype.setChecked",Ks.prototype.pf);v("xiv.ui.ctrl.CheckboxController.prototype.dispatchComponentEvent",Ks.prototype.hc);v("xiv.ui.ctrl.CheckboxController.prototype.disposeInternal",Ks.prototype.f);function Ls(){U.call(this);this.Ya=P("img",{id:"nrg.ui.Thumbnail_"+B()});Yh(this.a(),this.Ya);this.Pe=P("div",{id:"DisplayText_"+B()});Yh(this.a(),this.Pe);this.$r();this.a().className=Ls.zc;this.Ya.className=Ls.CSS.ei;this.Pe.className=Ls.CSS.$k;Ms(this,!0);this.uo()}w(Ls,U);v("nrg.ui.Thumbnail",Ls);Ls.ID_PREFIX="nrg.ui.Thumbnail";
Ls.CSS_SUFFIX={ei:"image",$k:"text",oN:"selected",qp:"mouseover",nx:"image-mouseover",xx:"text-mouseover",lx:"highlight",tj:"active",mx:"image-active",wx:"text-active",AD:"hoverclone"};f=Ls.prototype;f.Sy=null;f.kc=null;f.Wq=!1;f.KG=function(){return this.Ya};f.WB=function(a,b){this.Sy=a;this.Ya.onerror=function(){this.Ya.onerror="";this.Ya.src=this.Sy;null!=b&&b()}.bind(this)};f.zH=function(){return this.Pe};f.qu=function(){for(var a=this.Pe;a.childNodes[0];)a=a.childNodes[0];return a.parentNode.innerHTML};
f.ff=function(){return this.kc=this.kc?this.kc:this.a()};f.Og=function(){return this.Wq};f.ew=function(a){this.Ya.src=a;this.Ya.className=Ls.CSS.ei};f.Po=function(a){this.Pe.innerHTML=a};f.LB=function(){this.kc&&(this.kc.parentNode&&(this.kc=this.kc.parentNode.removeChild(this.kc)),delete this.kc,this.kc=null)};
f.wn=function(a,b){this.LB();Ms(this,!1);this.kc=b?b:this.a().cloneNode(!0);this.kc.setAttribute("id","HOVERABLE_"+this.a().getAttribute("id"));this.kc.style.visibility="hidden";N(this.kc,Ls.CSS.AD);Ms(this,!0);a&&a.appendChild(this.kc);this.$r()};f.setActive=function(a,b){var c=this.a();(this.Wq=a)?(b&&N(c,Ls.CSS.lx),N(c,Ls.CSS.tj),N(this.Pe,Ls.CSS.wx),N(this.Ya,Ls.CSS.mx)):(Bh(c,Ls.CSS.lx),Bh(c,Ls.CSS.tj),Bh(this.Pe,Ls.CSS.wx),Bh(this.Ya,Ls.CSS.mx))};f.k=function(a){a&&this.a()&&qk(this.a(),a)};
f.Yv=function(){var a=this.a(),b=this.ff();if(b!==a){var c=gi(a,b),c=Ki(a,c),d=0,d=b.getElementsByTagName("img")[0].scrollWidth+b.getElementsByTagName("div")[0].scrollWidth+25,d=d>a.clientWidth?d:a.clientWidth;qk(b,{position:"absolute",left:c.x,top:c.y,width:d,visibility:"visible"})}};f.zr=function(){var a=this.ff();N(a,Ls.CSS.qp);N(a.childNodes[1],Ls.CSS.xx);N(a.childNodes[0],Ls.CSS.nx);a!==this.a()&&this.Yv();this.dispatchEvent("B")};
f.uo=function(){var a=this.ff();a&&1<a.childNodes.length&&(Bh(a,Ls.CSS.qp),Bh(a.childNodes[1],Ls.CSS.xx),Bh(a.childNodes[0],Ls.CSS.nx),a.style.visibility=a!==this.a()?"hidden":"visible");this.dispatchEvent("C")};function Ms(a,b){var c=a.ff();b?(F(c,"mouseover",a.zr.bind(a)),F(c,"mouseout",a.uo.bind(a))):(Uc(c,"mouseover",a.zr.bind(a)),Uc(c,"mouseout",a.uo.bind(a)))}f.$r=function(){Wc(this.ff(),"D")&&Vc("D");F(this.ff(),"click",function(){this.dispatchEvent({type:"D"})}.bind(this))};
f.f=function(){Ls.d.f.call(this);H(this);H(this.a());null!=this.kc&&(H(this.kc),Q(this.kc),delete this.kc);Q(this.Ya);delete this.Ya;Q(this.Pe);delete this.Pe;delete this.zO;delete this.Wq};v("nrg.ui.Thumbnail.EventType",{qp:"B",XD:"C",aM:"D"});v("nrg.ui.Thumbnail.ID_PREFIX",Ls.ID_PREFIX);v("nrg.ui.Thumbnail.CSS_SUFFIX",Ls.CSS_SUFFIX);v("nrg.ui.Thumbnail.HOVERABLE_PREFIX","HOVERABLE_");v("nrg.ui.Thumbnail.prototype.getImage",Ls.prototype.KG);v("nrg.ui.Thumbnail.prototype.setBrokenThumbnailUrl",Ls.prototype.WB);
v("nrg.ui.Thumbnail.prototype.getTextElement",Ls.prototype.zH);v("nrg.ui.Thumbnail.prototype.getText",Ls.prototype.qu);v("nrg.ui.Thumbnail.prototype.getHoverable",Ls.prototype.ff);v("nrg.ui.Thumbnail.prototype.isActive",Ls.prototype.Og);v("nrg.ui.Thumbnail.prototype.setImage",Ls.prototype.ew);v("nrg.ui.Thumbnail.prototype.setText",Ls.prototype.Po);v("nrg.ui.Thumbnail.prototype.removeHoverable",Ls.prototype.LB);v("nrg.ui.Thumbnail.prototype.createHoverable",Ls.prototype.wn);
v("nrg.ui.Thumbnail.prototype.setActive",Ls.prototype.setActive);v("nrg.ui.Thumbnail.prototype.updateStyle",Ls.prototype.k);v("nrg.ui.Thumbnail.prototype.repositionHoverable",Ls.prototype.Yv);v("nrg.ui.Thumbnail.prototype.onMouseOver",Ls.prototype.zr);v("nrg.ui.Thumbnail.prototype.onMouseOut",Ls.prototype.uo);v("nrg.ui.Thumbnail.prototype.disposeInternal",Ls.prototype.f);function Ns(){U.call(this)}w(Ns,U);v("nrg.ui.ScrollableContainer",Ns);Ns.ID_PREFIX="nrg.ui.ScrollableContainer";Ns.CSS_SUFFIX={mE:"scrollarea",la:"slider",gi:"slider-thumb",hi:"slider-track",wp:"slider-thumb-hovered",uN:"slider-track-hovered"};f=Ns.prototype;
f.n=function(a){Ns.d.n.call(this,a);null==this.gg&&(this.gg=P("div",{id:this.constructor.ID_PREFIX+"_ScrollArea_"+B(),"class":Ns.CSS.mE}),this.a().appendChild(this.gg));this.Ra=new Or("vertical");this.Ra.n(this.a());F(this.Ra,"v",this.Yc.bind(this));this.Ra.ln(this.a());N(this.Ra.a(),Ns.CSS.la);N(this.Ra.xc,Ns.CSS.gi);N(this.Ra.qe,Ns.CSS.hi);this.Ra.rt(Ns.CSS.wp);this.k();this.Yc()};f.Ze=function(a){this.fa||this.n();Yh(this.gg,a);this.Yc()};f.a=function(){return this.o};f.vH=function(){return this.Ra};
f.rH=function(){return this.gg};f.k=function(a){a&&qk(this.o,a)};f.Yc=function(){var a=T(this.o).height,b=T(this.gg).height,c=[this.Ra.qa(),this.Ra.ha()],d=[0,b-a];a<b?(this.Ra.a().style.opacity=1,a=Math.round(a/b*a),b=T(this.Ra.xc).height,this.Ra.xi&&a!=b&&this.Ra.rt(Ns.CSS.wp),qk(this.Ra.xc,{height:a}),this.Ra.nc(!0),a=this.Ra.ha()-this.Ra.J(),c=ik(a,c,d).remappedVal,qk(this.gg,{top:-c})):(this.Ra.a().style.opacity=0,this.Ra.nc(!1),this.Ra.I(100))};
f.f=function(){Ns.d.f.call(this);null!=this.Ra&&(H(this.Ra),this.Ra.g(),delete this.Ra);null!=this.gg&&(Q(this.gg),delete this.gg)};v("nrg.ui.ScrollableContainer.ID_PREFIX",Ns.ID_PREFIX);v("nrg.ui.ScrollableContainer.CSS_SUFFIX",Ns.CSS_SUFFIX);v("nrg.ui.ScrollableContainer.MAX_LABEL_LENGTH",30);v("nrg.ui.ScrollableContainer.prototype.render",Ns.prototype.n);v("nrg.ui.ScrollableContainer.prototype.addContents",Ns.prototype.Ze);v("nrg.ui.ScrollableContainer.prototype.getElement",Ns.prototype.a);
v("nrg.ui.ScrollableContainer.prototype.getSlider",Ns.prototype.vH);v("nrg.ui.ScrollableContainer.prototype.getScrollArea",Ns.prototype.rH);v("nrg.ui.ScrollableContainer.prototype.updateStyle",Ns.prototype.k);v("nrg.ui.ScrollableContainer.prototype.mapSliderToContents",Ns.prototype.Yc);v("nrg.ui.ScrollableContainer.prototype.disposeInternal",Ns.prototype.f);function Os(){U.call(this)}w(Os,Ns);v("nrg.ui.ScrollableZippyTree",Os);Os.ID_PREFIX="nrg.ui.ScrollableZippyTree";Os.CSS_SUFFIX={HE:"zippytree"};f=Os.prototype;f.n=function(a){Os.d.n.call(this,a);this.ma=new mq;N(this.ma.a(),Os.CSS.HE);this.gg.appendChild(this.ma.a());this.So();this.Ra.vC(!0,.3)};f.Ze=function(a,b){this.ma.Ze(a,b);g(a);this.Ra.ln(this.ma.a())};f.Il=function(){this.ma.Il()};f.rn=function(){this.ma.rn()};f.Vb=function(a,b){this.ma.Vb(a,b)};f.TH=function(){return this.ma};
f.eF=function(a){this.ma.un(a);this.Yc()};f.So=function(){F(this.ma,"n",this.Yc.bind(this));F(this.ma,"a",this.Yc.bind(this));F(this.ma,"b",this.Yc.bind(this));F(this.ma,vl.ZD,this.Yc.bind(this))};f.k=function(a){a&&qk(this.a(),a)};f.f=function(){Os.d.f.call(this);null!=this.ma&&(H(this.ma),this.ma.g(),delete this.ma)};v("nrg.ui.ScrollableZippyTree.EventType",{});v("nrg.ui.ScrollableZippyTree.ID_PREFIX",Os.ID_PREFIX);v("nrg.ui.ScrollableZippyTree.CSS_SUFFIX",Os.CSS_SUFFIX);
v("nrg.ui.ScrollableZippyTree.prototype.render",Os.prototype.n);v("nrg.ui.ScrollableZippyTree.prototype.addContents",Os.prototype.Ze);v("nrg.ui.ScrollableZippyTree.prototype.expandAll",Os.prototype.Il);v("nrg.ui.ScrollableZippyTree.prototype.collapseAll",Os.prototype.rn);v("nrg.ui.ScrollableZippyTree.prototype.setExpanded",Os.prototype.Vb);v("nrg.ui.ScrollableZippyTree.prototype.getZippyTree",Os.prototype.TH);v("nrg.ui.ScrollableZippyTree.prototype.addFolders",Os.prototype.eF);
v("nrg.ui.ScrollableZippyTree.prototype.setZippyTreeEvents",Os.prototype.So);v("nrg.ui.ScrollableZippyTree.prototype.updateStyle",Os.prototype.k);v("nrg.ui.ScrollableZippyTree.prototype.disposeInternal",Os.prototype.f);function Ps(){bd.call(this);this.s="shaders";this.Qp="";var a;a="precision mediump float;\n\n";a+="attribute vec3 vertexPosition;\n";a+="attribute vec3 vertexNormal;\n";a+="attribute vec3 vertexColor;\n";a+="attribute vec2 vertexTexturePos;\n";a+="attribute float vertexScalar;\n";a+="\n";a+="uniform mat4 view;\n";a+="uniform mat4 perspective;\n";a+="uniform vec3 center;\n";a+="uniform mat4 objectTransform;\n";a+="uniform bool useObjectColor;\n";a+="uniform bool useScalars;\n";a+="uniform bool scalarsReplaceMode;\n";
a+="uniform float scalarsMin;\n";a+="uniform float scalarsMax;\n";a+="uniform vec3 scalarsMinColor;\n";a+="uniform vec3 scalarsMaxColor;\n";a+="uniform float scalarsMinThreshold;\n";a+="uniform float scalarsMaxThreshold;\n";a+="uniform int scalarsInterpolation;\n";a+="uniform vec3 objectColor;\n";a+="uniform float pointSize;\n";a+="\n";a+="varying float fDiscardNow;\n";a+="varying vec4 fVertexPosition;\n";a+="varying vec3 fragmentColor;\n";a+="varying vec2 fragmentTexturePos;\n";a+="varying vec3 fVertexNormal;\n";
a+="varying vec3 fTransformedVertexNormal;\n";a+="\n";a+="void main(void) {\n";a+="  fTransformedVertexNormal = mat3(view[0].xyz,view[1].xyz,view[2].xyz) * ";a+="mat3(objectTransform[0].xyz,objectTransform[1].xyz,objectTransform[2].xyz) * ";a+="vertexNormal;\n";a+="  fVertexNormal = vertexNormal;\n";a+="  fDiscardNow = 0.0;\n";a+="  vec3 vertexPosition2 = vertexPosition - center;\n";a+="  fVertexPosition = view * objectTransform * vec4(vertexPosition2, 1.0);\n";a+="  fragmentTexturePos = vertexTexturePos;\n";
a+="  if (useScalars) {\n";a+="    float scalarValue = vertexScalar;\n";a+="    if (scalarValue < scalarsMinThreshold || scalarValue > scalarsMaxThreshold) {\n";a+="      if (scalarsReplaceMode) {\n";a+="        fragmentColor = objectColor;\n";a+="      } else {\n";a+="        fDiscardNow = 1.0;\n";a+="      }\n";a+="    } else {\n";a+="      if (scalarsReplaceMode) {\n";a+="        if (scalarsInterpolation == 1) {\n";a+="            vec3 zeroMaxColor;\n";a+="            vec3 zeroMinColor;\n";a+=
"            zeroMaxColor[0] = scalarsMaxColor[0]*0.33;\n";a+="            zeroMaxColor[1] = scalarsMaxColor[1]*0.33;\n";a+="            zeroMaxColor[2] = scalarsMaxColor[2]*0.33;\n";a+="            zeroMinColor[0] = scalarsMinColor[0]*0.33;\n";a+="            zeroMinColor[1] = scalarsMinColor[1]*0.33;\n";a+="            zeroMinColor[2] = scalarsMinColor[2]*0.33;\n";a+="            if(scalarValue < 0.0) {fragmentColor = scalarValue/(scalarsMin) * scalarsMinColor + (1.0 - scalarValue/(scalarsMin)) * (zeroMinColor);}\n";
a+="            else {fragmentColor = scalarValue/(scalarsMax) * scalarsMaxColor + (1.0 - scalarValue/(scalarsMax)) * (zeroMaxColor);}\n";a+="        } else {\n";a+="            fragmentColor = scalarValue * scalarsMaxColor + (1.0 - scalarValue) * scalarsMinColor;\n";a+="          }\n";a+="      } else {\n";a+="        fragmentColor = vertexColor;\n";a+="      }\n";a+="    }\n";a+="  } else if (useObjectColor) {\n";a+="    fragmentColor = objectColor;\n";a+="  } else {\n";a+="    fragmentColor = vertexColor;\n";
a+="  }\n";a+="  gl_PointSize = pointSize;\n";a+="  gl_Position = perspective * fVertexPosition;\n";this.Qp=a+="}\n";this.Fp="";a="precision mediump float;\n\n";a+="uniform bool usePicking;\n";a+="uniform bool useTexture;\n";a+="uniform bool volumeTexture;\n";a+="uniform bool useLabelMapTexture;\n";a+="uniform sampler2D textureSampler;\n";a+="uniform sampler2D textureSampler2;\n";a+="uniform float objectOpacity;\n";a+="uniform float labelmapOpacity;\n";a+="uniform vec4 labelmapColor;\n";a+="uniform float volumeLowerThreshold;\n";
a+="uniform float volumeUpperThreshold;\n";a+="uniform float volumeScalarMin;\n";a+="uniform float volumeScalarMax;\n";a+="uniform vec3 volumeScalarMinColor;\n";a+="uniform vec3 volumeScalarMaxColor;\n";a+="uniform float volumeWindowLow;\n";a+="uniform float volumeWindowHigh;\n";a+="\n";a+="varying float fDiscardNow;\n";a+="varying vec4 fVertexPosition;\n";a+="varying vec3 fragmentColor;\n";a+="varying vec2 fragmentTexturePos;\n";a+="varying vec3 fVertexNormal;\n";a+="varying vec3 fTransformedVertexNormal;\n";
a+="\n";a+="void main(void) {\n";a+=" if (fDiscardNow > 0.0) {\n";a+="   discard;\n";a+=" }\n";a+=" if (usePicking) {\n";a+="   gl_FragColor = vec4(fragmentColor, 1.0);\n";a+=" } else if (useTexture) {\n";a+="   vec4 texture1 = texture2D(textureSampler,fragmentTexturePos);\n";a+="   vec4 textureSum = texture1;\n";a+="   if (volumeTexture) {\n";a+="     float _windowLow = (volumeWindowLow / volumeScalarMax);\n";a+="     float _windowHigh = (volumeWindowHigh / volumeScalarMax);\n";a+="     vec3 _minrange = vec3(_windowLow,_windowLow,_windowLow);\n";
a+="     vec3 _maxrange = vec3(_windowHigh,_windowHigh,_windowHigh);\n";a+="     vec3 fac = _maxrange - _minrange;\n";a+="     textureSum = vec4((textureSum.r - _minrange)/fac,1);\n";a+="     textureSum = textureSum.r * vec4(volumeScalarMaxColor,1) + (1.0 - textureSum.r) * vec4(volumeScalarMinColor,1);\n";a+="   }\n";a+="   if (useLabelMapTexture) {\n";a+="     vec4 texture2 = texture2D(textureSampler2,fragmentTexturePos);\n";a+="     if (texture2.a > 0.0) {\n";a+="         if (labelmapColor.a != -255.0) {\n";
a+="           if (all(equal(floor(texture2 * vec4(255)), labelmapColor))) {\n";a+="             if (labelmapOpacity < 1.0) {\n";a+="               textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n";a+="             } else {\n";a+="               textureSum = texture2;\n";a+="             }\n";a+="           }\n";a+="         } else {\n";a+="           if (labelmapOpacity < 1.0) {\n";a+="             textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n";a+="           } else {\n";
a+="             textureSum = texture2;\n";a+="           }\n";a+="         }\n";a+="     }\n";a+="   }\n";a+="   if (volumeTexture) {\n";a+="     float _volumeLowerThreshold = (volumeLowerThreshold / volumeScalarMax);\n";a+="     float _volumeUpperThreshold = (volumeUpperThreshold / volumeScalarMax);\n";a+="     if (texture1.r < _volumeLowerThreshold ||\n";a+="         texture1.r > _volumeUpperThreshold ||\n";a+="         texture1.a == 0.0 ) {\n";a+="       discard;\n";a+="     };\n";a+="   };\n";
a+="   gl_FragColor = textureSum;\n";a+="   gl_FragColor.a = objectOpacity;\n";a+=" } else {\n";a+="   vec3 nNormal = normalize(fTransformedVertexNormal);\n";a+="   if (fVertexNormal == vec3(0.0,0.0,0.0)) {\n";a+="     gl_FragColor = vec4(fragmentColor,1.0);\n";a+="     return;\n";a+="   }\n";a+="   vec3 light = vec3(0.0, 0.0, 1.0);\n";a+="   vec3 lightDirection = vec3(0,0,-10);\n";a+="   lightDirection = normalize(lightDirection);\n";a+="   vec3 eyeDirection = normalize(-fVertexPosition.xyz);\n";
a+="   vec3 reflectionDirection = reflect(-lightDirection, nNormal);\n";a+="   float specular = pow(max(dot(reflectionDirection, eyeDirection), 0.0), 10.0);\n";a+="   float diffuse = 0.8 * max(dot(nNormal, light), 0.0);\n";a+="   float ambient = 0.3;\n";a+="   gl_FragColor = vec4(fragmentColor * ambient +\n";a+="                       fragmentColor * diffuse +\n";a+="                       vec3(0.2, 0.2, 0.2) * specular,\n";a+="                       objectOpacity);\n";a+=" }\n";this.Fp=a+="}\n"}
w(Ps,bd);
var Qs={XN:"vertexPosition",WN:"vertexNormal",VN:"vertexColor",ZN:"vertexTexturePos",YN:"vertexScalar"},Rs={aO:"view",XM:"perspective",YL:"center",UM:"objectTransform",RN:"useObjectColor",SM:"objectColor",TN:"useScalars",mN:"scalarsReplaceMode",jN:"scalarsMin",gN:"scalarsMax",kN:"scalarsMinColor",hN:"scalarsMaxColor",lN:"scalarsMinThreshold",iN:"scalarsMaxThreshold",fN:"scalarsInterpolation",YM:"pointSize",TM:"objectOpacity",RM:"normal",SN:"usePicking",UN:"useTexture",QN:"useLabelMapTexture",CM:"labelmapOpacity",
BM:"labelmapColor",DN:"textureSampler",EN:"textureSampler2",eO:"volumeLowerThreshold",lO:"volumeUpperThreshold",iO:"volumeScalarMin",gO:"volumeScalarMax",jO:"volumeScalarMinColor",hO:"volumeScalarMaxColor",nO:"volumeWindowLow",mO:"volumeWindowHigh",kO:"volumeTexture"};
function Ss(a){var b=Object.keys(Rs);if(!Object.keys(Qs).every(function(a){a=Qs[a];return-1!=this.Qp.search(a)||-1!=this.Fp.search(a)}.bind(a)))throw Error("Could not find all attributes in the shader sources.");if(!b.every(function(a){a=Rs[a];return-1!=this.Qp.search(a)||-1!=this.Fp.search(a)}.bind(a)))throw Error("Could not find all uniforms in the shader sources.");};function Ts(a,b,c){if(null==a)throw Error("Invalid GL Buffer.");if(null==b)throw Error("Invalid number of items.");if(null==c)throw Error("Invalid item size.");bd.call(this);this.s="buffer";this.sb=a;this.li=b;this.mi=c}w(Ts,bd);function Us(a,b){this.Gt=a instanceof rh?a:new rh(a,b)}w(Us,So);Us.prototype.ke=function(a,b,c,d){yo(Ei(a),0,a,b,this.Gt,c,null,d)};function Vs(a,b){this.CK=4;this.Sv=b||void 0;vm.call(this,a)}w(Vs,vm);Vs.prototype.jw=function(a){this.Sv=a||void 0;this.sa()&&this.ke()};Vs.prototype.ke=function(){if(this.Sv){var a=!this.sa()&&"move_offscreen"!=this.ym,b=this.a();a&&(b.style.visibility="hidden",Ui(b,!0));this.Sv.ke(b,this.CK,this.$O);a&&Ui(b,!1)}};function Ws(a,b,c){this.lb=c||(a?Hh(Kh(a)):Hh());Vs.call(this,this.lb.w("div",{style:"position:absolute;display:none;"}));this.Mt=new rh(1,1);this.hk=new kg;a&&this.xl(a);null!=b&&this.Po(b)}w(Ws,Vs);var Xs=[];f=Ws.prototype;f.Vd=null;f.className="goog-tooltip";f.CC=500;f.jI=0;f.M=function(){return this.lb};f.xl=function(a){a=Kh(a);this.hk.add(a);F(a,"mouseover",this.sk,!1,this);F(a,"mouseout",this.Kq,!1,this);F(a,"mousemove",this.uA,!1,this);F(a,"focus",this.qk,!1,this);F(a,"blur",this.Kq,!1,this)};
f.detach=function(a){if(a)a=Kh(a),Ys(this,a),this.hk.remove(a);else{for(var b=this.hk.nk(),c=0;a=b[c];c++)Ys(this,a);this.hk.clear()}};function Ys(a,b){Uc(b,"mouseover",a.sk,!1,a);Uc(b,"mouseout",a.Kq,!1,a);Uc(b,"mousemove",a.uA,!1,a);Uc(b,"focus",a.qk,!1,a);Uc(b,"blur",a.Kq,!1,a)}f.Po=function(a){hi(this.a(),a)};f.cw=function(a){var b=this.a();b&&Q(b);Ws.d.cw.call(this,a);a&&(b=this.lb.pa.body,b.insertBefore(a,b.lastChild))};f.qu=function(){return ni(this.a())};
f.Rl=function(){return this.mj?this.sa()?4:1:this.Qn?3:this.sa()?2:0};f.mv=function(){if(!vm.prototype.mv.call(this))return!1;if(this.anchor)for(var a,b=0;a=Xs[b];b++)fi(a.a(),this.anchor)||a.aa(!1);Kb(Xs,this);a=this.a();a.className=this.className;Zs(this);F(a,"mouseover",this.BA,!1,this);F(a,"mouseout",this.AA,!1,this);$s(this);return!0};
f.vv=function(){Lb(Xs,this);for(var a=this.a(),b,c=0;b=Xs[c];c++)b.anchor&&fi(a,b.anchor)&&b.aa(!1);this.AB&&at(this.AB);Uc(a,"mouseover",this.BA,!1,this);Uc(a,"mouseout",this.AA,!1,this);this.anchor=void 0;0==this.Rl()&&(this.Sr=!1);vm.prototype.vv.call(this)};f.eB=function(a,b){this.anchor==a&&this.hk.contains(this.anchor)&&(this.Sr||!this.oP?(this.aa(!1),this.sa()||(this.anchor=a,this.jw(b||bt(this,0)),this.aa(!0))):this.anchor=void 0);this.mj=void 0};
f.VI=function(a){this.Qn=void 0;a==this.anchor&&(null!=this.Vd&&(this.Vd==this.a()||this.hk.contains(this.Vd))||this.Wy&&this.Wy.Vd||this.aa(!1))};function ct(a,b){var c=vi(a.lb);a.Mt.x=b.clientX+c.x;a.Mt.y=b.clientY+c.y}f.sk=function(a){var b=dt(this,a.target);this.Vd=b;Zs(this);b!=this.anchor&&(this.anchor=b,this.mj||(this.mj=Yf(ua(this.eB,this,b,void 0),this.CC)),et(this),ct(this,a))};function dt(a,b){try{for(;b&&!a.hk.contains(b);)b=b.parentNode;return b}catch(c){return null}}
f.uA=function(a){ct(this,a);this.Sr=!0};f.qk=function(a){this.Vd=a=dt(this,a.target);this.Sr=!0;if(this.anchor!=a){this.anchor=a;var b=bt(this,1);Zs(this);this.mj||(this.mj=Yf(ua(this.eB,this,a,b),this.CC));et(this)}};function bt(a,b){if(0==b){var c=a.Mt.clone();return new ft(c)}return new gt(a.Vd)}function et(a){if(a.anchor)for(var b,c=0;b=Xs[c];c++)fi(b.a(),a.anchor)&&(b.Wy=a,a.AB=b)}
f.Kq=function(a){var b=dt(this,a.target),c=dt(this,a.relatedTarget);b!=c&&(b==this.Vd&&(this.Vd=null),$s(this),this.Sr=!1,!this.sa()||a.relatedTarget&&fi(this.a(),a.relatedTarget)?this.anchor=void 0:at(this))};f.BA=function(){var a=this.a();this.Vd!=a&&(Zs(this),this.Vd=a)};f.AA=function(a){var b=this.a();this.Vd!=b||a.relatedTarget&&fi(b,a.relatedTarget)||(this.Vd=null,at(this))};function $s(a){a.mj&&(ba.clearTimeout(a.mj),a.mj=void 0)}
function at(a){2==a.Rl()&&(a.Qn=Yf(ua(a.VI,a,a.anchor),a.jI))}function Zs(a){a.Qn&&(ba.clearTimeout(a.Qn),a.Qn=void 0)}f.f=function(){this.aa(!1);$s(this);this.detach();this.a()&&Q(this.a());this.Vd=null;delete this.lb;Ws.d.f.call(this)};function ft(a,b){Us.call(this,a,b)}w(ft,Us);ft.prototype.ke=function(a,b,c){b=Ei(a);b=Hi(b);c=c?new th(c.top+10,c.right,c.bottom,c.left+10):new th(10,0,0,10);Ao(this.Gt,a,4,c,b,9)&496&&Ao(this.Gt,a,4,c,b,5)};function gt(a){To.call(this,a,3)}w(gt,To);
gt.prototype.ke=function(a,b,c){var d=new rh(10,0);yo(this.element,this.tn,a,b,d,c,9)&496&&yo(this.element,2,a,1,d,c,5)};function ht(a,b,c,d){if(null==a)throw Error("No valid parent element.");if(!u(b)||!u(c))throw Error("Invalid coordinates.");if(!(null!=d&&d instanceof gr))throw Error("Invalid interactor.");Ws.call(this);this.s="caption";this.Ye=a;this.Tp=b;this.Vp=c;this.Ea=d;this.sh=null;this.Hj=[];a=".x-tooltip {\n  background: #C0C0FF;\n  color: #000000;\n";a+="  border: 1px solid infotext;\n";a+="  padding: 1px;\n";a+="  font-family: sans-serif;\n";a+="}";this.Hj=[a];Tc(d,ke,this.bo.bind(this));this.Cu()}
w(ht,Ws);ht.prototype.Cu=function(){var a=yi(this.Ye,"position");if("static"==a||""==a)this.Ye.style.position="relative";var a=document.getElementsByTagName("head")[0],b=P("style");b.type="text/css";b.media="screen";var c=document.createTextNode(String(this.Hj[0]));a.appendChild(b);b.appendChild(c);this.sh=b;this.jw(new Us(this.Tp,this.Vp));this.aa(!0);this.xl(this.Ye);this.a().classList.add("x-tooltip")};ht.prototype.bo=function(){this.aa(!1);this.sh&&Q(this.sh);this.a()&&Q(this.a());this.sh=null};function it(){Dr.call(this);this.s="renderer3D";this.Pm=this.Sm=this.Om=this.Rm=this.Nm=this.Qm=this.at=this.bt=null;this.Sa=[0,0,0];this.Hm=[0,0,0];this.Vx=null;this.Ms=new id;this.bn=new id;this.Pj=new id;this.Tm=new id;this.gl=new id;this.pl=new id;this.Nj=new id;this.ul=new id;this.rb={PROGRESSBAR_ENABLED:!0,PICKING_ENABLED:!0,ORDERING_ENABLED:!0,STATISTICS_ENABLED:!1,INTERMEDIATE_RENDERING:!1}}w(it,Dr);it.prototype.__defineGetter__("config",function(){return this.rb});f=it.prototype;
f.MK=function(){this.Pm=this.Sm=this.Om=this.Rm=this.Nm=this.Qm=null;this.Sa=[0,0,0]};f.wv=function(a){it.d.wv.call(this,a);var b=a.Tp;a=a.Vp;var c=this.Pv(b,a);if(c=this.get(c))if(c=c.fl){var d=Li(this.va),b=new ht(this.va,d.x+b+10,d.y+a+10,this.Ea);a=tm(c,null);if(b=b.a())b.innerHTML=sm(a)}};
f.ra=function(){it.d.ra.call(this,"experimental-webgl");try{if(this.b.viewport(0,0,this.Wa,this.Ha),this.b.clearColor(this.Hm[0],this.Hm[1],this.Hm[2],0),this.b.enable(this.b.BLEND),this.b.blendEquation(this.b.FUNC_ADD),this.b.blendFunc(this.b.SRC_ALPHA,this.b.ONE_MINUS_SRC_ALPHA),this.b.enable(this.b.DEPTH_TEST),this.b.depthFunc(this.b.LEQUAL),this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT),this.rb.PICKING_ENABLED){var a=this.b.createFramebuffer(),b=this.b.createRenderbuffer(),c=this.b.createTexture();
this.b.bindTexture(this.b.TEXTURE_2D,c);this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGB,this.Wa,this.Ha,0,this.b.RGB,this.b.UNSIGNED_BYTE,null);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.NEAREST);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.NEAREST);this.b.bindFramebuffer(this.b.FRAMEBUFFER,
a);this.b.bindRenderbuffer(this.b.RENDERBUFFER,b);this.b.renderbufferStorage(this.b.RENDERBUFFER,this.b.DEPTH_COMPONENT16,this.Wa,this.Ha);this.b.bindRenderbuffer(this.b.RENDERBUFFER,null);this.b.framebufferTexture2D(this.b.FRAMEBUFFER,this.b.COLOR_ATTACHMENT0,this.b.TEXTURE_2D,c,0);this.b.framebufferRenderbuffer(this.b.FRAMEBUFFER,this.b.DEPTH_ATTACHMENT,this.b.RENDERBUFFER,b);this.b.bindFramebuffer(this.b.FRAMEBUFFER,null);this.Vx=a}}catch(d){throw Error("Exception while accessing GL Context!\n"+
d);}a=new Ps;jt(this,a)};
function jt(a,b){if(null==a.qc||null==a.b||null==a.ga)throw Error("Renderer was not initialized properly.");if(!(null!=b&&b instanceof Ps))throw Error("Could not add shaders.");Ss(b);var c=a.b.createShader(a.b.FRAGMENT_SHADER),d=a.b.createShader(a.b.VERTEX_SHADER);a.b.shaderSource(c,b.Fp);a.b.shaderSource(d,b.Qp);a.b.compileShader(c);a.b.compileShader(d);if(!a.b.getShaderParameter(c,a.b.COMPILE_STATUS))throw Error("Fragement Shader compilation failed!\n"+a.b.getShaderInfoLog(c));if(!a.b.getShaderParameter(d,
a.b.COMPILE_STATUS))throw Error("Vertex Shader compilation failed!\n"+a.b.getShaderInfoLog(d));var e=a.b.createProgram();a.b.attachShader(e,d);a.b.attachShader(e,c);a.b.linkProgram(e);if(!a.b.getProgramParameter(e,a.b.LINK_STATUS))throw Error("Could not create shader program!\n"+a.b.getShaderInfoLog(c)+"\n"+a.b.getShaderInfoLog(d)+"\n"+a.b.getProgramInfoLog(e));a.b.useProgram(e);a.at=e;Object.keys(Qs).forEach(function(a){a=Qs[a];this.Ms.set(a,this.b.getAttribLocation(this.at,a));this.b.enableVertexAttribArray(this.Ms.get(a))}.bind(a));
Object.keys(Rs).forEach(function(a){a=Rs[a];this.bn.set(a,this.b.getUniformLocation(this.at,a))}.bind(a));a.bt=b}
f.fh=function(a){it.d.fh.call(this,a);var b=!1;if(null!=a){this.get(a.ed)&&(b=!0);var c=a.ed,d=a.C,e=a.ca,h=a.Cc,k=a.Va,l=a.ea,n=a.cc,p=a.xd,m=a.q,q=a.$a;if(null!=m&&null!=m.ea&&m.ea.G)this.fh(m);else if(null!=m&&m.G&&this.fh(m),null!=p&&null!=p.ea&&p.ea.G)this.Jb.load(p,a);else if(null!=k&&null!=k.ea&&k.ea.G)this.Jb.load(k,a);else{if(null!=l&&g(l))if(null!=a.ih){if(a.ih.jo!=l.length||!a.G)return}else{b=0;c=l.length;for(b=0;b<c;b++)this.Jb.load(l[b],a);return}else{if(null!=l&&l.G){this.Jb.load(a,
a);return}if(null!=q&&null!=q.ea&&q.ea.G){this.Jb.load(q,a);return}}if(0<a.j.length)for(l=a.j,p=l.length,m=m=0;m<p;m++)this.fh(l[m]);if(d){for(l=0;this.Kp;)l++,window.console.log("Possible thread lock avoided: "+l);this.Kp=!0;p=a instanceof Ke&&a.th instanceof Pe;b&&null!=k&&k.G&&(l=this.Nj.get(c),null!=l&&this.b.isBuffer(l.sb)&&this.b.deleteBuffer(l.sb));l=null;if(null!=k)if(!b||k.G){l=a.tl;if(null==l)throw Error("Can not add an object and texture without valid coordinate mapping! Set the textureCoordinateMap!");
m=!1;k.ti&&(m=!0);this.b.pixelStorei(this.b.UNPACK_FLIP_Y_WEBGL,m);m=this.b.createTexture();m.pI=k.Cf;this.ul.set(k.ed,m);this.b.bindTexture(this.b.TEXTURE_2D,m);k.ti?(m=this.b.RGBA,k.Lx&&(m=this.b.LUMINANCE,this.b.pixelStorei(this.b.UNPACK_ALIGNMENT,1)),this.b.texImage2D(this.b.TEXTURE_2D,0,m,k.$s,k.Zs,0,m,this.b.UNSIGNED_BYTE,k.ti)):this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGBA,this.b.RGBA,this.b.UNSIGNED_BYTE,m.pI);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);
this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);p?(this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.NEAREST),this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.NEAREST)):(this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.LINEAR),this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.LINEAR));this.b.bindTexture(this.b.TEXTURE_2D,null);m=this.b.createBuffer();this.b.bindBuffer(this.b.ARRAY_BUFFER,
m);this.b.bufferData(this.b.ARRAY_BUFFER,new Float32Array(l),this.b.STATIC_DRAW);l=new Ts(m,l.length,2);this.Nj.set(c,l);k.G=!1}else l=this.Nj.get(c);Pf(this.Jb,.1);if(p)this.Kp=!1,A.sd(this.s+".update"),Pf(this.Jb,.9);else{if(!b||d.G||n.G){p=n.ub;k=A.t.Mb(p,d.Gf,d.Hf,d.If);p=A.t.Mb(p,d.Df,d.Ef,d.Ff);if(null===this.Qm||k.x<this.Qm)this.Qm=k.x;if(null===this.Nm||p.x>this.Nm)this.Nm=p.x;if(null===this.Rm||k.y<this.Rm)this.Rm=k.y;if(null===this.Om||p.y>this.Om)this.Om=p.y;if(null===this.Sm||k.z<this.Sm)this.Sm=
k.z;if(null===this.Pm||p.z>this.Pm)this.Pm=p.z;this.Sa=[(this.Qm+this.Nm)/2,(this.Rm+this.Om)/2,(this.Sm+this.Pm)/2];n.G=!1}b&&d.G&&(n=this.Pj.get(c),null!=n&&this.b.isBuffer(n.sb)&&this.b.deleteBuffer(n.sb));n=null;!b||d.G?(n=this.b.createBuffer(),d.resize(),this.b.bindBuffer(this.b.ARRAY_BUFFER,n),this.b.bufferData(this.b.ARRAY_BUFFER,d.Tb,this.b.STATIC_DRAW),n=new Ts(n,d.count,3),d.G=!1):n=this.Pj.get(c);Pf(this.Jb,.3);b&&e.G&&(k=this.Pj.get(c),null!=k&&this.b.isBuffer(k.sb)&&this.b.deleteBuffer(k.sb));
k=null;!b||e.G?(k=this.b.createBuffer(),e.resize(),this.b.bindBuffer(this.b.ARRAY_BUFFER,k),this.b.bufferData(this.b.ARRAY_BUFFER,e.Tb,this.b.STATIC_DRAW),k=new Ts(k,e.count,3),e.G=!1):k=this.Tm.get(c);Pf(this.Jb,.3);b&&h&&h.G&&(e=this.gl.get(c),null!=e&&this.b.isBuffer(e.sb)&&this.b.deleteBuffer(e.sb));e=null;if(h)if(!b||h.G){if(h.length!=d.length)throw Error("Mismatch between points and point colors.");e=this.b.createBuffer();h.resize();this.b.bindBuffer(this.b.ARRAY_BUFFER,e);this.b.bufferData(this.b.ARRAY_BUFFER,
h.Tb,this.b.STATIC_DRAW);e=new Ts(e,h.count,3);h.G=!1}else e=this.gl.get(c);Pf(this.Jb,.2);b&&q&&q.G&&(h=this.pl.get(c),null!=h&&this.b.isBuffer(h.sb)&&this.b.deleteBuffer(h.sb));h=null;if(q)if(h=q.Jm,!b||q.G){if(h.length!=d.length)throw Error("Mismatch between points and scalars.");d=this.b.createBuffer();this.b.bindBuffer(this.b.ARRAY_BUFFER,d);this.b.bufferData(this.b.ARRAY_BUFFER,h,this.b.STATIC_DRAW);h=new Ts(d,h.length,3);q.G=!1}else h=this.pl.get(c);Pf(this.Jb,.1);b||this.Ag.add(a);this.Pj.set(c,
n);this.Tm.set(c,k);this.gl.set(c,e);this.Nj.set(c,l);this.pl.set(c,h);this.Kp=a.G=!1}}else a.G=!1}}};f.Pv=function(a,b){if(this.rb.PICKING_ENABLED){this.Ug(!0,!1);var c=new Uint8Array(4);this.b.readPixels(a,this.Ha-b,1,1,this.b.RGBA,this.b.UNSIGNED_BYTE,c);return c[0]+255*c[1]+65025*c[2]}return-1};
f.Ug=function(a,b){it.d.Ug.call(this,a,b);this.b.viewport(0,0,this.Wa,this.Ha);this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT);var c=this.Ag.Za,d=c.length;if(0!=d){a?this.b.bindFramebuffer(this.b.FRAMEBUFFER,this.Vx):this.b.bindFramebuffer(this.b.FRAMEBUFFER,null);var e=this.ga.Ys,h=this.ga.N;this.b.uniformMatrix4fv(this.bn.get("perspective"),!1,e);this.b.uniformMatrix4fv(this.bn.get("view"),!1,h);e=this.Sa;this.b.uniform3f(this.bn.get("center"),parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]));
h=this.fd.length;for(e=0;e<h;++e){var k=this.fd[e];if(k instanceof J){var l=A.t.Mb(this.ga.N,k.ua[0]+k.e[0].D[0],k.ua[1]+k.e[0].D[1],k.ua[2]+k.e[0].D[2]),n=A.t.Mb(this.ga.N,k.ua[0]-k.e[0].D[0],k.ua[1]-k.e[0].D[1],k.ua[2]-k.e[0].D[2]),p=Math.abs(l.z-n.z),l=A.t.Mb(this.ga.N,k.ua[0]+k.e[1].D[0],k.ua[1]+k.e[1].D[1],k.ua[2]+k.e[1].D[2]),n=A.t.Mb(this.ga.N,k.ua[0]-k.e[1].D[0],k.ua[1]-k.e[1].D[1],k.ua[2]+-k.e[1].D[2]),m=Math.abs(l.z-n.z),l=A.t.Mb(this.ga.N,k.ua[0]+k.e[2].D[0],k.ua[1]+k.e[2].D[1],k.ua[2]+
k.e[2].D[2]),n=A.t.Mb(this.ga.N,k.ua[0]-k.e[2].D[0],k.ua[1]-k.e[2].D[1],k.ua[2]-k.e[2].D[2]),l=Math.max(p,m,Math.abs(l.z-n.z));l==p?Oe(k,0):l==m?Oe(k,1):Oe(k,2)}}if(this.rb.ORDERING_ENABLED){p=!1;h=this.fd;k=h.length-1;do if(e=h[k],e instanceof J&&e.Be&&-1!=e.Bb){var p=e.j[e.Bb].j,m=e.Bb,l=A.t.Mb(this.ga.N,e.ua[0]+e.e[m].Na[0],e.ua[1]+e.e[m].Na[1],e.ua[2]+e.e[m].Na[2]),n=A.t.Mb(this.ga.N,e.ua[0]-e.e[m].Na[0],e.ua[1]-e.e[m].Na[1],e.ua[2]-e.e[m].Na[2]),l=l.z-n.z,n=Math.max(e.dl[e.Bb],Math.max(e.dl[e.Bb+
4],e.dl[e.Bb+8])),q=Math.min(e.dl[e.Bb],Math.min(e.dl[e.Bb+4],e.dl[e.Bb+8]));if(0>l*(n+q))for(l=l=0;l<e.Xm[m]-1;l++)p[l]&&(p[l].Pc=e.Pc,p[l].dd=e.e[m].rl*l);else for(l=e.Xm[m]-1;0<=l;l--)p[l]&&(p[l].Pc=e.Pc,p[l].dd=(e.Xm[m]-1)*e.e[m].rl-e.e[m].rl*l);p=!0}while(k--);h=this.Ag.Za;k=h.length-1;do e=h[k],!e.jb||1==e.Pc||e instanceof Ke||(p=e,m=e.C.Cp,e=A.t.Mb(e.cc.ub,m[0],m[1],m[2]),e=A.t.Mb(this.ga.N,e.x,e.y,e.z),e=A.O.Wt(this.ga.Jj,e),e=Math.round(1E3*e)/1E3,p.dd=e,p=!0);while(k--);p&&this.Ag.sort()}if(h=
!a&&null!=b&&b&&this.rb.STATISTICS_ENABLED)var t=0,s=0,y=0,z=0;var e=this.Ms,k=e.get("vertexPosition"),p=e.get("vertexNormal"),m=e.get("vertexColor"),l=e.get("vertexTexturePos"),n=e.get("vertexScalar"),e=this.bn,q=e.get("usePicking"),I=e.get("useObjectColor"),S=e.get("objectColor"),O=e.get("useScalars"),G=e.get("scalarsReplaceMode"),R=e.get("scalarsMin"),Y=e.get("scalarsMax"),Z=e.get("scalarsMinColor"),va=e.get("scalarsMaxColor"),na=e.get("scalarsInterpolation"),ya=e.get("scalarsMinThreshold"),Ma=
e.get("scalarsMaxThreshold"),Ha=e.get("objectOpacity"),Na=e.get("labelmapOpacity"),la=e.get("labelmapColor"),za=e.get("useTexture"),qa=e.get("useLabelMapTexture"),Dc=e.get("textureSampler"),te=e.get("textureSampler2"),ue=e.get("volumeLowerThreshold"),ve=e.get("volumeUpperThreshold"),Yd=e.get("volumeScalarMin"),Qh=e.get("volumeScalarMax"),Nv=e.get("volumeWindowLow"),Ov=e.get("volumeWindowHigh"),Pv=e.get("volumeScalarMinColor"),Qv=e.get("volumeScalarMaxColor"),js=e.get("volumeTexture"),Rv=e.get("objectTransform"),
Sv=e.get("pointSize"),e=d;do{var Oa=c[d-e];if(Oa){var kb=null;Oa instanceof Ke&&Oa.th&&(kb=Oa.th);if(Oa.jb&&(!kb||kb.jb)&&(!a||Oa.Um)){var Ac=Oa.ed,Pd=Oa.Mm,kd=this.Pj.get(Ac),ne=this.Tm.get(Ac),dn=this.gl.get(Ac),mf=this.pl.get(Ac),en=this.Nj.get(Ac);this.b.bindBuffer(this.b.ARRAY_BUFFER,kd.sb);this.b.vertexAttribPointer(k,kd.mi,this.b.FLOAT,!1,0,0);this.b.bindBuffer(this.b.ARRAY_BUFFER,ne.sb);this.b.vertexAttribPointer(p,ne.mi,this.b.FLOAT,!1,0,0);a?this.b.uniform1i(q,!0):this.b.uniform1i(q,!1);
!dn||a||Pd?(ne=1,Pd&&!a&&(ne=0),this.b.uniform1i(I,ne),ne=Oa.Ga,a&&(ne=[Math.floor(Ac%65025%255)/255,Math.floor(Ac%65025/255)/255,Math.floor(Ac/65025)/255]),this.b.uniform3f(S,parseFloat(ne[0]),parseFloat(ne[1]),parseFloat(ne[2])),this.b.vertexAttribPointer(m,kd.mi,this.b.FLOAT,!1,0,0)):(this.b.uniform1i(I,!1),this.b.bindBuffer(this.b.ARRAY_BUFFER,dn.sb),this.b.vertexAttribPointer(m,dn.mi,this.b.FLOAT,!1,0,0));!mf||a||Pd?(this.b.uniform1i(O,!1),this.b.vertexAttribPointer(n,kd.mi,this.b.FLOAT,!1,0,
0)):(this.b.uniform1i(O,!0),this.b.uniform1i(G,Oa.$a.Yx),Ac=Oa.$a.pi,Pd=Oa.$a.ni,this.b.uniform3f(Z,parseFloat(Ac[0]),parseFloat(Ac[1]),parseFloat(Ac[2])),this.b.uniform3f(va,parseFloat(Pd[0]),parseFloat(Pd[1]),parseFloat(Pd[2])),this.b.uniform1f(ya,parseFloat(Oa.$a.tb)),this.b.uniform1f(Ma,parseFloat(Oa.$a.vb)),this.b.uniform1f(R,parseFloat(Oa.$a.Sd)),this.b.uniform1f(Y,parseFloat(Oa.$a.Sb)),this.b.uniform1i(na,parseInt(Oa.$a.Os,10)),this.b.bindBuffer(this.b.ARRAY_BUFFER,mf.sb),this.b.vertexAttribPointer(n,
mf.mi,this.b.FLOAT,!1,0,0));this.b.uniform1f(Ha,parseFloat(Oa.Pc));Oa.Va&&en&&!a?(this.b.uniform1i(za,!0),this.b.activeTexture(this.b.TEXTURE0),this.b.bindTexture(this.b.TEXTURE_2D,this.ul.get(Oa.Va.ed)),this.b.uniform1i(Dc,0),this.b.bindBuffer(this.b.ARRAY_BUFFER,en.sb),this.b.vertexAttribPointer(l,en.mi,this.b.FLOAT,!1,0,0),this.b.uniform1i(js,!1)):(this.b.uniform1i(za,!1),this.b.vertexAttribPointer(l,kd.mi,this.b.FLOAT,!1,0,0));kb&&(this.b.uniform1i(js,!0),this.b.uniform1f(ue,kb.tb),this.b.uniform1f(ve,
kb.vb),this.b.uniform1f(Yd,kb.Sd),this.b.uniform1f(Qh,kb.Sb),Ac=kb.pi,Pd=kb.ni,this.b.uniform3f(Pv,parseFloat(Ac[0]),parseFloat(Ac[1]),parseFloat(Ac[2])),this.b.uniform3f(Qv,parseFloat(Pd[0]),parseFloat(Pd[1]),parseFloat(Pd[2])),this.b.uniform1f(Nv,kb.Lb),this.b.uniform1f(Ov,kb.Kb),mf=kb.q,this.b.uniform1i(qa,!1),kb.Be?this.b.uniform1f(Ha,parseFloat(kb.Pc)):mf&&mf.jb&&(kb=Oa.q.ed,this.b.uniform1i(qa,!0),this.b.activeTexture(this.b.TEXTURE1),this.b.bindTexture(this.b.TEXTURE_2D,this.ul.get(kb)),this.b.uniform1i(te,
1),this.b.uniform1f(Na,mf.Pc),this.b.uniform4fv(la,mf.dt)));this.b.uniformMatrix4fv(Rv,!1,Oa.cc.ub);kb=1;"POINTS"==Oa.Ad&&(kb=Oa.Vm);this.b.uniform1f(Sv,kb);kb=-1;Oa.Ad==Sd?(kb=this.b.TRIANGLES,h&&(s+=kd.li/3)):"LINES"==Oa.Ad?(this.b.lineWidth(Oa.nl),kb=this.b.LINES,h&&(y+=kd.li/2)):"POINTS"==Oa.Ad?(kb=this.b.POINTS,h&&(z+=kd.li)):"TRIANGLE_STRIPS"==Oa.Ad?(kb=this.b.TRIANGLE_STRIP,h&&(s+=kd.li/3)):"POLYGONS"==Oa.Ad&&(kb=0==kd.li%3?this.b.TRIANGLES:this.b.TRIANGLE_FAN,h&&(s+=kd.li/3));h&&(t+=kd.li);
this.b.drawArrays(kb,0,kd.li)}}}while(--e);h&&(c="Objects: "+d+" | "+("Vertices: "+t+" | "),c+="Triangles: "+Math.round(s)+" | ",c+="Lines: "+y+" | ",c+="Points: "+z+" | ",c+="Textures: "+this.ul.Fh(),window.console.log(c))}};
f.remove=function(a){it.d.remove.call(this,a);if(0<a.j.length)for(var b=a.j,c=b.length,d=0,d=0;d<c;d++)this.remove(b[d]);b=a.ed;c=this.Nj.get(b);null!=c&&this.b.isBuffer(c.sb)&&this.b.deleteBuffer(c.sb);a.Va&&(c=this.ul.get(a.Va.ed))&&(this.b.deleteTexture(c),this.ul.remove(a.Va.ed));c=this.Pj.get(b);null!=c&&this.b.isBuffer(c.sb)&&this.b.deleteBuffer(c.sb);c=this.Tm.get(b);null!=c&&this.b.isBuffer(c.sb)&&this.b.deleteBuffer(c.sb);c=this.gl.get(b);null!=c&&this.b.isBuffer(c.sb)&&this.b.deleteBuffer(c.sb);
c=this.pl.get(b);null!=c&&this.b.isBuffer(c.sb)&&this.b.deleteBuffer(c.sb);this.Pj.remove(b);this.Tm.remove(b);this.gl.remove(b);this.Nj.remove(b);this.pl.remove(b);this.Ag.remove(a);return!0};f.Zd=function(){this.bt=null;delete this.bt;this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT);it.d.Zd.call(this)};it.prototype.__defineGetter__("bgColor",function(){return this.Hm});it.prototype.__defineSetter__("bgColor",function(a){this.Hm=a});
it.prototype.AK=function(a,b,c,d,e){null!=c||(c=4);null!=d||(d=2);if(null==e){e=this.Pv(a,b);if(-1==e)return null;e=this.get(e);if(!e)return null}var h=vr(this.ga,a/this.Wa*2-1,(this.Ha-b)/this.Ha*2-1,0);a=vr(this.ga,a/this.Wa*2-1,(this.Ha-b)/this.Ha*2-1,1);h[0]+=this.Sa[0];h[1]+=this.Sa[1];h[2]+=this.Sa[2];a[0]+=this.Sa[0];a[1]+=this.Sa[1];a[2]+=this.Sa[2];b=[e.C.Gf,e.C.Hf,e.C.If];var k=[e.C.Df,e.C.Hf,e.C.If],l=[e.C.Df,e.C.Ef,e.C.If],n=[e.C.Gf,e.C.Ef,e.C.If],p=[e.C.Gf,e.C.Ef,e.C.Ff],m=[e.C.Gf,e.C.Hf,
e.C.Ff],q=[e.C.Df,e.C.Ef,e.C.Ff],t=[e.C.Df,e.C.Hf,e.C.Ff];b=[A.t.Mb(e.cc.ub,b[0],b[1],b[2]),A.t.Mb(e.cc.ub,k[0],k[1],k[2]),A.t.Mb(e.cc.ub,l[0],l[1],l[2]),A.t.Mb(e.cc.ub,n[0],n[1],n[2]),A.t.Mb(e.cc.ub,p[0],p[1],p[2]),A.t.Mb(e.cc.ub,m[0],m[1],m[2]),A.t.Mb(e.cc.ub,q[0],q[1],q[2]),A.t.Mb(e.cc.ub,t[0],t[1],t[2])];var k=[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity],s;for(s in b)s=b[s],k=[Math.min(k[0],s.x),Math.max(k[1],s.x),Math.min(k[2],s.y),Math.max(k[3],s.y),Math.min(k[4],s.z),Math.max(k[5],
s.z)];s=k;b=[];k=[];for(l=0;6>l;l++){var n=Math.floor(l/2),p=(n+1)%3,m=(n+2)%3,t=(2+2*n)%6,y=(4+2*n)%6,z=1/a[n]*(s[l]-h[n]);Infinity!=z&&-Infinity!=z&&(q=h[p]+a[p]*z,z=h[m]+a[m]*z,q>=s[t]&&q<=s[t+1]&&z>=s[y]&&z<=s[y+1]?(t=[],t[n]=s[l],t[p]=q,t[m]=z,b.push(t)):(t=[],t[n]=s[l],t[p]=q,t[m]=z,k.push(t)))}a=[b,k];a=a[0];if(0==a.length)return null;k=Array(2);for(s=0;2>s;s++)b=a[s],k[s]=Math.sqrt((b[0]-h[0])*(b[0]-h[0])+(b[1]-h[1])*(b[1]-h[1])+(b[2]-h[2])*(b[2]-h[2]));h=b=s=null;k[0]<k[1]?(s=a[0],b=a[1]):
(s=a[1],b=a[0]);h=Math.sqrt((s[0]-b[0])*(s[0]-b[0])+(s[1]-b[1])*(s[1]-b[1])+(s[2]-b[2])*(s[2]-b[2]));h/=c;a=s;s=[b[0]-s[0],b[1]-s[1],b[2]-s[2]];b=Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);k=[s[0]/b,s[1]/b,s[2]/b];l=e.C.Tb;n=l.length;for(s=0;s<h;s+=c)for(a=[a[0]+c*k[0],a[1]+c*k[1],a[2]+c*k[2]],b=0;b<n;b+=3)if(p=l[b],m=l[b+1],q=l[b+2],t=new A.O(p,m,q),t=A.t.Mb(e.cc.ub,p,m,q),Math.sqrt((a[0]-t.x)*(a[0]-t.x)+(a[1]-t.y)*(a[1]-t.y)+(a[2]-t.z)*(a[2]-t.z))<=d)return[t.x,t.y,t.z];return null};
v("X.renderer3D",it);v("X.renderer3D.prototype.init",it.prototype.ra);v("X.renderer3D.prototype.add",it.prototype.add);v("X.renderer3D.prototype.onShowtime",it.prototype.xB);v("X.renderer3D.prototype.onRender",it.prototype.vB);v("X.renderer3D.prototype.get",it.prototype.get);v("X.renderer3D.prototype.render",it.prototype.n);v("X.renderer3D.prototype.destroy",it.prototype.Zd);v("X.renderer3D.prototype.remove",it.prototype.remove);v("X.renderer3D.prototype.resetBoundingBox",it.prototype.MK);
v("X.renderer3D.prototype.resetViewAndRender",it.prototype.Ao);v("X.renderer3D.prototype.pick",it.prototype.Pv);v("X.renderer3D.prototype.pick3d",it.prototype.AK);function kt(){it.call(this)}w(kt,it);v("xiv.vis.XtkRenderer3D",kt);f=kt.prototype;f.bg=function(){this.Dk()};f.Ck=function(a){kt.d.Ck.call(this,a);this.dispatchEvent({type:"s",value:a.Oj})};f.n=function(){this.qc&&this.b?(kt.d.n.call(this),this.dispatchEvent({type:"t"})):(this.rb.PROGRESSBAR_ENABLED=!1,this.ra())};f.Zd=function(){kt.d.Zd.call(this)};f.remove=function(a){null!=a&&kt.d.remove.call(this,a)};v("xiv.vis.XtkRenderer3D.prototype.onResize",kt.prototype.bg);
v("xiv.vis.XtkRenderer3D.prototype.onProgress",kt.prototype.Ck);v("xiv.vis.XtkRenderer3D.prototype.render",kt.prototype.n);v("xiv.vis.XtkRenderer3D.prototype.remove",kt.prototype.remove);function lt(){$c.call(this);this.Wk=[]}w(lt,$c);v("xiv.vis.XtkPlane",lt);var mt=[-300,300,300];f=lt.prototype;f.am=!0;f.bl=null;f.orientation=null;f.zo=null;f.Ba=null;f.Di=null;f.Pa=function(){return this.Ba};f.Db=function(){return this.orientation};f.Ur=function(a){null!=this.Ba&&(null!=a?(this.aq=a,this.Ba.camera.focus=a.focus,this.Ba.camera.position=a.position,this.Ba.camera.up=a.IL,a instanceof lr&&(this.Ba.camera.view=a.view)):this.Ba.camera.position=mt)};
f.Tr=function(a){this.Di.style.background=null!=a?r(a)?a:null!=a.Py?"-webkit-linear-gradient(top, "+a.Py+", "+a.backgroundColor+")":a.backgroundColor:"black"};f.sG=function(){return this.jq};f.pG=function(){return this.Di};f.Mk=function(a){this.Di=a;null!=this.Ba||this.ra(a);this.Ba.container=a};f.Hv=function(a){this.dispatchEvent(a)};
f.ra=function(a){null!=this.Ba&&(H(this.Ba),this.Ba.Zd(),this.Ba=null);if(null==this.bl)throw Error('XtkPlane subclass must have the property "XRenderer" defined.');this.Ba=new this.bl;this.Ba.orientation=this.orientation;this.Mk(a||this.Di||document.body);this.Ba.ra();F(this.Ba,"s",function(a){this.dispatchEvent({type:"s",value:a.value})}.bind(this));F(this.Ba,"E",this.Hv.bind(this))};f.add=function(a){this.am&&(!0==a.isSelectedVolume&&(this.jq=a),this.Wk.push(a),this.Ba.add(a))};f.isEnabled=function(){return this.am};
function nt(a){null!=a.wf&&(Q(a.wf),delete a.wf)}function ot(a){a.wf=P("div",{id:"DisabledOverlay_"+B()});a.wf.className="xiv-vis-xtkplane-disabledoverlay";var b=a.orientation;"V"==a.orientation&&(b="3D");var c=P("div",{id:"DisabledOverlay_"+B()});c.style.display="table-cell";c.style.verticalAlign="middle";c.innerHTML=b+" render plane disabled.";a.wf.appendChild(c);a.Di.appendChild(a.wf)}
f.nc=function(a){(this.am=!1!==a)?yk(this.wf,200,function(){this.wf.style.visibility="hidden";nt(this)}.bind(this)):(null!=this.wf||ot(this),this.wf.style.visibility="visible",vk(this.wf,200,function(){}.bind(this)))};f.restore=function(){this.ra();pt(this);null!=this.aq&&this.Ur(this.aq);null!=this.Sc&&this.Tr(this.Sc);this.n()};f.JK=function(){D(this.Wk,function(a){null!=a&&this.Ba.remove(a)}.bind(this))};function pt(a){D(a.Wk,function(a){this.Ba.add(a)}.bind(a))}f.n=function(){this.am&&this.Ba.n()};
f.k=function(){null!=this.Ba&&this.Ba.bg()};f.g=function(){lt.d.g.call(this);null!=this.Ba&&(this.Ba.Zd(),delete this.Ba);nt(this);null!=this.Sc&&delete this.Sc;null!=this.aq&&delete this.aq;null!=this.zo&&(null!=this.zo.g&&(this.zo.stop(),this.zo.g()),delete this.zo);delete this.am;delete this.bl;delete this.Di;delete this.orientation;tb(this.Wk);delete this.jq;delete this.nP};v("xiv.vis.XtkPlane.DEFAULT_CAMERA_POSITION",mt);v("xiv.vis.XtkPlane.DEFAULT_BACKGROUND","black");
v("xiv.vis.XtkPlane.prototype.XRenderer",lt.prototype.bl);v("xiv.vis.XtkPlane.prototype.orientation",lt.prototype.orientation);v("xiv.vis.XtkPlane.prototype.Renderer",lt.prototype.Ba);v("xiv.vis.XtkPlane.prototype.container",lt.prototype.Di);v("xiv.vis.XtkPlane.prototype.getRenderer",lt.prototype.Pa);v("xiv.vis.XtkPlane.prototype.getOrientation",lt.prototype.Db);v("xiv.vis.XtkPlane.prototype.setCamera",lt.prototype.Ur);v("xiv.vis.XtkPlane.prototype.setBackground",lt.prototype.Tr);
v("xiv.vis.XtkPlane.prototype.getCurrentVolume",lt.prototype.sG);v("xiv.vis.XtkPlane.prototype.getContainer",lt.prototype.pG);v("xiv.vis.XtkPlane.prototype.setContainer",lt.prototype.Mk);v("xiv.vis.XtkPlane.prototype.init",lt.prototype.ra);v("xiv.vis.XtkPlane.prototype.add",lt.prototype.add);v("xiv.vis.XtkPlane.prototype.isEnabled",lt.prototype.isEnabled);v("xiv.vis.XtkPlane.prototype.setEnabled",lt.prototype.nc);v("xiv.vis.XtkPlane.prototype.restore",lt.prototype.restore);
v("xiv.vis.XtkPlane.prototype.removeXObjectsFromRenderer",lt.prototype.JK);v("xiv.vis.XtkPlane.prototype.render",lt.prototype.n);v("xiv.vis.XtkPlane.prototype.updateStyle",lt.prototype.k);v("xiv.vis.XtkPlane.prototype.dispose",lt.prototype.g);function qt(){lt.call(this);this.orientation="V";this.bl=kt}w(qt,lt);v("xiv.vis.XtkPlane3D",qt);v("xiv.vis.XtkPlane3D.DEFAULT_CAMERA_POSITION",[-300,300,300]);function rt(a){lt.call(this);this.orientation=a;this.bl=Jr;this.jq=null}w(rt,lt);v("xiv.vis.XtkPlane2D",rt);f=rt.prototype;f.hA=function(){return this.Ba.hA()};f.iA=function(){return this.Ba.iA()};f.Sl=function(){return null!=this.Ba?this.Ba.Sl():null};f.Mk=function(a){rt.d.Mk.call(this,a)};f.g=function(){rt.d.g.call(this);delete this.jq;delete this.UO;delete this.VO};v("xiv.vis.XtkPlane2D.prototype.getSliceRelativeToContainerX",rt.prototype.hA);
v("xiv.vis.XtkPlane2D.prototype.getSliceRelativeToContainerY",rt.prototype.iA);v("xiv.vis.XtkPlane2D.prototype.getVolume",rt.prototype.Sl);v("xiv.vis.XtkPlane2D.prototype.setContainer",rt.prototype.Mk);v("xiv.vis.XtkPlane2D.prototype.dispose",rt.prototype.g);function st(){Fq.call(this);this.hj(P("input",{id:this.constructor.ID_PREFIX+"_RadioButtonHolder_"+B(),type:"radio"}));N(this.v,st.CSS.fE);F(this.v,"change",this.hc.bind(this))}w(st,Fq);v("xiv.ui.ctrl.RadioButtonController",st);st.ID_PREFIX="xiv.ui.ctrl.RadioButtonController";st.CSS_SUFFIX={fE:"radiobutton"};st.prototype.hc=function(){this.dispatchEvent({type:"p",checked:this.v.checked})};st.prototype.f=function(){st.d.f.call(this)};v("xiv.ui.ctrl.RadioButtonController.ID_PREFIX",st.ID_PREFIX);
v("xiv.ui.ctrl.RadioButtonController.CSS_SUFFIX",st.CSS_SUFFIX);v("xiv.ui.ctrl.RadioButtonController.prototype.dispatchComponentEvent",st.prototype.hc);v("xiv.ui.ctrl.RadioButtonController.prototype.disposeInternal",st.prototype.f);function tt(){Fq.call(this);this.Wk=[]}w(tt,Fq);v("xiv.ui.ctrl.MasterController2D",tt);tt.ID_PREFIX="xiv.ui.ctrl.MasterController2D";tt.CSS_SUFFIX={};tt.prototype.add=function(){};tt.prototype.f=function(){tt.d.f.call(this);Jb(this.Wk);delete this.Wk};v("xiv.ui.ctrl.MasterController2D.ID_PREFIX",tt.ID_PREFIX);v("xiv.ui.ctrl.MasterController2D.CSS_SUFFIX",tt.CSS_SUFFIX);v("xiv.ui.ctrl.MasterController2D.prototype.add",tt.prototype.add);v("xiv.ui.ctrl.MasterController2D.prototype.disposeInternal",tt.prototype.f);function ut(){Fq.call(this);this.ig("Master Opacity")}w(ut,Fq);v("xiv.ui.ctrl.SliderController",ut);ut.ID_PREFIX="xiv.ui.ctrl.SliderController";ut.CSS_SUFFIX={la:"slider",gi:"slider-thumb",vp:"slider-thumb-hover",hi:"slider-track",vx:"slider-track-hover",Hs:"value-input"};f=ut.prototype;f.Uw=2;f.Ro=function(a){this.Uw=a};f.n=function(a){ut.d.n.call(this,a);this.Kt();this.Lt()};
f.Kt=function(){var a=new Or;this.hj(a);a.Hd(0);a.Kc(1);a.Yg(.01);a.I(1);N(a.a(),ut.CSS.la);N(a.xc,ut.CSS.gi);N(a.qe,ut.CSS.hi);a.kt(ut.CSS.vp);a.ty(ut.CSS.vx);F(this.v,"change",this.hc.bind(this));a.a().style.zIndex=0};f.Lt=function(){this.ia=P("input");this.ia.type="number";N(this.ia,ut.CSS.Hs);Yh(this.a(),this.ia);F(this.ia,"input",this.Kv.bind(this));this.update()};f.Kv=function(){var a=this.v,b=parseFloat(this.ia.value),b=hd(b,a.qa(),a.ha());this.ia.value=b;a.I(b)};f.IH=function(){return this.ia};
f.hc=function(){var a=this.v,b=a.J().toFixed(this.Uw),c=parseInt(this.ia.value);this.ia.value=b;this.dispatchEvent({type:"p",value:b,Zu:a.qa(),Yu:a.ha(),CB:c})};f.update=function(){var a=this.v,b=a.J();a.k();a.I(0);a.I(b);a.Gh()!==this.ia.step&&(this.ia.step=a.Gh());a.qa()!==this.ia.min&&(this.ia.min=a.qa());a.ha()!==this.ia.max&&(this.ia.max=a.ha());a.J()!==this.ia.value&&(this.ia.value=b)};f.f=function(){ut.d.f.call(this);delete this.Uw;null!=this.ia&&(H(this.ia),Q(this.ia),delete this.ia)};
v("xiv.ui.ctrl.SliderController.ID_PREFIX",ut.ID_PREFIX);v("xiv.ui.ctrl.SliderController.CSS_SUFFIX",ut.CSS_SUFFIX);v("xiv.ui.ctrl.SliderController.prototype.setValueDecimals",ut.prototype.Ro);v("xiv.ui.ctrl.SliderController.prototype.render",ut.prototype.n);v("xiv.ui.ctrl.SliderController.prototype.getValueInput",ut.prototype.IH);v("xiv.ui.ctrl.SliderController.prototype.dispatchComponentEvent",ut.prototype.hc);v("xiv.ui.ctrl.SliderController.prototype.update",ut.prototype.update);
v("xiv.ui.ctrl.SliderController.prototype.disposeInternal",ut.prototype.f);function vt(){Fq.call(this);this.ig("TwoThumb");this.Kt();this.Lt();this.be=P("input");this.be.type="number";N(this.be,vt.CSS.xD);Yh(this.a(),this.be);F(this.be,"input",this.wJ.bind(this));wt(this)}w(vt,Fq);v("xiv.ui.ctrl.TwoThumbSliderController",vt);vt.ID_PREFIX="xiv.ui.ctrl.TwoThumbSliderController";vt.CSS_SUFFIX={la:"slider",gi:"slider-thumb",nE:"slider-thumb-extent",oE:"slider-thumb-value",vp:"slider-thumb-hover",hi:"slider-track",vx:"slider-track-hover",Hs:"value-input",xD:"extent-input"};
f=vt.prototype;f.Kt=function(){this.W=new kq;this.W.w();var a=this.W.a();a.setAttribute("id","ThresholdSlider_"+B());N(a,vt.CSS.la);var b=P("div",{id:"ThwoThumbSlider_track_"+B(),"class":vt.CSS.hi});a.appendChild(b);this.hj(this.W);N(this.W.oa,vt.CSS.gi);N(this.W.oa,vt.CSS.oE);sk(this.W.oa,vt.CSS.vp);N(this.W.uc,vt.CSS.gi);N(this.W.uc,vt.CSS.nE);sk(this.W.uc,vt.CSS.vp);F(this.W,"change",this.hc.bind(this))};
f.update=function(){var a=T(this.W.oa).width,b=this.W.ha()-this.W.qa(),c=T(this.W.a()).width-a,a=c*((this.W.J()-this.W.qa())/b),b=c*(this.W.ef()/b);this.W.oa.style.left=a.toString()+"px";this.W.uc.style.left=b.toString()+"px";xt(this);wt(this)};function xt(a){a.ia.step=1;a.ia.min=a.W.qa();a.ia.max=a.W.ha();a.ia.value=a.W.J()}function wt(a){a.be.step=1;a.be.min=a.W.qa();a.be.max=a.W.ha();a.be.value=a.W.ef()+a.W.J()}
f.Lt=function(){this.ia=P("input");this.ia.type="number";N(this.ia,vt.CSS.Hs);Yh(this.a(),this.ia);F(this.ia,"input",this.Kv.bind(this));xt(this)};f.Kv=function(a){window.console.log(a,this.ia);this.W.I(parseInt(this.ia.value))};f.wJ=function(){this.W.ij(parseInt(this.be.value)-this.W.J())};f.hc=function(){var a=this.W.J(),b=this.W.ef()+a;this.ia.value=a;this.be.value=b;this.dispatchEvent({type:"p",lower:a,upper:b})};
f.f=function(){vt.d.f.call(this);null!=this.W&&(H(this.W),null==this.W.Ka&&(this.W.Ka=new Tp),this.W.g(),delete this.W);null!=this.ia&&(H(this.ia),Q(this.ia),delete this.ia);null!=this.be&&(H(this.be),Q(this.be),delete this.be)};v("xiv.ui.ctrl.TwoThumbSliderController.ID_PREFIX",vt.ID_PREFIX);v("xiv.ui.ctrl.TwoThumbSliderController.CSS_SUFFIX",vt.CSS_SUFFIX);v("xiv.ui.ctrl.TwoThumbSliderController.prototype.update",vt.prototype.update);
v("xiv.ui.ctrl.TwoThumbSliderController.prototype.dispatchComponentEvent",vt.prototype.hc);v("xiv.ui.ctrl.TwoThumbSliderController.prototype.disposeInternal",vt.prototype.f);function yt(){Fq.call(this);this.pg=[]}w(yt,Fq);v("xiv.ui.ctrl.MasterController3D",yt);yt.ID_PREFIX="xiv.ui.ctrl.MasterController3D";yt.CSS_SUFFIX={};yt.prototype.add=function(a){this.pg.push(a);this.By(a,ut);1==this.pg.length&&Yh(document.body,this.a())};yt.prototype.f=function(){yt.d.f.call(this);Jb(this.pg);delete this.pg};v("xiv.ui.ctrl.MasterController3D.ID_PREFIX",yt.ID_PREFIX);v("xiv.ui.ctrl.MasterController3D.CSS_SUFFIX",yt.CSS_SUFFIX);
v("xiv.ui.ctrl.MasterController3D.CONTROLLERS",{dO:"Visible",VM:"Opacity"});v("xiv.ui.ctrl.MasterController3D.prototype.add",yt.prototype.add);v("xiv.ui.ctrl.MasterController3D.prototype.disposeInternal",yt.prototype.f);function zt(){yt.call(this)}w(zt,yt);v("xiv.ui.ctrl.VolumeController3D",zt);zt.ID_PREFIX="xiv.ui.ctrl.VolumeController3D";zt.CSS_SUFFIX={};f=zt.prototype;f.Fy=function(a){var b=this.Xd(Ks,"Volume Rendering",function(b){a.volumeRendering=b.checked});Jq(a,b);this.rf.push(b);b.v.pf(!1)};f.XJ=function(a){null!=this.cp&&(this.cp.Ic().lowerThreshold=parseFloat(a.lower),this.cp.Ic().upperThreshold=parseFloat(a.upper))};f.cp=null;
f.Dy=function(a){var b=this.Xd(vt,"Threshold",this.XJ.bind(this));b.Zg(a);Jq(a,b);this.rf.push(b);var c=a.lowerThreshold,d=a.upperThreshold;-Infinity==c&&(c=-1E3,a.lowerThreshold=c);Infinity==a.upperThreshold&&(d=1E3,a.upperThreshold=d);var e=b.v;e.Hd(c);e.Kc(d);gq(e,d-c);e.I(c);e.Yg(10);e.ij(d-c);a.upperThreshold=d;a.lowerThreshold=c;this.cp=b};f.add=function(a){zt.d.add.call(this,a);this.Fy(a);this.Dy(a)};f.k=function(){zt.d.k.call(this)};f.f=function(){zt.d.f.call(this);this.cp.g()};
v("xiv.ui.ctrl.VolumeController3D.ID_PREFIX",zt.ID_PREFIX);v("xiv.ui.ctrl.VolumeController3D.DEFAULT_THRESHOLD",1E3);v("xiv.ui.ctrl.VolumeController3D.CSS_SUFFIX",zt.CSS_SUFFIX);v("xiv.ui.ctrl.VolumeController3D.prototype.add_volumeRendering",zt.prototype.Fy);v("xiv.ui.ctrl.VolumeController3D.prototype.add_threshold",zt.prototype.Dy);v("xiv.ui.ctrl.VolumeController3D.prototype.add",zt.prototype.add);v("xiv.ui.ctrl.VolumeController3D.prototype.updateStyle",zt.prototype.k);
v("xiv.ui.ctrl.VolumeController3D.prototype.disposeInternal",zt.prototype.f);function At(){Fq.call(this);this.pg=[]}w(At,Fq);v("xiv.ui.ctrl.MasterController",At);At.ID_PREFIX="xiv.ui.ctrl.MasterController";At.CSS_SUFFIX={};At.prototype.add=function(a){this.pg.push(a)};At.prototype.f=function(){At.d.f.call(this);Jb(this.pg);delete this.pg};v("xiv.ui.ctrl.MasterController.ID_PREFIX",At.ID_PREFIX);v("xiv.ui.ctrl.MasterController.CSS_SUFFIX",At.CSS_SUFFIX);v("xiv.ui.ctrl.MasterController.CONTROLLERS",{});v("xiv.ui.ctrl.MasterController.prototype.add",At.prototype.add);
v("xiv.ui.ctrl.MasterController.prototype.disposeInternal",At.prototype.f);function Bt(){Fq.call(this);this.Cg=new Zo("Reset to Defaults");this.hj(this.Cg);this.Cg.a().style.fontFamily='Helvetica,"Helvetica neue", Arial, sans-serif';this.Cg.a().style.fontSize="10px";this.Cg.a().style.width="100%";F(this.Cg.a(),"click",this.hc.bind(this))}w(Bt,Fq);v("xiv.ui.ctrl.ButtonController",Bt);Bt.ID_PREFIX="xiv.ui.ctrl.ButtonController";Bt.CSS_SUFFIX={};Bt.prototype.hc=function(){this.dispatchEvent({type:"p",checked:this.Cg.Jh()})};
Bt.prototype.f=function(){Bt.d.f.call(this);H(this.Cg);H(this.Cg.a());this.Cg.g();delete this.Cg};v("xiv.ui.ctrl.ButtonController.ID_PREFIX",Bt.ID_PREFIX);v("xiv.ui.ctrl.ButtonController.CSS_SUFFIX",Bt.CSS_SUFFIX);v("xiv.ui.ctrl.ButtonController.prototype.dispatchComponentEvent",Bt.prototype.hc);v("xiv.ui.ctrl.ButtonController.prototype.disposeInternal",Bt.prototype.f);function Ct(){At.call(this)}w(Ct,At);v("xiv.ui.ctrl.LevelsController",Ct);Ct.ID_PREFIX="xiv.ui.ctrl.LevelsController";Ct.CSS_SUFFIX={};f=Ct.prototype;f.fm=null;f.cj=null;
f.add=function(a){Ct.d.add.call(this,a);var b=this.xy(a);this.fm=this.Ay(a);this.cj=this.zy(a);var c=this.vy(a,this.fm,this.cj),d=this.wy(a,this.fm,this.cj);this.Cy(a);D([this.fm,this.cj,c,d],function(a){F(a.v,"v",function(){if(1E3<this.pg[0].max&&this.cj.v.ha()!=this.pg[0].max){var a=this.pg[0].max;this.cj.v.Kc(a);this.cj.v.I(a);this.fm.v.Kc(a)}b.update()}.bind(this))}.bind(this))};f.Cy=function(a){var b=this.Xd(Bt,null,function(){}.bind(this));Jq(a,b);this.Zf.push(b);b.Zg(a);return b};
f.xy=function(a){var b=this.Xd(Kq,null,function(){}.bind(this));b.Zg(a);Jq(a,b);this.Zf.push(b);b.update();return b};f.Ay=function(a){var b=this.Xd(ut,"Window Min.",function(b){a.windowLow=b.value}.bind(this));b.Zg(a);Jq(a,b);this.Zf.push(b);b.v.Kc(1E3);b.v.Hd(0);b.v.I(0);b.v.Yg(1);b.Ro(0);b.update();return b};
f.zy=function(a){var b=this.Xd(ut,"Window Max.");b.Zg(a);F(b,"p",function(b){a.windowHigh=b.value}.bind(this));Jq(a,b);this.Zf.push(b);b.v.Kc(1E3);b.v.Hd(0);b.v.I(1E3);b.v.Yg(1);b.Ro(0);b.update();return b};
f.vy=function(a,b,c){var d=this.Xd(ut,"Brightness");d.Zg(a);F(d,"p",function(d){d=(d.value-d.CB)/(d.Yu-d.Zu);var h=a.windowHigh-a.windowLow;a.windowLow=Math.round(parseInt(a.windowLow)-h*d);a.windowHigh=Math.round(parseInt(a.windowHigh)-h*d);b.v.I(a.windowLow);c.v.I(a.windowHigh)}.bind(this));Jq(a,d);this.Zf.push(d);d.v.Kc(150);d.v.Hd(-150);d.v.I(0);d.v.Yg(1);d.Ro(0);d.update();return d};
f.wy=function(a,b,c){var d=this.Xd(ut,"Contrast");d.Zg(a);F(d,"p",function(d){d=(d.value-d.CB)/(d.Yu-d.Zu);var h=parseInt(a.windowHigh)-parseInt(a.windowLow),k=parseInt(a.windowHigh)-h*d;a.windowLow=Math.round(parseInt(a.windowLow)+h*d);a.windowHigh=Math.round(k);b.v.I(a.windowLow);c.v.I(a.windowHigh)}.bind(this));Jq(a,d);this.Zf.push(d);d.v.Kc(150);d.v.Hd(-150);d.v.I(0);d.v.Yg(1);d.Ro(0);d.update();return d};f.f=function(){delete this.fm;delete this.cj;Ct.d.f.call(this)};
v("xiv.ui.ctrl.LevelsController.ID_PREFIX",Ct.ID_PREFIX);v("xiv.ui.ctrl.LevelsController.CSS_SUFFIX",Ct.CSS_SUFFIX);v("xiv.ui.ctrl.LevelsController.CONTROLLERS",{XL:"Brightness",hM:"Contrast",KM:"Window Min.",JM:"Window Max.",uM:"Histogram"});v("xiv.ui.ctrl.LevelsController.LEVEL_MAX",1E3);v("xiv.ui.ctrl.LevelsController.LEVEL_MIN",0);v("xiv.ui.ctrl.LevelsController.prototype.add",Ct.prototype.add);v("xiv.ui.ctrl.LevelsController.prototype.add_histogram",Ct.prototype.xy);
v("xiv.ui.ctrl.LevelsController.prototype.add_reset",Ct.prototype.Cy);v("xiv.ui.ctrl.LevelsController.prototype.add_levelMin",Ct.prototype.Ay);v("xiv.ui.ctrl.LevelsController.prototype.add_levelMax",Ct.prototype.zy);v("xiv.ui.ctrl.LevelsController.prototype.add_brightness",Ct.prototype.vy);v("xiv.ui.ctrl.LevelsController.prototype.add_contrast",Ct.prototype.wy);v("xiv.ui.ctrl.LevelsController.prototype.disposeInternal",Ct.prototype.f);function Dt(a){$c.call(this);this.na=null;this.o=a;a=E||ic&&!pc("531")&&"TEXTAREA"==a.tagName;this.sc=new dj(this);this.sc.A(this.o,a?["keydown","paste","cut","drop","input"]:"input",this)}w(Dt,$c);
Dt.prototype.handleEvent=function(a){if("input"==a.type)E&&pc(10)&&0==a.keyCode&&0==a.charCode||(Et(this),gc&&this.o!=Jh(this.o).activeElement||this.dispatchEvent(Ft(a)));else if("keydown"!=a.type||hl(a)){var b="keydown"==a.type?this.o.value:null;E&&229==a.keyCode&&(b=null);var c=Ft(a);Et(this);this.na=Yf(function(){this.na=null;this.o.value!=b&&this.dispatchEvent(c)},0,this)}};function Et(a){null!=a.na&&(ba.clearTimeout(a.na),a.na=null)}function Ft(a){a=new Hc(a.Gc);a.type="input";return a}
Dt.prototype.f=function(){Dt.d.f.call(this);this.sc.g();Et(this);delete this.o};function Gt(a,b,c){hj.call(this,a);Ht(this,b||"#f00");this.className=c||"goog-hsv-palette";this.pa=si(this.M())}w(Gt,hj);f=Gt.prototype;f.Xr=function(a){a!=this.Al&&(Ht(this,a),It(this),this.dispatchEvent("action"))};function Ht(a,b){var c=Jj(b).Vi,d=Pj(c),e=d[0],h=d[1],k=d[2],d=Math.max(Math.max(e,h),k),l=Math.min(Math.min(e,h),k);if(l==d)l=e=0;else{var n=d-l,l=n/d,e=60*(e==d?(h-k)/n:h==d?2+(k-e)/n:4+(e-h)/n);0>e&&(e+=360);360<e&&(e-=360)}a.Xc=[e,l,d];a.Xc[0]/=360;a.Al=c}
function Jt(a,b,c,d){if(null!=b||null!=c||null!=d)a.Xc[0]=null!=b?b:a.Xc[0],a.Xc[1]=null!=c?c:a.Xc[1],a.Xc[2]=null!=d?d:a.Xc[2],b=[360*a.Xc[0],a.Xc[1],a.Xc[2]],b=Rj(b[0],b[1],b[2]),a.Al=b,It(a),a.dispatchEvent("action")}f.De=function(){return!1};
f.w=function(){var a=this.M(),b=E&&!pc("7")?" "+(this.className+"-noalpha"):"",c=a.w("DIV",this.className+"-hs-backdrop");this.Zl=a.w("DIV",this.className+"-hs-handle");this.Xi=a.w("DIV",this.className+"-hs-image",this.Zl);this.Uk=a.w("DIV",this.className+"-v-image");this.lp=a.w("DIV",this.className+"-v-handle");this.gs=a.w("DIV",this.className+"-swatch");this.uk=a.w("input",{"class":this.className+"-input",type:"text",dir:"ltr"});var d=a.w("label",null,this.uk);this.o=a.w("DIV",this.className+b,
c,this.Xi,this.Uk,this.lp,this.gs,d)};f.ab=function(){Gt.d.ab.call(this);It(this);var a=this.bb();a.A(this.a(),"mousedown",this.Ng);this.Vn||(this.Vn=new Dt(this.uk));a.A(this.Vn,"input",this.aI)};f.f=function(){Gt.d.f.call(this);delete this.Xi;delete this.Zl;delete this.Uk;delete this.lp;delete this.gs;delete this.uk;this.Vn&&(this.Vn.g(),delete this.Vn);Vc(this.dv);Vc(this.ev)};
function It(a){if(a.fa){var b=a.Xc[1],c=a.Xc[2],d=a.Xi.offsetWidth*a.Xc[0];a.Ie()&&(d=a.Xi.offsetWidth-d);var e=Math.ceil(a.Zl.offsetWidth/2),d=d-e,b=a.Xi.offsetHeight*(1-b),b=b-Math.ceil(a.Zl.offsetHeight/2),e=a.Zl,h=a.Ie();null!==b&&(e.style.top=b+"px");h?(e.style.right=d+"px",e.style.left=""):(e.style.left=d+"px",e.style.right="");b=a.Uk.offsetTop-Math.floor(a.lp.offsetHeight/2)+(255-c)/255*a.Uk.offsetHeight;a.lp.style.top=b+"px";Ti(a.Xi,c/255);wi(a.Uk,"background-color",Rj(360*a.Xc[0],a.Xc[1],
255));wi(a.gs,"background-color",a.Al);wi(a.gs,"color",127.5<a.Xc[2]?"#000":"#fff");var k;try{k=Jj(a.uk.value).Vi}catch(l){}a.Al!=k&&(a.uk.value=a.Al)}}f.Ng=function(a){if(a.target==this.Uk||a.target==this.lp){var b=Si(this.Uk);this.wA(b,a);this.dv=F(this.pa,"mousemove",ua(this.wA,this,b));this.ev=F(this.pa,"mouseup",this.Tf,!1,this)}else if(a.target==this.Xi||a.target==this.Zl)b=Si(this.Xi),this.vA(b,a),this.dv=F(this.pa,"mousemove",ua(this.vA,this,b)),this.ev=F(this.pa,"mouseup",this.Tf,!1,this)};
f.wA=function(a,b){b.preventDefault();var c=vi(this.M()),c=Math.min(Math.max(c.y+b.clientY,a.top),a.top+a.height),c=Math.round(255*(a.top+a.height-c)/a.height);Jt(this,null,null,c)};f.vA=function(a,b){b.preventDefault();var c=vi(this.M()),d=(Math.min(Math.max(c.x+b.clientX,a.left),a.left+a.width)-a.left)/a.width,c=(-Math.min(Math.max(c.y+b.clientY,a.top),a.top+a.height)+a.top+a.height)/a.height;Jt(this,d,c,null)};f.Tf=function(){Vc(this.dv);Vc(this.ev)};
f.aI=function(){/^#?[0-9a-f]{6}$/i.test(this.uk.value)&&this.Xr(this.uk.value)};function Kt(){Fq.call(this);this.ig("Color");this.Ci=new Gt;this.Ci.n();F(this.Ci,"action",this.hc.bind(this));N(this.Ci.a(),this.constructor.CSS.rD);this.sn=P("div",{id:this.constructor.ID_PREFIX+"_ColorPaletteHolder_"+B(),"class":Kt.CSS.sD});Yh(this.sn,this.Ci.a());P("div",{id:this.constructor.ID_PREFIX+"_ColorPalette_"+B(),"class":Kt.CSS.mM});this.a().appendChild(this.sn);this.hj(this.sn)}w(Kt,Fq);v("xiv.ui.ctrl.ColorPaletteController",Kt);Kt.ID_PREFIX="xiv.ui.ctrl.ColorPaletteController";
Kt.CSS_SUFFIX={dM:"colorsquare",sD:"colorpaletteholder",rD:"colorpalette",uj:"closebutton"};Kt.prototype.update=function(){var a=Math.floor(255*this[Gq].color[0]),b=Math.floor(255*this[Gq].color[1]),c=Math.floor(255*this[Gq].color[2]),a=Math.min(255,Math.max(0,a)),b=Math.min(255,Math.max(0,b)),c=Math.min(255,Math.max(0,c));this.Ci.Xr(Nj([a,b,c]))};Kt.prototype.hc=function(a){this.dispatchEvent({type:"p",color:Pj(a.target.Al).map(function(a){return a/255})})};
Kt.prototype.f=function(){Kt.d.f.call(this);H(this.Ci);this.Ci.g();delete this.Ci;Q(this.sn);delete this.sn};v("xiv.ui.ctrl.ColorPaletteController.ID_PREFIX",Kt.ID_PREFIX);v("xiv.ui.ctrl.ColorPaletteController.CSS_SUFFIX",Kt.CSS_SUFFIX);v("xiv.ui.ctrl.ColorPaletteController.PANEL_MARGIN_X",20);v("xiv.ui.ctrl.ColorPaletteController.PANEL_MARGIN_Y",20);v("xiv.ui.ctrl.ColorPaletteController.prototype.update",Kt.prototype.update);
v("xiv.ui.ctrl.ColorPaletteController.prototype.dispatchComponentEvent",Kt.prototype.hc);v("xiv.ui.ctrl.ColorPaletteController.prototype.disposeInternal",Kt.prototype.f);function Lt(){yt.call(this)}w(Lt,yt);v("xiv.ui.ctrl.MeshController3D",Lt);Lt.ID_PREFIX="xiv.ui.ctrl.MeshController3D";Lt.CSS_SUFFIX={};Lt.prototype.add=function(a){Lt.d.add.call(this,a);this.mt(a,Ks);this.lt(a,Kt)};v("xiv.ui.ctrl.MeshController3D.ID_PREFIX",Lt.ID_PREFIX);v("xiv.ui.ctrl.MeshController3D.CSS_SUFFIX",Lt.CSS_SUFFIX);v("xiv.ui.ctrl.MeshController3D.prototype.add",Lt.prototype.add);v("xiv.ui.ctrl.MeshController3D.prototype.disposeInternal",Lt.prototype.f);function Mt(){yt.call(this)}w(Mt,yt);v("xiv.ui.ctrl.AnnotationsController3D",Mt);Mt.ID_PREFIX="xiv.ui.ctrl.AnnotationsController3D";Mt.CSS_SUFFIX={};Mt.prototype.add=function(a){Mt.d.add.call(this,a);this.mt(a,Ks);this.lt(a,Kt)};v("xiv.ui.ctrl.AnnotationsController3D.ID_PREFIX",Mt.ID_PREFIX);v("xiv.ui.ctrl.AnnotationsController3D.CSS_SUFFIX",Mt.CSS_SUFFIX);v("xiv.ui.ctrl.AnnotationsController3D.prototype.add",Mt.prototype.add);function Nt(){At.call(this)}w(Nt,At);v("xiv.ui.ctrl.VolumeController",Nt);Nt.ID_PREFIX="xiv.ui.ctrl.VolumeController";Nt.CSS_SUFFIX={};Nt.prototype.add=function(a){Nt.d.add.call(this,a);this.Ey(a);this.yy(a)};Nt.prototype.Ey=function(a){var b=this.Xd(st,"Visible",function(){});Jq(a,b);this.rf.push(b);b.Zg(a);b.v.checked=a[Ir]||!1};Nt.prototype.yy=function(a){var b=this.Xd(Ks,"Show Label Map",function(b){a.WO.visible=b.checked});Jq(a,b);this.rf.push(b);b.Zg(a);b.v.pf(!1)};Nt.prototype.f=function(){Nt.d.f.call(this)};
v("xiv.ui.ctrl.VolumeController.ID_PREFIX",Nt.ID_PREFIX);v("xiv.ui.ctrl.VolumeController.CSS_SUFFIX",Nt.CSS_SUFFIX);v("xiv.ui.ctrl.VolumeController.prototype.add",Nt.prototype.add);v("xiv.ui.ctrl.VolumeController.prototype.add_visibleRadio",Nt.prototype.Ey);v("xiv.ui.ctrl.VolumeController.prototype.add_labelMapToggle",Nt.prototype.yy);v("xiv.ui.ctrl.VolumeController.prototype.disposeInternal",Nt.prototype.f);function Ot(){U.call(this);C(Pt(),function(a,b){this[b]=null})}w(Ot,U);v("xiv.ui.ctrl.XtkControllerTree",Ot);function Qt(a,b,c){this["2D"]=a;this["3D"]=b;this.all=null!=c?c:null}v("xiv.ui.ctrl.XtkControllerTree.ControlSet",Qt);Ot.ID_PREFIX="xiv.ui.ctrl.XtkControllerTree";Ot.CSS_SUFFIX={};function Pt(){return{volumes:null,annotations:null,meshes:null,levels:null}}f=Ot.prototype;f.px=function(){};f.jD=function(){return this.Lg([this.di])};f.px=function(){return this.Lg([this.xj])};f.GE=function(){return this.Lg([this.Ej])};
f.JG=function(){};f.Lg=function(a){var b=[];D(g(a)?a:[a],function(a){null!=a&&(b=Mb(b,a.Gz()))});return b};f.jp=function(){var a=this.Lg([this.xj,this.Fj,this.Ej,this.yj,this.di,this.ys]);D(a,function(a){a.update()}.bind(this))};
f.Ht=function(a,b){a instanceof J?(null==this.Fj&&(this.xj=new Ct,this.Fj=new Nt,this.Ej=new zt),this.xj.add(a,b),this.Fj.add(a,b),this.Ej.add(a,b)):a instanceof Eq?(null==this.yj&&(this.yj=new Lt),this.yj.add(a,b)):a instanceof Pp&&(null==this.di&&(this.di=new Mt),this.di.add(a));this.volumes=new Qt(null,this.Lg([this.Ej]),this.Lg([this.Fj]));this.annotations=new Qt(null,this.Lg([this.di]));this.meshes=new Qt(null,this.Lg([this.yj]));this.levels=new Qt(null,null,this.Lg([this.xj]))};
f.f=function(){Ot.d.f.call(this);null!=this.xj&&(this.xj.g(),delete this.xj);null!=this.Fj&&(this.Fj.g(),delete this.Fj);null!=this.Cx&&(this.Cx.g(),delete this.Cx);null!=this.Ej&&(this.Ej.g(),delete this.Ej);null!=this.yj&&(this.yj.g(),delete this.yj);null!=this.di&&(this.di.g(),delete this.di);null!=this.ys&&(this.ys.g(),delete this.ys)};v("xiv.ui.ctrl.XtkControllerTree.ControlSet",Qt);v("xiv.ui.ctrl.XtkControllerTree.ID_PREFIX",Ot.ID_PREFIX);v("xiv.ui.ctrl.XtkControllerTree.CSS_SUFFIX",Ot.CSS_SUFFIX);
v("xiv.ui.ctrl.XtkControllerTree.getEmptyPropertiesObject",Pt);v("xiv.ui.ctrl.XtkControllerTree.prototype.Levels",Ot.prototype.px);v("xiv.ui.ctrl.XtkControllerTree.prototype.Annotations",Ot.prototype.jD);v("xiv.ui.ctrl.XtkControllerTree.prototype.Volumes3D",Ot.prototype.GE);v("xiv.ui.ctrl.XtkControllerTree.prototype.getHistograms",Ot.prototype.JG);v("xiv.ui.ctrl.XtkControllerTree.prototype.getControllers",Ot.prototype.Lg);v("xiv.ui.ctrl.XtkControllerTree.prototype.updateControllers",Ot.prototype.jp);
v("xiv.ui.ctrl.XtkControllerTree.prototype.createControllers",Ot.prototype.Ht);v("xiv.ui.ctrl.XtkControllerTree.prototype.disposeInternal",Ot.prototype.f);function Rt(){$c.call(this);this.Ve=null;this.ec={volumes:[],meshes:[],fibers:[],spheres:[]};this.fi=new rt("X");this.Bj=new rt("Y");this.Cj=new rt("Z");this.Yb=new qt;this.pc={};this.pc[this.fi.Db()]=this.fi;this.pc[this.Bj.Db()]=this.Bj;this.pc[this.Cj.Db()]=this.Cj;this.pc[this.Yb.Db()]=this.Yb;this.Rg=null;this.bs(this.Yb);St(this)}w(Rt,Hr);v("xiv.vis.XtkEngine",Rt);Rt.ID_PREFIX="xiv.vis.XtkEngine";Rt.SLICE_TO_RAS_KEY="sliceToRAS"+B();Rt.HAS_LABEL_MAP_KEY="hasLabelMap";f=Rt.prototype;f.Mr=!1;
f.hu=function(){return this.ec.volumes};f.gu=function(){return this.ec.meshes};f.fu=function(){return this.ec.spheres};function Tt(a,b){null!=b.Od.gn&&D(b.Od.gn,function(a){this.ec.spheres.push(Ut(a))}.bind(a))}f.mC=function(a,b){switch(a.toLowerCase()){case "x":this.fi.nc(b);break;case "y":this.Bj.nc(b);break;case "z":this.Cj.nc(b);break;case "v":this.Yb.nc(b)}};f.bs=function(a){this.Rg=a;this.Rg.ra();this.KK=F(this.Rg,"s",this.Dv.bind(this))};f.mH=function(){return this.Rg};f.Hv=function(a){this.dispatchEvent(a)};
function St(a){C(a.pc,function(a){F(a,"F",this.Hv.bind(this));F(a,"H",function(){}.bind(this))}.bind(a))}f.jp=function(){this.Ve.jp()};f.rG=function(){return this.Ve};
function Vt(a,b){null!=a.Ve&&(a.Ve.g(),a.Ve=null);a.Ve=new Ot;null!=(b.Od&&null!=b.Od.gn)&&(Tt(a,b),D(a.ec.spheres,function(a){this.Ve.Ht(a)}.bind(a)));var c;D(b.ud,function(a){c=a.Rf();if(null!=c&&(currXObj=Wt(c,a.Oi),renderProps=a.Od,currXObj))if(this.Ve.Ht(currXObj,renderProps),currXObj instanceof J){"scans"==b.Lf.toLowerCase()&&(window.console.log("Turning off reslicing for scan"),currXObj.reslicing=!1);a=currXObj;var e=renderProps;null!=e||(e={origin:[0,0,0],ms:1E4,kr:-1E4,Zq:!0,Vw:!1});a.origin=
e.origin;a.upperThreshold=e.ms;a.lowerThreshold=e.kr;a.volumeRendering=e.Vw;a[Ir]=e.Zq;a[Rt.SLICE_TO_RAS_KEY]=e.qw;null!=e.QA?(a.labelmap.file=e.QA,a.labelmap.colortable.file=e.II,a[Rt.HAS_LABEL_MAP_KEY]=!0):a[Rt.HAS_LABEL_MAP_KEY]=!1;this.ec.volumes.push(currXObj)}else currXObj instanceof Eq?(a=currXObj,e=renderProps,a.color=e.color||[.5,.5,.5],a.opacity=e.opacity||1,this.ec.meshes.push(currXObj)):currXObj instanceof lq&&(Rt.qP(currXObj,renderProps),this.ec.fibers.push(currXObj))}.bind(a))}
f.NB=function(){this.bs(this.Yb);this.Yb.ra();C(this.ec,function(a,b){"volumes"!==b&&D(a,function(a){this.Yb.add(a)}.bind(this))}.bind(this));Tc(this.Yb.Pa(),"t",function(){this.Ar();this.fi.n()}.bind(this));this.Yb.n()};f.MB=function(a){var b=null!=a?a:this.Ql();C(this.pc,function(a,d){"v"!=d.toLowerCase()&&(a.ra(),a.add(b),a.n())})};function Xt(a){var b=a.Ql();C(a.ec.volumes,function(a){a!==b&&(a.visible=!1)})}
f.OB=function(){var a=this.Ql(),b=[],c=[],d=["x","y","z","v"];C(this.ec,function(a,d){currArr="volumes"==d?c:b;D(a,function(a){currArr.push(a)})}.bind(this));D(b,function(a){this.Yb.add(a)}.bind(this));D(c,function(b){b!==a&&(b.visible=!0,this.Yb.add(b))}.bind(this));this.Rg.Pa().onShowtime=function(){Lb(d,this.Rg.Db().toLowerCase());Yt(this,a)}.bind(this);this.Rg.add(a);this.Rg.n()};
f.n=function(a){this.Mr=!1;Vt(this,a);var b=a.Od;null!=b?(null!=b.backgroundColor&&this.Yb.Tr(a.Od.backgroundColor),null!=b.$p&&this.Yb.Ur(a.Od.$p)):(this.Yb.Tr(),this.Yb.Ur());if(0<this.ec.volumes.length){a=this.pc;b="";for(b in a)if(a[b].isEnabled()){this.bs(a[b]);break}this.OB()}else this.Yb.isEnabled()&&this.NB()};function Yt(a,b){var c=nb(a.pc)-1;C(a.pc,function(a){a!=this.Rg&&a.isEnabled()&&(a.add(b),Tc(a.Pa(),"t",function(){c--;0==c&&this.Ar()}.bind(this)),a.n())}.bind(a))}
f.Ql=function(){if(0!=this.ec.volumes.length){for(var a=0,b=this.ec.volumes.length;a<b;a++){var c=this.ec.volumes[a];if(c[Ir])return c}this.ec.volumes[0][Ir]=!0;return this.ec.volumes[0]}};f.k=function(){C(this.pc,function(a){a.k()}.bind(this))};f.Dv=function(a){this.Mr||this.dispatchEvent({type:"s",value:a.value})};f.Ar=function(a){Xt(this);Vc(this.KK);this.Mr=!0;this.dispatchEvent({type:"t",value:null!=a?a.value:1})};f.gH=function(){return this.fi};f.hH=function(){return this.Bj};f.iH=function(){return this.Cj};
f.fH=function(){return this.Yb};f.Cq=function(a){return this.pc[a]};f.jH=function(){return this.pc};var Zt=["nrrd","nii","nii.gz","mgh","mgz"],$t=["dicom","dcm","ima"],au=["hdr","img"],bu=["nii","nii.gz"],cu=["jpeg","jpg","gif","png","img"],du="stl vtk obj fsm inflated smoothwm pial orig".split(" "),eu=["trk"];function fu(a){var b=void 0;gu(a)?b=new Eq:hu(a)||iu(a)||ju(a)?b=new J:ku(a)&&(b=new lq);return b}
function Ut(a){var b=new Pp;b.center=a.position;b.caption=a.name;b.name=a.name;b.radius=3;b.color=[.85,0,0];return b}function hu(a){return-1<Zt.indexOf(a)?!0:!1}function ju(a){return-1<cu.indexOf(a)?!0:!1}function iu(a){return-1<$t.indexOf(a)?!0:!1}function gu(a){return-1<du.indexOf(a)?!0:!1}function ku(a){return-1<eu.indexOf(a)?!0:!1}
function Wt(a,b){function c(a){var b=sj(a);a=rj(a);return b+"/"+a}var d=g(a)?tj(a[0]):tj(a),d=fu(d);if(null==d)throw Error("No renderable files in the set :(<br>");if(g(a)){var e=[];D(a,function(a){e.push(c(a))});a=e}else a=c(a);null!=b?(d.file=pb(b),d.filedata=ob(b)):d.file=a;return d}
Rt.prototype.g=function(){Rt.d.g.call(this);null!=this.Ve&&(this.Ve.g(),delete this.Ve);H(this.fi);H(this.Bj);H(this.Cj);H(this.Yb);delete this.Rg;tb(this.pc);delete this.pc;this.fi.g();delete this.fi;this.Bj.g();delete this.Bj;this.Cj.g();delete this.Cj;this.Yb.g();delete this.Yb;C(this.ec,function(a){C(a,function(a){H(a);tb(a)})});tb(this.ec);delete this.ec;delete this.Mr};v("xiv.vis.XtkEngine.EventType",{sN:"F",qN:"G",rN:"H",ERROR:"I",qO:"J",GM:"K",HM:"L"});v("xiv.vis.XtkEngine.ID_PREFIX",Rt.ID_PREFIX);
v("xiv.vis.XtkEngine.ANATOMICAL_TO_CARTESIAN",{SAGITTAL:"X",CORONAL:"Y",AXIAL:"Z",TRANSVERSE:"Z"});v("xiv.vis.XtkEngine.SLICE_TO_RAS_KEY",Rt.SLICE_TO_RAS_KEY);v("xiv.vis.XtkEngine.HAS_LABEL_MAP_KEY",Rt.HAS_LABEL_MAP_KEY);v("xiv.vis.XtkEngine.isVolume",hu);v("xiv.vis.XtkEngine.isImage",ju);v("xiv.vis.XtkEngine.isDicom",iu);v("xiv.vis.XtkEngine.isAnalyze",function(a){return-1<au.indexOf(a)?!0:!1});v("xiv.vis.XtkEngine.isNifti",function(a){return-1<bu.indexOf(a)?!0:!1});
v("xiv.vis.XtkEngine.isMesh",gu);v("xiv.vis.XtkEngine.isFiber",ku);v("xiv.vis.XtkEngine.prototype.getCurrentMeshes",Rt.prototype.gu);v("xiv.vis.XtkEngine.prototype.getCurrentAnnotations",Rt.prototype.fu);v("xiv.vis.XtkEngine.prototype.getCurrentVolumes",Rt.prototype.hu);v("xiv.vis.XtkEngine.prototype.setPlaneEnabled",Rt.prototype.mC);v("xiv.vis.XtkEngine.prototype.setPrimaryRenderPlane",Rt.prototype.bs);v("xiv.vis.XtkEngine.prototype.getPrimaryRenderPlane",Rt.prototype.mH);
v("xiv.vis.XtkEngine.prototype.updateControllers",Rt.prototype.jp);v("xiv.vis.XtkEngine.prototype.getControllerTree",Rt.prototype.rG);v("xiv.vis.XtkEngine.prototype.render3dPlane",Rt.prototype.NB);v("xiv.vis.XtkEngine.prototype.render2D",Rt.prototype.MB);v("xiv.vis.XtkEngine.prototype.renderAllPlanes",Rt.prototype.OB);v("xiv.vis.XtkEngine.prototype.render",Rt.prototype.n);v("xiv.vis.XtkEngine.prototype.getSelectedVolume",Rt.prototype.Ql);v("xiv.vis.XtkEngine.prototype.updateStyle",Rt.prototype.k);
v("xiv.vis.XtkEngine.prototype.getPlaneX",Rt.prototype.gH);v("xiv.vis.XtkEngine.prototype.getPlaneY",Rt.prototype.hH);v("xiv.vis.XtkEngine.prototype.getPlaneZ",Rt.prototype.iH);v("xiv.vis.XtkEngine.prototype.getPlaneV",Rt.prototype.fH);v("xiv.vis.XtkEngine.prototype.getPlaneByOrientation",Rt.prototype.Cq);v("xiv.vis.XtkEngine.prototype.getPlanes",Rt.prototype.jH);v("xiv.vis.XtkEngine.prototype.dispose",Rt.prototype.g);function lu(a,b,c){Zm.call(this);this.EC=!0===a;this.DC=!0===b;this.BC=!0===c}w(lu,Zm);v("xiv.ui.HelpDialog",lu);lu.ID_PREFIX="xiv.ui.HelpDialog";lu.CSS={vD:"nrg-ui-helpdialog-dialog",$k:"nrg-ui-helpdialog-text",lE:"xiv-ui-helpdialog-scrollablezippytree",TITLE:"xiv-ui-helpdialog-title",uj:"xiv-ui-helpdialog-closebutton"};lu.LAYOUT_IMAGE_ID=lu.ID_PREFIX+".LayoutImage";
lu.prototype.n=function(a){lu.d.n.call(this,a);N(this.a(),"xiv-ui-helpdialog");this.Fm=new Os;N(this.Fm.a(),lu.CSS.lE);this.Fm.n(this.a());mu(this);this.sy(lu.CSS.TITLE);this.dy(lu.CSS.uj)};lu.prototype.gw=function(a){null!=document.getElementById(lu.LAYOUT_IMAGE_ID)&&(document.getElementById(lu.LAYOUT_IMAGE_ID).src=a)};
function mu(a){var b=[["Close ViewBox",'<img style="height:10px;width:10px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/close.png"></img>'],["Add ViewBox Column",'<img style="height:12px;width:6px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/insertcolumn.png"></img>'],["Add ViewBox Row",'<img style="height:6px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/insertrow.png"></img>'],["Drag/Swap ViewBox",'<img style="height:17px;width:7px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBoxManager/handle.png"></img>']],
c=[["Change Layouts"," ","<img height=15 width=15 id="+lu.LAYOUT_IMAGE_ID+"></img>"],["Help","keystroke: ?",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Help.png"></img>'],["Info. Metadata","keystroke: I",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Info.png"></img>'],["Settings","keystroke: S",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Settings.png"></img>'],
["Levels","keystroke: B or L",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Levels.png"></img>'],["2D Pan","keystroke: H or P",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-2DPan.png"></img>'],["2D Zoom","keystroke: Z",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-2DZoom.png"></img>'],["2D Crosshairs","keystroke: C",'<img style="height:15px;width:15px" src="'+
serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Crosshairs.png"></img>']];a.EC&&c.push(["Volumes","keystroke: V",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Volumes.png"></img>']);a.DC&&c.push(["Meshes","keystroke: M",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Meshes.png"></img>']);a.BC&&c.push(["Annotations","keystroke: A",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Annotations.png"></img>']);
var d=[["Close XImgView",'<img style="height:10px;width:10px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/close.png"></img>'],["Full-screen view",'<img style="height:12px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/fullscreen.png"></img>'],["Pop-up view",'<img style="height:12px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/popup.png"></img>']];a.me("Help");D([[["Resize","left-click + drag","panel borders"]],b,c,d],function(a,b){var c='<table style="width:100%;color:white;" RULES=ROWS FRAME=HSIDES  BORDERCOLOR="black">';
D(a,function(a){c+="<tr>";D(a,function(a,b){switch(b){case 0:a='<b><font size="2">'+a+"</font></b>";break;case 1:a='<i><font size="1">'+a+"</font></i>";break;default:a='<font size="1">'+a+"</font>"}c+="<td height=25>"+a+"</td>"});c+="</tr>"});var c=c+"</table>",d;currText=b+1;switch(currText){case 1:d="Images";break;case 2:d="ViewBox Manipulation";break;case 3:d="ViewBox Toggles";break;case 4:d="Modal"}Q(c);var n=P("div");n.innerHTML=c;this.Fm.Ze(n,[d])}.bind(a))}
lu.prototype.f=function(){lu.d.f.call(this);delete this.EC;delete this.DC;delete this.BC;null!=this.Fm&&this.Fm.g()};v("xiv.ui.HelpDialog.EventType",{});v("xiv.ui.HelpDialog.ID_PREFIX",lu.ID_PREFIX);v("xiv.ui.HelpDialog.LAYOUT_IMAGE_ID",lu.LAYOUT_IMAGE_ID);v("xiv.ui.HelpDialog.CSS_SUFFIX",lu.CSS_SUFFIX);v("xiv.ui.HelpDialog.prototype.render",lu.prototype.n);v("xiv.ui.HelpDialog.prototype.setLayoutButton",lu.prototype.gw);v("xiv.ui.HelpDialog.prototype.disposeInternal",lu.prototype.f);function nu(a,b,c){Zo.call(this,a,b||$o.ce(),c);this.ad(16,!0)}w(nu,Zo);Nn("goog-toggle-button",function(){return new nu(null)});function ou(a){U.call(this);this.K={};this.R=a}w(ou,U);v("xiv.ui.ViewBoxDialogs",ou);ou.ID_PREFIX="xiv.ui.ViewBoxDialogs";ou.CSS_SUFFIX={qg:"generic-toggle",CD:"infodialog",DD:"infodialog-text",OM:"modaldialog"};var pu="Info_"+B(),qu="Help_"+B(),ru={xM:pu,sM:qu},su="ToggleClass_"+B();f=ou.prototype;f.uG=function(){return this.K};f.tG=function(a){return this.K[a]};
f.vn=function(a,b,c,d,e,h,k,l){e=null!=e?e:"";var n=this.R.ak("LEFT",c,a,e,function(b){var c=this.K[a];b="true"==b.getAttribute("checked");c.aa(b);this.dispatchEvent({type:b?"M":"N",tz:this.K[a],uz:a});tu(this,c)}.bind(this),d);null!=this.K[a]&&this.K[a].g();c=new Zm;this.K[a]=c;Jm(c,null!=k?k:!1);Qm(c,null!=l?l:null);c.n(this.R.xb);Im(c,0);this.K[a].Wd();c.me(e);N(c.a(),b);F(c,"f",function(){this.R.jm(n)}.bind(this));F(c,Mm,function(){}.bind(this));this.K[a].aa(!0);this.K[a].Wd();this.K[a].Wd(!1);
!1===h&&Mn(this.R.Kd[a])};f.EF=function(){this.vn(ru.NM,"xiv-ui-viewboxdialogs-meshes-dialog",ou.CSS.qg,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Mesh.png","Volume Controls",!1,!1)};f.GF=function(){this.vn(ru.fO,"xiv-ui-viewboxdialogs-volumes-dialog",ou.CSS.qg,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Volume.png","Volume Controls",!1,!1)};f.hz=function(){uu(this);vu(this)};
function wu(a,b,c){var d=new Zm;Qm(d,Tm);d.n(null!=b?b:document.body);d.Nk(a);N(d.a(),"nrg-ui-dialogs-yesnomodal");Jm(d,!0);var e=d.a(),h=d.Eh();Tc(d,Rm,function(a){var b=e.cloneNode(!0);b.style.opacity=1;b.style.display="inline";Yh(e.parentNode,b);var n=h.cloneNode(!0);n.style.opacity=.7;n.style.display="inline";Yh(e.parentNode,n);b.style.zIndex=2E9;n.style.zIndex=2E9;Nk([b,n],1,0,null,null,function(){Q(b);delete b;Q(n);delete n});"yes"===a.key.toLowerCase()&&null!=c&&c();d.Vt=!0;d.so()});d.aa(!0);
d.Wd(!0);d.Vt=!1;e.style.opacity=0;e.style.zIndex=2E9;h.style.opacity=0;h.style.zIndex=2E9;vk(e,150);wk(h,150,.7)}f.qA=function(){var a=[];C(this.K,function(b){b.sa()&&a.push(b.a())});return a};f.showModalDialog=function(a){if(null==this.K[a])throw Error("Invalid dialog key: ",a);this.K[a].aa(!0);this.K[a].Wd()};
function tu(a,b){C(null!=b?[b]:a.K,function(a){if(null!=a&&!ka(a)){var b=a.Pz(),e;if(null!=b){for(e in b)if(isNaN(b[e])&&!ka(b[e]))return;e=T(a.a());var h=Di(a.a()),k=h.y+e.height,l=b.top+b.height,n=h.x,p=h.y;h.x+e.width>b.left+b.width&&(n=b.left+b.width-e.width);0>n&&(n=0);k>l&&(p=b.top+b.height-e.height);-15>p&&(p=-15);Bi(a.a(),n,p)}}})}f.update=function(){C(this.K,function(a){a.WC();tu(this,a)}.bind(this))};
f.fp=function(a,b){var c=!1===b?0:1;window.console.log(a,this.K[a]);null!=this.K[a].a()&&wk(this.K[a].a(),200,c)};f.Aq=function(){return this.K[qu]};
function uu(a){null!=a.K[qu]&&a.K[qu].g();var b=new lu(0<a.R.Pa().hu().length,0<a.R.Pa().gu().length,0<a.R.Pa().fu().length);Jm(b,!1);Qm(b,null);b.n(a.R.xb);b.aa(!1);b.Wd();var c=a.R.ak("LEFT",ou.CSS.qg,qu,"Help",function(a){a="true"==a.getAttribute("checked");b.aa(a);b.Wd();this.dispatchEvent({type:a?"M":"N",tz:b})}.bind(a),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Help.png");F(b,"f",function(){this.R.jm(c)}.bind(a));a.R.jm(c);a.K[qu]=new lu}
function vu(a){null!=a.K[pu]&&a.K[pu].g();currDialog=new Zm;var b="";0<a.R.qb.length?C(a.R.qb[0].le,function(a,c){null!=a&&0<a.length&&(b+=c+": "+a+"<br>")}):b=Ok(a.R.qb[0].Vh);Jm(currDialog,!1);currDialog.Sj(b);Qm(currDialog,null);currDialog.n(a.R.xb);currDialog.aa(!0);currDialog.rr("left","top",0,-12);currDialog.me("Info. Display");currDialog.hw("xiv-ui-viewboxdialogs-infodialog-hovered");N(currDialog.a(),ou.CSS.CD);N(currDialog.pj[0],ou.CSS.DD);var c=a.R.ak("LEFT",ou.CSS.qg,pu,"Info. Display",
function(a){a="true"==a.getAttribute("checked");currDialog.aa(a);currDialog.rr("left","top",0,-15);this.dispatchEvent({type:a?"M":"N",tz:currDialog})}.bind(a),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Info.png");F(currDialog,"f",function(){this.R.jm(c)}.bind(a));currDialog.$v();a.K[pu]=currDialog}f.f=function(){delete this.R;null!=this.K&&(C(this.K,function(a){H(a);a.f();a.g()}.bind(this)),tb(this.K))};v("xiv.ui.ViewBoxDialogs.EventType",{kM:"M",jM:"N"});
v("xiv.ui.ViewBoxDialogs.ID_PREFIX",ou.ID_PREFIX);v("xiv.ui.ViewBoxDialogs.CSS_SUFFIX",ou.CSS_SUFFIX);v("xiv.ui.ViewBoxDialogs.DIALOG_KEYS",ru);v("xiv.ui.ViewBoxDialogs.TOGGLED_CLASS",su);v("xiv.ui.ViewBoxDialogs.createModalDialog",ou.GO);v("xiv.ui.ViewBoxDialogs.prototype.getDialogs",ou.prototype.uG);v("xiv.ui.ViewBoxDialogs.prototype.getDialog",ou.prototype.tG);v("xiv.ui.ViewBoxDialogs.prototype.createGenericToggleableDialog",ou.prototype.vn);
v("xiv.ui.ViewBoxDialogs.prototype.createMeshesDialog",ou.prototype.EF);v("xiv.ui.ViewBoxDialogs.prototype.createVolumesDialog",ou.prototype.GF);v("xiv.ui.ViewBoxDialogs.prototype.createPostRenderDialogs",ou.prototype.hz);v("xiv.ui.ViewBoxDialogs.prototype.dispsePostRenderDialogs",ou.prototype.IO);v("xiv.ui.ViewBoxDialogs.prototype.setModalDialogOnYes",ou.prototype.pP);v("xiv.ui.ViewBoxDialogs.prototype.showModalDialog",ou.prototype.showModalDialog);
v("xiv.ui.ViewBoxDialogs.prototype.getVisibleDialogElements",ou.prototype.qA);v("xiv.ui.ViewBoxDialogs.prototype.update",ou.prototype.update);v("xiv.ui.ViewBoxDialogs.prototype.toggleVisible",ou.prototype.fp);v("xiv.ui.ViewBoxDialogs.prototype.getHelpDialog",ou.prototype.Aq);v("xiv.ui.ViewBoxDialogs.prototype.disposeInternal",ou.prototype.f);function V(a,b,c,d){$c.call(this);this.R=a;this.ja=b;this.Ta=c;this.K=d;this.od={p:null,c:null};this.hq={x:null,y:null};this.ag={l:!1,m:!1,r:!1};this.xk={up:{},dn:{},ot:{},ov:{}};F(this.K,"M",this.pB.bind(this));a=document.body;this.mb=new Zn;this.mb.xl(a);F(this.mb,"key",this.Sh.bind(this));this.Tk=!1;document.addEventListener("mousemove",this.zw.bind(this),!1)}w(V,$c);v("xiv.ui.ViewBoxInteractorHandler",V);
var xu="Crosshairs_"+B(),yu="Settings_"+B(),zu="TwoDPan_"+B(),Au="TwoDZoom_"+B(),Bu={bd:xu,pN:yu,LN:zu,MN:Au};V.CSS={qg:"xiv-ui-viewboxinteractorhandler-generic-toggle",ex:"xiv-ui-viewboxinteractorhandler-generic-dialog",fx:"xiv-ui-viewboxinteractorhandler-generic-zippytree",HD:"xiv-ui-viewboxinteractorhandler-levelsdialog",JD:"xiv-ui-viewboxinteractorhandler-levelsdialog-hovered"};
V.CURSOR_CSS={JE:"xiv-ui-viewboxinteractorhandler-zoom-follower",gx:"xiv-ui-viewboxinteractorhandler-viewframe-grab",jx:"xiv-ui-viewboxinteractorhandler-viewframe-grab-custom",hx:"xiv-ui-viewboxinteractorhandler-viewframe-grabbing",ix:"xiv-ui-viewboxinteractorhandler-viewframe-grabbing-custom",Ex:"xiv-ui-viewboxinteractorhandler-viewframe-zoom-in",Fx:"xiv-ui-viewboxinteractorhandler-viewframe-zoom-out"};V.ORIENTATION_KEY="Orientation_"+B();f=V.prototype;f.mb=null;f.Vk=null;f.gb=null;f.Ww=!1;
f.Ov=!1;f.fc={};f.gz=function(){this.oz();Cu(this);Du(this);this.kz();this.fz(!1);this.mz();this.nz();this.Ou()};function Eu(a){var b=a.R.xb;C(V.CURSOR_CSS,function(a){Bh(b,a)})}function Fu(a,b,c,d){b=b?N:Bh;b(a.R.xb,c);null!=d&&(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Chrome/i))&&b(a.R.xb,d)}function Gu(a){Fu(a,!0,V.CURSOR_CSS.gx,V.CURSOR_CSS.jx);Fu(a,!1,V.CURSOR_CSS.hx,V.CURSOR_CSS.ix)}function Hu(a){Fu(a,!1,V.CURSOR_CSS.Fx);Fu(a,!0,V.CURSOR_CSS.Ex)}
f.zw=function(a){this.hq.x=a.clientX||a.pageX;this.hq.y=a.clientY||a.pageY};
f.MJ=function(a){this.Bl=a.target;this.od.p=this.od.c;this.od.c=[this.hq.x,this.hq.y];if(null!=this.od.p){(new Js(this.od.c[0],this.od.c[1])).add(new Js(this.od.p[0],this.od.p[1]));a=this.od.c[0]-this.od.p[0];var b=this.od.c[1]-this.od.p[1];this.Tk&&(this.uf.style.visibility="hidden");this.Ww?(this.Tk&&this.Tk&&(Q(this.uf),Yh(this.Bl.Di,this.uf),this.uf.style.visibility="visible",this.uf.style.left=this.od.c[0]+20+"px",this.uf.style.top=this.od.c[1]+"px"),Hu(this),this.ag.l&&Iu(this,a,b)):this.Ov&&
(Gu(this),this.ag.l&&(Fu(this,!1,V.CURSOR_CSS.gx,V.CURSOR_CSS.jx),Fu(this,!0,V.CURSOR_CSS.hx,V.CURSOR_CSS.ix),this.Bl.ga.Fr([-1*a,-1*b]),this.rm()))}};f.Bv=function(){Eu(this);this.Bl=null;this.Tk&&(this.uf.style.visibility="hidden")};f.Av=function(a){0==a.button?this.ag.l=!0:1==a.button?this.AL.ag.m=!0:2==a.button&&(this.ag.r=!0)};f.Cv=function(a){0==a.button?this.ag.l=!1:1==a.button?this.AL.ag.m=!1:2==a.button&&(this.ag.r=!1)};
f.Sh=function(a){window.console.log("On key:",a.keyCode,this.fc);if(this.R.Yq())if(-3<=a.keyCode-40&&0>=a.keyCode-40)a=a.keyCode,Ju(this,this.Bl,40==a||37==a?-1:1);else switch(a.keyCode){case 27:a=this.R.su(zu);window.console.log("escape","pan",a,a.getAttribute("checked"));"true"==a.getAttribute("checked").toString()&&this.R.Hc(zu);"true"==this.R.su(Au).getAttribute("checked").toString()&&this.R.Hc(Au);break;case 90:this.R.Hc(Au);break;case 72:case 80:this.R.Hc(zu);break;case 66:case 76:this.R.Hc(this.fc.levels);
break;case 86:this.R.Hc(this.fc.volumes);break;case 77:this.R.Hc(this.fc.meshes);break;case 65:this.R.Hc(this.fc.annotations);break;case 67:this.R.Hc(xu);break;case 83:this.R.Hc(this.fc[yu]);break;case 191:a.shiftKey&&this.R.Hc(qu);break;case 73:this.R.Hc(pu)}};function Iu(a,b,c){Eu(a);var d=function(){Hu(this);this.Bl.Bm()}.bind(a),e=function(){Fu(this,!0,V.CURSOR_CSS.Fx);Fu(this,!1,V.CURSOR_CSS.Ex);this.Bl.Cm()}.bind(a);Math.abs(b)>Math.abs(c)?1<b?d():e():0>c?d():e();Ku(a);a.rm()}f.sx=0;f.tx=0;
f.KC=function(a){this.sx=a.clientX;this.tx=a.clientY;window.console.log("store mouse coords",this.sx,this.tx)};f.Ou=function(){Lu(this,function(a,b){this.xk.ov[b]=F(a.Pa(),"mouseover",this.MJ.bind(this));var c=a.Pa().qc;this.xk.ot[b]=F(c,"mouseleave",this.Bv.bind(this));this.xk.dn[b]=F(c,"mousedown",this.Av.bind(this));this.xk.up[b]=F(c,"mouseup",this.Cv.bind(this))}.bind(this))};function Ju(a,b,c){Lu(a,function(a,b,h){h.la.I(h.la.J()+c)}.bind(a),b.Db())}
function Lu(a,b,c){if(null!=a.ja){var d=a.Ta.mu(),e=function(a,c){null!=d&&null!=d[c]&&b(a,c,d[c],a.Sl())};if(r(c)){var h=a.ja.Cq(c);if(null==h)throw Error("Invalid plane: ",h);e(a.ja.Cq(c),c)}else C(a.ja.pc,function(a,b){e(a,b)}.bind(a))}}f.nz=function(){this.R.ak("LEFT",V.CSS.qg,Au,"2D Zoom",function(a){Eu(this);if(this.Ww=a="true"==a.getAttribute("checked").toString())this.R.Ow(zu),Hu(this)}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-2DZoom.png");this.R.Hc(Au)};
f.mz=function(){this.R.ak("LEFT",V.CSS.qg,zu,"2D Pan",function(a){Eu(this);if(this.Ov=a="true"==a.getAttribute("checked").toString())Gu(this),this.R.Ow(Au)}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-2DPan.png");this.R.Hc(zu)};f.fz=function(a){this.R.ak("LEFT",V.CSS.qg,xu,"Toggle Crosshairs",function(a){this.RC("true"==a.getAttribute("checked"))}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Crosshairs.png");!1===a&&this.R.Hc(xu)};
f.kz=function(){this.fc[yu]=yu+"_"+B();this.K.vn(this.fc[yu],V.CSS.ex,V.CSS.qg,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Settings.png","Settings",!1,!1);this.gb[yu]=new Os;this.gb[yu].n();var a=this.gb[yu].a();N(a,V.CSS.fx);this.K.K[this.fc[yu]].a().appendChild(a);this.gb[yu].Il();a=new Ks;a.n();a.ig("Enable 3D Rendering");a.v.pf(!0);this.gb[yu].Ze(a.a(),"3D Rendering");F(a,"p",function(a){this.ja.mC("V",a.checked)}.bind(this));return a};
f.rm=function(){Lu(this,function(a,b,c,d){Mu(this,b,d)}.bind(this))};
function Nu(a){null!=a.ja&&(Lu(a,function(a,c,d,e){var h=d.la,k=d.Ld,l=d.Af;d=d.bd;h[V.ORIENTATION_KEY]=c;k[V.ORIENTATION_KEY]=c;l[V.ORIENTATION_KEY]=c;d[V.ORIENTATION_KEY]=c;Ou(this);Pu(this);Qu(h,e);Mu(this,h[V.ORIENTATION_KEY],e);Ru(this,h);null!=a.Pa()&&(F(a.Pa(),"J",function(){Ku(this)}.bind(this)),F(h,"v",function(a){Qu(a.target,e);Mu(this,a.target[V.ORIENTATION_KEY],e);Ru(this,a.target)}.bind(this)),F(k,"input",function(a){Su(this,a.target,e);this.rm()}.bind(this)),F(l,"input",function(){a.Pa().zC(l.J()/
100);this.rm()}.bind(this)))}.bind(a)),a.ja.jp())}
function Tu(a,b){var c=b.split("_")[0];null!=a.gb[c]&&(a.gb[c].Yc(),C(a.Vk[c],function(a){null!=a&&D(a,function(a){switch(c.toLowerCase()){case "levels":a instanceof Kq||null==a.v.k?a.update():a.v.k();break;case "volumes":var d=b.split("_")[0];a instanceof st?(a.v.checked=a.Ic()[Ir]||!1,null==this.qs&&(this.qs=[]),-1==this.qs.indexOf(a)&&this.qs.push(a)):"Show Label Map"==a.Ab.innerHTML&&(a.Ic()[Rt.HAS_LABEL_MAP_KEY]?a.Ic().labelmap.visible&&!a.v.Jh()&&a.v.pf(!0):(Q(a.a()),a.a().style.visibility=
"hidden",a.a().style.height="0px"),this.gb[d].Yc());a.update();break;case "meshes":a instanceof ut&&a.k();break;case "annotations":a instanceof ut&&(window.console.log("ANNOT",a),a.k())}}.bind(this))}.bind(a)))}f.pB=function(a,b){null==a.uz&&null==b||Tu(this,null!=b?b:a.uz)};
f.Ly=function(){var a,b={},c="DEFAULT_"+B();D(this.Vk.levels.all,function(c){levelMax=hist=null;a=c.Ml;folderStr="";D(a,function(a){folderStr+=a});null!=b[folderStr]||(b[folderStr]={});c instanceof Kq?b[folderStr].Oq=c:c instanceof Bt?b[folderStr].reset=c:-1<c.Ab.innerHTML.indexOf("Window Max")?b[folderStr].OL=c:b[folderStr][oa(c)]=c}.bind(this));C(b,function(a){a.OL.v.I(a.Oq.$z(Kq.LEVEL_CUTOFF));a.Oq.update();C(a,function(b){b!=a.Oq&&b!=a.reset&&(b[c]=-1<b.Ab.innerHTML.indexOf("Window Min")?0:b.v.J())})});
C(b,function(a){F(a.reset,"p",function(){C(a,function(b){b!=a.Oq&&b!=a.reset&&(b.ia.value=b[c],b.v.I(b[c]))})})})};function Qu(a,b){if(null!=b){var c=a[V.ORIENTATION_KEY],d="Y"==c||"Z"==c?a.ha()-a.J()-1:a.J()-1;"false"==b.reslicing.toString()&&("transverse"==b[J.ORIENTATION_KEY]&&"Z"==c?d+=2:"coronal"==b[J.ORIENTATION_KEY]&&"Y"==c?d+=2:"sagittal"==b[J.ORIENTATION_KEY]&&"X"==c&&(d+=1));b["index"+a[V.ORIENTATION_KEY]]=d}}
function Uu(a,b,c,d,e){var h=a.ja.Cq(b).Pa();a=a.Ta.Mz().lu(b);b=null;null!=a&&(b=a[dr]);null!=b&&("vertical"==c?b.xC(h.mA(d,e)):"horizontal"==c&&b.yC(h.Vz(d,e)))}function Mu(a,b,c){if(null!=c)switch(b){case "X":b=c.indexX;Uu(a,"Y","vertical",b,!0);Uu(a,"Z","vertical",b,!0);break;case "Y":b=c.indexY;Uu(a,"X","vertical",b,!1);Uu(a,"Z","horizontal",b,!1);break;case "Z":b=c.indexZ,Uu(a,"X","horizontal",b,!1),Uu(a,"Y","horizontal",b,!1)}}
function Ru(a,b){Lu(a,function(a,b,e){a=e.Ld;e=e.la;a.Kc(e.ha());a.Hd(1);a.I(e.J())}.bind(a),b[V.ORIENTATION_KEY])}function Ku(a){Lu(a,function(a,c,d){d.Af&&a.Pa()&&(a=a.Pa().sA(),d.Af.J(),d.Af.I(Math.round(100*a)))}.bind(a))}function Su(a,b,c){null!=c&&Lu(a,function(a,c,h){h.la.I(b.J())}.bind(a),b[V.ORIENTATION_KEY])}function Cu(a){Lu(a,function(a,c,d){null!=d.la&&d.la.I(d.la.ha()/2)}.bind(a))}
function Du(a){Lu(a,function(a,c,d,e){if(null!=e[Rt.SLICE_TO_RAS_KEY]&&null!=d.la){slider=d.la;orientation=slider[V.ORIENTATION_KEY];a=e.bbox;e=e[Rt.SLICE_TO_RAS_KEY];var h;"X"==orientation?(h=a[1]-a[0],h=(e.QK[0]-a[0])/h):"Y"==orientation?(h=a[3]-a[2],h=(e.DF[1]-a[2])/h):"Z"==orientation&&(h=a[5]-a[4],h=(e.tF[2]-a[4])/h);slider.I(Math.round(slider.ha()*h)+1)}}.bind(a))}
function Ou(a){var b,c;Lu(a,function(a,e,h,k){null!=h.la&&(c=h.la,b=c[V.ORIENTATION_KEY],null!=k&&(c.Kc(a.Pa().eA()),c.Hd(1),null!=b&&c.I(k["index"+b]+1)))})}function Pu(a){var b;Lu(a,function(a,d,e,h){null!=e.la&&(b=e.la,playbutton=e.Aj,null!=h&&playbutton.sC(b))})}f.tB=function(){Lu(this,function(a,b,c,d){Su(this,c.Ld,d);Ku(this)}.bind(this));this.rm()};
f.Hw=function(a){var b=!1===a?0:1;Lu(this,function(a,d,e){wk(e.la.a(),200,b);wk(e.Ld.a(),200,b);wk(e.bd.og,200,b);wk(e.bd.Uf,200,b);wk(e.Af.a(),200,b)}.bind(this))};f.kI=function(){this.Hw(!1);this.K.fp(pu,!1)};f.hL=function(){this.Hw(!0);this.K.fp(pu,!0)};f.update=function(){this.Ta.kp()};f.RC=function(a){var b=!0==a?"visible":"hidden";Lu(this,function(a,d,e){null!=e.bd&&(e.bd.og.style.visibility=b,e.bd.Uf.style.visibility=b)}.bind(this))};
f.VC=function(){null!=this.Ta&&null!=this.ja&&Lu(this,function(a,b,c,d){if(null!=c){var e=c.la;c=c.Ld;e[V.ORIENTATION_KEY]=b;c[V.ORIENTATION_KEY]=b;null!=a.Pa()&&(Su(this,c,d),e.k())}}.bind(this))};
f.NC=function(a){a.gC(serverRoot+"/images/viewer/xiv/ui/LayoutMenu/menu.png");C({Sagittal:{jh:ns,ib:serverRoot+"/images/viewer/xiv/ui/Layouts/sagittal.png"},Coronal:{jh:vs,ib:serverRoot+"/images/viewer/xiv/ui/Layouts/coronal.png"},Transverse:{jh:rs,ib:serverRoot+"/images/viewer/xiv/ui/Layouts/transverse.png"},"3D":{jh:ms,ib:serverRoot+"/images/viewer/xiv/ui/Layouts/3d.png"},Conventional:{jh:os,ib:serverRoot+"/images/viewer/xiv/ui/Layouts/conventional.png"},"Four-Up":{jh:ss,ib:serverRoot+"/images/viewer/xiv/ui/Layouts/four-up.png"},
"2D Row":{jh:ts,ib:serverRoot+"/images/viewer/xiv/ui/Layouts/2drow.png"},"2D Widescreen":{jh:ks,ib:serverRoot+"/images/viewer/xiv/ui/Layouts/2dwidescreen.png"}},function(b,c){a.ky(c,b.ib);this.Ta.hy(c,b.jh);"Four-Up"==c&&this.Ta.fC(c)}.bind(this));F(a,"item_selected",this.DJ.bind(this))};f.DJ=function(a){this.Ta.kj(a.title);null!=this.K&&null!=this.K.Aq()&&this.K.Aq().gw(a.target.Yi.src)};function Vu(a,b){F(a.gb[b].ma,"c",function(a){this.pB(a,this.fc[b])}.bind(a))}
function Wu(a,b){F(b,"p",function(a){D(this.qs,function(b){var e=b.Ic();b!==a.target?(b.v.checked=!1,e.visible=!1):(e.visible=!0,this.ja.MB(e))}.bind(this))}.bind(a))}function Xu(a,b){C(a.Vk[b],function(a,d){g(a)&&D(a,function(a){var c=a.Ml||[];"all"!==d&&0<c.length&&c.push(d);this.gb[b].Ze(a.a(),c);a instanceof st&&Wu(this,a)}.bind(this))}.bind(a))}
function Yu(a){a.gb=Pt();a.fc=wb(a.gb);C(a.gb,function(a,c){var d=!1;switch(c){case "volumes":0==this.ja.hu().length&&(d=!0);break;case "meshes":0==this.ja.gu().length&&(d=!0);break;case "annotations":0==this.ja.fu().length&&(d=!0)}d?ub(this.gb,c):(this.gb[c]=new Os,this.gb[c].n(),this.fc[c]=c+"_"+B(),Xu(this,c),Vu(this,c))}.bind(a))}f.oz=function(){this.Vk=this.ja.Ve;Yu(this);Zu(this);Nu(this)};
function Zu(a){C(a.gb,function(a,c){var d=!1;C(this.Vk[c],function(a){null!=a&&g(a)&&0<a.length&&(d=!0)}.bind(this));if(d){this.K.vn(this.fc[c],V.CSS.ex,V.CSS.qg,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-"+db(c)+".png",db(c),!1,!1);var e=this.gb[c].a();N(e,V.CSS.fx);this.K.K[this.fc[c]].a().appendChild(e);1<this.gb[c].ma.tu().length?this.gb[c].rn():(this.gb[c].Il(),this.gb[c].Yc());"levels"==c&&$u(this)}}.bind(a))}
function $u(a){var b=a.K.K[a.fc.levels];N(b.a(),V.CSS.HD);b.hw(V.CSS.JD);a.R.Hc(a.fc.levels);D(a.Vk.levels.all,function(a){if(!(a instanceof Kq||a instanceof Bt)){var b=a.Ab;null!=b&&(b.style.fontSize="9px");a.a().style.height="45px";a.v.a().style.top="28px";a.v.a().style.width="115px";null!=a.v.k&&a.v.k()}}.bind(a));b.rr("right","top",4,50);D(a.gb.levels.ma.tu(),function(a){a.Mw(10)});switch(a.R.Ib.Cl){case "Four-Up":case "Conventional":case "2D Row":case "2D Widescreen":a.R.Hc(a.fc.levels)}}
f.g=function(){V.d.g.call(this);document.removeEventListener("mousemove",this.zw.bind(this));document.removeEventListener("mousemove",this.zw);null!=this.mb&&(this.mb.g(),delete this.mb);null!=this.fc&&tb(this.fc);delete this.fc;null!=this.gb&&(C(this.gb,function(a){a.g()}),tb(this.gb));delete this.gb;tb(this.od);delete this.od;C(this.xk,function(a){C(a,function(a){Vc(a);delete a});tb(a)});tb(this.xk);delete this.xk;this.Tk&&(Q(this.uf),delete this.uf);delete this.Tk;delete this.Vk;delete this.Ww;
delete this.Ov;delete this.R;delete this.ja;delete this.Ta;delete this.K};v("xiv.ui.ViewBoxInteractorHandler.EventType",{cN:"O",IM:"P",PN:"Q",lM:"R"});v("xiv.ui.ViewBoxInteractorHandler.TOGGLEABLE",Bu);v("xiv.ui.ViewBoxInteractorHandler.ORIENTATION_KEY",V.ORIENTATION_KEY);v("xiv.ui.ViewBoxInteractorHandler.DIALOG_SPLIT","_");v("xiv.ui.ViewBoxInteractorHandler.prototype.createInteractors",V.prototype.gz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createTwoDZoomToggle",V.prototype.nz);
v("xiv.ui.ViewBoxInteractorHandler.prototype.createTwoDPanToggle",V.prototype.mz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createCrosshairToggle",V.prototype.fz);v("xiv.ui.ViewBoxInteractorHandler.prototype.createSettingsDialog",V.prototype.kz);v("xiv.ui.ViewBoxInteractorHandler.prototype.syncAllCrosshairs",V.prototype.rm);v("xiv.ui.ViewBoxInteractorHandler.prototype.applyAutoLevel",V.prototype.Ly);v("xiv.ui.ViewBoxInteractorHandler.prototype.onLayoutResize",V.prototype.tB);
v("xiv.ui.ViewBoxInteractorHandler.prototype.toggleInteractorsVisible",V.prototype.Hw);v("xiv.ui.ViewBoxInteractorHandler.prototype.hideInteractors",V.prototype.kI);v("xiv.ui.ViewBoxInteractorHandler.prototype.showInteractors",V.prototype.hL);v("xiv.ui.ViewBoxInteractorHandler.prototype.update",V.prototype.update);v("xiv.ui.ViewBoxInteractorHandler.prototype.toggleCrosshairsVisible",V.prototype.RC);v("xiv.ui.ViewBoxInteractorHandler.prototype.updateInteractorStyles",V.prototype.VC);
v("xiv.ui.ViewBoxInteractorHandler.prototype.syncLayoutMenuToLayoutHandler",V.prototype.NC);v("xiv.ui.ViewBoxInteractorHandler.prototype.createViewableCtrls",V.prototype.oz);v("xiv.ui.ViewBoxInteractorHandler.prototype.dispose",V.prototype.g);function av(){wc.call(this)}w(av,wc);v("xiv.utils.ErrorCatcher",av);
function bv(a){function b(a){a.target.g()}var c;g(a)||(a=[a]);null!=c&&!g(c)&&(c=[c]);var d=new an;Qm(d,Sm);D(a,function(a){d.Sj(a)});null!=c&&D(c,function(a){d.jt(a)});d.me("XImgView Error");d.aa(!0);d.a().style.position="fixed";d.a().style.opacity=0;vk(d.a(),400);d.Eh().style.opacity=0;wk(d.Eh(),400,.75);d.a().style.height="250px";a=T(d.a());d.a().style.top="calc(50% - "+a.height/2+"px)";d.a().style.left="calc(50% - "+a.width/2+"px)";Tc(d,Rm,b);Tc(d,"f",b)}
function cv(){var a,b='<a target="_blank" style="color: #5CB8E6"  href=';$b()?(a="Internet Explorer",b+='"http://msdn.microsoft.com/en-us/library/ie/bg182648(v=vs.85).aspx">'):Xb("Chrome")||Xb("CriOS")?(a="Chrome",b+='"https://productforums.google.com/forum/#!msg/chrome/CgYesRogD4c/sU1TQsRgnWgJ">'):Xb("Firefox")?(a="Firefox",b+='"https://support.mozilla.org/en-US/questions/984663">'):ac()?(a="Safari",b+='"https://discussions.apple.com/thread/3300585?start=0">'):Zb()&&(a="Opera",b+='"http://techdows.com/2012/06/turn-on-hardware-acceleration-and-webgl-in-opera-12.html">');
bv('<br>It looks like <a target="_blank" style="color: #5CB8E6" href="https://developer.mozilla.org/en-US/docs/Web/WebGL/Getting_started_with_WebGL">Experimental-WebGL</a> is disabled.<br><br><br>'+(b+("How to enable WebGL in "+a+".</a>")))}av.checkForWebGL=function(){var a=P("canvas"),b;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(c){b=null}return null!=b?!0:!1};f=av.prototype;f.$y=[];f.Am=null;f.tr=null;f.Lc=null;f.Tt=document.body;f.uv=null;f.lC=function(a){this.uv=a};
f.YB=function(a){this.Tt=a};function dv(a){Jb(a.$y);a.Am=window.console.log;a.tr=function(){a.Am.apply(this,arguments);var b="";D(arguments,function(a,d){0<d&&(b+=" ");b+=a});a.$y.push(b)};window.console.log=a.tr}f.rs=function(a){!0===a?(dv(this),window.onerror=this.tv.bind(this)):(window.onerror=void 0,null!=this.Am&&(window.console.log=this.Am,this.tr=this.Am=null))};
f.tv=function(a,b,c){if(null==this.Lc){null!=this.uv&&this.uv();var d="",e="",d="<b>Render Error!</b><br><br>";r(a)&&(e+=a+"<br>");r(b)&&(e+="src: "+b+"<br>",u(c)&&(e+=" line: "+c+"<br>"));this.Lc=new an;this.Lc.n(this.Tt);Qm(this.Lc,null);this.Lc.Sj(d);this.Lc.jt(e);Jm(this.Lc,!0);this.Lc.aa(!0);this.Lc.a().style.opacity=0;this.Lc.$v();this.Lc.Wd();vk(this.Lc.a(),200);Tc(this.Lc,"f",function(a){a.target.g();this.Lc=null}.bind(this))}};f.clear=function(){null!=this.Lc&&(this.Lc.g(),delete this.Lc)};
f.g=function(){av.d.g.call(this);this.clear();delete this.Am;delete this.tr;delete this.Tt};
v("xiv.utils.ErrorCatcher.isCompatible",function(){var a=!0,b=bc(),c={Chrome:{Xn:Xb("Chrome")||Xb("CriOS"),no:11},IE:{Xn:$b(),no:11},Safari:{Xn:ac(),no:5.1},Opera:{Xn:Zb(),no:12},Firefox:{Xn:Xb("Firefox"),no:4}},d=!1;C(c,function(c){c.Xn&&!d&&1==Za(c.no,b)&&(bv("<br>XImgView is supported on the following browsers:<br>Google Chrome, Version 12+<br>Firefox, Version 4+<br>Safari, Version 5.1+<br>Opera Next, Version 12+<br>Internet Explorer, Version 11+<br>"),a=!1,d=!0)});a&&!av.checkForWebGL()&&(cv(),
a=!1);return a});v("xiv.utils.ErrorCatcher.checkForWebGL",av.checkForWebGL);v("xiv.utils.ErrorCatcher.EventType",{ERROR:"S"});v("xiv.utils.ErrorCatcher.prototype.setOnErrorCallback",av.prototype.lC);v("xiv.utils.ErrorCatcher.prototype.setDialogParent",av.prototype.YB);v("xiv.utils.ErrorCatcher.prototype.waitForError",av.prototype.rs);v("xiv.utils.ErrorCatcher.prototype.clear",av.prototype.clear);v("xiv.utils.ErrorCatcher.prototype.onError",av.prototype.tv);
v("xiv.utils.ErrorCatcher.prototype.dispose",av.prototype.g);E&&pc(8);function ev(){U.call(this);this.Jk=P("div",{id:ev.ID_PREFIX+"_ProgBarHolder_"+B(),"class":ev.CSS.aE});Yh(this.a(),this.Jk);this.Pg=P("div",{id:ev.ID_PREFIX+"_LabelHolder_"+B(),"class":ev.CSS.GD});Yh(this.a(),this.Pg);this.kh=new wr;this.kh.yb(this.Jk);N(Oh("progress-bar-thumb",this.Jk),ev.CSS.Ds)}w(ev,U);v("xiv.ui.ProgressBarPanel",ev);ev.ID_PREFIX="xiv.ui.ProgressBarPanel";ev.CSS_SUFFIX={Ds:"thumb",aE:"progbarholder",GD:"labelholder"};f=ev.prototype;f.co="";f.nw=!1;
f.ig=function(a){this.co=a;this.Pg.innerHTML=this.co};f.mw=function(a){this.nw=null!=a&&!1===a?!1:!0;this.I(this.kh.J())};f.I=function(a){this.kh.I(a);this.kh.a().childNodes[0].style.background="rgb(100,149,237)";this.Pg.innerHTML=this.co;this.nw&&(0<this.co.length&&(this.Pg.innerHTML+=" "),this.Pg.innerHTML+=this.kh.J().toString()+"%");Bh(this.Jk,"progress-bar-horizontal")};f.J=function(){return this.kh.J()};
f.f=function(){ev.d.f.call(this);null!=this.kh&&(this.kh.g(),delete this.kh);null!=this.Jk&&(Q(this.Jk),delete this.Jk);null!=this.Pg&&(Q(this.Pg),delete this.Pg);this.co=this.nw=null};v("xiv.ui.ProgressBarPanel.EventType",{});v("xiv.ui.ProgressBarPanel.ID_PREFIX",ev.ID_PREFIX);v("xiv.ui.ProgressBarPanel.CSS_SUFFIX",ev.CSS_SUFFIX);v("xiv.ui.ProgressBarPanel.prototype.setLabel",ev.prototype.ig);v("xiv.ui.ProgressBarPanel.prototype.showValue",ev.prototype.mw);
v("xiv.ui.ProgressBarPanel.prototype.setValue",ev.prototype.I);v("xiv.ui.ProgressBarPanel.prototype.getValue",ev.prototype.J);v("xiv.ui.ProgressBarPanel.prototype.disposeInternal",ev.prototype.f);function fv(){U.call(this)}w(fv,Os);v("nrg.ui.ThumbnailGallery",fv);fv.ID_PREFIX="nrg.ui.ThumbnailGallery";fv.CSS_SUFFIX={vD:"dialog",Es:"thumbnail",Gs:"thumbnail-image",GN:"thumbnail-text"};var gv=B();f=fv.prototype;f.es=!1;f.rw=function(a){this.es=a;null!=this.ma&&this.es&&this.ma.bw(hv)};f.n=function(a){fv.d.n.call(this,a);iv(this);this.es&&this.ma.bw(hv)};
function hv(a,b){if(null!=a.childNodes&&0!=a.childNodes.length)for(var c=ai(a),d=b[gv].toLowerCase(),e,h,k=c.length,l=0;l<k;l++)if(h=c[l],null!=h[gv]&&(e=h[gv].toLowerCase(),e=La(d,e),0>e)){$h(b,h);return}a.appendChild(b)}f.xn=function(a,b){var c=new Ls;Dh(c.a(),zh(c.a()),this.rj);Dh(c.Pe,zh(c.Pe),this.Qk);Dh(c.Ya,zh(c.Ya),this.Pk);c.ew(a);c.Po(b);return c};f.loop=function(a){C(this.Rb,function(b){a(b)})};f.dw=function(a){this.loop(function(b){Yh(a,b.ff())})};
f.wl=function(a,b){qb(this.Rb,a)||(this.Rb=this.Rb?this.Rb:{},this.Rb[a.a().getAttribute("id")]=a,this.Ra.ln(a.ff()),F(this.Ra,"w",this.zJ.bind(this)),a.a()[gv]=a.qu().toLowerCase(),this.Ze(a.a(),b),this.Yc(),F(a,"B",function(a){this.dispatchEvent({type:"B",Dj:a.target})}.bind(this)),F(a,"C",function(a){this.dispatchEvent({type:"C",Dj:a.target})}.bind(this)))};f.Ei=function(a,b,c){a=this.xn(a,b);this.wl(a,c);jv(this,"image");jv(this,"text");jv(this,"thumbnail");this.Yc();return a};
f.So=function(){fv.d.So.call(this);F(this.gg,"mouseover",this.KC.bind(this))};f.KC=function(a){this.fv=a.clientX;this.gv=a.clientY};function kv(a){C(a.Rb,function(a){a.uo()});a.Yo=null}f.zJ=function(){var a=document.elementFromPoint(this.fv,this.gv);(a=qi(a,null,Ls.zc))?(a=a.id.replace("HOVERABLE_",""),this.Yo!==a&&(kv(this),this.Yo=a,this.Rb[this.Yo].zr()),this.Rb[this.Yo].Yv()):kv(this)};
function jv(a,b){var c,d=[],e="";for(e in a.Rb){switch(b){case "thumbnail":d=a.rj;c=a.Rb[e].a();break;case "image":d=a.Pk;c=a.Rb[e].Ya;break;case "text":d=a.Qk,c=a.Rb[e].Pe}Dh(c,zh(c),d)}}f.ny=function(a){null!=this.rj||iv(this);this.rj.push(a);jv(this,"thumbnail")};f.qy=function(a){this.Pk.push(a);jv(this,"image")};f.ry=function(a){this.Qk.push(a);jv(this,"text")};f.k=function(a){a&&qk(this.a(),a)};
function iv(a){var b=new Ls;a.rj=zh(b.a());a.rj.push(fv.CSS.Es);a.Pk=zh(b.Ya);a.Pk.push(fv.CSS.Gs);a.Qk=zh(b.Pe);a.Qk.push(fv.CSS.yx);Q(b.a());delete b}f.f=function(){fv.d.f.call(this);delete this.es;null!=this.fv&&delete this.fv;null!=this.gv&&delete this.gv;null!=this.Rb&&(this.zn(this.Rb),delete this.Rb);null!=this.ma&&(H(this.ma),this.ma.g(),delete this.ma);null!=this.rj&&(Jb(this.rj),delete this.rj);null!=this.Pk&&(Jb(this.Pk),delete this.Pk);null!=this.Qk&&(Jb(this.Qk),delete this.Qk);delete this.Yo};
v("nrg.ui.ThumbnailGallery.ID_PREFIX",fv.ID_PREFIX);v("nrg.ui.ThumbnailGallery.CSS_SUFFIX",fv.CSS_SUFFIX);v("nrg.ui.ThumbnailGallery.THUMB_SORT_TAG",gv);v("nrg.ui.ThumbnailGallery.thumbnailSorter",hv);v("nrg.ui.ThumbnailGallery.prototype.sortThumbnailsOnInsert",fv.prototype.rw);v("nrg.ui.ThumbnailGallery.prototype.render",fv.prototype.n);v("nrg.ui.ThumbnailGallery.prototype.createThumbnail",fv.prototype.xn);v("nrg.ui.ThumbnailGallery.prototype.loop",fv.prototype.loop);
v("nrg.ui.ThumbnailGallery.prototype.setHoverParent",fv.prototype.dw);v("nrg.ui.ThumbnailGallery.prototype.addThumbnail",fv.prototype.wl);v("nrg.ui.ThumbnailGallery.prototype.createAndAddThumbnail",fv.prototype.Ei);v("nrg.ui.ThumbnailGallery.prototype.setZippyTreeEvents",fv.prototype.So);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailClass",fv.prototype.ny);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailImageClass",fv.prototype.qy);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailTextClass",fv.prototype.ry);
v("nrg.ui.ThumbnailGallery.prototype.updateStyle",fv.prototype.k);v("nrg.ui.ThumbnailGallery.prototype.disposeInternal",fv.prototype.f);function lv(){U.call(this)}w(lv,U);v("xiv.ui.ViewableGroupMenu",lv);lv.ID_PREFIX="xiv.ui.ViewableGroupMenu";lv.CSS_SUFFIX={pp:"header",Es:"thumbnail",yx:"thumbnail-text",Gs:"thumbnail-image",rE:"thumbnailgallery",op:"background"};f=lv.prototype;f.T=null;f.Sc=null;f.Tl=null;
f.n=function(a){lv.d.n.call(this,a);this.Sc=P("div",{id:this.constructor.ID_PREFIX+"_Background_"+B()});N(this.Sc,this.constructor.CSS.op);null!=this.a().parentNode?Yh(this.a().parentNode,this.Sc):Yh(this.a(),this.Sc);this.Tl=P("div",{id:this.constructor.ID_PREFIX+"_HeaderText_"+B(),"class":lv.CSS.pp});this.Tl.innerHTML="<b> Select View <b>";Yh(this.a(),this.Tl);null!=this.T||this.reset()};f.vq=function(){return this.Sc};f.show=function(){vk(this.a(),dm.UL)};
f.Ei=function(a,b){null!=this.T||this.reset();var c=this.T.Ei(a,b);mv(this,c);return c};f.Vl=function(){yk(this.a(),500);Q(this.a())};f.reset=function(){null!=this.T&&(this.T.g(),delete this.T);this.T=new fv;this.T.rw(!0);this.T.n(this.a());N(this.T.a(),lv.CSS.rE);this.T.ny(lv.CSS.Es);this.T.qy(lv.CSS.Gs);this.T.ry(lv.CSS.yx)};function mv(a,b){F(b,"D",function(){this.dispatchEvent({type:"T",Ew:b})}.bind(a))}
f.f=function(){lv.d.f.call(this);null!=this.Sc&&(Q(this.Sc),delete this.Sc);null!=this.Tl&&(Q(this.Tl),delete this.Tl);null!=this.T&&(this.T.g(),delete this.T)};v("xiv.ui.ViewableGroupMenu.ID_PREFIX",lv.ID_PREFIX);v("xiv.ui.ViewableGroupMenu.EventType",{cO:"T"});v("xiv.ui.ViewableGroupMenu.CSS_SUFFIX",lv.CSS_SUFFIX);v("xiv.ui.ViewableGroupMenu.prototype.render",lv.prototype.n);v("xiv.ui.ViewableGroupMenu.prototype.getBackground",lv.prototype.vq);v("xiv.ui.ViewableGroupMenu.prototype.show",lv.prototype.show);
v("xiv.ui.ViewableGroupMenu.prototype.createAndAddThumbnail",lv.prototype.Ei);v("xiv.ui.ViewableGroupMenu.prototype.hide",lv.prototype.Vl);v("xiv.ui.ViewableGroupMenu.prototype.reset",lv.prototype.reset);v("xiv.ui.ViewableGroupMenu.prototype.disposeInternal",lv.prototype.f);var nv;function ov(a,b,c,d,e){this.Yj=a;this.Ak=b;this.Hy=c;this.pF=d;this.xo=e}ov.prototype.getName=function(){return this.Ak};function pv(a){return!a.Ak||"[object Object]"==a.Yj}
function qv(a){var b=[a.Yj?rv(a.Yj)+".":"",a.Ak?rv(sv(a.Ak)):"anonymous",rv(a.pF),a.Hy?" [as "+rv(sv(a.Hy))+"]":""];if(a.xo)if(b.push(" at "),Boolean(ba.CLOSURE_INSPECTOR___&&ba.CLOSURE_INSPECTOR___.supportsJSUnit)){var c=a.xo.match(/\d+$/)[0];b.push('<a href="" onclick="CLOSURE_INSPECTOR___.showLine(\'',rv(a.xo),"', '",c,"'); return false\">",rv(a.xo),"</a>")}else b.push(rv(a.xo));return b.join("")}
var tv=/^    at(?: (?:(.*?)\.)?((?:new )?(?:[a-zA-Z_$][\w$]*|<anonymous>))(?: \[as ([a-zA-Z_$][\w$]*)\])?)? (?:\(unknown source\)|\(native\)|\((?:eval at )?((?:http|https|file):\/\/[^\s)]+|javascript:.*)\)|((?:http|https|file):\/\/[^\s)]+|javascript:.*))$/,uv=/^([a-zA-Z_$][\w$]*)?(\(.*\))?@(?::0|((?:http|https|file):\/\/[^\s)]+|javascript:.*))$/,vv=/^(?:(?:([a-zA-Z_$][\w$]*)|<anonymous function(?:\: (?:([a-zA-Z_$][\w$]*(?:\.[a-zA-Z_$][\w$]*)*)\.)?([a-zA-Z_$][\w$]*))?>)(\(.*\)))?@((?:http|https|file):\/\/[^\s)]+|javascript:.*)?$/,
wv=/^function ([a-zA-Z_$][\w$]*)/,xv=/^   at ([a-zA-Z_$][\w$]*(?:\s+\w+)*)\s*\((eval code:[^)]*|((?:http|https|file):\/\/[^\s)]+|javascript:.*))\)?$/;
function yv(){for(var a=[],b=arguments.callee.caller,c=0;b&&20>c;){var d=Function.prototype.toString.call(b).match(wv),d=d?d[1]:"",e=["("];if(b.arguments)for(var h=0;h<b.arguments.length;h++){var k=b.arguments[h];0<h&&e.push(", ");r(k)?e.push('"',k,'"'):k&&k.$replay?e.push("goog.testing.Mock"):e.push(String(k))}else e.push("unknown");e.push(")");a.push(new ov("",d,"",e.join(""),""));try{b=b.caller}catch(l){break}c++}return a}
function zv(a){var b=a.match(tv);if(b)return new ov(b[1]||"",b[2]||"",b[3]||"","",b[4]||b[5]||"");if(5E5<a.length){var b=a.indexOf("("),c=a.lastIndexOf("@"),d=a.lastIndexOf(":"),e="";0<=b&&b<c&&(e=a.substring(0,b));var h="";0<=c&&c+1<d&&(h=a.substring(c+1));d="";0<=b&&0<c&&b<c&&(d=a.substring(b,c));return new ov("",e,"",d,h)}return(b=a.match(uv))?new ov("",b[1]||"","",b[2]||"",b[3]||""):(b=a.match(vv))?new ov(b[2]||"",b[1]||b[3]||"","",b[4]||"",b[5]||""):(b=a.match(xv))?new ov("",b[1]||"","","",b[2]||
""):null}function sv(a){return nv?nv(a):a}function rv(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Av(){var a=Error();if(a.stack)return a.stack;try{null.x()}catch(b){return b.stack}return""}v("setDeobfuscateFunctionName",function(a){nv=a});function Bv(a,b){return a==b}function Cv(a,b){return a.toString()===b.toString()}var Dv={String:Bv,Number:Bv,Boolean:Bv,Date:function(a,b){return a.getTime()==b.getTime()},RegExp:Cv,Function:Cv};function Ev(a,b,c){return Math.abs(a-b)<=c}var Fv={Number:Ev};
function Gv(a){var b=typeof a;try{switch(b){case "object":if(null==a){b="null";break}case "function":switch(a.constructor){case (new String("")).constructor:b="String";break;case (new Boolean(!0)).constructor:b="Boolean";break;case (new Number(0)).constructor:b="Number";break;case [].constructor:b="Array";break;case RegExp().constructor:b="RegExp";break;case (new Date).constructor:b="Date";break;case Function:b="Function";break;default:var c=a.constructor.toString().match(/function\s*([^( ]+)\(/);
c&&(b=c[1])}break}}catch(d){}finally{b=b.substr(0,1).toUpperCase()+b.substr(1)}return b}function Hv(a){var b;try{b="<"+String(a)+">"}catch(c){b="<toString failed: "+c.message+">"}null!==a&&void 0!==a&&(b+=" ("+Gv(a)+")");return b}function Iv(a,b){return b.length==a+1?b[0]:null}function Jv(a,b,c){return c.length==b+1?c[a]:c[a-1]}function Kv(a,b){b.length==a||b.length==a+1&&r(b[0])||Lv(null,"Incorrect arguments passed to assert function")}
function Mv(a,b){var c="Expected "+Hv(a)+" but was "+Hv(b);if("string"==typeof a&&"string"==typeof b){for(var d=Math.min(a.length,b.length),e=0;e<d&&a.charAt(e)==b.charAt(e);)e++;for(var h=0;h<d&&a.charAt(a.length-h-1)==b.charAt(b.length-h-1);)h++;e+h>d&&(h=0);if(2<e||2<h)d=function(a){var b=Math.max(0,e-2),c=Math.min(a.length,a.length-(h-2));return(0<b?"...":"")+a.substring(b,c)+(c<a.length?"...":"")},c+="\nDifference was at position "+e+". Expected ["+d(a)+"] vs. actual ["+d(b)+"]"}return c}
function Tv(a,b){Kv(1,arguments);var c=Iv(1,arguments),d=Jv(1,1,arguments);ja(d)||Lv(c,"Bad argument to assert(boolean)");d||Lv(c,"Call to assert(boolean) with false")}function Uv(a,b){Kv(1,arguments);var c=Iv(1,arguments),d=Jv(1,1,arguments);ja(d)||Lv(c,"Bad argument to assertTrue(boolean)");d||Lv(c,"Call to assertTrue(boolean) with false")}function Vv(a,b,c){Kv(2,arguments);var d=Jv(1,2,arguments),e=Jv(2,2,arguments),h=Mv(d,e);d===e||Lv(Iv(2,arguments),h)}
function Wv(a,b){Kv(1,arguments);var c="Expected not to be "+Hv(null);null!==Jv(1,1,arguments)||Lv(Iv(1,arguments),c)}function Xv(a,b){Kv(1,arguments);var c="Expected not to be "+Hv(void 0);void 0!==Jv(1,1,arguments)||Lv(Iv(1,arguments),c)}
function Yv(a,b,c){function d(a,b,c){for(var q=0;q<h.length;++q){var t=h[q]===a,s=k[q]===b;if(t||s){t&&s||e.push("Asymmetric cycle detected at "+c);return}}h.push(a);k.push(b);if(a!==b)if(q=Gv(a),t=Gv(b),q==t){var s="Array"==q,y=l(q,a,b);if(null!=y)""!=y&&e.push(c+": "+y);else if(s&&a.length!=b.length)e.push(c+": Expected "+a.length+"-element array but got a "+b.length+"-element array");else if(y=c+(s?"[%s]":c?".%s":"%s"),a.__iterator__)ka(a.Gl)?a.Gl(b)||e.push("equals() returned false for "+(c||
q)):a.wb?d(a.wb,b.wb,y.replace("%s","map_")):e.push("unable to check "+(c||q)+" for equality: it has an iterator we do not know how to handle. please add an equals method");else{for(var z in a)s&&(z|0)==z||(z in b?d(a[z],b[z],y.replace("%s",z)):e.push("property "+z+" not present in actual "+(c||t)));for(z in b)s&&(z|0)==z||z in a||e.push("property "+z+" not present in expected "+(c||q));if(s)for(z=0;z<a.length;z++)d(a[z],b[z],y.replace("%s",String(z)))}}else e.push(c+" "+Mv(a,b));h.pop();k.pop()}
var e=[],h=[],k=[],l=c||function(a,b,c){return(a=Dv[a])?a(b,c)?"":Mv(b,c):null};d(a,b,"");return 0==e.length?null:Mv(a,b)+"\n   "+e.join("\n   ")}function Zv(a,b,c){Kv(2,arguments);var d=Iv(2,arguments)?Iv(2,arguments):"",e=Yv(Jv(1,2,arguments),Jv(2,2,arguments));!e||Lv(d,e)}function $v(a,b,c,d){Kv(3,arguments);var e=Jv(1,3,arguments),h=Jv(2,3,arguments),k=Jv(3,3,arguments);Ev(e,h,k)||Lv(Iv(3,arguments),"Expected "+e+", but got "+h+" which was more than "+k+" away")}
function aw(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b}function bw(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function cw(a){var b=document.createElement("DIV");b.innerHTML=a;return b.innerHTML.replace(/^\s+|\s+$/g,"")}function Lv(a,b){ba.CLOSURE_INSPECTOR___&&ba.CLOSURE_INSPECTOR___.supportsJSUnit&&ba.CLOSURE_INSPECTOR___.jsUnitFailure(a,b);throw new dw(a,b);}
function dw(a,b){this.message=(a?a:"")+(a&&b?"\n":"")+(b?b:"");var c=Av();if(c){if(g(c))for(var d=[],e=0;e<c.length;e++){var h=c[e],k=h.getFunctionName()||"unknown",l=h.getFileName(),h=l?l+":"+h.getLineNumber()+":"+h.getColumnNumber():"unknown";d.push(new ov("",k,"","",h))}else for(c=c.replace(/\s*$/,"").split("\n"),d=[],e=0;e<c.length;e++)d.push(zv(c[e]));c=d}else c=yv();for(d=c.length-1;c[d]&&pv(c[d]);)d--;e=-1;for(k=0;k<c.length;k++)if(c[k]&&"_assert"==c[k].getName()){e=k;break}h=[];for(k=e+1;k<=
d;k++)h.push("> "),c[k]?h.push(qv(c[k])):h.push("(unknown)"),h.push("\n");this.comment=a||null;Error.captureStackTrace?Error.captureStackTrace(this,dw):this.stack=Error().stack||""}w(dw,Error);dw.prototype.toString=function(){return this.message};v("fail",function(a){Lv("Call to fail()",a)});v("assert",Tv);
v("assertThrows",function(a,b){Kv(1,arguments);var c=Jv(1,1,arguments),d=Iv(1,arguments);"function"==typeof c||Lv(d,"Argument passed to assertThrows is not a function");try{c()}catch(e){return e&&r(e.stacktrace)&&r(e.message)&&(c=e.message.length-e.stacktrace.length,e.message.indexOf(e.stacktrace,c)==c&&(e.message=e.message.substr(0,c-14))),e}Lv(d,"No exception thrown from function passed to assertThrows")});
v("assertNotThrows",function(a,b){Kv(1,arguments);var c=Iv(1,arguments),d=Jv(1,1,arguments);"function"==typeof d||Lv(c,"Argument passed to assertNotThrows is not a function");try{return d()}catch(e){c=(c?c+"\n":"")+"A non expected exception was thrown from function passed to assertNotThrows",Lv(c,e.stack||e.stacktrace||e.toString())}});v("assertTrue",Uv);
v("assertFalse",function(a,b){Kv(1,arguments);var c=Iv(1,arguments),d=Jv(1,1,arguments);ja(d)||Lv(c,"Bad argument to assertFalse(boolean)");!d||Lv(c,"Call to assertFalse(boolean) with true")});v("assertEquals",Vv);v("assertNotEquals",function(a,b,c){Kv(2,arguments);var d=Jv(2,2,arguments),e="Expected not to be "+Hv(d);Jv(1,2,arguments)!==d||Lv(Iv(2,arguments),e)});v("assertNull",function(a,b){Kv(1,arguments);var c=Jv(1,1,arguments),d=Mv(null,c);null===c||Lv(Iv(1,arguments),d)});
v("assertNotNull",Wv);v("assertUndefined",function(a,b){Kv(1,arguments);var c=Jv(1,1,arguments),d=Mv(void 0,c);void 0===c||Lv(Iv(1,arguments),d)});v("assertNotUndefined",Xv);v("assertNotNullNorUndefined",function(a,b){Kv(1,arguments);Wv.apply(null,arguments);Xv.apply(null,arguments)});v("assertNonEmptyString",function(a,b){Kv(1,arguments);var c=Jv(1,1,arguments),d="Expected non-empty string but was "+Hv(c);void 0!==c&&null!==c&&"string"==typeof c&&""!==c||Lv(Iv(1,arguments),d)});
v("assertNaN",function(a,b){Kv(1,arguments);isNaN(Jv(1,1,arguments))||Lv(Iv(1,arguments),"Expected NaN")});v("assertNotNaN",function(a,b){Kv(1,arguments);!isNaN(Jv(1,1,arguments))||Lv(Iv(1,arguments),"Expected not NaN")});v("assertObjectEquals",Zv);
v("assertObjectRoughlyEquals",function(a,b,c,d){Kv(3,arguments);var e=Jv(3,3,arguments),h=Iv(3,arguments)?Iv(3,arguments):"",k=Yv(Jv(1,3,arguments),Jv(2,3,arguments),function(a,b,c){return(a=Fv[a])?a(b,c,e)?"":Mv(b,c)+" which was more than "+e+" away":null});!k||Lv(h,k)});v("assertObjectNotEquals",function(a,b,c){Kv(2,arguments);var d=Iv(2,arguments)?Iv(2,arguments):"";Yv(Jv(1,2,arguments),Jv(2,2,arguments))||Lv(d,"Objects should not be equal")});
v("assertArrayEquals",function(a,b,c){Kv(2,arguments);var d=Jv(1,2,arguments),e=Jv(2,2,arguments),h=Iv(2,arguments)?Iv(2,arguments):"",k=Gv(d);"Array"==k||Lv(h,"Expected an array for assertArrayEquals but found a "+k);k=Gv(e);"Array"==k||Lv(h,"Expected an array for assertArrayEquals but found a "+k);Zv(h,Array.prototype.concat.call(d),Array.prototype.concat.call(e))});
v("assertElementsEquals",function(a,b,c){Kv(2,arguments);var d=Jv(1,2,arguments),e=Jv(2,2,arguments),h=Iv(2,arguments)?Iv(2,arguments):"";if(d){Vv("length mismatch: "+h,d.length,e.length);for(var k=0;k<d.length;++k)Vv("mismatch at index "+k+": "+h,d[k],e[k])}else Tv(h,!e)});
v("assertElementsRoughlyEqual",function(a,b,c,d){Kv(3,arguments);var e=Jv(1,3,arguments),h=Jv(2,3,arguments),k=Jv(3,3,arguments),l=Iv(3,arguments)?Iv(3,arguments):"";if(e){Vv("length mismatch: "+l,e.length,h.length);for(var n=0;n<e.length;++n)$v(l,e[n],h[n],k)}else Tv(l,!h)});
v("assertSameElements",function(a,b,c){Kv(2,arguments);var d=Jv(1,2,arguments),e=Jv(2,2,arguments),h=Iv(2,arguments);Uv("Bad arguments to assertSameElements(opt_message, expected: ArrayLike, actual: ArrayLike)",ia(d)&&ia(e));d=aw(d);e=aw(e);d.length==e.length||Lv(h,"Expected "+d.length+" elements: ["+d+"], got "+e.length+" elements: ["+e+"]");for(var k=aw(d),l=0;l<e.length;l++){var n=bw(k,e[l]);-1!=n||Lv(h,"Expected ["+d+"], got ["+e+"]");k.splice(n,1)}});
v("assertEvaluatesToTrue",function(a,b){Kv(1,arguments);Jv(1,1,arguments)||Lv(Iv(1,arguments),"Expected to evaluate to true")});v("assertEvaluatesToFalse",function(a,b){Kv(1,arguments);Jv(1,1,arguments)&&Lv(Iv(1,arguments),"Expected to evaluate to false")});v("assertHTMLEquals",function(a,b,c){Kv(2,arguments);var d=Jv(2,2,arguments),e=cw(Jv(1,2,arguments)),d=cw(d),h=Mv(e,d);e===d||Lv(Iv(2,arguments),h)});
v("assertHashEquals",function(a,b,c){Kv(2,arguments);var d=Jv(1,2,arguments),e=Jv(2,2,arguments),h=Iv(2,arguments),k;for(k in d)k in e||Lv(h,"Expected hash had key "+k+" that was not found"),d[k]==e[k]||Lv(h,"Value for key "+k+" mismatch - expected = "+d[k]+", actual = "+e[k]);for(k in e)k in d||Lv(h,"Actual hash had key "+k+" that was not expected")});v("assertRoughlyEquals",$v);
v("assertContains",function(a,b,c){Kv(2,arguments);var d=Jv(1,2,arguments),e=Jv(2,2,arguments);-1!=bw(e,d)||Lv(Iv(2,arguments),"Expected '"+e+"' to contain '"+d+"'")});v("assertNotContains",function(a,b,c){Kv(2,arguments);var d=Jv(1,2,arguments),e=Jv(2,2,arguments);-1==bw(e,d)||Lv(Iv(2,arguments),"Expected '"+e+"' not to contain '"+d+"'")});
v("assertRegExp",function(a,b,c){Kv(2,arguments);var d=Jv(1,2,arguments),e=Jv(2,2,arguments);"string"==typeof d&&(d=new RegExp(d));d.test(e)||Lv(Iv(2,arguments),"Expected '"+e+"' to match RegExp "+d.toString())});function ew(){U.call(this);this.qb=[];this.yp={};this.Fb={KN:null,Gm:null,rg:null,kD:null,VL:null,lD:null,iE:null,sE:null};this.Fb.Gm=P("div",{id:ew.ID_PREFIX+"_menu_top_left_"+B(),"class":ew.CSS.VD,viewbox:this.a().id});Yh(this.a(),this.Fb.Gm);this.xb=P("div",{id:ew.ID_PREFIX+"_ViewFrame_"+B(),"class":ew.CSS.CE});Yh(this.a(),this.xb);this.Qb=new ev;Yh(this.xb,this.Qb.a());this.Qb.a().style.opacity=0;fw(this.Qb);this.k();this.Ou()}w(ew,U);v("xiv.ui.ViewBox",ew);ew.ID_PREFIX="xiv.ui.ViewBox";
ew.CSS_SUFFIX={tM:"hidden",zN:"tabdragger",AN:"tabdragger-handle",EE:"viewlayoutmenu",VD:"menu-top-left",UD:"menu-left",DE:"viewlayouthandler",BN:"ziptabs",CN:"ziptab-bounds",CE:"viewframe",ax:"component-highlight",yE:"viewablegroupmenu",nM:"emptymenubutton"};var gw={Scans:"Four-Up",Slicer:"Conventional","Slicer Scenes":"Conventional"};f=ew.prototype;f.MI="empty";f.Kd=null;f.Ta=null;f.Ib=null;f.ja=null;f.Qb=null;f.td=null;f.K=null;f.hh=null;f.we=null;f.DA=!1;f.vs=!1;f.wm=null;f.Ik=null;f.xm=null;
f.bm=!1;f.fs=!1;f.EI=function(){return this.bm};f.Pa=function(){return this.ja};f.ZG=function(){return this.Fb};f.TG=function(){return this.MI};f.RH=function(){return this.qb};f.NH=function(){return this.xb};f.RG=function(){return this.Ta};f.SG=function(){return this.Ib};f.PH=function(){return this.td};f.Yl=function(){N(this.xb,ew.CSS.ax)};f.zm=function(){Bh(this.xb,ew.CSS.ax)};f.EH=function(){return this.qj};f.Gu=function(){return null!=this.qj};f.Ct=function(){this.qj=void 0};
f.RF=function(a){this.Xt=this.Xt?this.Xt:[];this.Xt.push(a)};f.kj=function(a){this.Ib.No(a)};f.TJ=function(){this.Qb.I(0);this.Qb.mw(!0);hw(this,this.Qb,0);this.Yl()};function iw(a,b){a.Qb.ig("");a.Qb.mw(!0);a.Qb.I(100*b)}
f.Dv=function(a){if(this.vs)iw(this,.5*a.value+.5);else if(1<this.xm){var b=1/this.xm;if(.96<a.value&&this.Ik!=a.value&&.96>this.Ik&&this.Ik<a.value)this.wm++,iw(this,b*this.wm);else{this.Ik=a.value;var b=1/this.xm,c=b*this.wm+a.value*b;this.Ik<a.value&&iw(this,c+a.value*b)}}else iw(this,a.value)};
f.Ar=function(){this.hh.rs(!1);D(Nh("xtk-progress-bar"),function(a){a.visibility="hidden"});this.bm=this.vs=!1;this.K.hz();this.K.Aq().gw(this.Ib.Yi.src);this.we.gz();this.we.Ly();"demo"!=dm.MODE&&(ha(this.ja.Ql()[J.ORIENTATION_KEY])?this.kj(db(this.ja.Ql()[J.ORIENTATION_KEY])):null!=this.qb[0].Db()&&this.kj(this.qb[0].Db()));var a=[this.Fb.rg,this.Ib.a(),this.Ta.a()],a=Mb(a,this.K.qA(),xs(this.Ta)),b=[this.Qb.a()],c=[],d=[],e=[],h=[];D(a,function(){c.push(0);d.push(1)});D(b,function(){e.push(1);
h.push(0)});Nk(Mb(a,b),Mb(c,e),Mb(d,h),400,null,null,function(){this.Qb.I(0);fw(this.Qb,0);this.dispatchEvent("V");this.zm();this.fs=!1;this.k();this.yr()}.bind(this))};f.yv=function(a){C(this.ja.pc,function(b,c){null!=a.Kw[c]&&(b.Mk(a.Kw[c]),b.k())})};f.yr=function(){this.ja&&this.ja.k();null!=this.we&&this.we.update();null!=this.ja&&this.we.tB()};
function jw(a,b){a.td.reset();tb(a.yp);Ib(a.qb,b)||a.qb.push(b);1==a.qb.length&&a.kj(gw[b.Lf]);var c=b.Nc,d=null;1<c.length?(D(c,function(a,b){d=this.td.Ei(a.tm,a.Dd()||b);this.yp[oa(d)]=a}.bind(a)),fw(a.Qb,0),hw(a,a.td,400)):a.load(c[0],!1)}f.IG=function(){return 300};function kw(a,b){wu("Scans with frame counts greater than 300 may crash the Viewer.&nbspProceed anyway?",a.xb,b)}function lw(a,b){wu("ViewBox in use.&nbspProceed anyway?",a.xb,b)}
function mw(a,b,c){var d=function(){this.load(b,c)}.bind(a),e=b.Nc[0];if(null!=e.pA){var h=300<e.ud[0].Rf().length;if("scans"==e.Lf.toLowerCase()&&h&&!a.fs)return kw(a,function(){this.fs=!0;d()}.bind(a)),!1}return a.Gu()?(lw(a,function(){this.Ct();d()}.bind(a)),!1):!0}
f.load=function(a,b){fw(this.Qb,0);null!=this.hh?(this.hh.clear(),this.hh.rs(!1)):(this.hh=new av,this.hh.YB(this.xb),this.hh.lC(this.Br.bind(this)));this.dispatchEvent("U");if(!(a instanceof Tl)||mw(this,a,b))if(this.bm=!0,null!=a){if(null!=b?b:1)nw(this),ow(this),this.K=new ou(this),this.Ta=new ws,this.Ta.a().style.opacity=0,Yh(this.xb,this.Ta.a()),N(this.Ta.a(),ew.CSS.DE),F(this.Ta,"A",this.yr.bind(this)),F(this.Ta,"x",this.yv.bind(this)),F(this.Ta,"z",this.zv.bind(this)),F(this.Ta,"y",this.xv.bind(this)),
this.ja=new Rt,pw(this),this.we=new V(this,this.ja,this.Ta,this.K),this.we.NC(this.Ib),this.DA=!0;fw(this.td,400);hw(this,this.Qb,0);if(a instanceof Tl)jw(this,a);else{var c;C(this.ja.pc,function(a,b){(c=this.Ta.Nz(b))&&a.ra(c.a())}.bind(this));Tc(this.ja,"r",this.TJ.bind(this));Tc(this.ja,"t",this.Ar.bind(this));F(this.ja,"s",this.Dv.bind(this));this.wm=null;"scans"==a.Lf.toLowerCase()?qw(this,a):(this.Yl(),rw(this,a),sw(this,a))}}else this.Br("The data set is empty!")};
function rw(a,b){a.wm=0;a.Ik=0;a.xm=b.ud.length+8;D(b.ud,function(a){null!=a.Od.labelMapFile&&this.xm++}.bind(a))}
function qw(a,b){hw(a,a.Qb,0);iw(a,0);a.vs=!0;var c=a.qb[a.qb.length-1].lA(),d=b.ud[0].Rf()[0],e="";null!=d?(-1!=d.toLowerCase().indexOf("xiv/sample-data/scans/")?(d=d.split("xiv/sample-data/scans/"),e=d[0]+"xiv/sample-data/scans/"+(d[1].split("/")[0]+".zip")):e=d.split("/files/")[0]+"/files",window.console.log("XImgView Zip Downloading (XHR): "+e),yl(e,function(a){window.console.log("Downloaded: "+e+"!");b.ud[0].ZB(a,function(){sw(this,b)}.bind(this))}.bind(a),function(a){this.Yl();0<a.totalSize?
iw(this,a.loaded/a.totalSize*.5):0<c&&iw(this,a.loaded/c*.5)}.bind(a))):a.hh.tv("No readable files in the data set!")}function sw(a,b){window.console.log("\n\nTurning the error catcher off!\n\n");a.hh.rs(!1);a.ja.n(b);a.qj=(new Date).getTime()}f.Br=function(){this.bm=!1;this.zm();fw(this.Qb);nw(this);this.Ct();this.dispatchEvent({type:"W"})};f.zv=function(){C(this.ja.pc,function(a){a.k()});this.we.update()};
f.xv=function(a){var b=a.frames;C(this.ja.pc,function(a,d){null!=b[d]&&(a.Mk(b[d].a()),a.k())}.bind(this));this.we.update()};function fw(a,b){if(null!=a){b=u(b)&&0<=b?b:0;var c=function(){a.a().style.visibility="hidden";Q(a.a());null!=a.vq&&Q(a.Sc)};"hidden"==a.a().style.visibility||0==b?c():(yk(a.a(),b,c),null!=a.vq&&yk(a.Sc,b,c))}}
function hw(a,b,c){c=u(c)&&0<=c?c:0;b.a().style.opacity="0";b.a().style.visibility="visible";Yh(a.xb,b.a());0==c?b.a().style.opacity="1":(vk(b.a(),c,function(){}),null!=b.vq&&(Yh(a.xb,b.Sc),vk(b.Sc,c,function(){})))}f.ks="Info. Display;Help;Settings;Levels;2D Pan;2D Zoom;Toggle Crosshairs;Volumes;Annotations;Meshes".split(";");
function tw(a,b,c,d){var e=ai(b),h=[],k;D(a.ks,function(){h.push(null)});h[d]=c;D(e,function(a){k=this.ks.indexOf(a.title);h[k]=a}.bind(a));Zh(b);D(h,function(a){null!=a&&b.appendChild(a)})}
f.Tj=function(a,b,c){b.style.position="relative";b.style.display="block";b.style.marginLeft="auto";b.style.marginRight="auto";b.style.marginTop="6px";b.style.marginBottom="6px";var d;switch(a){case "TOP_LEFT":d=this.Fb.Gm;break;case "LEFT":d=this.Fb.rg;break;case "BOTTOM_LEFT":d=this.Fb.kD;break;case "TOP_RIGHT":d=this.Fb.sE;break;case "RIGHT":d=this.Fb.iE;break;case "BOTTOM_RIGHT":d=this.Fb.lD}u(c)?d.insertBefore(b,d.childNodes[c]):(a=this.ks.indexOf(b.title),0<a?tw(this,d,b,a):Yh(d,b));uw(this)};
f.jm=function(a,b){a.setAttribute("checked","true"==a.getAttribute("checked")?"false":"true");"true"==a.getAttribute("checked")?N(a,a.getAttribute(su)):Bh(a,a.getAttribute(su));null!=b&&b(a)};f.QC=function(a){return"true"==this.Kd[a].getAttribute("checked").toString()};f.su=function(a){return this.Kd[a]};f.Hc=function(a){Mn(this.Kd[a])};f.Ow=function(a){g(a)||(a=[a]);D(a,function(a){null!=this.Kd[a]&&this.QC(a)&&Mn(this.Kd[a])}.bind(this))};
f.ak=function(a,b,c,d,e,h){var k=b+"-on",l=P("img",b);l.id=kj(this)+".IconButton_";l.title=d;null!=h&&(l.src=h);l.setAttribute("checked","true");l.setAttribute(su,b+"-on");N(l,k);qk(l,{cursor:"pointer"});F(l,"click",function(){this.jm(l,e)}.bind(this));this.Tj(a,l);if(null==this.Kd)this.Kd={};else if(null!=this.Kd[c])throw Error("Invalid identifier for toggle button.  In use.");return this.Kd[c]=l};
function ow(a){a.Fb.rg=P("div",{id:ew.ID_PREFIX+"_menu_left_"+B(),"class":ew.CSS.UD,viewbox:a.a().id});a.Fb.rg.style.opacity=0;Yh(a.a(),a.Fb.rg);a.Ib=new hp;a.Ib.XB("Select Layout");N(a.Ib.a(),ew.CSS.EE);a.Ib.bB(!0);a.Ib.a().style.opacity=0;a.Ib.ee.style.opacity=0;var b=a.Ib.a();Ob(a.ks,void 0,0,b.title);a.Tj("LEFT",b);a.xb.appendChild(a.Ib.ee)}
function pw(a){a.td=new lv;a.td.n(a.xb);Yh(a.xb,a.td.a());Yh(a.xb,a.td.Sc);N(a.td.a(),ew.CSS.yE);F(a.td,"T",function(a){this.load(this.yp[oa(a.Ew)],!1)}.bind(a));fw(a.td)}f.GH=function(){return this.Kd};function uw(a){var b,c,d,e;null!=a.Fb.Gm&&(d=a.Fb.Gm,e=T(d),b=0,c=e.height);null!=a.Fb.rg&&(d=a.Fb.rg,e=T(d),a=a.u.height/2-e.height/2,d.style.top=null!=b&&a<c?"calc(100% - "+(e.height+2)+"px)":a+"px")}
f.k=function(a){ew.d.k.call(this,a);null!=this.Ta&&this.Ta.k();this.ja&&this.ja.k();null!=this.Ib&&(a=Di(this.Fb.rg),T(this.Ib.ee),a=a.y-130,this.Ib.cC(0,a),this.Ib.rC(0,a));uw(this);null!=this.K&&this.K.update();null!=this.we&&this.we.VC()};
function nw(a){tb(a.yp);Jb(a.qb);null!=a.Ta&&(H(a.Ta),Bc(a.Ta.g()),delete a.Ta);null!=a.K&&a.K.g();null!=a.Ib&&(H(a.Ib),a.Ib.g(),delete a.Ib);null!=a.ja&&(a.ja.g(),delete a.ja);null!=a.td&&(a.td.g(),delete a.td);null!=a.we&&a.we.g();null!=a.Kd&&(Q(a.Fb.rg),delete a.Fb.rg,C(a.Kd,function(a){H(a);Q(a)}),Jb(a.Kd),delete a.Kd)}f.Lh=!1;f.Yq=function(){return this.Lh};f.Ou=function(){F(this.a(),"mouseenter",function(){this.Lh=!0}.bind(this));F(this.a(),"mouseleave",function(){this.Lh=!1}.bind(this))};
f.f=function(){ew.d.f.call(this);nw(this);null!=this.Qb&&(this.Qb.g(),delete this.Qb);Q(this.xb);H(this.xb);delete this.xb;C(this.Fb,function(a,b){Q(a);delete this.Fb[b]}.bind(this));delete this.Fb;delete this.pO;delete this.DA;delete this.vs;delete this.Lh;delete this.wm;delete this.Ik;delete this.xm;delete this.fs};v("xiv.ui.ViewBox.EventType",{AE:"U",zE:"V",aN:"W"});v("xiv.ui.ViewBox.ID_PREFIX",ew.ID_PREFIX);v("xiv.ui.ViewBox.CSS_SUFFIX",ew.CSS_SUFFIX);v("xiv.ui.ViewBox.defaultLayout",gw);
v("xiv.ui.ViewBox.ControllersSet",function(){});v("xiv.ui.ViewBox.prototype.getRenderer",ew.prototype.Pa);v("xiv.ui.ViewBox.prototype.getMenus",ew.prototype.ZG);v("xiv.ui.ViewBox.prototype.getLoadState",ew.prototype.TG);v("xiv.ui.ViewBox.prototype.getViewableTrees",ew.prototype.RH);v("xiv.ui.ViewBox.prototype.getViewFrame",ew.prototype.NH);v("xiv.ui.ViewBox.prototype.getLayoutHandler",ew.prototype.RG);v("xiv.ui.ViewBox.prototype.getLayoutMenu",ew.prototype.SG);
v("xiv.ui.ViewBox.prototype.getViewableGroupMenu",ew.prototype.PH);v("xiv.ui.ViewBox.prototype.highlight",ew.prototype.Yl);v("xiv.ui.ViewBox.prototype.unhighlight",ew.prototype.zm);v("xiv.ui.ViewBox.prototype.getThumbnailLoadTime",ew.prototype.EH);v("xiv.ui.ViewBox.prototype.clearThumbnailLoadTime",ew.prototype.Ct);v("xiv.ui.ViewBox.prototype.doNotHide",ew.prototype.RF);v("xiv.ui.ViewBox.prototype.setLayout",ew.prototype.kj);v("xiv.ui.ViewBox.prototype.load",ew.prototype.load);
v("xiv.ui.ViewBox.prototype.addToMenu",ew.prototype.Tj);v("xiv.ui.ViewBox.prototype.onToggleButtonClicked",ew.prototype.jm);v("xiv.ui.ViewBox.prototype.toggleButtonChecked",ew.prototype.QC);v("xiv.ui.ViewBox.prototype.getToggleButton",ew.prototype.su);v("xiv.ui.ViewBox.prototype.getHighFrameCountThreshold",ew.prototype.IG);v("xiv.ui.ViewBox.prototype.fireToggleButton",ew.prototype.Hc);v("xiv.ui.ViewBox.prototype.untoggle",ew.prototype.Ow);v("xiv.ui.ViewBox.prototype.createToggleButton",ew.prototype.ak);
v("xiv.ui.ViewBox.prototype.getToggleButtons",ew.prototype.GH);v("xiv.ui.ViewBox.prototype.isMouseOver",ew.prototype.Yq);v("xiv.ui.ViewBox.prototype.isRendering",ew.prototype.EI);v("xiv.ui.ViewBox.prototype.isInUse",ew.prototype.Gu);v("xiv.ui.ViewBox.prototype.showInUseDialog",ew.prototype.rP);v("xiv.ui.ViewBox.prototype.updateStyle",ew.prototype.k);v("xiv.ui.ViewBox.prototype.disposeInternal",ew.prototype.f);function vw(){En.call(this)}w(vw,En);vw.prototype.Rj=function(a,b){var c=new Kn(a,b);c.Ko(this);this.$n.push(c);this.aj&&Fn(this,c)};function ww(){U.call(this)}w(ww,U);v("xiv.ui.ViewBoxHandler",ww);ww.CSS_SUFFIX={yD:"handle",BE:"viewboxdragclone",uj:"closebutton",Zw:"addrowbutton",Yw:"addcolumnbutton"};ww.ID_PREFIX="xiv.ui.ViewBoxHandler";f=ww.prototype;f.As=5;f.qx=5;f.al=document.body;f.dj=function(a,b){this.dispatchEvent({type:"Z",mB:a,kF:b})};f.PK=function(){return this.B.length};f.Hn=function(){var a=[];D(this.B,function(b,c){a.push([]);D(b,function(){a[c].push(null)})});return a};
f.loop=function(a){this.B&&D(this.B,function(b,c){D(b,function(d,e){a(d,c,e,this.B.length,b.length)}.bind(this))}.bind(this))};f.Du=function(a,b){this.B||(this.B=[[]]);var c=0,d=[],e;if(null!=a)c=xw(this,a),this.B[c.Pq].length<this.qx&&(d.push(yw(this)),Ob(this.B[c.Pq],c.GI+1,0,d[0]));else{d=[];e=this.B.length?this.B.length:1;for(c=0;c<e;c++)d.push(yw(this));0===this.B.length?this.B.push([d[0]]):D(this.B,function(a,b){a.push(d[b])})}this.dj(d,void 0===b?!0:b);zw(this)};
f.GK=function(a){this.B&&(a=void 0===a?!0:a,this.B[0]&&1<this.B[0].length&&D(this.B,function(a){var c=a.length-1;Aw(this,a[c]);a.splice(c,1)}.bind(this)),this.dj(null,a),zw(this))};function xw(a,b){for(var c=0,d=0,e=a.B.length,h=0,c=0;c<e;c++)for(d=0,h=a.B[c].length;d<h;d++)if(b===a.B[c][d])return{Pq:c,GI:d}}f.Js=function(){for(var a=0,b=0,c=this.B.length,d=0,a=0;a<c;a++)for(b=0,d=this.B[a].length;b<d;b++)if(this.B[a][b].bm)return!0;return!1};
f.insertRow=function(a,b){this.B||(this.B=[[]]);var c=[],d,e;if(null!=a){var h=xw(this,a),c=[];e=this.B[h.Pq].length;if(this.B.length<this.As){for(d=0;d<e;d++)c.push(yw(this));Ob(this.B,h.Pq+1,0,c)}}else if(e=this.B[0]&&this.B[0].length?this.B[0].length:1,this.B.length<this.As){for(d=0;d<e;d++)c.push(yw(this));this.B.push(c)}this.dj(c,void 0===b?!0:b);zw(this)};
f.IK=function(a){this.B&&(a=void 0===a?!0:a,1<this.B.length&&(D(this.B[this.B.length-1],function(a){Aw(this,a)}.bind(this)),this.B.splice(this.B.length-1,1)),this.dj(null,a),zw(this))};f.Fq=function(a){for(var b=0,c=0,d=this.B.length,e=0,b=0;b<d;b++)for(c=0,e=this.B[b].length;c<e;c++)if(a===this.B[b][c].a())return this.B[b][c]};f.LH=function(a,b){return this.B[a][b].a()};f.JH=function(a,b){return this.B[a][b]};f.oA=function(){var a=[];this.loop(function(b){a.push(b)});return a};
f.nA=function(){var a=[];this.loop(function(b){a.push(b.a())});return a};f.wC=function(a){this.al=a};
function yw(a){var b=new ew;Yh(a.al,b.a());Bw(a,b);var c=P("img",{id:ww.ID_PREFIX+"_dragHandle_"+B(),"class":ww.CSS.yD});c.src=serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/handle.png";c.setAttribute("viewboxid",b.a().id);b.Tj("TOP_LEFT",c,1);a.ek||(a.ek={});a.ek[b.a().id]=c;c.title="Drag / Swap ViewBox";Cw(a,b);Dw(a,b);F(b,"V",a.Iv.bind(a));F(b,"U",a.Jv.bind(a));F(b,"W",a.Br.bind(a));return b}
function Dw(a,b){var c=P("img",{id:ww.ID_PREFIX+"_CloseButton_"+B(),"class":ww.CSS.Yw,src:serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/addcolumn.png"});sk(c,ww.CSS.Yw+"-hovered");F(c,"click",function(){this.Du(b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.Tj("TOP_LEFT",c,1);a.ey||(a.ey={});a.ey[b.a().id]=c;c.title="Add ViewBox Column"}
function Cw(a,b){var c=P("img",{id:ww.ID_PREFIX+"_CloseButton_"+B(),"class":ww.CSS.Zw,src:serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/addrow.png"});sk(c,ww.CSS.Zw+"-hovered");F(c,"click",function(){this.insertRow(b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.Tj("TOP_LEFT",c,1);a.my||(a.my={});a.my[b.a().id]=c;c.title="Add ViewBox Row"}
function Bw(a,b){var c=P("img",{id:ww.ID_PREFIX+"_CloseButton_"+B(),"class":ww.CSS.uj,src:serverRoot+"/images/viewer/xiv/ui/Modal/close.png"});sk(c,ww.CSS.uj+"-hovered");F(c,"click",function(){Ew(this,b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.Tj("TOP_LEFT",c,1);a.qn||(a.qn={});a.qn[b.a().id]=c;c.title="Close ViewBox"}f.Iv=function(a){this.dispatchEvent({type:"Y",FE:a.target})};f.Is=function(a,b){this.loop(function(c){Ib(c.qb,a)&&b(c)})};f.Jv=function(a){this.dispatchEvent({type:"X",FE:a.target})};
f.Br=function(a){this.dispatchEvent(a)};function Aw(a,b){wk(b.a(),150,0);Q(a.ek[b.a().id]);Q(a.qn[b.a().id]);b.g()}function Fw(a,b){var c=[],d;Aw(a,b);D(a.B,function(a){d=[];D(a,function(a){a.dk||d.push(a)}.bind(this));0!=d.length&&c.push(d)}.bind(a));a.B=c;a.dj(null,!0);zw(a)}function Ew(a,b){1!=a.oB()&&(b.Gu()?Fw(a,b):lw(b,function(){Fw(this,b)}.bind(a)))}f.Hu=function(a,b){var c=a.a()===b,d=a.a().id===b;return a===b||c||d};f.oB=function(){var a=0;this.loop(function(){a++});return a};
f.KH=function(a){for(var b=0,c=0,d=this.B.length,e=0,h=e=0,b=0;b<d;b++)for(c=0,e=this.B[b].length;c<e;c++)if(this.B[b][c]===a)return e=b+1===this.B.length,h=c+1===this.B[b].length,e&&h?this.B[0][0]:e&&!h?this.B[0][c+1]:!e&&h?this.B[b+1][0]:this.B[b+1][c+1]};f.Tz=function(){var a;this.loop(function(b){null!=a||null!=b.qj||(a=b)}.bind(this));if(null!=a)return a;var b=this.oA();g(b)?b.sort(function(a,b){return a.qj<b.qj?-1:a.qj>b.qj?1:0}):b=[b];return b[0]};
function Gw(a,b,c){var d=new fk,e=a.ug[b.id],h=a.ug[c.id];b[Hw]=!0;c[Hw]=!0;d.add(new Uj(b,[b.offsetLeft,b.offsetTop],[h.x,h.y],300,tk));d.add(new Uj(c,[c.offsetLeft,c.offsetTop],[e.x,e.y],300,tk));Tc(d,"end",function(){b[Hw]=!1;c[Hw]=!1;Iw(this);for(var a,d,e,h,m=0,q=0,t=this.B.length,s,y;m<t;m++)for(q=this.B[m],s=q.length,q=0;q<s;q++)y=this.B[m][q],this.Hu(y,b)&&(a=m,d=q),this.Hu(y,c)&&(e=m,h=q);u(a)&&u(e)&&(m=this.B[a][d],this.B[a][d]=this.B[e][h],this.B[e][h]=m,m=T(this.B[a][d].a()),t=T(this.B[e][h].a()),
Oi(this.B[e][h].a(),m),Oi(this.B[a][d].a(),t))}.bind(a));d.play()}f.Bt=function(){this.$d&&(Gn(this.$d),Gn(this.Ah),delete this.$d,delete this.Ah)};function Jw(a){a.loop(function(a){null!=a.a()&&(this.$d.Rj(this.ek[a.a().id]),this.Ah.Rj(a.a()))}.bind(a))}function zw(a){a.Bt();a.$d=new vw;a.Ah=new vw;Jw(a);var b=a.$d,c=a.Ah;b.Dw.push(c);c.ar=!0;b.$q=!0;a.$d.ra();a.Ah.ra();a.$d.It=a.Jt.bind(a);F(a.$d,"dragstart",a.uJ.bind(a));F(a.$d,"dragover",a.sv.bind(a));F(a.$d,"dragend",a.rv.bind(a))}f.Jt=function(a){return Kw(Kh(a.getAttribute("viewboxid")))};
f.uJ=function(){null!=this.ug?tb(this.ug):this.ug={};Iw(this)};function Kw(a){var b=document.body;a=a.cloneNode(!1);a.className=ww.CSS.BE;b&&b.appendChild(a);return a}var Hw=B();ww.prototype.sv=function(a){if(a.El.element.id!==a.oq.Fi.getAttribute("viewboxid")){var b=Kh(a.oq.Fi.getAttribute("viewboxid"));a=Kh(a.El.element.id);b[Hw]||a[Hw]||Gw(this,b,a)}};function Iw(a){a.loop(function(a){this.ug[a.a().id]=Di(a.a())}.bind(a))}
ww.prototype.rv=function(a){var b=a.oq.Qa.fk;a=Kh(a.oq.Fi.getAttribute("viewboxid"));a=Li(a);a={left:a.x,top:a.y};var c=Kw(b);Yh(this.al.parentNode?this.al.parentNode:this.al,c);b=nk(b);qk(c,{top:b.top,left:b.left,"z-index":1E4});Lw(c,a).play();Mw(this);this.dj()};function Lw(a,b){var c=new fk;c.add(new Uj(a,[a.offsetLeft,a.offsetTop],[b.left,b.top],150,tk));F(c,"end",function(){Q(a)});return c}function Mw(a){a.loop(function(a){this.ek[a.a().id].style.visibility="visible"}.bind(a))}
ww.prototype.f=function(){ww.d.f.call(this);this.loop(function(a){H(a);Q(a.a());a.g()}.bind(this));D(this.B,function(a){Jb(a)});Jb(this.B);delete this.B;this.nq(this.ek);delete this.ek;this.nq(this.qn);delete this.qn;C(this.ug,function(a,b){tb(this.ug[b]);delete this.ug[b]}.bind(this));tb(this.ug);delete this.ug;null!=this.$d&&(H(this.$d),this.$d.g());delete this.$d;null!=this.Ah&&(H(this.Ah),this.Ah.g());delete this.Ah;delete this.al};v("xiv.ui.ViewBoxHandler.CSS_SUFFIX",ww.CSS_SUFFIX);
v("xiv.ui.ViewBoxHandler.EventType",{AE:"X",zE:"Y",bO:"Z"});v("xiv.ui.ViewBoxHandler.VIEW_BOX_ATTR","viewboxid");v("xiv.ui.ViewBoxHandler.ID_PREFIX",ww.ID_PREFIX);v("xiv.ui.ViewBoxHandler.prototype.MAX_ROWS",ww.prototype.As);v("xiv.ui.ViewBoxHandler.prototype.MAX_COLUMNS",ww.prototype.qx);v("xiv.ui.ViewBoxHandler.prototype.rowCount",ww.prototype.PK);v("xiv.ui.ViewBoxHandler.prototype.getEmptyMatrix",ww.prototype.Hn);v("xiv.ui.ViewBoxHandler.prototype.loop",ww.prototype.loop);
v("xiv.ui.ViewBoxHandler.prototype.insertColumn",ww.prototype.Du);v("xiv.ui.ViewBoxHandler.prototype.removeColumn",ww.prototype.GK);v("xiv.ui.ViewBoxHandler.prototype.insertRow",ww.prototype.insertRow);v("xiv.ui.ViewBoxHandler.prototype.removeRow",ww.prototype.IK);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxByElement",ww.prototype.Fq);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxElement",ww.prototype.LH);v("xiv.ui.ViewBoxHandler.prototype.getViewBox",ww.prototype.JH);
v("xiv.ui.ViewBoxHandler.prototype.getViewBoxes",ww.prototype.oA);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxElements",ww.prototype.nA);v("xiv.ui.ViewBoxHandler.prototype.setViewBoxesParent",ww.prototype.wC);v("xiv.ui.ViewBoxHandler.prototype.ViewBoxFromVisNode",ww.prototype.Is);v("xiv.ui.ViewBoxHandler.prototype.isMatch",ww.prototype.Hu);v("xiv.ui.ViewBoxHandler.prototype.numViewBoxes",ww.prototype.oB);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxAfter",ww.prototype.KH);
v("xiv.ui.ViewBoxHandler.prototype.getFirstEmpty",ww.prototype.Tz);v("xiv.ui.ViewBoxHandler.prototype.ViewBoxesRendering",ww.prototype.Js);v("xiv.ui.ViewBoxHandler.prototype.disposeInternal",ww.prototype.f);function Nw(a){Ls.call(this);this.WB(serverRoot+"/images/viewer/xiv/ui/Thumbnail/silhouette.png",this.Pw.bind(this));this.zf=a;Ow(this);this.wn()}w(Nw,Ls);v("xiv.ui.Thumbnail",Nw);Nw.ID_PREFIX="xiv.ui.Thumbnail";Nw.CSS_SUFFIX={};Nw.prototype.Pw=function(){var a=Lh("img",Ls.CSS.ei,this.ff()),a=a[0];a.src=this.Ya.src};Nw.prototype.wn=function(){Nw.d.wn.call(this);N(this.ff(),Nw.Dm)};
function Ow(a){var b="",c=a.zf.le;if(null!=c["Scan ID"])b+=c["Scan ID"];else if(null!=c.Name)b=c.Name;else if(null!=a.zf.Vh)var d=a.zf.Vh.split("/"),b=b+d[d.length-1].split(".")[0];var e="",e=e+("<b><font size = '3'>"+b+"</font></b><br>");D(["Total Frames","Scan Type","Orientation"],function(a){null!=c[a]&&(e+="<font size = '1.5'>"+a+": "+c[a]+"<br>")}.bind(a));a.Po(e)}Nw.prototype.OH=function(){return this.zf};Nw.prototype.f=function(){Nw.d.f.call(this);this.zf.g();delete this.zf};
v("xiv.ui.Thumbnail.ID_PREFIX",Nw.ID_PREFIX);v("xiv.ui.Thumbnail.CSS_SUFFIX",Nw.CSS_SUFFIX);v("xiv.ui.Thumbnail.prototype.updateHoverable",Nw.prototype.Pw);v("xiv.ui.Thumbnail.prototype.createHoverable",Nw.prototype.wn);v("xiv.ui.Thumbnail.prototype.getViewable",Nw.prototype.OH);v("xiv.ui.Thumbnail.prototype.disposeInternal",Nw.prototype.f);function Pw(){U.call(this);this.tf=new vw;this.lg=new vw;this.tf.It=this.Jt.bind(this);F(this.tf,"dragover",this.sv.bind(this));F(this.tf,"dragend",this.rv.bind(this));F(this.tf,"dragout",this.tJ.bind(this));F(this.lg,"drop",this.vJ.bind(this));var a=this.tf,b=this.lg;a.Dw.push(b);b.ar=!0;a.$q=!0;this.lg.ra();this.tf.ra()}w(Pw,fv);v("xiv.ui.ThumbnailGallery",Pw);Pw.ID_PREFIX="xiv.ui.ThumbnailGallery";Pw.CSS_SUFFIX={Fs:"thumbnail-dragging"};var Qw="THUMBNAIL_DRAGGER_"+B(),Rw=Qw+"_FADER"+B();f=Pw.prototype;
f.tf=null;f.lg=null;f.Ei=function(a,b){var c=this.xn(a);this.wl(c,b);return c};f.xn=function(a){var b=new Nw(a);F(b,"D",function(){this.dispatchEvent({type:"da",Dj:b})}.bind(this));return b};f.wl=function(a,b){Pw.d.wl.call(this,a,b);var c=a.ff();c&&this.tf.Rj(c)};f.Yy=function(){Gn(this.lg)};f.oy=function(a){this.lg.Rj(a)};f.py=function(a){D(a,function(a){this.oy(a)}.bind(this))};f.CH=function(a){return this.Rb[a.id]};
f.Bt=function(){null!=this.tf&&(Gn(this.tf),this.tf.g());null!=this.lg&&(Gn(this.lg),this.lg.g())};f.Jt=function(a){a=qi(a,"div",Nw.zc).id.replace("HOVERABLE_","");if(a in this.Rb)return this.Rb[a].setActive(!0,!0),a=this.Rb[a].a().cloneNode(!0),a.setAttribute("id",Qw+a.id),N(a,Pw.CSS.Fs),a};f.sv=function(a){this.dispatchEvent({type:"ba",Fw:a.El.element})};f.tJ=function(a){this.dispatchEvent({type:"ca",Fw:a.El.element})};
f.rv=function(){var a=Nh(Pw.CSS.Fs);D(a,function(a){yk(a,300,function(){Q(a)})});null!=a[0]&&this.Rb[a[0].id.replace(Qw,"")].setActive(!1,!0)};f.vJ=function(a){var b=Oh(Pw.CSS.Fs);if(null!=b){b.style.opacity=0;var c=b.cloneNode(!0);c.style.opacity=1;document.body.appendChild(c);Q(b);a.El.element&&this.dispatchEvent({type:"ea",Dj:this.Rb[b.id.replace(Qw,"")],zL:a.El.element})}};f.f=function(){Pw.d.f.call(this);this.Bt()};
v("xiv.ui.ThumbnailGallery.EventType",{qp:"$",XD:"aa",IN:"ba",HN:"ca",FN:"da",JN:"ea"});v("xiv.ui.ThumbnailGallery.ID_PREFIX",Pw.ID_PREFIX);v("xiv.ui.ThumbnailGallery.CSS_SUFFIX",Pw.CSS_SUFFIX);v("xiv.ui.ThumbnailGallery.ANIM_MED",300);v("xiv.ui.ThumbnailGallery.DRAGGER_ID",Qw);v("xiv.ui.ThumbnailGallery.DRAGGER_FADER_ID",Rw);v("xiv.ui.ThumbnailGallery.prototype.createAndAddThumbnail",Pw.prototype.Ei);v("xiv.ui.ThumbnailGallery.prototype.createThumbnail",Pw.prototype.xn);
v("xiv.ui.ThumbnailGallery.prototype.addThumbnail",Pw.prototype.wl);v("xiv.ui.ThumbnailGallery.prototype.clearThumbnailDropTargets",Pw.prototype.Yy);v("xiv.ui.ThumbnailGallery.prototype.addThumbnailDropTarget",Pw.prototype.oy);v("xiv.ui.ThumbnailGallery.prototype.addThumbnailDropTargets",Pw.prototype.py);v("xiv.ui.ThumbnailGallery.prototype.getThumbnailByElement",Pw.prototype.CH);v("xiv.ui.ThumbnailGallery.prototype.disposeInternal",Pw.prototype.f);function Sw(){var a=si(Hh());a.webkitCancelFullScreen?a.webkitCancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.msExitFullscreen?a.msExitFullscreen():a.exitFullscreen&&a.exitFullscreen()};function Tw(a,b,c,d){$c.call(this);this.lb=c||Hh();this.Fl=a;this.nf=[];this.yL=b?b:Uw;this.YC=!!d;this.af()}w(Tw,$c);var Uw=0;f=Tw.prototype;
f.af=function(){this.Fl.className="goog-tabpane";for(var a=[],b=bi(this.Fl);b;)a.push(b),b=di(b);this.ae=this.lb.w("ul",{className:"goog-tabpane-tabs",tabIndex:"0"});this.ic=this.lb.w("div","goog-tabpane-cont");this.Fl.appendChild(this.ic);b=this.Fl;switch(this.yL){case Uw:b.insertBefore(this.ae,this.ic);b.insertBefore(Vw(this),this.ic);cl(b,"goog-tabpane-top");break;case 1:b.appendChild(this.ae);b.appendChild(Vw(this));cl(b,"goog-tabpane-bottom");break;case 2:b.insertBefore(this.ae,this.ic);cl(b,
"goog-tabpane-left");break;case 3:b.insertBefore(this.ae,this.ic);cl(b,"goog-tabpane-right");break;default:throw Error("Invalid tab location");}this.ae.tabIndex=0;F(this.ae,this.YC?"mousedown":"click",this.ur,!1,this);F(this.ae,"keydown",this.vr,!1,this);for(var c=0;b=a[c];c++)Ww(this,new Xw(b))};
function Vw(a){var b=Hh(void 0),c=null,d=b.pa;E&&d.createStyleSheet?(c=d.createStyleSheet(),Vi(c)):(d=Mh(b.pa,"head",void 0,void 0)[0],d||(c=Mh(b.pa,"body",void 0,void 0)[0],d=b.w("head"),c.parentNode.insertBefore(d,c)),c=b.w("style"),Vi(c),b.appendChild(d,c));return a.lb.w("div","goog-tabpane-clear")}f.f=function(){Tw.d.f.call(this);Uc(this.ae,this.YC?"mousedown":"click",this.ur,!1,this);Uc(this.ae,"keydown",this.vr,!1,this);delete this.Fl;this.ic=this.ae=null};
function Ww(a,b){b.Qa&&b.Qa!=a&&b.Qa instanceof Tw&&Yw(b.Qa,b);var c=a.nf.length;ca(void 0)&&void 0!=c?(c=void 0,a.nf.splice(c,0,b),a.ae.insertBefore(b.Ki,a.ae.childNodes[c])):(a.nf.push(b),a.ae.appendChild(b.Ki));b.Lo(a,c);a.Wg||(a.Wg=b,a.dispatchEvent(new Zw("change",a,a.Wg)));a.ic.appendChild(b.ic);$w(b,b==a.Wg);for(var d=c+1;c=a.nf[d];d++)c.Un=d}function Yw(a,b){u(b)&&(b=a.nf[b]);a.nf.splice(b.Un,1);b.Lo(null);Q(b.Ki);Q(b.ic);for(var c,d=0;c=a.nf[d];d++)c.Lo(a,d)}
function ax(a,b){if(0<=b&&b<a.nf.length){var c=a.nf[b];!c.isEnabled()||a.Wg&&c==a.Wg||($w(a.Wg,!1),$w(c,!0),a.Wg=c,a.dispatchEvent(new Zw("change",a,a.Wg)))}}f.Ia=function(){return this.ic||null};f.a=function(){return this.Fl||null};f.ur=function(a){for(var b=a.target;b!=this.ae;){if("LI"==b.tagName){var c;for(c=0;b=b.previousSibling;c++);ax(this,c);break}b=b.parentNode}a.preventDefault()};
f.vr=function(a){if(!(a.altKey||a.metaKey||a.ctrlKey))switch(a.keyCode){case 37:a=this.Wg.Un-1;ax(this,0>a?this.nf.length-1:a);break;case 39:a=this.Wg.Un+1;ax(this,a>=this.nf.length?0:a);break;case 36:ax(this,0);break;case 35:ax(this,this.nf.length-1)}};function Xw(a,b,c){var d,e;if(r(a)&&!ca(b))d=a;else if(b)d=b,e=a;else if(a){if(b=bi(a))d=ni(b),b.parentNode.removeChild(b);e=a}this.lb=c||Hh();this.ic=e||this.lb.w("div");this.Ki=this.lb.w("li",null,d);this.Un=this.Qa=null;this.Fc=!0}f=Xw.prototype;
f.Dd=function(){return ni(this.Ki)};f.me=function(a){hi(this.Ki,a)};f.kA=function(){return this.Ki};f.Ia=function(){return this.ic};f.getParent=function(){return this.Qa};f.nc=function(a){this.Fc=a;this.Ki.className=a?"goog-tabpane-tab":"goog-tabpane-tab-disabled"};f.isEnabled=function(){return this.Fc};function $w(a,b){a.isEnabled()&&(a.ic.style.display=b?"":"none",a.Ki.className=b?"goog-tabpane-tab-selected":"goog-tabpane-tab")}f.Lo=function(a,b){this.Qa=a;this.Un=ca(b)?b:null};
function Zw(a,b,c){Ec.call(this,a,b);this.page=c}w(Zw,Ec);function W(a){U.call(this);if(null!=a){var b=a;if(!r(b))throw new TypeError("String required!");b=b.toUpperCase();if(-1==bx.indexOf(b))throw Error("Invalid orienation!");}this.orientation=a||cx}w(W,U);v("nrg.ui.Tabs",W);var bx=["TOP","BOTTOM","LEFT","RIGHT"],cx=bx[0];W.ID_PREFIX="nrg.ui.Tabs";W.CSS_SUFFIX={$b:"tab",ii:"tab-active",yf:"page",$D:"page-content",rp:"page-active",ib:"icon",Yk:"icon-active",BD:"icon-content",nN:"scrollgallery"};
function dx(a,b,c,d,e){this.tj=!1;this.TITLE=a;this.$b=b;this.ib=c;this.yf=d;this.jh=e}f=W.prototype;f.kf=0;f.km=0;f.Id=null;f.n=function(a){W.d.n.call(this,a);this.ok=new Tw(this.a());this.L=[];N(this.a(),W.zc)};f.xH=function(){return this.L.length};f.NG=function(){return this.kf};f.lH=function(){return this.km};f.Dq=function(){var a=[];D(this.L,function(b){a.push(b.$b)});return a};f.Eq=function(){var a=[];D(this.L,function(b){a.push(b.yf)});return a};
f.yH=function(){var a=[];D(this.L,function(b){a.push(b.ib)});return a};f.hF=function(a){D(a,function(a){this.vl(a)}.bind(this))};f.reset=function(){for(var a=this.L.length;0<a;)Yw(this.ok,a-1),a--;this.JO()};f.Bw=function(a){if(null==this.L)return!1;for(var b=0,c=this.L.length;b<c;b++)if(this.L[b].TITLE==a)return!0;return!1};
f.vl=function(a){this.L=null!=this.L?this.L:[];if(this.Bw(a))throw Error(a+" is an already existing tab!");var b;b=P("div",{id:"Tab_"+B(),"class":W.CSS.$b,title:a});Yh(this.a(),b);var c=P("div",{id:"TabIcon_"+B(),"class":W.CSS.ib}),d=P("div",{"class":W.CSS.BD},a);Yh(c,d);Yh(b,c);d=P("div",{id:"TabPage_"+B(),"class":W.CSS.yf,label:a});qk(d,ok(this.a(),"width"));Yh(this.a().parentNode,d);var e=new Xw(d,a);Ww(this.ok,e);this.L.push(new dx(a,b,c,d,e));ex(this);fx(this);gx(this);this.ck();this.setActive(0);
this.k()};f.tC=function(a,b){this.Bw(a)||this.vl(a);var c;a:if(null!=this.L){c=0;for(var d=this.L.length;c<d;c++)if(this.L[c].TITLE==a){c=this.L[c];break a}c=void 0}else c=!1;b instanceof Ns?(d=b,c.yf.appendChild(b.a())):(d=new Ns,d.n(c.yf),d.Ze(b));N(d.a(),W.CSS.$D);this.k()};function ex(a){D(a.L,function(a){H(a.$b)}.bind(a))}function fx(a){D(a.L,function(a,c){F(a.$b,"click",function(){this.ck();this.setActive(c)}.bind(this))}.bind(a))}
function gx(a){D(a.L,function(a,c){hx(this,c);ix(this,c)}.bind(a))}function hx(a,b){F(a.L[b].$b,"mouseover",function(){!0!==this.L[b].tj&&(N(this.L[b].$b,W.CSS.ii),N(this.L[b].$b,vj(W.CSS.ii,this.orientation)),N(this.L[b].ib,W.CSS.Yk))}.bind(a))}function ix(a,b){F(a.L[b].$b,"mouseout",function(){!0!==this.L[b].tj&&(Bh(this.L[b].$b,W.CSS.ii),Bh(this.L[b].$b,vj(W.CSS.ii,this.orientation)),Bh(this.L[b].ib,W.CSS.Yk))}.bind(a))}
f.setActive=function(a){this.L[a].tj=!0;this.km=this.kf;this.kf=a;ax(this.ok,a);N(this.L[a].$b,W.CSS.ii);N(this.L[a].$b,vj(W.CSS.ii,this.orientation));N(this.L[a].yf,W.CSS.rp);N(this.L[a].yf,vj(W.CSS.rp,this.orientation));N(this.L[a].ib,W.CSS.Yk);N(this.L[a].ib,vj(W.CSS.Yk,this.orientation))};
f.rz=function(a){this.L[a].tj=!1;ax(this.ok,0);Bh(this.L[a].$b,W.CSS.ii);Bh(this.L[a].$b,vj(W.CSS.ii,this.orientation));Bh(this.L[a].yf,W.CSS.rp);Bh(this.L[a].yf,vj(W.CSS.rp,this.orientation));Bh(this.L[a].ib,W.CSS.Yk);Bh(this.L[a].ib,vj(W.CSS.Yk,this.orientation))};f.ck=function(){D(this.L,function(a,b){this.rz(b)}.bind(this))};
f.k=function(){if(this.a().parentNode){N(this.a(),W.zc);N(this.a(),vj(W.zc,this.orientation));D(this.L,function(a){N(a.$b,vj(W.CSS.$b,this.orientation));N(a.ib,vj(W.CSS.ib,this.orientation));N(a.yf,vj(W.CSS.yf,this.orientation))}.bind(this));switch(this.orientation){case "TOP":jx(this);break;case "BOTTOM":this.wP();break;case "RIGHT":kx(this)}if(0<this.L.length){var a=T(this.L[0].$b);0<a.width&&0<a.height&&(this.Id=a)}}};
function kx(a){D(a.L,function(a){this.a().parentNode&&qk(a.$b,{height:(100/this.L.length).toString()+"%"})}.bind(a))}function jx(a){var b;D(a.L,function(a,d){this.a().parentNode&&(b=100/this.L.length,qk(a.$b,{width:b.toString()+"%",left:(d*b).toString()+"%"}))}.bind(a))}function lx(a){D(a.L,function(a){C(a,function(c,d){H(c);c.f?c.g():c.g&&c.g();delete c;delete a[d]});tb(a);delete a});Jb(a.L)}
f.f=function(){W.d.f.call(this);D(this.Dq(),function(a){H(a)}.bind(this));lx(this);delete this.L;H(this.ok);this.ok.g();delete this.ok;delete this.kf;delete this.km;delete this.vP;delete this.orientation};v("nrg.ui.Tabs.ORIENTATIONS",bx);v("nrg.ui.Tabs.DEFAULT_ORIENTATION",cx);v("nrg.ui.Tabs.ID_PREFIX",W.ID_PREFIX);v("nrg.ui.Tabs.CSS_SUFFIX",W.CSS_SUFFIX);v("nrg.ui.Tabs.TabItemCollection",dx);v("nrg.ui.Tabs.prototype.tabSize",W.prototype.Id);v("nrg.ui.Tabs.prototype.render",W.prototype.n);
v("nrg.ui.Tabs.prototype.getTabCount",W.prototype.xH);v("nrg.ui.Tabs.prototype.getLastActiveTab",W.prototype.NG);v("nrg.ui.Tabs.prototype.getPreviousActiveTab",W.prototype.lH);v("nrg.ui.Tabs.prototype.getTabElements",W.prototype.Dq);v("nrg.ui.Tabs.prototype.getTabPages",W.prototype.Eq);v("nrg.ui.Tabs.prototype.getTabIcons",W.prototype.yH);v("nrg.ui.Tabs.prototype.addTabs",W.prototype.hF);v("nrg.ui.Tabs.prototype.reset",W.prototype.reset);v("nrg.ui.Tabs.prototype.tabExists",W.prototype.Bw);
v("nrg.ui.Tabs.prototype.addTab",W.prototype.vl);v("nrg.ui.Tabs.prototype.setTabPageContents",W.prototype.tC);v("nrg.ui.Tabs.prototype.setActive",W.prototype.setActive);v("nrg.ui.Tabs.prototype.deactivate",W.prototype.rz);v("nrg.ui.Tabs.prototype.deactivateAll",W.prototype.ck);v("nrg.ui.Tabs.prototype.updateStyle",W.prototype.k);v("nrg.ui.Tabs.prototype.disposeInternal",W.prototype.f);function mx(a){W.call(this,a)}w(mx,W);v("nrg.ui.ZipTabs",mx);mx.ID_PREFIX="nrg.ui.ZipTabs";f=mx.prototype;f.n=function(a){mx.d.n.call(this,a);N(this.a(),vj(mx.zc,this.orientation));this.Ac=new Tq(this.a(),this.orientation);nx(this);a=Nh("goog-tabpane-tabs",this.a());D(a,function(a){a.style.visibility="hidden"})};f.Wh=function(a){this.Ac.Wh(a);this.k()};f.P=function(){return this.Ac};
function nx(a){F(a.Ac,"resize",function(a){this.wh();if(null!=this.Id){switch(this.orientation){case "BOTTOM":case "TOP":4>=Math.abs(this.Id.height-this.u.height)?this.ck():this.setActive(this.kf);break;case "LEFT":case "RIGHT":var c=36>=Math.abs(this.Id.width-this.u.width)&&this.eq;4>=Math.abs(this.Id.width-this.u.width)||c?this.ck():this.setActive(this.kf)}this.dispatchEvent({type:"resize",size:a.size,Ne:a.Ne})}}.bind(a))}f.eq=!1;
f.Vb=function(a,b,c){this.k();a?(this.setActive(b||0),this.Ac.qf(this.orientation,"MAX",null,c)):(this.ck(),this.Ac.qf(this.orientation,"MIN",null,c))};f.k=function(){mx.d.k.call(this);switch(this.orientation){case "TOP":case "BOTTOM":null!=this.Id&&this.Ac.hC(this.Id.height);break;case "LEFT":case "RIGHT":null!=this.Id&&this.Ac.jC(this.Id.width)}this.Ac.update()};
f.vl=function(a){mx.d.vl.call(this,a);1==this.Dq().length&&this.k();D(this.Dq(),function(a){F(a,"click",function(){if(null!=this.Id)switch(this.k(),this.wh(),this.orientation){case "BOTTOM":4>=Math.abs(this.u.height-this.Id.height)?(this.setActive(this.kf),this.Ac.qf("BOTTOM","MAX",void 0)):this.kf==this.km&&this.Ac.qf("BOTTOM","MIN",void 0);break;case "TOP":4>=Math.abs(this.u.height-this.Id.height)?(this.setActive(this.kf),this.Ac.qf("TOP","MAX",void 0)):this.kf==this.km&&this.Ac.qf("TOP","MIN",
void 0);break;case "RIGHT":null!=this.Id&&(4>=Math.abs(this.u.width-this.Id.width)?(this.eq=!1,this.setActive(this.kf),this.Ac.qf("RIGHT","MAX",void 0)):this.kf==this.km&&(this.eq=!0,this.Ac.qf("RIGHT","MIN",void 0)))}}.bind(this))}.bind(this));this.ck();this.k()};f.f=function(){mx.d.f.call(this);H(this.Ac);this.Ac.g();delete this.Ac;delete this.eq};v("nrg.ui.ZipTabs.BOUND_THRESHOLD_VERT",4);v("nrg.ui.ZipTabs.BOUND_THRESHOLD_HORIZ",4);v("nrg.ui.ZipTabs.EventType",{pD:"fa"});
v("nrg.ui.ZipTabs.ID_PREFIX",mx.ID_PREFIX);v("nrg.ui.ZipTabs.prototype.render",mx.prototype.n);v("nrg.ui.ZipTabs.prototype.setBoundaryElement",mx.prototype.Wh);v("nrg.ui.ZipTabs.prototype.getResizable",mx.prototype.P);v("nrg.ui.ZipTabs.prototype.setExpanded",mx.prototype.Vb);v("nrg.ui.ZipTabs.prototype.updateStyle",mx.prototype.k);v("nrg.ui.ZipTabs.prototype.addTab",mx.prototype.vl);v("nrg.ui.ZipTabs.prototype.disposeInternal",mx.prototype.f);/*
 Copyright 2014 Washington University
 @author kumar.sunil.p@gmail.com (Sunil Kumar)
*/
function ox(){U.call(this);this.Vc=ox.ModalStates.vj}w(ox,U);v("xiv.ui.Modal",ox);ox.ModalStates={ue:"fullscreen",We:"popup",xs:"fullscreen-popup",vg:"windowed",vj:"demo",uD:"demp-fullscreen"};ox.ID_PREFIX="xiv.ui.Modal";ox.CSS_SUFFIX={op:"background",eM:"columnmenu",dN:"rowmenu",fM:"button",eN:"button",bE:"projecttab",cE:"projecttab-bounds",dE:"projecttab-dragger",eE:"projecttab-dragger-handle",$w:"addsubjects"};
function px(){var a={};C(qx,function(b,c){a[c]=ox.ID_PREFIX+"."+db(b.key)+".Button"});var b=Rk(ob(a)),c={};C(a,function(a,e){c[e]=b[a];var h=vj(a);b[a].className=h});return c}var qx={Xk:{key:"CLOSE",title:"Close XNAT Image Viewer."},ue:{key:"FULLSCREEN",title:"Enter full-screen mode."},We:{key:"POPUP",title:"Popup to new window."},vg:{key:"WINDOWED",title:"Exit full-screen mode."}};f=ox.prototype;f.Rn=29;f.ps=29;f.or=320;f.pr=320;f.MH=function(){return this.Ca};f.DH=function(){return this.T};
f.nH=function(){return this.Zb};f.kH=function(){return this.$.We};f.nG=function(){return this.$.Xk};f.DG=function(){return this.$.ue};f.n=function(a){ox.d.n.call(this,a);this.KA();this.Ca.Du(null,!1);this.oc(this.Vc)};
f.oc=function(a){null!=this.Vc&&(this.Ir=this.Vc);this.Vc=a;null!=this.Ir&&Bh(this.a(),vj(this.constructor.zc,this.Ir));N(this.a(),vj(this.constructor.zc,this.Vc));this.Vc==ox.ModalStates.vj?(this.$.ue.style.visibility="visible",this.$.vg.style.visibility="hidden"):this.Vc==ox.ModalStates.vg?(this.$.ue.style.visibility="visible",this.$.vg.style.visibility="hidden"):this.Vc==ox.ModalStates.We?(this.$.We.style.visibility="hidden",this.$.Xk.style.visibility="hidden",this.$.ue.style.visibility="visible",
this.$.vg.style.visibility="hidden"):this.Vc==ox.ModalStates.xs?(this.$.We.style.visibility="hidden",this.$.ue.style.visibility="hidden",this.$.vg.style.visibility="visible"):this.Vc==ox.ModalStates.ue&&(this.$.We.style.visibility="visible",this.$.ue.style.visibility="hidden",this.$.vg.style.visibility="visible");this.k()};f.Rl=function(){return this.Vc};f.Wi=function(){this.T.loop(function(a){a.setActive(!1);this.Ca.loop(function(b){-1<b.qb.indexOf(a.zf)&&a.setActive(!0)})}.bind(this))};
f.Ky=function(){rx(this);this.Cb=null!=this.Cb?this.Cb:[];this.kb=null!=this.kb?this.kb:new fk;sx(this);tx(this);F(this.kb,"end",this.FJ.bind(this));D(this.Cb,function(a){this.kb.add(a)}.bind(this));this.kb.play();this.Wi()};f.FJ=function(){D(this.Cb,function(a){this.kb.remove(a);H(a);a.Zd();a.g()}.bind(this));Jb(this.Cb);this.k();ux(this)};function ux(a){a.Ca.loop(function(a){0==a.a().style.opacity&&vk(a.a(),300)})}
function sx(a){var b=null;a.Ca.loop(function(a,d,e){b=a.a();this.Cb.push(new Uj(b,[b.offsetLeft,b.offsetTop],[this.xa.Pb.wg[d][e],this.xa.Pb.ye[d][e]],300,tk))}.bind(a))}function tx(a){var b=null;a.Ca.loop(function(a,d,e){b=a.a();this.Cb.push(new Vj(b,[b.offsetWidth,b.offsetHeight],[this.xa.Pb.Gj[d][e],this.xa.Pb.Em[d][e]],300,tk))}.bind(a))}
function rx(a){a.xa=null!=a.xa?a.xa:{};a.wh();a.xa.dp={};a.xa.dp.Gj=Math.round(T(a.Zb.a()).width);a.xa.dp.Em=Math.round(a.u.height-2*a.ps);a.xa.dp.ye=Math.round(a.ps);vx(a);wx(a)}function vx(a){a.xa.Pb={};a.xa.Pb.Gj=a.Ca.Hn();a.xa.Pb.Em=a.Ca.Hn();a.Ca.loop(function(a,c,d,e,h){this.xa.Pb.Gj[c][d]=Math.round((this.u.width-this.xa.dp.Gj-this.Rn)/h-this.Rn);this.xa.Pb.Em[c][d]=Math.round((this.u.height-(e+1)*this.Rn)/e)}.bind(a))}
function wx(a){a.xa.Pb.wg=a.Ca.Hn();a.xa.Pb.ye=a.Ca.Hn();a.xa.Pb.pE=a.xa.dp.Gj+a.ps;var b=0;a.Ca.loop(function(a,d,e){b=this.xa.Pb.pE+e*(this.xa.Pb.Gj[d][e]+this.ps);this.xa.Pb.wg[d][e]=b;this.xa.Pb.ye[d][e]=d*(this.xa.Pb.Em[d][e]+this.Rn);window.console.log();this.xa.Pb.ye[d][e]+=this.Rn}.bind(a))}f.k=function(){rx(this);this.Zb&&this.Zb.k();xx(this);this.Wi();this.T.k();this.T.Yc()};
function xx(a){a.Ca&&a.Ca.loop(function(a,c,d){qk(a.a(),{height:this.xa.Pb.Em[c][d],width:this.xa.Pb.Gj[c][d],left:this.xa.Pb.wg[c][d],top:this.xa.Pb.ye[c][d]});a.k()}.bind(a))}
f.KA=function(){var a=P("div");a.id=this.constructor.ID_PREFIX+"_Background_"+B();a.className=ox.CSS.op;this.a().appendChild(a);this.Bs=P("div");Yh(this.a(),this.Bs);N(this.Bs,ox.CSS.cE);this.Zb=new mx("RIGHT");this.Zb.n(this.a());N(this.Zb.a(),ox.CSS.bE);this.T=new Pw;this.T.rw(!0);this.T.dw(this.a());var b;b=b||F;b(this.T,"B",this.eK.bind(this));b(this.T,"C",this.dK.bind(this));b(this.T,"da",this.YJ.bind(this));b(this.T,"ba",this.aK.bind(this));b(this.T,"ca",this.$J.bind(this));b(this.T,"ea",this.cK.bind(this));
this.T.n(this.Zb.a());this.Zb.tC("Project Browser",this.T);this.Zb.Wh(this.Bs);a=this.Zb.P().md("RIGHT");N(a,ox.CSS.dE);this.Zb.P().Pl("RIGHT").kC(5);Yh(a,P("div",{id:ew.ID_PREFIX+"_DraggerHandle_"+B(),"class":ox.CSS.eE}));F(this.Zb,"resize",this.k.bind(this));F(this.Zb,"resize_end",this.k.bind(this));this.Ca=new ww;this.Ca.wC(this.a());var c;c=c||F;c(this.Ca,"X",this.Jv.bind(this));c(this.Ca,"Y",this.Iv.bind(this));c(this.Ca,"Z",this.dj.bind(this));F(this.Ca,"W",this.pK.bind(this));yx(this)};
function yx(a){a.$=px();C(a.$,function(a){Yh(this.a(),a)}.bind(a));zx(a);a.$.Xk.innerHTML="<img src="+a.Zi+'/images/viewer/xiv/ui/Modal/close.png width="100%">';a.$.ue.innerHTML="<img src="+a.Zi+'/images/viewer/xiv/ui/Modal/fullscreen.png width="100%">';a.$.vg.innerHTML="<img src="+a.Zi+'/images/viewer/xiv/ui/Modal/windowed.png width="100%">';a.$.We.innerHTML="<img src="+a.Zi+'/images/viewer/xiv/ui/Modal/popup.png width="100%">'}
f.cy=function(){this.vh=P("div",{id:ox.ID_PREFIX+"_addSubjects_"+B(),"class":ox.CSS.$w},"+ Load all subjects in project");this.Zb.Eq()[0].appendChild(this.vh);sk(this.vh,ox.CSS.$w+"-hovered");var a=this.Zb.Eq()[0],b=ai(a)[0];T(a);T(b);T(this.vh);b.style.height="calc(100% - 70px)";F(this.vh,"click",this.mJ.bind(this))};f.mJ=function(){this.dispatchEvent({type:"g"});yk(this.vh,150,function(){Ax(this);var a=this.Zb.Eq()[0];ai(a)[0].setAttribute("style","");this.T.Yc()}.bind(this))};
function Ax(a){null!=a.vh&&(Q(a.vh),H(a.vh),delete a.vh)}f.pK=function(){var a=Nh("xiv-ui-thumbnailgallery-thumbnail-dragging");D(a,function(a){Q(a)});this.Wi();window.console.log(this.T.lg.yq());null!=this.T.lg.yq()&&this.T.tf.Mi({KO:!0})};f.rJ=function(){this.Vc===ox.ModalStates.ue&&Sw()};
f.yJ=function(){var a=this.a().parentNode;a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen?a.msRequestFullscreen():a.requestFullscreen&&a.requestFullscreen();this.Vc===ox.ModalStates.We?this.oc(ox.ModalStates.xs):this.oc(ox.ModalStates.ue)};f.sK=function(){Sw();this.oc(this.Ir)};function zx(a){var b;b=b||F;b(a.$.ue,"click",a.yJ.bind(a));b(a.$.vg,"click",a.sK.bind(a));b(a.$.Xk,"click",a.rJ.bind(a))}
f.eK=function(a){this.Ca.Is(a.Dj.zf,function(a){a.Yl()})};f.dK=function(a){this.Ca.Is(a.Dj.zf,function(a){a.bm||a.zm()})};f.$J=function(a){this.Ca.Fq(a.Fw).zm()};f.aK=function(a){this.Ca.Fq(a.Fw).Yl()};f.YJ=function(a){this.Ca.Js()||(this.Ca.Tz().load(a.Dj.zf),this.Wi())};f.cK=function(a){var b=this.Ca.Fq(a.zL);this.Ca.Js()?b.zm():(b.load(a.Dj.zf),this.Wi())};f.Jv=function(){this.Wi()};f.Iv=function(){this.Wi()};
f.dj=function(a){null!=a&&null!=a.kF?(a.mB&&D(a.mB,function(a){qk(a.a(),{opacity:0})}),this.Ky()):this.k();this.T.Yy();this.T.py(this.Ca.nA())};f.f=function(){ox.d.f.call(this);tb(this.xa);delete this.xa;this.Ut(this.Cb);delete this.Cb;this.mq(this.kb);delete this.kb;this.nq(this.$);delete this.$;null!=this.Ca&&(H(this.Ca),this.Ca.g(),delete this.Ca);H(this.Zb);this.Zb.g();delete this.Zb;H(this.T);this.T.g();delete this.T;Ax(this);delete this.Vc;delete this.Ir};v("xiv.ui.Modal.EventType",ox.pM);
v("xiv.ui.Modal.ID_PREFIX",ox.ID_PREFIX);v("xiv.ui.Modal.CSS_SUFFIX",ox.CSS_SUFFIX);v("xiv.ui.Modal.prototype.getViewBoxHandler",ox.prototype.MH);v("xiv.ui.Modal.prototype.getThumbnailGallery",ox.prototype.DH);v("xiv.ui.Modal.prototype.getProjectTab",ox.prototype.nH);v("xiv.ui.Modal.prototype.getPopupButton",ox.prototype.kH);v("xiv.ui.Modal.prototype.getCloseButton",ox.prototype.nG);v("xiv.ui.Modal.prototype.getFullScreenButton",ox.prototype.DG);v("xiv.ui.Modal.prototype.render",ox.prototype.n);
v("xiv.ui.Modal.prototype.setState",ox.prototype.oc);v("xiv.ui.Modal.prototype.getState",ox.prototype.Rl);v("xiv.ui.Modal.prototype.highlightInUseThumbnails",ox.prototype.Wi);v("xiv.ui.Modal.prototype.animateModal",ox.prototype.Ky);v("xiv.ui.Modal.prototype.updateStyle",ox.prototype.k);v("xiv.ui.Modal.prototype.initSubComponents",ox.prototype.KA);v("xiv.ui.Modal.prototype.addAddSubjectsToProjectTab",ox.prototype.cy);v("xiv.ui.Modal.prototype.disposeInternal",ox.prototype.f);
window["xiv.ui.Modal"]=ox;window["xiv.ui.Modal.ModalStates"]=ox.ModalStates;
