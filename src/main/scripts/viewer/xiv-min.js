var f,aa=aa||{},ba=this;function ca(a){return void 0!==a}function da(a){a=a.split(".");for(var b=ba,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ea(){}function fa(a){a.Qd=function(){return a.Uz?a.Uz:a.Uz=new a}}
function ga(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function g(a){return"array"==ga(a)}function ha(a){var b=ga(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function ia(a){return"boolean"==typeof a}function t(a){return"number"==typeof a}function ja(a){return"function"==ga(a)}function ma(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function na(a){return a[oa]||(a[oa]=++pa)}
var oa="closure_uid_"+(1E9*Math.random()>>>0),pa=0;function ra(a,b,c){return a.call.apply(a.bind,arguments)}function sa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function ta(a,b,c){ta=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ra:sa;return ta.apply(null,arguments)}function va(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var xa=Date.now||function(){return+new Date};
function v(a,b){var c=a.split("."),d=ba;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ca(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function w(a,b){function c(){}c.prototype=b.prototype;a.c=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.PN=function(a,c,h){var k=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,k)}};var A=A||{};A.DL=!0;A.Fd=function(a){eval("X.DEV === undefined")||window.console.time(a)};A.md=function(a){eval("X.DEV === undefined")||window.console.timeEnd(a)};window["X.counter"]=new function(){this.dE=0;this.cL=function(){return this.dE++}};function ya(a,b){for(var c in b){var d=b.__lookupGetter__(c),e=b.__lookupSetter__(c);c in a||(d||e?(d&&a.__defineGetter__(c,d),e&&a.__defineSetter__(c,e)):a[c]=b[c])}}var Aa=window.yC;
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return h.apply(this instanceof c?this:a||window,e.concat(d.call(arguments)))}function c(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=Array.prototype.slice,e=d.call(arguments,1),h=this;c.prototype=this.prototype;b.prototype=new c;return b});
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=Date.now(),h=Math.max(0,16-(c-a)),k=window.setTimeout(function(){b(c+h)},h);a=c+h;return k});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();"slice"in ArrayBuffer.prototype||(ArrayBuffer.prototype.slice=function(a,b){if(void 0===a)throw Error("Not enough arguments.");var c=b||this.byteLength;0>a&&(a=this.byteLength+a);0>c&&(c=this.byteLength+c);c<a&&(c=a=0);0>a&&(a=0);0>c&&(c=0);a>this.byteLength&&(a=this.byteLength);c>this.byteLength&&(c=this.byteLength);for(var d=new ArrayBuffer(c-a),e=new Uint8Array(this),h=new Uint8Array(d),k=a,l=0;k<c;++k,++l)h[l]=e[k];return d});v("$",Aa);
v("Function.prototype.bind",Function.prototype.bind);v("window.requestAnimationFrame",window.requestAnimationFrame);v("window.cancelAnimationFrame",window.cancelAnimationFrame);var Ba;function Ca(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ca);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}w(Ca,Error);Ca.prototype.name="CustomError";function Da(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Ea(a,b){var c=String(b).toLowerCase(),d=String(a.substr(a.length-b.length,b.length)).toLowerCase();return 0==(c<d?-1:c==d?0:1)}function Ga(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Ha(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}
function Ja(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Ka=/(\.\d+)|(\d+)|(\D+)/g;function La(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var c=a.toLowerCase().match(Ka),d=b.toLowerCase().match(Ka),e=Math.min(c.length,d.length),h=0;h<e;h++){var k=c[h],l=d[h];if(k!=l)return c=parseInt(k,10),!isNaN(c)&&(d=parseInt(l,10),!isNaN(d)&&c-d)?c-d:k<l?-1:1}return c.length!=d.length?c.length-d.length:a<b?-1:1}
function Oa(a){if(!Pa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Qa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ra,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Sa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ta,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ua,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Va,"&#0;"));return a}var Qa=/&/g,Ra=/</g,Sa=/>/g,Ta=/"/g,Ua=/'/g,Va=/\x00/g,Pa=/[\x00&<>"']/;
function Wa(a,b){var c;if(c&&a.length>b)c>b&&(c=b),a=a.substring(0,b-c)+"..."+a.substring(a.length-c);else if(a.length>b){c=Math.floor(b/2);var d=a.length-c;a=a.substring(0,c+b%2)+"..."+a.substring(d)}return a}function Xa(a){return Array.prototype.join.call(arguments,"")}
function Ya(a,b){for(var c=0,d=Ja(String(a)).split("."),e=Ja(String(b)).split("."),h=Math.max(d.length,e.length),k=0;0==c&&k<h;k++){var l=d[k]||"",n=e[k]||"",m=/(\d*)(\D*)/g,p=/(\d*)(\D*)/g;do{var q=m.exec(l)||["","",""],s=p.exec(n)||["","",""];if(0==q[0].length&&0==s[0].length)break;c=Za(0==q[1].length?0:parseInt(q[1],10),0==s[1].length?0:parseInt(s[1],10))||Za(0==q[2].length,0==s[2].length)||Za(q[2],s[2])}while(0==c)}return c}function Za(a,b){return a<b?-1:a>b?1:0}
var $a=2147483648*Math.random()|0;function B(){return"goog_"+$a++}function ab(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function bb(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()}function cb(a){var b=r(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function db(a,b){b.unshift(a);Ca.call(this,Ga.apply(null,b));b.shift()}w(db,Ca);db.prototype.name="AssertionError";function eb(a,b){throw new db("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var fb="closure_listenable_"+(1E6*Math.random()|0);function gb(a){return!(!a||!a[fb])}var ib=0;function jb(a,b,c,d,e){this.ok=a;this.gr=null;this.src=b;this.type=c;this.Vm=!!d;this.pq=e;this.key=++ib;this.Zl=this.Gp=!1}function kb(a){a.Zl=!0;a.ok=null;a.gr=null;a.src=null;a.pq=null};function C(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function lb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function mb(a){var b=0,c;for(c in a)b++;return b}function nb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ob(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function pb(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function qb(){var a=rb,b;for(b in a)return!1;return!0}function sb(a){for(var b in a)delete a[b]}function tb(a,b){b in a&&delete a[b]}
function ub(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}function vb(a){var b={},c;for(c in a)b[c]=a[c];return b}var wb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var h=0;h<wb.length;h++)c=wb[h],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function yb(a){var b=arguments.length;if(1==b&&g(arguments[0]))return yb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var zb=Array.prototype,Ab=zb.indexOf?function(a,b,c){return zb.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(r(a))return r(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},D=zb.forEach?function(a,b,c){zb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)h in e&&b.call(c,e[h],h,a)},Bb=zb.filter?function(a,b,c){return zb.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],h=
0,k=r(a)?a.split(""):a,l=0;l<d;l++)if(l in k){var n=k[l];b.call(c,n,l,a)&&(e[h++]=n)}return e},Cb=zb.map?function(a,b,c){return zb.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),h=r(a)?a.split(""):a,k=0;k<d;k++)k in h&&(e[k]=b.call(c,h[k],k,a));return e},Db=zb.some?function(a,b,c){return zb.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)if(h in e&&b.call(c,e[h],h,a))return!0;return!1},Eb=zb.every?function(a,b,c){return zb.every.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=r(a)?a.split(""):a,h=0;h<d;h++)if(h in e&&!b.call(c,e[h],h,a))return!1;return!0};function Fb(a){var b;a:{b=Gb;for(var c=a.length,d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:r(a)?a.charAt(b):a[b]}function Hb(a,b){return 0<=Ab(a,b)}function Ib(a){if(!g(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Jb(a,b){Hb(a,b)||a.push(b)}
function Kb(a,b){var c=Ab(a,b),d;(d=0<=c)&&zb.splice.call(a,c,1);return d}function Lb(a){return zb.concat.apply(zb,arguments)}function Mb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Nb(a,b,c,d){zb.splice.apply(a,Ob(arguments,1))}function Ob(a,b,c){return 2>=arguments.length?zb.slice.call(a,b):zb.slice.call(a,b,c)};function Pb(a){this.src=a;this.xc={};this.Oo=0}f=Pb.prototype;f.add=function(a,b,c,d,e){var h=a.toString();a=this.xc[h];a||(a=this.xc[h]=[],this.Oo++);var k=Qb(a,b,d,e);-1<k?(b=a[k],c||(b.Gp=!1)):(b=new jb(b,this.src,h,!!d,e),b.Gp=c,a.push(b));return b};f.remove=function(a,b,c,d){a=a.toString();if(!(a in this.xc))return!1;var e=this.xc[a];b=Qb(e,b,c,d);return-1<b?(kb(e[b]),zb.splice.call(e,b,1),0==e.length&&(delete this.xc[a],this.Oo--),!0):!1};
function Rb(a,b){var c=b.type;if(!(c in a.xc))return!1;var d=Kb(a.xc[c],b);d&&(kb(b),0==a.xc[c].length&&(delete a.xc[c],a.Oo--));return d}f.Vf=function(a){a=a&&a.toString();var b=0,c;for(c in this.xc)if(!a||c==a){for(var d=this.xc[c],e=0;e<d.length;e++)++b,kb(d[e]);delete this.xc[c];this.Oo--}return b};f.sn=function(a,b,c,d){a=this.xc[a.toString()];var e=-1;a&&(e=Qb(a,b,c,d));return-1<e?a[e]:null};
f.qq=function(a,b){var c=ca(a),d=c?a.toString():"",e=ca(b);return lb(this.xc,function(a){for(var k=0;k<a.length;++k)if(!(c&&a[k].type!=d||e&&a[k].Vm!=b))return!0;return!1})};function Qb(a,b,c,d){for(var e=0;e<a.length;++e){var h=a[e];if(!h.Zl&&h.ok==b&&h.Vm==!!c&&h.pq==d)return e}return-1};var Sb;a:{var Tb=ba.navigator;if(Tb){var Ub=Tb.userAgent;if(Ub){Sb=Ub;break a}}Sb=""}function Vb(a){return-1!=Sb.indexOf(a)}function Wb(a){for(var b=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};function Xb(){return Vb("Opera")||Vb("OPR")}function Yb(){return Vb("Trident")||Vb("MSIE")}function Zb(){return Vb("Safari")&&!Vb("Chrome")&&!Vb("CriOS")&&!Vb("Android")}
function $b(){var a=Sb;if(Yb()){var b=/rv: *([\d\.]*)/.exec(a);if(b&&b[1])a=b[1];else{var b="",c=/MSIE +([\d\.]+)/.exec(a);if(c&&c[1])if(a=/Trident\/(\d.\d)/.exec(a),"7.0"==c[1])if(a&&a[1])switch(a[1]){case "4.0":b="8.0";break;case "5.0":b="9.0";break;case "6.0":b="10.0";break;case "7.0":b="11.0"}else b="7.0";else b=c[1];a=b}return a}if(Xb())return a=Wb(a),b=a[a.length-1],"OPR"==b[0]&&b[1]?b[1]:a[2]&&a[2][1]?a[2][1]:"";a=Wb(a);return a[2]&&a[2][1]?a[2][1]:""};var ac,bc,cc;function dc(){return ba.navigator||null}var ec=Xb(),E=Yb(),fc=Vb("Gecko")&&-1==Sb.toLowerCase().indexOf("webkit")&&!(Vb("Trident")||Vb("MSIE")),gc=-1!=Sb.toLowerCase().indexOf("webkit"),hc,ic=dc();hc=ic&&ic.platform||"";ac=-1!=hc.indexOf("Mac");bc=-1!=hc.indexOf("Win");cc=-1!=hc.indexOf("Linux");var jc=!!dc()&&-1!=(dc().appVersion||"").indexOf("X11");function kc(){var a=ba.document;return a?a.documentMode:void 0}
var lc=function(){var a="",b;if(ec&&ba.opera)return a=ba.opera.version,ja(a)?a():a;fc?b=/rv\:([^\);]+)(\)|;)/:E?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:gc&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Sb))?a[1]:"");return E&&(b=kc(),b>parseFloat(a))?String(b):a}(),mc={};function nc(a){return mc[a]||(mc[a]=0<=Ya(lc,a))}function oc(a){return E&&pc>=a}var qc=ba.document,pc=qc&&E?kc()||("CSS1Compat"==qc.compatMode?parseInt(lc,10):5):void 0;var rc=!E||oc(9),sc=!E||oc(9),tc=E&&!nc("9");!gc||nc("528");fc&&nc("1.9b")||E&&nc("8")||ec&&nc("9.5")||gc&&nc("528");fc&&!nc("8")||E&&nc("9");function uc(){0!=vc&&(wc[na(this)]=this)}var vc=0,wc={};uc.prototype.Wj=!1;uc.prototype.g=function(){if(!this.Wj&&(this.Wj=!0,this.e(),0!=vc)){var a=na(this);delete wc[a]}};function xc(a,b){a.Zn||(a.Zn=[]);a.Zn.push(ca(void 0)?ta(b,void 0):b)}uc.prototype.e=function(){if(this.Zn)for(;this.Zn.length;)this.Zn.shift()()};function yc(a){a&&"function"==typeof a.g&&a.g()}function zc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ha(d)?zc.apply(null,d):yc(d)}};function Bc(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Tf=!1;this.ho=!0}Bc.prototype.e=function(){};Bc.prototype.g=function(){};Bc.prototype.stopPropagation=function(){this.Tf=!0};Bc.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ho=!1};function Dc(a){a.preventDefault()};function Ec(a){Ec[" "](a);return a}Ec[" "]=ea;function Fc(a,b){Bc.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.ev=!1;this.wc=null;a&&this.ja(a,b)}w(Fc,Bc);var Gc=[1,4,2];f=Fc.prototype;
f.ja=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(fc){var e;a:{try{Ec(d.nodeName);e=!0;break a}catch(h){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=gc||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=gc||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.ev=ac?a.metaKey:a.ctrlKey;this.state=a.state;this.wc=a;a.defaultPrevented&&this.preventDefault()};function Hc(a){return(rc?0==a.wc.button:"click"==a.type?!0:!!(a.wc.button&Gc[0]))&&!(gc&&ac&&a.ctrlKey)}
f.stopPropagation=function(){Fc.c.stopPropagation.call(this);this.wc.stopPropagation?this.wc.stopPropagation():this.wc.cancelBubble=!0};f.preventDefault=function(){Fc.c.preventDefault.call(this);var a=this.wc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,tc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};f.BF=function(){return this.wc};f.e=function(){};var Ic="closure_lm_"+(1E6*Math.random()|0),Jc={},Kc=0;function G(a,b,c,d,e){if(g(b)){for(var h=0;h<b.length;h++)G(a,b[h],c,d,e);return null}c=Lc(c);return gb(a)?a.r(b,c,d,e):Mc(a,b,c,!1,d,e)}function Mc(a,b,c,d,e,h){if(!b)throw Error("Invalid event type");var k=!!e,l=Nc(a);l||(a[Ic]=l=new Pb(a));c=l.add(b,c,d,e,h);if(c.gr)return c;d=Oc();c.gr=d;d.src=a;d.ok=c;a.addEventListener?a.addEventListener(b.toString(),d,k):a.attachEvent(Pc(b.toString()),d);Kc++;return c}
function Oc(){var a=Qc,b=sc?function(c){return a.call(b.src,b.ok,c)}:function(c){c=a.call(b.src,b.ok,c);if(!c)return c};return b}function Rc(a,b,c,d,e){if(g(b)){for(var h=0;h<b.length;h++)Rc(a,b[h],c,d,e);return null}c=Lc(c);return gb(a)?a.gu(b,c,d,e):Mc(a,b,c,!0,d,e)}function Sc(a,b,c,d,e){if(g(b))for(var h=0;h<b.length;h++)Sc(a,b[h],c,d,e);else c=Lc(c),gb(a)?a.eb(b,c,d,e):a&&(a=Nc(a))&&(b=a.sn(b,c,!!d,e))&&Tc(b)}
function Tc(a){if(t(a)||!a||a.Zl)return!1;var b=a.src;if(gb(b))return Rb(b.ug,a);var c=a.type,d=a.gr;b.removeEventListener?b.removeEventListener(c,d,a.Vm):b.detachEvent&&b.detachEvent(Pc(c),d);Kc--;(c=Nc(b))?(Rb(c,a),0==c.Oo&&(c.src=null,b[Ic]=null)):kb(a);return!0}function H(a){if(a)if(gb(a))a.removeAllListeners(void 0);else if(a=Nc(a)){var b=0,c;for(c in a.xc)for(var d=a.xc[c].concat(),e=0;e<d.length;++e)Tc(d[e])&&++b}}
function Uc(a,b){if(gb(a))return a.qq(b,void 0);var c=Nc(a);return!!c&&c.qq(b,void 0)}function Pc(a){return a in Jc?Jc[a]:Jc[a]="on"+a}function Vc(a,b,c,d){var e=1;if(a=Nc(a))if(b=a.xc[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.Vm==c&&!h.Zl&&(e&=!1!==Wc(h,d))}return Boolean(e)}function Wc(a,b){var c=a.ok,d=a.pq||a.src;a.Gp&&Tc(a);return c.call(d,b)}
function Qc(a,b){if(a.Zl)return!0;if(!sc){var c=b||da("window.event"),d=new Fc(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var h=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(k){h=!0}if(h||void 0==c.returnValue)c.returnValue=!0}c=[];for(h=d.currentTarget;h;h=h.parentNode)c.push(h);for(var h=a.type,l=c.length-1;!d.Tf&&0<=l;l--)d.currentTarget=c[l],e&=Vc(c[l],h,!0,d);for(l=0;!d.Tf&&l<c.length;l++)d.currentTarget=c[l],e&=Vc(c[l],h,!1,d)}return e}return Wc(a,new Fc(b,this))}
function Nc(a){a=a[Ic];return a instanceof Pb?a:null}var Xc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Lc(a){return ja(a)?a:a[Xc]||(a[Xc]=function(b){return a.handleEvent(b)})};function Yc(){uc.call(this);this.ug=new Pb(this);this.nE=this;this.cr=null}w(Yc,uc);Yc.prototype[fb]=!0;f=Yc.prototype;f.vv=function(a){this.cr=a};f.addEventListener=function(a,b,c,d){G(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){Sc(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.cr;if(c)for(b=[];c;c=c.cr)b.push(c);var c=this.nE,d=a.type||a;if(r(a))a=new Bc(a,c);else if(a instanceof Bc)a.target=a.target||c;else{var e=a;a=new Bc(d,c);xb(a,e)}var e=!0,h;if(b)for(var k=b.length-1;!a.Tf&&0<=k;k--)h=a.currentTarget=b[k],e=Zc(h,d,!0,a)&&e;a.Tf||(h=a.currentTarget=c,e=Zc(h,d,!0,a)&&e,a.Tf||(e=Zc(h,d,!1,a)&&e));if(b)for(k=0;!a.Tf&&k<b.length;k++)h=a.currentTarget=b[k],e=Zc(h,d,!1,a)&&e;return e};
f.e=function(){Yc.c.e.call(this);this.removeAllListeners();this.cr=null};f.r=function(a,b,c,d){return this.ug.add(String(a),b,!1,c,d)};f.gu=function(a,b,c,d){return this.ug.add(String(a),b,!0,c,d)};f.eb=function(a,b,c,d){return this.ug.remove(String(a),b,c,d)};f.removeAllListeners=function(a){return this.ug?this.ug.Vf(a):0};
function Zc(a,b,c,d){b=a.ug.xc[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.Zl&&k.Vm==c){var l=k.ok,n=k.pq||k.src;k.Gp&&Rb(a.ug,k);e=!1!==l.call(n,d)&&e}}return e&&!1!=d.ho}f.sn=function(a,b,c,d){return this.ug.sn(String(a),b,c,d)};f.qq=function(a,b){return this.ug.qq(ca(a)?String(a):void 0,b)};function $c(){Yc.call(this);this.n="base";this.rc=window["X.counter"].cL();this.B=!1}w($c,Yc);$c.prototype.__defineGetter__("classname",function(){return this.n});$c.prototype.__defineGetter__("id",function(){return this.rc});v("X.base",$c);function ad(a,b){$c.call(this);this.n="triplets";this.Af=Infinity;this.xf=-Infinity;this.Bf=Infinity;this.yf=-Infinity;this.Cf=Infinity;this.zf=-Infinity;this.ip=[0,0,0];this.Fa=0;this.Ib=new Float32Array(a);null!=b&&(this.Ib=b.Ib.subarray(0,b.Ib.length),this.Fa=this.Ib.length,this.Af=b.Af,this.xf=b.xf,this.Bf=b.Bf,this.yf=b.yf,this.Cf=b.Cf,this.zf=b.zf,this.ip=b.ip.slice())}w(ad,$c);f=ad.prototype;
f.add=function(a,b,c){this.Af=Math.min(this.Af,a);this.xf=Math.max(this.xf,a);this.Bf=Math.min(this.Bf,b);this.yf=Math.max(this.yf,b);this.Cf=Math.min(this.Cf,c);this.zf=Math.max(this.zf,c);this.ip=[(this.Af+this.xf)/2,(this.Bf+this.yf)/2,(this.Cf+this.zf)/2];this.B=!0;this.Ib[this.Fa++]=a;this.Ib[this.Fa++]=b;this.Ib[this.Fa++]=c;return this.Fa/3};f.resize=function(){if(this.Fa!=this.Ib.length){var a=new Float32Array(this.Fa);a.set(this.Ib.subarray(0,this.Fa));this.Ib=a}};
f.get=function(a){a*=3;return[this.Ib[a],this.Ib[a+1],this.Ib[a+2]]};f.remove=function(){throw Error("Not implemented.");};f.clear=function(){this.Ib=new Float32Array(this.Ib.length);this.B=!0};ad.prototype.__defineGetter__("count",function(){this.resize();return this.Ib.length/3});ad.prototype.__defineGetter__("length",function(){this.resize();return this.Ib.length});v("X.triplets",ad);v("X.triplets.prototype.add",ad.prototype.add);v("X.triplets.prototype.resize",ad.prototype.resize);
v("X.triplets.prototype.get",ad.prototype.get);v("X.triplets.prototype.remove",ad.prototype.remove);v("X.triplets.prototype.clear",ad.prototype.clear);function bd(){$c.call(this);this.n="indexer";this.As=[];this.Hd={}}w(bd,$c);bd.prototype.add=function(a){if(null==a)throw Error("Invalid object.");var b=window.JSON.stringify(a);b in this.Hd||(this.Hd[b]=this.As.length,this.As.push(a));return this.Hd[b]};bd.prototype.unique=function(){return this.As};function cd(a){$c.call(this);this.n="file";this.tp=a;this.B=!0}w(cd,$c);function dd(){this.Pe=this.W=null}dd.prototype.__defineSetter__("file",function(a){if(null==a||g(a)&&0==a.length)this.W=null;else{if(g(a)){if(1==a.length){this.W=new cd(a[0]);return}this.W=Cb(a,function(a){var c=new J;c.W=new cd(a);return c})}else this.W=new cd(a);this.Pe=null}});dd.prototype.__defineGetter__("file",function(){return this.W?g(this.W)?this.W.map(function(a){return a.W.tp}):this.W.tp:""});
dd.prototype.__defineGetter__("filedata",function(){return g(this.W)?this.W.map(function(a){return a.Pe}):this.Pe});dd.prototype.__defineSetter__("filedata",function(a){if(null==a||g(a)&&0==a.length)this.Pe=null;if(g(a))if(1==a.length)this.Pe=a[0];else{var b=this.W.length,c;for(c=0;c<b;c++)this.W[c].Pe=a[c]}else this.Pe=a});function ed(){return null};function fd(a,b,c){return Math.min(Math.max(a,b),c)};function gd(a,b){this.nb={};this.Xa=[];this.gh=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.Cs(a)}f=gd.prototype;f.yi=function(){return this.gh};f.fk=function(){hd(this);for(var a=[],b=0;b<this.Xa.length;b++)a.push(this.nb[this.Xa[b]]);return a};f.rn=function(){hd(this);return this.Xa.concat()};
f.Zs=function(a){for(var b=0;b<this.Xa.length;b++){var c=this.Xa[b];if(id(this.nb,c)&&this.nb[c]==a)return!0}return!1};f.xl=function(a,b){if(this===a)return!0;if(this.gh!=a.yi())return!1;var c=b||jd;hd(this);for(var d,e=0;d=this.Xa[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function jd(a,b){return a===b}f.In=function(){return 0==this.gh};f.clear=function(){this.nb={};this.gh=this.Xa.length=0};
f.remove=function(a){return id(this.nb,a)?(delete this.nb[a],this.gh--,this.Xa.length>2*this.gh&&hd(this),!0):!1};function hd(a){if(a.gh!=a.Xa.length){for(var b=0,c=0;b<a.Xa.length;){var d=a.Xa[b];id(a.nb,d)&&(a.Xa[c++]=d);b++}a.Xa.length=c}if(a.gh!=a.Xa.length){for(var e={},c=b=0;b<a.Xa.length;)d=a.Xa[b],id(e,d)||(a.Xa[c++]=d,e[d]=1),b++;a.Xa.length=c}}f.get=function(a,b){return id(this.nb,a)?this.nb[a]:b};f.set=function(a,b){id(this.nb,a)||(this.gh++,this.Xa.push(a));this.nb[a]=b};
f.Cs=function(a){var b;a instanceof gd?(b=a.rn(),a=a.fk()):(b=ob(a),a=nb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};f.forEach=function(a,b){for(var c=this.rn(),d=0;d<c.length;d++){var e=c[d],h=this.get(e);a.call(b,h,e,this)}};f.clone=function(){return new gd(this)};f.Yv=function(){for(var a=new gd,b=0;b<this.Xa.length;b++){var c=this.Xa[b];a.set(this.nb[c],c)}return a};function id(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function kd(){$c.call(this);this.n="colortable";this.Hd=new gd;ya(this,new dd)}w(kd,$c);kd.prototype.add=function(a,b,c,d,e,h){if(!(t(a)&&t(c)&&t(d)&&t(e)&&t(h)))throw Error("Invalid color table entry.");this.Hd.set(a,[b,c,d,e,h]);this.B=!0};kd.prototype.get=function(a){return this.Hd.get(a)};v("X.colortable.prototype.get",kd.prototype.get);function ld(a,b,c){this.x=ca(a)?a:0;this.y=ca(b)?b:0;this.z=ca(c)?c:0}ld.prototype.clone=function(){return new ld(this.x,this.y,this.z)};ld.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};ld.prototype.Tv=function(){return[this.x,this.y,this.z]};function K(a,b,c){this.x=a;this.y=b;this.z=c}w(K,ld);f=K.prototype;f.clone=function(){return new K(this.x,this.y,this.z)};f.Pf=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};f.scale=function(a){this.x*=a;this.y*=a;this.z*=a;return this};f.pb=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};f.normalize=function(){return this.scale(1/this.Pf())};f.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};
f.mc=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};f.xl=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.z==a.z};function md(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.z-b.z;return Math.sqrt(c*c+d*d+e*e)}function nd(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.z-b.z;return c*c+d*d+e*e}function od(a,b){return new K(a.x+b.x,a.y+b.y,a.z+b.z)}function pd(a,b){return new K(a.y*b.z-a.z*b.y,a.z*b.x-a.x*b.z,a.x*b.y-a.y*b.x)};A.K=K;f=A.K.prototype;f.clone=K.prototype.clone;f.Pf=K.prototype.Pf;f.scale=K.prototype.scale;f.pb=K.prototype.pb;f.add=K.prototype.add;f.mc=K.prototype.mc;f.normalize=function(){var a=this.Pf();return 0==a?this.scale(0):this.scale(1/a)};A.K.ni=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z};A.K.Uj=pd;A.K.ot=md;A.K.Gq=function(a,b,c){var d=a.x,e=a.y;a=a.z;return new K(d+c*(b.x-d),e+c*(b.y-e),a+c*(b.z-a))};A.K.prototype.__defineGetter__("xx",function(){return this.x});
A.K.prototype.__defineGetter__("yy",function(){return this.y});A.K.prototype.__defineGetter__("zz",function(){return this.z});v("X.vector",A.K);v("X.vector.prototype.clone",A.K.prototype.clone);v("X.vector.prototype.magnitude",A.K.prototype.Pf);v("X.vector.prototype.scale",A.K.prototype.scale);v("X.vector.prototype.invert",A.K.prototype.pb);v("X.vector.prototype.normalize",A.K.prototype.normalize);v("X.vector.prototype.add",A.K.prototype.add);v("X.vector.prototype.subtract",A.K.prototype.mc);
v("X.vector.dot",A.K.ni);v("X.vector.cross",A.K.Uj);v("X.vector.distance",A.K.ot);v("X.vector.lerp",A.K.Gq);function qd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}qd.prototype.BYTES_PER_ELEMENT=8;qd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};qd.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{qd.BYTES_PER_ELEMENT=8}catch(rd){}qd.prototype.BYTES_PER_ELEMENT=qd.prototype.BYTES_PER_ELEMENT;qd.prototype.set=qd.prototype.set;qd.prototype.toString=qd.prototype.toString;v("Float64Array",qd)};function sd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}sd.prototype.BYTES_PER_ELEMENT=4;sd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};sd.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(sd.BYTES_PER_ELEMENT=4,sd.prototype.BYTES_PER_ELEMENT=sd.prototype.BYTES_PER_ELEMENT,sd.prototype.set=sd.prototype.set,sd.prototype.toString=sd.prototype.toString,v("Float32Array",sd));function td(){return new Float32Array(3)}function ud(a,b,c){var d=td();d[0]=a;d[1]=b;d[2]=c;return d}function vd(a,b){var c=a[0],d=a[1],e=a[2],c=1/Math.sqrt(c*c+d*d+e*e);b[0]=a[0]*c;b[1]=a[1]*c;b[2]=a[2]*c};function wd(){return new Float32Array(4)}function xd(a,b,c,d){var e=wd();e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e};function yd(){return new Float32Array(16)}function zd(){var a=yd();a[0]=a[5]=a[10]=a[15]=1;return a}function Ad(a,b,c,d,e,h,k,l,n,m,p,q,s,u,z,y,I){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=h;a[5]=k;a[6]=l;a[7]=n;a[8]=m;a[9]=p;a[10]=q;a[11]=s;a[12]=u;a[13]=z;a[14]=y;a[15]=I;return a}function Bd(a,b,c,d,e){a[12]=b;a[13]=c;a[14]=d;a[15]=e;return a}function Cd(a,b,c){b*=4;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3]}function Dd(a,b,c){b*=4;c[0]=a[b];c[1]=a[b+1];c[2]=a[b+2];c[3]=a[b+3]}
function L(a,b,c,d,e,h){a[b]=c;a[b+4]=d;a[b+8]=e;a[b+12]=h}function Ed(a,b,c){a[b]=c[0];a[b+4]=c[1];a[b+8]=c[2];a[b+12]=c[3]}function Fd(a,b,c){c[0]=a[b];c[1]=a[b+4];c[2]=a[b+8];c[3]=a[b+12]}
function Gd(a,b,c){var d=a[0],e=a[1],h=a[2],k=a[3],l=a[4],n=a[5],m=a[6],p=a[7],q=a[8],s=a[9],u=a[10],z=a[11],y=a[12],I=a[13],S=a[14];a=a[15];var O=b[0],F=b[1],Q=b[2],Y=b[3],U=b[4],ua=b[5],ka=b[6],wa=b[7],Ma=b[8],Fa=b[9],Ia=b[10],la=b[11],za=b[12],qa=b[13],Cc=b[14];b=b[15];c[0]=d*O+l*F+q*Q+y*Y;c[1]=e*O+n*F+s*Q+I*Y;c[2]=h*O+m*F+u*Q+S*Y;c[3]=k*O+p*F+z*Q+a*Y;c[4]=d*U+l*ua+q*ka+y*wa;c[5]=e*U+n*ua+s*ka+I*wa;c[6]=h*U+m*ua+u*ka+S*wa;c[7]=k*U+p*ua+z*ka+a*wa;c[8]=d*Ma+l*Fa+q*Ia+y*la;c[9]=e*Ma+n*Fa+s*Ia+I*la;
c[10]=h*Ma+m*Fa+u*Ia+S*la;c[11]=k*Ma+p*Fa+z*Ia+a*la;c[12]=d*za+l*qa+q*Cc+y*b;c[13]=e*za+n*qa+s*Cc+I*b;c[14]=h*za+m*qa+u*Cc+S*b;c[15]=k*za+p*qa+z*Cc+a*b;return c}
function Hd(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[4],l=a[5],n=a[6],m=a[7],p=a[8],q=a[9],s=a[10],u=a[11],z=a[12],y=a[13],I=a[14],S=a[15],O=c*l-d*k,F=c*n-e*k,Q=c*m-h*k,Y=d*n-e*l,U=d*m-h*l,ua=e*m-h*n,ka=p*y-q*z,wa=p*I-s*z,Ma=p*S-u*z,Fa=q*I-s*y,Ia=q*S-u*y,la=s*S-u*I,za=O*la-F*Ia+Q*Fa+Y*Ma-U*wa+ua*ka;if(0==za)return!1;za=1/za;b[0]=(l*la-n*Ia+m*Fa)*za;b[1]=(-d*la+e*Ia-h*Fa)*za;b[2]=(y*ua-I*U+S*Y)*za;b[3]=(-q*ua+s*U-u*Y)*za;b[4]=(-k*la+n*Ma-m*wa)*za;b[5]=(c*la-e*Ma+h*wa)*za;b[6]=(-z*ua+I*Q-S*F)*za;b[7]=
(p*ua-s*Q+u*F)*za;b[8]=(k*Ia-l*Ma+m*ka)*za;b[9]=(-c*Ia+d*Ma-h*ka)*za;b[10]=(z*U-y*Q+S*O)*za;b[11]=(-p*U+q*Q-u*O)*za;b[12]=(-k*Fa+l*wa-n*ka)*za;b[13]=(c*Fa-d*wa+e*ka)*za;b[14]=(-z*Y+y*F-I*O)*za;b[15]=(p*Y-q*F+s*O)*za;return!0}function Id(a,b,c){var d=b[0],e=b[1];b=b[2];c[0]=d*a[0]+e*a[4]+b*a[8]+a[12];c[1]=d*a[1]+e*a[5]+b*a[9]+a[13];c[2]=d*a[2]+e*a[6]+b*a[10]+a[14]}
function Jd(a,b,c){var d=b[0],e=b[1],h=b[2];b=b[3];c[0]=d*a[0]+e*a[4]+h*a[8]+b*a[12];c[1]=d*a[1]+e*a[5]+h*a[9]+b*a[13];c[2]=d*a[2]+e*a[6]+h*a[10]+b*a[14];c[3]=d*a[3]+e*a[7]+h*a[11]+b*a[15];return c}function Kd(a,b,c,d){return Bd(a,a[0]*b+a[4]*c+a[8]*d+a[12],a[1]*b+a[5]*c+a[9]*d+a[13],a[2]*b+a[6]*c+a[10]*d+a[14],a[3]*b+a[7]*c+a[11]*d+a[15])}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);A.o={};A.o.kA=function(a,b,c,d){c=c.mc(b);c.normalize();d=A.K.Uj(c,d);d.normalize();var e=A.K.Uj(d,c);e.normalize();c.pb();L(a,0,d.x,d.y,d.z,0);L(a,1,e.x,e.y,e.z,0);L(a,2,c.x,c.y,c.z,0);Kd(a,-b.x,-b.y,-b.z);return a};A.o.Bb=function(a,b,c,d){var e=1/(b*a[3]+c*a[7]+d*a[11]+a[15]);return new A.K((b*a[0]+c*a[4]+d*a[8]+a[12])*e,(b*a[1]+c*a[5]+d*a[9]+a[13])*e,(b*a[2]+c*a[6]+d*a[10]+a[14])*e)};
A.o.TK=function(a,b,c){var d=new Float32Array(4),e=new Float32Array(4);Fd(a,b,d);Fd(a,c,e);Ed(a,b,e);Ed(a,c,d);return a};A.o.SK=function(a,b,c){var d=new Float32Array(4),e=new Float32Array(4);Dd(a,b,d);Dd(a,c,e);Cd(a,b,e);Cd(a,c,d);return a};A.o.Bn=zd;A.o.clone=function(a){var b=yd();b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b};
A.o.Yv=function(a,b){if(b==a){var c=a[1],d=a[2],e=a[3],h=a[6],k=a[7],l=a[11];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=c;b[6]=a[9];b[7]=a[13];b[8]=d;b[9]=h;b[11]=a[14];b[12]=e;b[13]=k;b[14]=l}else b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15];return b};
A.o.ZE=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],h=a[4],k=a[5],l=a[6],n=a[7],m=a[8],p=a[9],q=a[10],s=a[11],u=a[12],z=a[13],y=a[14];a=a[15];return(b*k-c*h)*(q*a-s*y)-(b*l-d*h)*(p*a-s*z)+(b*n-e*h)*(p*y-q*z)+(c*l-d*k)*(m*a-s*u)-(c*n-e*k)*(m*y-q*u)+(d*n-e*l)*(m*z-p*u)};A.o.pb=Hd;A.o.mu=function(a,b,c,d,e){var h=b/2;b=e-d;var k=Math.sin(h);if(0==b||0==k||0==c)return a;h=Math.cos(h)/k;return Ad(a,h/c,0,0,0,0,h,0,0,0,0,-(e+d)/b,-1,0,0,-(2*d*e)/b,0)};
A.o.fI=function(a,b,c,d,e,h,k){return Ad(a,2*h/(c-b),0,0,0,0,2*h/(e-d),0,0,(c+b)/(c-b),(e+d)/(e-d),-(k+h)/(k-h),-1,0,0,-(2*k*h)/(k-h),0)};A.o.gI=function(a,b,c,d,e,h,k){return Ad(a,2/(c-b),0,0,0,0,2/(e-d),0,0,0,0,-2/(k-h),0,-(c+b)/(c-b),-(e+d)/(e-d),-(k+h)/(k-h),1)};A.o.multiply=Gd;A.o.uA=Jd;A.o.translate=Kd;A.o.scale=function(a,b,c,d){return Ad(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,a[8]*d,a[9]*d,a[10]*d,a[11]*d,a[12],a[13],a[14],a[15])};
A.o.rotate=function(a,b,c,d,e){var h=a[0],k=a[1],l=a[2],n=a[3],m=a[4],p=a[5],q=a[6],s=a[7],u=a[8],z=a[9],y=a[10],I=a[11],S=Math.cos(b),O=Math.sin(b),F=1-S;b=c*c*F+S;var Q=c*d*F+e*O,Y=c*e*F-d*O,U=c*d*F-e*O,ua=d*d*F+S,ka=d*e*F+c*O,wa=c*e*F+d*O;c=d*e*F-c*O;e=e*e*F+S;return Ad(a,h*b+m*Q+u*Y,k*b+p*Q+z*Y,l*b+q*Q+y*Y,n*b+s*Q+I*Y,h*U+m*ua+u*ka,k*U+p*ua+z*ka,l*U+q*ua+y*ka,n*U+s*ua+I*ka,h*wa+m*c+u*e,k*wa+p*c+z*e,l*wa+q*c+y*e,n*wa+s*c+I*e,a[12],a[13],a[14],a[15])};
A.o.jr=function(a,b){var c=a[4],d=a[5],e=a[6],h=a[7],k=a[8],l=a[9],n=a[10],m=a[11],p=Math.cos(b),q=Math.sin(b);a[4]=c*p+k*q;a[5]=d*p+l*q;a[6]=e*p+n*q;a[7]=h*p+m*q;a[8]=c*-q+k*p;a[9]=d*-q+l*p;a[10]=e*-q+n*p;a[11]=h*-q+m*p;return a};A.o.kr=function(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[8],l=a[9],n=a[10],m=a[11],p=Math.cos(b),q=Math.sin(b);a[0]=c*p+k*-q;a[1]=d*p+l*-q;a[2]=e*p+n*-q;a[3]=h*p+m*-q;a[8]=c*q+k*p;a[9]=d*q+l*p;a[10]=e*q+n*p;a[11]=h*q+m*p;return a};
A.o.lr=function(a,b){var c=a[0],d=a[1],e=a[2],h=a[3],k=a[4],l=a[5],n=a[6],m=a[7],p=Math.cos(b),q=Math.sin(b);a[0]=c*p+k*q;a[1]=d*p+l*q;a[2]=e*p+n*q;a[3]=h*p+m*q;a[4]=c*-q+k*p;a[5]=d*-q+l*p;a[6]=e*-q+n*p;a[7]=h*-q+m*p;return a};v("X.matrix.identity",A.o.Bn);v("X.matrix.clone",A.o.clone);v("X.matrix.transpose",A.o.Yv);v("X.matrix.determinant",A.o.ZE);v("X.matrix.invert",A.o.pb);v("X.matrix.multiply",A.o.multiply);v("X.matrix.multiplyByVector",A.o.Bb);v("X.matrix.multiplyByVec4",A.o.uA);
v("X.matrix.makePerspective",A.o.mu);v("X.matrix.makeFrustum",A.o.fI);v("X.matrix.makeOrtho",A.o.gI);v("X.matrix.makeLookAt",A.o.kA);v("X.matrix.translate",A.o.translate);v("X.matrix.scale",A.o.scale);v("X.matrix.rotate",A.o.rotate);v("X.matrix.rotateX",A.o.jr);v("X.matrix.rotateY",A.o.kr);v("X.matrix.rotateZ",A.o.lr);v("X.matrix.swapRows",A.o.TK);v("X.matrix.swapCols",A.o.SK);function Md(){$c.call(this);this.n="transform";this.lb=A.o.Bn()}w(Md,$c);Md.prototype.__defineGetter__("matrix",function(){return this.lb});Md.prototype.__defineSetter__("matrix",function(a){if(!(null!=a&&a instanceof Float32Array))throw Error("Invalid matrix.");this.lb=a;this.U()});f=Md.prototype;f.jr=function(a){if(!t(a)||-360>a||360<a)throw Error("Invalid angle.");A.o.jr(this.lb,a*Math.PI/180);this.U()};
f.kr=function(a){if(!t(a)||-360>a||360<a)throw Error("Invalid angle.");A.o.kr(this.lb,a*Math.PI/180);this.U()};f.lr=function(a){if(!t(a)||-360>a||360<a)throw Error("Invalid angle.");A.o.lr(this.lb,a*Math.PI/180);this.U()};f.gC=function(a){if(!t(a))throw Error("Invalid distance.");A.o.translate(this.lb,a,0,0);this.U()};f.hC=function(a){if(!t(a))throw Error("Invalid distance.");A.o.translate(this.lb,0,a,0);this.U()};
f.iC=function(a){if(!t(a))throw Error("Invalid distance.");A.o.translate(this.lb,0,0,a);this.U()};function Nd(a,b,c){a.lb[b+4*c]*=-1;a.U()}f.sF=function(){Nd(this,0,0)};f.tF=function(){Nd(this,1,1)};f.uF=function(){Nd(this,2,2)};f.U=function(){this.B=!0};v("X.transform",Md);v("X.transform.prototype.rotateX",Md.prototype.jr);v("X.transform.prototype.rotateY",Md.prototype.kr);v("X.transform.prototype.rotateZ",Md.prototype.lr);v("X.transform.prototype.translateX",Md.prototype.gC);
v("X.transform.prototype.translateY",Md.prototype.hC);v("X.transform.prototype.translateZ",Md.prototype.iC);v("X.transform.prototype.flipX",Md.prototype.sF);v("X.transform.prototype.flipY",Md.prototype.tF);v("X.transform.prototype.flipZ",Md.prototype.uF);v("X.transform.prototype.modified",Md.prototype.U);function Od(){$c.call(this);this.n="texture";this.$h=this.Qe=this.W=null;this.ts=this.us=0;this.Yw=!1;ya(this,new dd)}w(Od,$c);Od.prototype.__defineSetter__("rawData",function(a){this.$h=a;this.B=!0});Od.prototype.__defineSetter__("rawDataHeight",function(a){this.ts=a;this.B=!0});Od.prototype.__defineSetter__("rawDataWidth",function(a){this.us=a;this.B=!0});Od.prototype.__defineSetter__("grayscale",function(a){this.Yw=a;this.B=!0});v("X.texture",Od);function Pd(){this.sd=Qd;this.Sb=new Md;this.ya=[1,1,1];this.Dj=this.Ma=this.qc=this.S=this.s=null;this.hl=[];this.ab=!0;this.gl=this.Hm=1;this.$k=null;this.ym=!1;this.Cc=1;this.Xc=0;this.Gm=!0}var Qd="TRIANGLES";Pd.prototype.__defineSetter__("type",function(a){return this.sd=a});Pd.prototype.__defineGetter__("type",function(){return this.sd});Pd.prototype.__defineGetter__("texture",function(){this.Ma||(this.Ma=new Od);return this.Ma});Pd.prototype.__defineGetter__("transform",function(){return this.Sb});
Pd.prototype.__defineGetter__("points",function(){return this.s});Pd.prototype.__defineSetter__("points",function(a){this.s=a});Pd.prototype.__defineGetter__("normals",function(){return this.S});Pd.prototype.__defineSetter__("normals",function(a){this.S=a});Pd.prototype.__defineGetter__("colors",function(){return this.qc});Pd.prototype.__defineSetter__("colors",function(a){this.qc=a});Pd.prototype.__defineGetter__("color",function(){return this.ya});
Pd.prototype.__defineSetter__("color",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid color.");for(var b=this.h,c=b.length,d=0,d=0;d<c;d++)b[d].color=a;this.ya=a;this.B=!0});Pd.prototype.__defineGetter__("opacity",function(){return this.Cc});Pd.prototype.__defineSetter__("opacity",function(a){if(!t(a)||1<a||0>a)throw Error("Invalid opacity.");for(var b=this.h,c=b.length,d=0,d=0;d<c;d++)null!=b[d]&&(b[d].opacity=a);this.Cc=a;this.B=!0});Pd.prototype.__defineGetter__("caption",function(){return this.$k});
Pd.prototype.__defineSetter__("caption",function(a){this.$k=a;this.B=!0});Pd.prototype.__defineGetter__("visible",function(){return this.ab});Pd.prototype.__defineSetter__("visible",function(a){for(var b=this.h,c=b.length,d=0,d=0;d<c;d++)null!=b[d]&&(b[d].visible=a);this.ab=a;this.B=!0});Pd.prototype.__defineGetter__("pointsize",function(){return this.Hm});Pd.prototype.__defineSetter__("pointsize",function(a){if(!t(a))throw Error("Invalid point size.");this.Hm=a;this.B=!0});
Pd.prototype.__defineGetter__("magicmode",function(){return this.ym});Pd.prototype.__defineSetter__("magicmode",function(a){if(!ia(a))throw Error("Invalid magic mode setting.");this.ym=a;this.B=!0});Pd.prototype.__defineGetter__("linewidth",function(){return this.gl});Pd.prototype.__defineSetter__("linewidth",function(a){if(!t(a))throw Error("Invalid line width.");this.gl=a;this.B=!0});Pd.prototype.__defineGetter__("pickable",function(){return this.Gm});
Pd.prototype.__defineSetter__("pickable",function(a){if(!ia(a))throw Error("Invalid pickable setting.");this.Gm=a;this.B=!0});Pd.prototype.__defineGetter__("textureCoordinateMap",function(){return this.Dj});Pd.prototype.__defineSetter__("textureCoordinateMap",function(){});function Rd(){this.Id=Infinity;this.kb=this.Hb=-Infinity;this.mb=Infinity;this.Wh=[0,0,0];this.Uh=[1,1,1]}Rd.prototype.__defineGetter__("lowerThreshold",function(){return this.kb});Rd.prototype.__defineSetter__("lowerThreshold",function(a){this.kb=a});Rd.prototype.__defineGetter__("upperThreshold",function(){return this.mb});Rd.prototype.__defineSetter__("upperThreshold",function(a){this.mb=a});Rd.prototype.__defineGetter__("min",function(){return this.Id});Rd.prototype.__defineGetter__("max",function(){return this.Hb});
Rd.prototype.__defineGetter__("minColor",function(){return this.Wh});Rd.prototype.__defineSetter__("minColor",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid min. color.");this.Wh=a});Rd.prototype.__defineGetter__("maxColor",function(){return this.Uh});Rd.prototype.__defineSetter__("maxColor",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid max. color.");this.Uh=a});function Sd(){$c.call(this);this.n="scalars";this.um=this.Sa=null;this.kx=!0;this.hs=0;ya(this,new dd);ya(this,new Rd);this.Wh=[0,1,0];this.Uh=[1,0,0]}w(Sd,$c);Sd.prototype.__defineGetter__("array",function(){return this.Sa});Sd.prototype.__defineSetter__("array",function(a){this.um=this.Sa=a;this.B=!0});Sd.prototype.__defineGetter__("interpolation",function(){return this.hs});Sd.prototype.__defineSetter__("interpolation",function(a){this.hs=a});v("X.scalars",Sd);function Ud(a){$c.call(this);this.n="object";this.h=[];this.La=this.Wc=null;ya(this,new Pd);null!=a&&this.Rj(a)}w(Ud,$c);
Ud.prototype.Rj=function(a){this.sd=a.sd;this.Sb=new Md;this.Sb.lb=new Float32Array(a.Sb.lb);this.ya=a.ya.slice();a.s&&(this.s=new ad(a.s.length,a.s));a.S&&(this.S=new ad(a.S.length,a.S));a.qc&&(this.qc=new ad(a.qc.length,a.qc));this.Ma=a.Ma;this.Dj=a.Dj;a.W&&(this.W=new cd((new String(a.W.tp)).toString()));this.Cc=a.Cc;this.h.length=0;var b=a.h;if(b)for(var c=b.length,d=0,d=0;d<c;d++)this.h.push(new A[b[d].n](b[d]));this.ab=a.ab;this.Hm=a.Hm;this.gl=a.gl;a.$k&&(this.$k=(new String(a.$k)).toString());
this.ym=a.ym;this.Gm=a.Gm;this.hl=a.hl.slice();this.B=!0};Ud.prototype.__defineGetter__("colortable",function(){this.Wc||(this.Wc=new kd);return this.Wc});Ud.prototype.__defineGetter__("scalars",function(){this.La||(this.La=new Sd);return this.La});Ud.prototype.__defineGetter__("children",function(){return this.h});Ud.prototype.U=function(){var a=new Vd;a.Ga=this;this.dispatchEvent(a)};Ud.prototype.remove=function(){var a=new Wd;a.Ga=this;this.dispatchEvent(a)};
Ud.prototype.Jb=function(){H(this);if(0<this.h.length)for(var a=this.h,b=a.length,c=0,c=0;c<b;c++)"undefined"!=typeof a[c]&&this.h[c].Jb();this.h.length=0;this.La=this.Wc=null};function Xd(a,b){if(!(null!=a&&null!=b&&a instanceof Ud&&b instanceof Ud))throw Error("Fatal: Two valid X.objects are required for comparison.");return 1==a.Cc?-1:1==b.Cc?1:null!=a.Xc&&null!=b.Xc&&a.Xc>b.Xc?-1:1}v("X.object",Ud);v("X.object.prototype.modified",Ud.prototype.U);v("X.object.prototype.remove",Ud.prototype.remove);
v("X.object.prototype.destroy",Ud.prototype.Jb);function Yd(a){Bc.call(this,a);this.n="event"}w(Yd,Bc);var Zd="pan"+B(),$d="rotate"+B(),ae="zoom"+B(),be="scroll"+B();B();var ce="resetview"+B(),de="windowlevel"+B(),ee="modified"+B(),fe="remove"+B(),ge="progress"+B(),he="hover"+B(),ke="hover_end"+B(),le="computing"+B(),me="computing_end"+B(),ne="computing_progress"+B();function oe(){Yd.call(this,de);this.ms=this.Bs=0}w(oe,Yd);function pe(){Yd.call(this,Zd);this.Xc=new A.K(0,0,0)}w(pe,Yd);function qe(){Yd.call(this,$d);this.Xc=new A.K(0,0,0)}
w(qe,Yd);function ue(){Yd.call(this,ae);this.wf=this.kg=!1}w(ue,Yd);function ve(){Yd.call(this,be);this.qb=!1}w(ve,Yd);function we(){Yd.call(this,he);this.Ap=this.zp=0}w(we,Yd);function xe(){Yd.call(this,ke)}w(xe,Yd);function ye(){Yd.call(this,ce)}w(ye,Yd);function Vd(){Yd.call(this,ee);this.na=this.Ga=null}w(Vd,Yd);function Wd(){Yd.call(this,fe);this.na=this.Ga=null}w(Wd,Yd);function ze(){Yd.call(this,ge);this.Fj=0}w(ze,Yd);function Ae(){Yd.call(this,le);this.Ga=null}w(Ae,Yd);
function Be(){Yd.call(this,ne);this.Fj=0}w(Be,Yd);function Ce(){Yd.call(this,me);this.Ga=null}w(Ce,Yd);v("X.event.events.PAN",Zd);v("X.event.events.ROTATE",$d);v("X.event.events.ZOOM",ae);v("X.event.events.SCROLL",be);function De(){$c.call(this);this.n="parser";this._data=null;this.Fa=0;this.gE=0<(new Int8Array((new Int16Array([1])).buffer))[0];this.pp=!0}w(De,$c);De.prototype.parse=function(){throw Error("The function parse() should be overloaded.");};function Ee(a){for(var b=Infinity,c=-Infinity,d=a.length,e=0,e=0;e<d;e++)if(!isNaN(a[e]))var h=a[e],b=Math.min(b,h),c=Math.max(c,h);return[b,c]}
function Fe(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);for(var d="",e=0,e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}
De.prototype.f=function(a,b){null!=b||(b=1);var c=1,d=Uint8Array;switch(a){case "schar":d=Int8Array;break;case "ushort":d=Uint16Array;c=2;break;case "sshort":d=Int16Array;c=2;break;case "uint":d=Uint32Array;c=4;break;case "sint":d=Int32Array;c=4;break;case "float":d=Float32Array;c=4;break;case "complex":d=Float64Array;c=8;break;case "double":d=Float64Array,c=8}d=new d(this._data.slice(this.Fa,this.Fa+=b*c));if(this.gE!=this.pp)for(var e=new Uint8Array(d.buffer,d.byteOffset,d.byteLength),h=0;h<d.byteLength;h+=
c)for(var k=h+c-1,l=h;k>l;k--,l++){var n=e[l];e[l]=e[k];e[k]=n}return 1==b?d[0]:d};
function Ge(a,b){var c=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],d=xd(0,0,0,1),e=wd();Jd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=xd(0,0,b[2]-1,1);Jd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=xd(0,b[1]-
1,0,1);Jd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=xd(b[0]-1,0,0,1);Jd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=xd(b[0]-1,b[1]-1,0,1);Jd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];
c[5]=e[2]>c[5]?e[2]:c[5];d=xd(b[0]-1,0,b[2]-1,1);Jd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=xd(0,b[1]-1,b[2]-1,1);Jd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];d=xd(b[0]-1,b[1]-1,b[2]-1,1);Jd(a,d,e);c[0]=e[0]<c[0]?e[0]:c[0];c[1]=e[0]>c[1]?e[0]:c[1];c[2]=e[1]<c[2]?e[1]:
c[2];c[3]=e[1]>c[3]?e[1]:c[3];c[4]=e[2]<c[4]?e[2]:c[4];c[5]=e[2]>c[5]?e[2]:c[5];return c}
function He(a,b){var c=zd();if(a.length!=b.length||a[0]!=b[0]||a[1]!=b[1]||a[2]!=b[2]){var d=Math.acos(a[2]),e=td(),h=a[0],k=a[1],l=a[2],n=b[0],m=b[1],p=b[2];e[0]=k*p-l*m;e[1]=l*n-h*p;e[2]=h*m-k*n;vd(e,e);h=Math.cos(d/2);k=Math.sin(d/2)*e[0];l=Math.sin(d/2)*e[1];d=Math.sin(d/2)*e[2];L(c,0,h*h+k*k-l*l-d*d,2*(k*l-h*d),2*(k*d+h*l),0);L(c,1,2*(k*l+h*d),h*h+l*l-k*k-d*d,2*(l*d-h*k),0);L(c,2,2*(k*d-h*l),2*(l*d+h*k),h*h+d*d-l*l-k*k,0)}d=yd();Hd(c,d);return[c,d]}
function Ie(a,b,c,d,e,h,k,l,n){var m=new Je;vd(c,c);for(var p=[],q=[],s=0;6>s;s++)for(var u=Math.floor(s/2),z=(u+1)%3,y=(u+2)%3,I=(4+2*u)%6,S=0;2>S;S++){var O=(2+S+2*u)%6,F=-(c[u]*(e[s]-a[u])+c[z]*(e[O]-a[z]))/c[y]+a[y];if(F>=e[I]&&F<=e[I+1]||F<=e[I]&&F>=e[I+1]){var Q=[];Q[u]=e[s];Q[z]=e[O];Q[y]=F;p.push(Q)}else Q=[],Q[u]=e[s],Q[z]=e[O],Q[y]=F,q.push(Q)}a=ud(0,0,1);a=He(c,a);e=a[0];a=a[1];u=[];for(q=0;q<p.length;++q)s=xd(p[q][0],p[q][1],p[q][2],1),z=wd(),Jd(e,s,z),u.push([z[0],z[1],z[2]]);e=ud(1,
0,0);p=td();Id(a,e,p);q=ud(0,1,0);e=td();Id(a,q,e);s=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];for(q=q=0;q<u.length;++q)u[q][0]<s[0]&&(s[0]=u[q][0]),u[q][0]>s[1]&&(s[1]=u[q][0]),u[q][1]<s[2]&&(s[2]=u[q][1]),u[q][1]>s[3]&&(s[3]=u[q][1]),u[q][2]<s[4]&&(s[4]=u[q][2]),u[q][2]>s[5]&&(s[5]=u[q][2]);q=xd(s[0]+(s[1]-s[0])/2,s[2]+(s[3]-s[2])/2,s[4]+(s[5]-s[4])/2,0);u=wd();Gd(a,q,u);z=Math.floor(s[0]);y=Math.ceil(s[1]);z==y&&y++;I=y-z;S=Math.floor(s[2]);
O=Math.ceil(s[3]);S==O&&O++;F=O-S;Q=b[0];b=b[1];var q=Math.ceil(I/Q),Y=Math.ceil(F/b),U=new Uint8Array(4*q*Y),ua=new Od;ua.us=q;ua.ts=Y;var Y=wd(),ka=xd(0,0,s[4],1),wa=yd();Gd(k.YD,a,wa);for(var Ma=O-1E-7,Fa=y-1E-7,Ia=0,la=0,za=0,qa=S,qa=S;qa<=Ma;qa+=b)for(za++,la=0,ka[1]=qa,q=z;q<=Fa;q+=Q){la++;ka[0]=q;Jd(wa,ka,Y);var Cc=4*Ia,re=Math.floor(Y[2]),se=Math.floor(Y[1]),te=Math.floor(Y[0]);if(0<=te&&te<k.$a[0]&&0<=se&&se<k.$a[1]&&0<=re&&re<k.$a[2]){var Td=h[re][se][te],Jh=te=se=re=0;n?((Td=n.get(Td))||
(Td=[0,.61,0,0,1]),re=255*Td[1],se=255*Td[2],te=255*Td[3],Jh=255*Td[4]):(re=se=te=Td/k.Hb*255,Jh=255);U[Cc]=re;U[++Cc]=se;U[++Cc]=te;U[++Cc]=Jh}else U[Cc]=0,U[++Cc]=0,U[++Cc]=0,U[++Cc]=0;Ia++}ua.$h=U;m.Ma=ua;m.mE=s;m.$D=a;m.ZD=wa;m.fE=S;m.MN=O;m.lE=z;m.NN=y;m.$w=la;m.Zw=za;m.bh=Q;m.Na=I;m.Xg=b;m.za=F;m.Ea=[u[0],u[1],u[2]];m.uj=[c[0],c[1],c[2]];m.il=[p[0],p[1],p[2]];m.qb=[e[0],e[1],e[2]];m.ab=!1;m.mg=k;m.Wg=null==k.mg||l?!0:!1;m.sj=d;m.We();m.ab=!1;return m}
function Ke(a,b,c,d){var e;e=d.ec;for(var h=[],k=[],l=0;6>l;l++){var n=Math.floor(l/2),m=(n+1)%3,p=(n+2)%3,q=(2+2*n)%6,s=(4+2*n)%6,u=1/c[n]*(e[l]-b[n]);if(Infinity!=u&&-Infinity!=u){var z=b[m]+c[m]*u,u=b[p]+c[p]*u;z>=e[q]&&z<=e[q+1]&&u>=e[s]&&u<=e[s+1]?(q=[],q[n]=e[l],q[m]=z,q[p]=u,h.push(q)):(q=[],q[n]=e[l],q[m]=z,q[p]=u,k.push(q))}}e=[h,k];b=e[0];d.d[a].C=e;e=md(new K(b[0][0],b[0][1],b[0][2]),new K(b[1][0],b[1][1],b[1][2]));d.d[a].LN=e;h=ud(0,0,1);k=He(c,h)[0];l=xd(d.rm[0],d.rm[1],d.rm[2],0);h=
wd();Jd(k,l,h);k=wd();l=h[2];k[0]=c[0]*l;k[1]=c[1]*l;k[2]=c[2]*l;k[3]=c[3]*l;.5>Math.abs(h[0])&&(h[0]=.5);.5>Math.abs(h[1])&&(h[1]=.5);d.d[a].rd=[Math.abs(h[0]),Math.abs(h[1])];d.d[a].ll=h[2];d.d[a].Ha=k;e=Math.floor(Math.abs(e/h[2]));d.Jm[a]=e+1;d.d[a].T=e+1;d.d[a].C[0][0][0]>d.d[a].C[0][1][0]?0<k[0]&&(e=d.d[a].C[0][0],d.d[a].C[0][0]=d.d[a].C[0][1],d.d[a].C[0][1]=e):d.d[a].C[0][0][0]<d.d[a].C[0][1][0]?0>k[0]&&(e=d.d[a].C[0][0],d.d[a].C[0][0]=d.d[a].C[0][1],d.d[a].C[0][1]=e):d.d[a].C[0][0][1]>d.d[a].C[0][1][1]?
0<k[1]&&(e=d.d[a].C[0][0],d.d[a].C[0][0]=d.d[a].C[0][1],d.d[a].C[0][1]=e):d.d[a].C[0][0][1]<d.d[a].C[0][1][1]?0>k[1]&&(e=d.d[a].C[0][0],d.d[a].C[0][0]=d.d[a].C[0][1],d.d[a].C[0][1]=e):d.d[a].C[0][0][2]>d.d[a].C[0][1][2]?0<k[2]&&(e=d.d[a].C[0][0],d.d[a].C[0][0]=d.d[a].C[0][1],d.d[a].C[0][1]=e):d.d[a].C[0][0][2]<d.d[a].C[0][1][2]&&0>k[2]&&(e=d.d[a].C[0][0],d.d[a].C[0][0]=d.d[a].C[0][1],d.d[a].C[0][1]=e);d.d[a].qs=-(c[0]*b[0][0]+c[1]*b[0][1]+c[2]*b[0][2])}
function Le(a,b){var c;c=b._data;for(var d=b.$a,e=b.Hb,h=Array(d[2]),k=Array(d[2]),l=d[1]*d[0],n=0,m=0,p=0,q=0,s=0,q=0;q<d[2];q++){var u=c.subarray(q*l,(q+1)*l),s=0;k[q]=Array(d[1]);h[q]=Array(d[1]);for(p=0;p<d[1];p++)for(k[q][p]=new c.constructor(d[0]),h[q][p]=new c.constructor(d[0]),m=0;m<d[0];m++)n=u[s],k[q][p][m]=n/e*255,h[q][p][m]=n,s++}c=[h,k];b.xb=c[0];b.Tw=c[1];A.Fd(a.n+".reslice");b.Va=null!=b.m;b.Wc&&(b.tm=b.Wc.Hd);b.zO=[0,0,0];b.ga=[b.pd[0]+(b.vf[0]-1)/2,b.pd[1]+(b.vf[1]-1)/2,b.pd[2]+(b.vf[2]-
1)/2];b.ec=[Math.min(b.pd[0],b.pd[0]+b.vf[0]-1),Math.max(b.pd[0],b.pd[0]+b.vf[0]-1),Math.min(b.pd[1],b.pd[1]+b.vf[1]-1),Math.max(b.pd[1],b.pd[1]+b.vf[1]-1),Math.min(b.pd[2],b.pd[2]+b.vf[2]-1),Math.max(b.pd[2],b.pd[2]+b.vf[2]-1)];b.d=[{},{},{}];c=ud(b.ga[0],b.ga[1],b.ga[2]);b.d[0].Km=c;d=ud(1,0,0);vd(d,d);b.d[0].v=d;e=[1,0,0];b.d[0].ya=e;Ke(0,c,d,b);b.h[0].h=Array(b.d[0].T);c[0]=b.d[0].C[0][0][0]+b.d[0].Ha[0]*Math.floor(b.d[0].T/2);c[1]=b.d[0].C[0][0][1]+b.d[0].Ha[1]*Math.floor(b.d[0].T/2);c[2]=b.d[0].C[0][0][2]+
b.d[0].Ha[2]*Math.floor(b.d[0].T/2);c=Ie(c,b.d[0].rd,b.d[0].v,b.d[0].ya,b.ec,b.xb,b,b.Va,b.tm);b.Va&&(c.m=b.m.h[0].h[Math.floor(b.d[0].T/2)].Ma);b.h[0].h[Math.floor(b.d[0].T/2)]=c;b.Yg=Math.floor(b.d[0].T/2);b.cl=Math.floor(b.d[0].T/2);c=ud(b.ga[0],b.ga[1],b.ga[2]);b.d[1].Km=c;d=ud(0,1,0);vd(d,d);b.d[1].v=d;e=[0,1,0];b.d[1].ya=e;Ke(1,c,d,b);b.h[1].h=Array(b.d[1].T);c[0]=b.d[1].C[0][0][0]+b.d[1].Ha[0]*Math.floor(b.d[1].T/2);c[1]=b.d[1].C[0][0][1]+b.d[1].Ha[1]*Math.floor(b.d[1].T/2);c[2]=b.d[1].C[0][0][2]+
b.d[1].Ha[2]*Math.floor(b.d[1].T/2);c=Ie(c,b.d[1].rd,b.d[1].v,b.d[1].ya,b.ec,b.xb,b,b.Va,b.tm);b.Va&&(c.m=b.m.h[1].h[Math.floor(b.d[1].T/2)].Ma);b.h[1].h[Math.floor(b.d[1].T/2)]=c;b.Zg=Math.floor(b.d[1].T/2);b.dl=Math.floor(b.d[1].T/2);c=ud(b.ga[0],b.ga[1],b.ga[2]);b.d[2].Km=c;d=ud(0,0,1);vd(d,d);b.d[2].v=d;e=[0,.392,.804];b.d[2].ya=e;Ke(2,c,d,b);b.h[2].h=Array(b.d[2].T);c[0]=b.d[2].C[0][0][0]+b.d[2].Ha[0]*Math.floor(b.d[2].T/2);c[1]=b.d[2].C[0][0][1]+b.d[2].Ha[1]*Math.floor(b.d[2].T/2);c[2]=b.d[2].C[0][0][2]+
b.d[2].Ha[2]*Math.floor(b.d[2].T/2);c=Ie(c,b.d[2].rd,b.d[2].v,b.d[2].ya,b.ec,b.xb,b,b.Va,b.tm);b.Va&&(c.m=b.m.h[2].h[Math.floor(b.d[2].T/2)].Ma);b.h[2].h[Math.floor(b.d[2].T/2)]=c;b.$g=Math.floor(b.d[2].T/2);b.el=Math.floor(b.d[2].T/2);A.md(a.n+".reslice");return b.xb};function Me(){De.call(this);this.n="parserOFF"}w(Me,De);
Me.prototype.parse=function(a,b,c){function d(){if(n===e)throw Error("End of file reached unexpectedly.");for(var a=n;a<e;++a)if(10===h[a]){var b=Fe(h,n,a);n=a+1;return b}n=e;return Fe(h,n,e-1)}A.Fd(this.n+".parse");this._data=c;var e=c.byteLength,h=this.f("uchar",e);c=[];b.s=new ad(e);b.S=new ad(e);for(var k=b.s,l=b.S,n=0,m=d(),m=("OFF"===m?d():m).split(" "),p=m[0],m=m[1];p--;){var q=d(),q=q.split(" ");c.push([parseFloat(q[0]),parseFloat(q[1]),parseFloat(q[2])])}for(;m--;){var q=d(),q=q.split(" "),
s=c[parseInt(q[1],10)],p=c[parseInt(q[2],10)],q=c[parseInt(q[3],10)];k.add(s[0],s[1],s[2]);k.add(p[0],p[1],p[2]);k.add(q[0],q[1],q[2]);s=new K(s[0],s[1],s[2]);q=new K(q[0],q[1],q[2]);p=pd((new K(p[0],p[1],p[2])).mc(s),q.mc(s));p.normalize();l.add(p.x,p.y,p.z);l.add(p.x,p.y,p.z);l.add(p.x,p.y,p.z)}A.md(this.n+".parse");c=new Vd;c.Ga=b;c.na=a;this.dispatchEvent(c)};v("X.parserOFF",Me);v("X.parserOFF.prototype.parse",Me.prototype.parse);function Ne(){De.call(this);this.n="parserDCM"}w(Ne,De);
Ne.prototype.parse=function(a,b,c){window.console.log(b);b.Ug={};b.Ug.Rn=0;this.yh(c,b);if(null==b.W.length||b.ta.length==b.W.length){b.Ug.Rn=b.W.length;var d={};c={};for(var e=0;e<b.ta.length;e++)d.hasOwnProperty(b.ta[e].series_instance_uid)||(d[b.ta[e].series_instance_uid]=[],c[b.ta[e].series_instance_uid]={}),c[b.ta[e].series_instance_uid].hasOwnProperty(b.ta[e].sop_instance_uid)||(c[b.ta[e].series_instance_uid][b.ta[e].sop_instance_uid]=!0,d[b.ta[e].series_instance_uid].push(b.ta[e]));var h=Object.keys(d)[0],
e=d[h],k=e.length;c={};var l="image_position_patient";1==k?(l="image_position_patient",d[h][0].dist=0):e[0].image_position_patient[0]!=e[1].image_position_patient[0]||e[0].image_position_patient[1]!=e[1].image_position_patient[1]||e[0].image_position_patient[2]!=e[1].image_position_patient[2]?(l="image_position_patient",d=new K(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),h=new K(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],
e[0].image_orientation_patient[5]),d=pd(d,h),e.map(function(a,b){b.dist=b.image_position_patient[0]*a.x+b.image_position_patient[1]*a.y+b.image_position_patient[2]*a.z;return b}.bind(null,d)),e.sort(function(a,b){return a.dist-b.dist})):e[0].instance_number!=e[1].instance_number?(l="instance_number",e.sort(function(a,b){return a.instance_number-b.instance_number})):window.console.log("Could not resolve the ordering mode");isNaN(e[0].pixel_spacing[0])&&(e[0].pixel_spacing[0]=1);isNaN(e[0].pixel_spacing[1])&&
(e[0].pixel_spacing[1]=1);if(1<k)switch(l){case "image_position_patient":var n=e[0].image_position_patient,d=e[1].image_position_patient,h=d[0]-n[0],m=d[1]-n[1],p=d[2]-n[2];e[0].pixel_spacing[2]=Math.sqrt(h*h+m*m+p*p);break;case "instance_number":e[0].pixel_spacing[2]=1;break;default:window.console.log("Unkown ordering mode - returning: "+l)}else e[0].pixel_spacing[2]=1;d=1;switch(l){case "image_position_patient":var n=e[0].image_position_patient,q=e[k-1].image_position_patient,h=q[0]-n[0],m=q[1]-
n[1],p=q[2]-n[2],h=Math.sqrt(h*h+m*m+p*p),d=d+Math.round(h/e[0].pixel_spacing[2]);break;case "instance_number":d+=Math.abs(e[k-1].instance_number-e[0].instance_number);break;default:window.console.log("Unkown ordering mode - returning: "+l)}n=e[0].columns*e[0].rows;h=n*d;q=null;switch(e[0].Mj){case 8:q=new Uint8Array(h);break;case 16:q=new Uint16Array(h);break;case 32:q=new Uint32Array(h);default:window.console.log("Unknown number of bits allocated - using default: 32 bits")}b.Se=e[0].pixel_spacing;
for(var s=0;s<k;s++){var u=e[s].data,h=0;switch(l){case "image_position_patient":h=e[s].image_position_patient[0]-e[0].image_position_patient[0];m=e[s].image_position_patient[1]-e[0].image_position_patient[1];p=e[s].image_position_patient[2]-e[0].image_position_patient[2];h=Math.sqrt(h*h+m*m+p*p)/e[0].pixel_spacing[2];break;case "instance_number":h=e[s].instance_number-e[0].instance_number;break;default:window.console.log("Unkown ordering mode - returning: "+l)}q.set(u,h*n)}c.data=q;b._data=q;b.$a=
[e[0].columns,e[0].rows,d];c.aF=b.$a;d=Ee(q);k=d[0];d=d[1];c.min=b.Id=b.Ab=k;c.max=b.Hb=b.zb=d;-Infinity==b.kb&&(b.kb=k);Infinity==b.mb&&(b.mb=d);m=e[0].image_position_patient;k=yd();if("false"==b.reslicing||!1==b.reslicing)L(k,0,e[0].pixel_spacing[0],0,0,0),L(k,1,0,e[0].pixel_spacing[1],0,0),L(k,2,0,0,e[0].pixel_spacing[2],0),L(k,3,0,0,0,1);else switch(l){case "image_position_patient":d=new K(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]);h=
new K(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]);d=pd(d,h);L(k,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2],-m[0]);L(k,1,-e[0].image_orientation_patient[1]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2],-m[1]);L(k,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*
e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2],m[2]);L(k,3,0,0,0,1);break;case "instance_number":L(k,0,-1,0,0,-m[0]);L(k,1,-0,-1,-0,-m[1]);L(k,2,0,0,1,m[2]);L(k,3,0,0,0,1);break;default:window.console.log("Unkown ordering mode - returning: "+l)}c.je=k;c.me=yd();Hd(c.je,c.me);l=xd(0,0,0,1);e=wd();Jd(k,l,e);l=xd(1,1,1,1);d=wd();Jd(k,l,d);c.nj=[d[0]-e[0],d[1]-e[1],d[2]-e[2]];e=Ge(k,[b.$a[0],b.$a[1],b.$a[2]]);c.lj=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];c.mj=[e[0],e[2],e[4]];b.We(c);b.Qe=Le(this,b)}c=
new Vd;c.Ga=b;c.na=a;this.dispatchEvent(c)};Ne.prototype.Sd=function(a,b,c,d){switch(c){case 16975:case 20819:case 20053:case 22351:c=function(a){for(var b="",c=128;1<=c;c/=2)b+=a&c?"1":"0";return b};d=a[b++];a=a[b++];d=parseInt(c((a&65280)>>8)+c(a&255)+(c((d&65280)>>8)+c(d&255)),2);4294967295==d&&(d=0);b+=d/2;break;default:b+=d/2}return b};
Ne.prototype.yh=function(a,b){this._data=a;if("undefined"==typeof b.ta||null==b.ta)b.ta=[];for(var c={pixel_spacing:[.1,.1,Infinity],image_orientation_patient:[1,0,0,0,1,0],image_position_patient:[0,0,0],transfer_syntax_uid:"no_transfer_syntax_uid"},d=this.f("ushort",this._data.byteLength),e=66,h=null,k=null,l=null,n=null;e<d.length;)switch(h=d[e++],k=d[e++],l=d[e++],n=d[e++],"1.2.840.10008.1.2"==c.transfer_syntax_uid&&0==n&&(n=l),h){case 2:switch(k){case 16:for(var m="",h=h=0;h<n/2;h++)l=d[e++],
k=l&255,l=(l&65280)>>8,m+=String.fromCharCode(k),m+=String.fromCharCode(l);c.transfer_syntax_uid=m.replace(/\0/g,"");break;default:e=Ne.prototype.Sd(d,e,l,n)}break;case 40:switch(k){case 16:c.rows=d[e];e+=n/2;break;case 17:c.columns=d[e];e+=n/2;break;case 256:c.Mj=d[e];e+=n/2;break;case 257:c.bits_stored=d[e];e+=n/2;break;case 2:c.number_of_images=d[e];e+=n/2;break;case 48:m="";for(h=0;h<n/2;h++)l=d[e++],k=l&255,l=(l&65280)>>8,m+=String.fromCharCode(k),m+=String.fromCharCode(l);m=m.split("\\");c.pixel_spacing=
[parseFloat(m[0]),parseFloat(m[1]),Infinity];break;default:e=Ne.prototype.Sd(d,e,l,n)}break;case 32:switch(k){case 14:c.series_instance_uid="";for(h=0;h<n/2;h++)l=d[e++],k=l&255,l=(l&65280)>>8,c.series_instance_uid+=String.fromCharCode(k),c.series_instance_uid+=String.fromCharCode(l);break;case 19:m="";for(h=0;h<n/2;h++)l=d[e++],k=l&255,l=(l&65280)>>8,m+=String.fromCharCode(k),m+=String.fromCharCode(l);c.instance_number=parseInt(m,10);break;case 50:m="";for(h=0;h<n/2;h++)l=d[e++],k=l&255,l=(l&65280)>>
8,m+=String.fromCharCode(k),m+=String.fromCharCode(l);m=m.split("\\");c.image_position_patient=[parseFloat(m[0]),parseFloat(m[1]),parseFloat(m[2])];break;case 55:m="";for(h=0;h<n/2;h++)l=d[e++],k=l&255,l=(l&65280)>>8,m+=String.fromCharCode(k),m+=String.fromCharCode(l);m=m.split("\\");c.image_orientation_patient=[parseFloat(m[0]),parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]),parseFloat(m[4]),parseFloat(m[5])];break;default:e=Ne.prototype.Sd(d,e,l,n)}break;case 65534:switch(k){default:n=0,e+=n/
2}break;case 8:switch(k){case 24:c.sop_instance_uid="";for(h=0;h<n/2;h++)l=d[e++],k=l&255,l=(l&65280)>>8,c.sop_instance_uid+=String.fromCharCode(k),c.sop_instance_uid+=String.fromCharCode(l);break;default:e=Ne.prototype.Sd(d,e,l,n)}break;case 16:switch(k){case 8720:for(h=0;h<n/2;h++)e++;break;default:e=Ne.prototype.Sd(d,e,l,n)}break;default:e=Ne.prototype.Sd(d,e,l,n)}switch(c.Mj){case 8:c.data=new Uint8Array(c.columns*c.rows);break;case 16:c.data=new Uint16Array(c.columns*c.rows);break;case 32:c.data=
new Uint32Array(c.columns*c.rows)}this.Fa=this._data.byteLength-c.columns*c.rows*2;d=null;switch(c.Mj){case 8:d=this.f("uchar",c.columns*c.rows);break;case 16:d=this.f("ushort",c.columns*c.rows);break;case 32:d=this.f("uint",c.columns*c.rows)}c.data=d;b.ta.push(c);return b};v("X.parserDCM",Ne);v("X.parserDCM.prototype.parse",Ne.prototype.parse);function Oe(){De.call(this);this.n="parserVTK"}w(Oe,De);
Oe.prototype.parse=function(a,b,c){A.Fd(this.n+".parse");var d=b.s,e=b.S,h=new Uint8Array(c),k="";b.s=d=new ad(c.byteLength);b.S=e=new ad(c.byteLength);c=0;for(var l=h.length;c<l;c+=32768)k+=Fe(h,c,Math.min(c+32768,l));h=k.split("\n");k=h.length;this.Nm=this.Om=null;this.vj=[];this.qe=Qd;this.ps=this.Xh=this.Sh=this.Yh=!1;c=0;for(l=k%8;l--;)Pe(this,h[c]),c++;for(l=.125*k^0;l--;)Pe(this,h[c]),c++,Pe(this,h[c]),c++,Pe(this,h[c]),c++,Pe(this,h[c]),c++,Pe(this,h[c]),c++,Pe(this,h[c]),c++,Pe(this,h[c]),
c++,Pe(this,h[c]),c++;c=this.Om;var h=this.Nm,k=h.length,n=l=this.vj.length;do{var m=this.vj[l-n],p=m.length,q;for(q=0;q<p&&!("LINES"==this.qe&&q+1>=p);q++){var s=parseInt(m[q],10),u=c.get(s);d.add(u[0],u[1],u[2]);var z=s,y=u;"LINES"==this.qe?(z=parseInt(m[q+1],10),y=c.get(z),d.add(y[0],y[1],y[2])):"TRIANGLE_STRIPS"==this.qe&&(0!=q&&q!=p-1||d.add(u[0],u[1],u[2]));s<k?(y=h.get(s),e.add(y[0],y[1],y[2]),"LINES"==this.qe?(z=h.get(z),e.add(z[0],z[1],z[2])):"TRIANGLE_STRIPS"==this.qe&&(0!=q&&q!=p-1||e.add(y[0],
y[1],y[2]))):(z=new K(u[0],u[1],u[2]),z.normalize(),e.add(z.x,z.y,z.z),"LINES"==this.qe?(z=new K(y[0],y[1],y[2]),z.normalize(),e.add(z.x,z.y,z.z)):"TRIANGLE_STRIPS"==this.qe&&(0!=q&&q!=p-1||e.add(z.x,z.y,z.z)))}n--}while(0<n);b.sd=this.qe;A.md(this.n+".parse");d=new Vd;d.Ga=b;d.na=a;this.dispatchEvent(d)};
function Pe(a,b){b=b.replace(/^\s+|\s+$/g,"");var c=b.split(" "),d=c.length,e=c[0];switch(e){case "POINTS":a.Yh=!0;a.Sh=!1;a.Xh=!1;c=parseInt(c[1],10);a.Om=new ad(3*c);a.Nm=new ad(3*c);return;case "VERTICES":a.Sh=!0;a.Yh=!1;a.Xh=!1;c=parseInt(c[1],10);if(3<=c)a.qe=Qd;else if(1==c)a.qe="POINTS";else throw Error("This VTK file is not supported!");a.vj=[];return;case "TRIANGLE_STRIPS":a.Sh=!0;a.Yh=!1;a.Xh=!1;a.qe="TRIANGLE_STRIPS";a.vj=[];return;case "LINES":a.Sh=!0;a.Yh=!1;a.Xh=!1;a.qe="LINES";a.vj=
[];return;case "POLYGONS":a.Sh=!0;a.Yh=!1;a.Xh=!1;a.qe="POLYGONS";a.vj=[];return;case "POINT_DATA":a.Xh=!0;a.Yh=!1;a.Sh=!1;return}if(a.Yh)if(1==d||isNaN(parseFloat(e)))a.Yh=!1;else{if(3<=d){var e=parseFloat(c[0]),h=parseFloat(c[1]),k=parseFloat(c[2]);a.Om.add(e,h,k)}6<=d&&(e=parseFloat(c[3]),h=parseFloat(c[4]),k=parseFloat(c[5]),a.Om.add(e,h,k));9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),a.Om.add(d,e,c))}else a.Sh?1==d||isNaN(parseFloat(e))?a.Sh=!1:(c=c.slice(1),a.vj.push(c)):
a.Xh&&("NORMALS"==e?a.ps=!0:1==d||isNaN(parseFloat(e))?(a.Xh=!1,a.ps=!1):a.ps&&(3<=d&&(e=parseFloat(c[0]),h=parseFloat(c[1]),k=parseFloat(c[2]),a.Nm.add(e,h,k)),6<=d&&(e=parseFloat(c[3]),h=parseFloat(c[4]),k=parseFloat(c[5]),a.Nm.add(e,h,k)),9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),a.Nm.add(d,e,c))))}v("X.parserVTK",Oe);v("X.parserVTK.prototype.parse",Oe.prototype.parse);function Qe(){De.call(this);this.n="parserFSM";this.pp=!1}w(Qe,De);
Qe.prototype.parse=function(a,b,c){A.Fd(this.n+".parse");this._data=c;var d=b.s,e=b.S;b.hl=[];var h=b.hl;c=0;var k;do k=this.f("uchar"),c++;while(200>c&&10!=k);this.f("uchar");e=this.f("uint");c=this.f("uint");var l=this.f("float",3*e);k=this.f("uint",3*c);var n=new Uint32Array(e),m=new Float32Array(9*c);b.s=d=new ad(9*c);b.S=e=new ad(9*c);var p;for(p=0;p<c;p++){var q=3*p,s=k[q],u=k[q+1],z=k[q+2];h.push(s);h.push(u);h.push(z);n[s]+=1;n[u]+=1;n[z]+=1;var q=3*s,y=3*u,I=3*z,S=l[q],O=l[q+1],F=l[q+2],
u=l[y],z=l[y+1],s=l[y+2],Q=l[I],Y=l[I+1],U=l[I+2];d.add(S,O,F);d.add(u,z,s);d.add(Q,Y,U);S=new K(S,O,F);Q=new K(Q,Y,U);u=(new K(u,z,s)).clone().mc(S);z=Q.clone().mc(S);u=pd(u,z).normalize();m[q]+=u.x;m[q+1]+=u.y;m[q+2]+=u.z;m[y]+=u.x;m[y+1]+=u.y;m[y+2]+=u.z;m[I]+=u.x;m[I+1]+=u.y;m[I+2]+=u.z}for(p=0;p<c;p++)q=3*p,s=k[q],u=k[q+1],z=k[q+2],q=3*s,y=3*u,I=3*z,h=new K(m[y],m[y+1],m[y+2]),l=new K(m[I],m[I+1],m[I+2]),q=(new K(m[q],m[q+1],m[q+2])).scale(1/n[s]).normalize(),h=h.scale(1/n[u]).normalize(),l=
l.scale(1/n[z]).normalize(),e.add(q.x,q.y,q.z),e.add(h.x,h.y,h.z),e.add(l.x,l.y,l.z);c=this.f("uchar",this._data.byteLength-this.Fa);k=null;for(q=0;q<c.length;q++)if(99==c[q]&&114==c[q+1]&&97==c[q+2]&&115==c[q+3]){for(e=k=q+9;10!=c[q]&&q<c.length;)e++,q++;k=Fe(c.subarray(k,e)).split(" ");break}k&&(b.Sb.gC(parseFloat(k[0])),b.Sb.hC(parseFloat(k[1])),b.Sb.iC(parseFloat(k[2])));b.sd=Qd;A.md(this.n+".parse");c=new Vd;c.Ga=b;c.na=a;this.dispatchEvent(c)};v("X.parserFSM",Qe);
v("X.parserFSM.prototype.parse",Qe.prototype.parse);var Re={Rs:function(a,b,c){return Re.update(a,0,b,c)},update:function(a,b,c,d){var e=Re.JD,h="number"===typeof c?c:c=0;d="number"===typeof d?d:a.length;b^=4294967295;for(h=d&7;h--;++c)b=b>>>8^e[(b^a[c])&255];for(h=d>>3;h--;c+=8)b=b>>>8^e[(b^a[c])&255],b=b>>>8^e[(b^a[c+1])&255],b=b>>>8^e[(b^a[c+2])&255],b=b>>>8^e[(b^a[c+3])&255],b=b>>>8^e[(b^a[c+4])&255],b=b>>>8^e[(b^a[c+5])&255],b=b>>>8^e[(b^a[c+6])&255],b=b>>>8^e[(b^a[c+7])&255];return(b^4294967295)>>>0}},Se;
Se=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,
3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,
366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,
3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,
1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,
1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);Re.JD=Se;function Te(a){var b=a.length,c=0,d=Number.POSITIVE_INFINITY,e,h,k,l,n,m,p,q,s;for(q=0;q<b;++q)a[q]>c&&(c=a[q]),a[q]<d&&(d=a[q]);e=1<<c;h=new Uint32Array(e);k=1;l=0;for(n=2;k<=c;){for(q=0;q<b;++q)if(a[q]===k){m=0;p=l;for(s=0;s<k;++s)m=m<<1|p&1,p>>=1;for(s=m;s<e;s+=n)h[s]=k<<16|q;++l}++k;l<<=1;n<<=1}return[h,c,d]};function Ue(a,b){this.Ms=[];this.Os=32768;this.Ef=this.Tm=this.Wa=this.Wv=0;this.input=new Uint8Array(a);this.ay=!1;this.Ps=Ve;this.resize=!1;if(b||!(b={}))b.index&&(this.Wa=b.index),b.bufferSize&&(this.Os=b.bufferSize),b.bufferType&&(this.Ps=b.bufferType),b.resize&&(this.resize=b.resize);switch(this.Ps){case We:this.Yb=32768;this.output=new Uint8Array(32768+this.Os+258);break;case Ve:this.Yb=0;this.output=new Uint8Array(this.Os);this.bk=this.nF;this.jy=this.PE;this.ht=this.XE;break;default:throw Error("invalid inflate mode");
}}var We=0,Ve=1;
Ue.prototype.li=function(){for(;!this.ay;){var a=Xe(this,3);a&1&&(this.ay=!0);a>>>=1;switch(a){case 0:var a=this.input,b=this.Wa,c=this.output,d=this.Yb,e=void 0,h=void 0,k=void 0,l=c.length,e=void 0;this.Ef=this.Tm=0;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: LEN (first byte)");h=e;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: LEN (second byte)");h|=e<<8;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: NLEN (first byte)");k=
e;e=a[b++];if(void 0===e)throw Error("invalid uncompressed block header: NLEN (second byte)");k|=e<<8;if(h===~k)throw Error("invalid uncompressed block header: length verify");if(b+h>a.length)throw Error("input buffer is broken");switch(this.Ps){case We:for(;d+h>c.length;)e=l-d,h-=e,c.set(a.subarray(b,b+e),d),d+=e,b+=e,this.Yb=d,c=this.bk(),d=this.Yb;break;case Ve:for(;d+h>c.length;)c=this.bk({Py:2});break;default:throw Error("invalid inflate mode");}c.set(a.subarray(b,b+h),d);d+=h;this.Wa=b+=h;this.Yb=
d;this.output=c;break;case 1:this.ht(Ye,Ze);break;case 2:$e(this);break;default:throw Error("unknown BTYPE: "+a);}}return this.jy()};
var af=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bf=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),cf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),df=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),ef=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ff=new Uint8Array(288),
gf,jf;gf=0;for(jf=ff.length;gf<jf;++gf)ff[gf]=143>=gf?8:255>=gf?9:279>=gf?7:8;var Ye=Te(ff),kf=new Uint8Array(30),lf,mf;lf=0;for(mf=kf.length;lf<mf;++lf)kf[lf]=5;var Ze=Te(kf);function Xe(a,b){for(var c=a.Tm,d=a.Ef,e=a.input,h=a.Wa,k;d<b;){k=e[h++];if(void 0===k)throw Error("input buffer is broken");c|=k<<d;d+=8}k=c&(1<<b)-1;a.Tm=c>>>b;a.Ef=d-b;a.Wa=h;return k}
function nf(a,b){for(var c=a.Tm,d=a.Ef,e=a.input,h=a.Wa,k=b[0],l=b[1],n;d<l;){n=e[h++];if(void 0===n)throw Error("input buffer is broken");c|=n<<d;d+=8}e=k[c&(1<<l)-1];k=e>>>16;a.Tm=c>>k;a.Ef=d-k;a.Wa=h;return e&65535}
function $e(a){function b(a,b,c){var d,e,h;for(h=0;h<a;)switch(d=nf(this,b),d){case 16:for(d=3+Xe(this,2);d--;)c[h++]=e;break;case 17:for(d=3+Xe(this,3);d--;)c[h++]=0;e=0;break;case 18:for(d=11+Xe(this,7);d--;)c[h++]=0;e=0;break;default:e=c[h++]=d}return c}var c=Xe(a,5)+257,d=Xe(a,5)+1,e=Xe(a,4)+4,h=new Uint8Array(af.length),k;for(k=0;k<e;++k)h[af[k]]=Xe(a,3);e=Te(h);h=new Uint8Array(c);k=new Uint8Array(d);a.ht(Te(b.call(a,c,e,h)),Te(b.call(a,d,e,k)))}f=Ue.prototype;
f.ht=function(a,b){var c=this.output,d=this.Yb;this.zy=a;for(var e=c.length-258,h,k,l;256!==(h=nf(this,a));)if(256>h)d>=e&&(this.Yb=d,c=this.bk(),d=this.Yb),c[d++]=h;else for(h-=257,l=bf[h],0<cf[h]&&(l+=Xe(this,cf[h])),h=nf(this,b),k=df[h],0<ef[h]&&(k+=Xe(this,ef[h])),d>=e&&(this.Yb=d,c=this.bk(),d=this.Yb);l--;)c[d]=c[d++-k];for(;8<=this.Ef;)this.Ef-=8,this.Wa--;this.Yb=d};
f.XE=function(a,b){var c=this.output,d=this.Yb;this.zy=a;for(var e=c.length,h,k,l;256!==(h=nf(this,a));)if(256>h)d>=e&&(c=this.bk(),e=c.length),c[d++]=h;else for(h-=257,l=bf[h],0<cf[h]&&(l+=Xe(this,cf[h])),h=nf(this,b),k=df[h],0<ef[h]&&(k+=Xe(this,ef[h])),d+l>e&&(c=this.bk(),e=c.length);l--;)c[d]=c[d++-k];for(;8<=this.Ef;)this.Ef-=8,this.Wa--;this.Yb=d};
f.bk=function(){var a=new Uint8Array(this.Yb-32768),b=this.Yb-32768,c=this.output;a.set(c.subarray(32768,a.length));this.Ms.push(a);this.Wv+=a.length;c.set(c.subarray(b,b+32768));this.Yb=32768;return c};
f.nF=function(a){var b=this.input.length/this.Wa+1|0,c=this.input,d=this.output;a&&("number"===typeof a.Py&&(b=a.Py),"number"===typeof a.tE&&(b+=a.tE));2>b?(a=(c.length-this.Wa)/this.zy[2],a=a/2*258|0,a=a<d.length?d.length+a:d.length<<1):a=d.length*b;a=new Uint8Array(a);a.set(d);return this.output=a};
f.jy=function(){var a=0,b=this.output,c=this.Ms,d,e=new Uint8Array(this.Wv+(this.Yb-32768)),h,k,l,n;if(0===c.length)return this.output.subarray(32768,this.Yb);h=0;for(k=c.length;h<k;++h)for(d=c[h],l=0,n=d.length;l<n;++l)e[a++]=d[l];h=32768;for(k=this.Yb;h<k;++h)e[a++]=b[h];this.Ms=[];return this.buffer=e};f.PE=function(){var a,b=this.Yb;this.resize?(a=new Uint8Array(b),a.set(this.output.subarray(0,b))):a=this.output.subarray(0,b);return this.buffer=a};new Uint8Array(256);var of;for(of=0;256>of;++of)for(var pf=of,qf=7,pf=pf>>>1;pf;pf>>>=1)--qf;var rf=[],sf;for(sf=0;288>sf;sf++)switch(!0){case 143>=sf:rf.push([sf+48,8]);break;case 255>=sf:rf.push([sf-144+400,9]);break;case 279>=sf:rf.push([sf-256+0,7]);break;case 287>=sf:rf.push([sf-280+192,8]);break;default:throw"invalid literal: "+sf;}
var tf=function(){function a(a){switch(!0){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw"invalid length: "+a;}}var b=[],c,d;for(c=3;258>=c;c++)d=a(c),b[c]=d[2]<<24|
d[1]<<16|d[0];return b}();new Uint32Array(tf);function uf(){};function vf(a){this.input=a;this.Wa=0;this.member=[]}
vf.prototype.li=function(){for(var a=this.input.length;this.Wa<a;){var b=new uf,c=void 0,d=void 0,e=void 0,h=c=e=void 0,k=void 0,c=c=void 0,l=this.input,d=this.Wa;b.id1=l[d++];b.id2=l[d++];if(31!==b.id1||139!==b.id2)throw Error("invalid file signature:",b.id1,b.id2);b.cm=l[d++];switch(b.cm){case 8:break;default:throw Error("unknown compression method: "+b.cm);}b.flg=l[d++];c=l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24;b.mtime=new Date(1E3*c);b.xfl=l[d++];b.os=l[d++];0<(b.flg&4)&&(b.xlen=l[d++]|l[d++]<<
8,d+=b.xlen);if(0<(b.flg&8)){k=[];for(h=0;0<(c=l[d++]);)k[h++]=String.fromCharCode(c);b.name=k.join("")}if(0<(b.flg&16)){k=[];for(h=0;0<(c=l[d++]);)k[h++]=String.fromCharCode(c);b.comment=k.join("")}if(0<(b.flg&2)&&(b.crc16=Re.Rs(l,0,d)&65535,b.crc16!==(l[d++]|l[d++]<<8)))throw Error("invalid header crc16");c=l[l.length-4]|l[l.length-3]<<8|l[l.length-2]<<16|l[l.length-1]<<24;l.length-d-4-4<512*c&&(e=c);d=new Ue(l,{index:d,bufferSize:e});b.data=e=d.li();d=d.Wa;b.crc32=c=(l[d++]|l[d++]<<8|l[d++]<<16|
l[d++]<<24)>>>0;if(Re.Rs(e)!==c)throw Error("invalid CRC-32 checksum: 0x"+Re.Rs(e).toString(16)+" / 0x"+c.toString(16));b.isize=c=(l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24)>>>0;if((e.length&4294967295)!==c)throw Error("invalid input size: "+(e.length&4294967295)+" / "+c);this.member.push(b);this.Wa=d}a=this.member;b=e=d=0;for(l=a.length;b<l;++b)e+=a[b].data.length;e=new Uint8Array(e);for(b=0;b<l;++b)e.set(a[b].data,d),d+=a[b].data.length;return e};function wf(){De.call(this);this.n="parserMGZ";this.pp=!1}w(wf,De);
wf.prototype.parse=function(a,b,c,d){A.Fd(this.n+".parse");window.console.log(b);d&&(c=(new vf(new Uint8Array(c))).li(),c=c.buffer);d=this.yh(c);var e=[d.zu,d.Au,d.Bu];b.$a=e;var h=d.nC;b.Se=h;c=d.min;var k=d.max;b.Id=b.Ab=c;b.Hb=b.zb=k;-Infinity==b.kb&&(b.kb=c);Infinity==b.mb&&(b.mb=k);c=yd();if("false"==b.reslicing||!1==b.reslicing)L(c,0,b.Se[0],0,0,0),L(c,1,0,b.Se[1],0,0),L(c,2,0,0,b.Se[2],0),L(c,3,0,0,0,1),Bd(c,0,0,0,1);else{L(c,0,d.rf[0][0],d.rf[1][0],d.rf[2][0],0);L(c,1,d.rf[0][1],d.rf[1][1],
d.rf[2][1],0);L(c,2,d.rf[0][2],d.rf[1][2],d.rf[2][2],0);L(c,3,0,0,0,1);for(var k=e[0]/2,l=e[1]/2,e=e[2]/2,n=[0,0,0],m=0;3>m;++m)n[m]=d.rf[3][m]-(c[m+0]*h[0]*k+c[m+4]*h[1]*l+c[m+8]*h[2]*e);Bd(c,n[0],n[1],n[2],1)}d.je=c;d.me=yd();Hd(d.je,d.me);k=xd(0,0,0,1);h=wd();Jd(c,k,h);l=xd(1,1,1,1);k=wd();Jd(c,l,k);c=Ge(c,b.$a);d.nj=[k[0]-h[0],k[1]-h[1],k[2]-h[2]];d.lj=[c[1]-c[0]+1,c[3]-c[2]+1,c[5]-c[4]+1];d.mj=[c[0],c[2],c[4]];b.We(d);A.md(this.n+".parse");b.Qe=Le(this,b);d=new Vd;d.Ga=b;d.na=a;this.dispatchEvent(d)};
wf.prototype.yh=function(a){this._data=a;a={version:0,MD:0,KD:0,vF:0,LD:0,zu:0,Au:0,Bu:0,yI:0,type:0,gF:0,VA:0,kM:null,rf:null,nC:null,data:null,min:Infinity,max:-Infinity};a.version=this.f("uint");a.zu=this.f("uint");a.Au=this.f("uint");a.Bu=this.f("uint");a.yI=this.f("uint");a.type=this.f("uint");a.gF=this.f("uint");a.VA=this.f("ushort");if(0<a.VA){a.nC=this.f("float",3);var b=[];b.push(this.f("float",3));b.push(this.f("float",3));b.push(this.f("float",3));b.push(this.f("float",3));a.rf=b}this.Fa=
284;b=a.zu*a.Au*a.Bu;switch(a.type){case 0:a.data=this.f("uchar",b);break;case 1:a.data=this.f("uint",b);break;case 3:a.data=this.f("float",b);break;case 4:a.data=this.f("ushort",b);break;default:throw Error("Unsupported MGH/MGZ data type: "+a.type);}b=Ee(a.data);a.min=b[0];a.max=b[1];this.Fa+16<this._data.byteLength&&(a.MD=this.f("float"),a.vF=this.f("float"),a.KD=this.f("float"),a.LD=this.f("float"));return a};v("X.parserMGZ",wf);v("X.parserMGZ.prototype.parse",wf.prototype.parse);function xf(){De.call(this);this.n="parserLBL"}w(xf,De);
xf.prototype.parse=function(a,b,c){A.Fd(this.n+".parse");var d=b.hl,e=d.length;if(0==e)throw Error("No _pointIndices defined on the X.object.");this._data=c;var h=[],k=this.f("uchar",c.byteLength),l=k.length,n=!1,m=0;for(c=1;c<l;c++)10==k[c-1]?(m=c,n=!0):n&&32==k[c]&&(h.push(parseInt(Fe(k,m,c),10)),n=!1);k=b.La.Sa?b.La.Sa:new Float32Array(e);l=h.length;for(c=0;c<l;c++)k[h[c]]=1;h=new Float32Array(3*e);for(c=l=0;c<e;c++){n=d[c];if(n>e)throw Error("Could not find scalar for vertex.");n=k[n];h[l++]=
n;h[l++]=n;h[l++]=n}b.La.Sa=k;b.La.um=h;b.La.B=!0;A.md(this.n+".parse");d=new Vd;d.Ga=b;d.na=a;this.dispatchEvent(d)};v("X.parserLBL",xf);v("X.parserLBL.prototype.parse",xf.prototype.parse);function yf(){De.call(this);this.n="parserCRV";this.pp=!1}w(yf,De);
yf.prototype.parse=function(a,b,c){A.Fd(this.n+".parse");var d=b.hl;if(0==d.length)throw Error("No _pointIndices defined on the X.object.");this._data=c;this.Fa=3;var e=this.f("uint");this.f("uint");this.f("uint");var h=0,k=0,l=0,n=0,m=0,p=0,q=0,s=0,u=0,z=0,y=0;c=Array(2);var I=Array(2),S=this.f("float",e),O;for(O=0;O<e;O++){var F=S[O];0==O&&(c[0]=I[0]=F);0<=F?(h++,n+=F):(k++,l+=F);u+=F;y++;I[0]=Math.max(F,I[0]);c[0]=Math.min(F,c[0]);S[O]=F}0!=h&&(m=n/h);0!=k&&(p=l/k);0!=y&&(z=u/y);for(y=u=l=n=0;y<
e;y++)F=S[y],O=0,0<=F?(O=Math.pow(F-m,2),n+=O):(O=Math.pow(F-p,2),l+=O),O=Math.pow(F-z,2),u+=O;1<h&&(q=Math.sqrt(n/(h-1)));1<k&&(s=Math.sqrt(l/(k-1)));c[1]=p-2.5*s;I[1]=m+2.5*q;e=d.length;h=new Float32Array(3*e);for(y=0;y<e;y++)k=S[d[y]],l=3*y,h[l]=k,h[l+1]=k,h[l+2]=k;b.La.Id=c[1];b.La.Hb=I[1];-Infinity==b.La.kb&&(b.La.kb=c[1]);Infinity==b.La.mb&&(b.La.mb=I[1]);b.La.Sa=S;b.La.um=h;b.La.B=!0;A.md(this.n+".parse");d=new Vd;d.Ga=b;d.na=a;this.dispatchEvent(d)};v("X.parserCRV",yf);
v("X.parserCRV.prototype.parse",yf.prototype.parse);function zf(a,b){var c,d;this.input=a;this.Wa=0;if(b||!(b={}))b.index&&(this.Wa=b.index),b.verify&&(this.gL=b.verify);c=a[this.Wa++];d=a[this.Wa++];switch(c&15){case 8:this.method=8;break;default:throw Error("unsupported compression method");}if(0!==((c<<8)+d)%31)throw Error("invalid fcheck flag:"+((c<<8)+d)%31);if(d&32)throw Error("fdict flag is not supported");this.WA=new Ue(a,{index:this.Wa,bufferSize:b.bufferSize,bufferType:b.bufferType,resize:b.resize})}
zf.prototype.li=function(){var a=this.input,b;b=this.WA.li();this.Wa=this.WA.Wa;if(this.gL){var a=(a[this.Wa++]<<24|a[this.Wa++]<<16|a[this.Wa++]<<8|a[this.Wa++])>>>0,c=b;if("string"===typeof c){var c=c.split(""),d,e;d=0;for(e=c.length;d<e;d++)c[d]=(c[d].charCodeAt(0)&255)>>>0}d=1;e=0;for(var h=c.length,k,l=0;0<h;){k=1024<h?1024:h;h-=k;do d+=c[l++],e+=d;while(--k);d%=65521;e%=65521}if(a!==(e<<16|d)>>>0)throw Error("invalid adler-32 checksum");}return b};function Af(){De.call(this);this.n="parserRAW"}w(Af,De);
Af.prototype.parse=function(a,b,c,d){A.Fd(this.n+".parse");d&&(c=(new zf(new Uint8Array(c))).li(),c=c.buffer);d={};d.data=new Uint8Array(c);var e=Ee(d.data);c=e[0];e=e[1];d.min=b.Id=b.Ab=c;d.max=b.Hb=b.zb=e;-Infinity==b.kb&&(b.kb=c);Infinity==b.mb&&(b.mb=e);e=zd();d.je=e;d.me=zd();var h=xd(0,0,0,1);c=wd();Jd(e,h,c);var k=xd(1,1,1,1),h=wd();Jd(e,k,h);e=Ge(e,b.$a);d.nj=[h[0]-c[0],h[1]-c[1],h[2]-c[2]];d.lj=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];d.mj=[e[0],e[2],e[4]];b.We(d);A.md(this.n+".parse");b.Qe=
Le(this,b);d=new Vd;d.Ga=b;d.na=a;this.dispatchEvent(d)};v("X.parserRAW",Af);v("X.parserRAW.prototype.parse",Af.prototype.parse);function Bf(){De.call(this);this.n="parserIMAGE"}w(Bf,De);Bf.prototype.parse=function(a,b,c,d){if(!(c instanceof ArrayBuffer))throw Error();for(var e=new Uint8Array(c),h=e.length,k=Array(h);h--;)k[h]=String.fromCharCode(e[h]);e=window.btoa(k.join(""));h=new Image;Rc(h,"load",this.XJ.bind(this,h,a,b,c,d));h.src="data:image/"+d+";base64,"+e};Bf.prototype.XJ=function(a,b,c){b.Qe=a;b.$h=null;a=new Vd;a.Ga=c;a.na=b;this.dispatchEvent(a)};v("X.parserIMAGE",Bf);v("X.parserIMAGE.prototype.parse",Bf.prototype.parse);function Cf(){De.call(this);this.n="parserLUT"}w(Cf,De);
Cf.prototype.parse=function(a,b,c){A.Fd(this.n+".parse");this._data=c;c=this.f("uchar",c.byteLength);var d=c.length,e=0,h;for(h=0;h<d;h++)if(10==c[h]){var k=Fe(c,e,h),e=h+1,k=k.replace(/^\s+|\s+$/g,"");"#"!=k[0]&&(k=k.split(" "),k=k.filter(function(a){return""!=a}),6==k.length&&(k[2]=parseInt(k[2],10)/255,k[3]=parseInt(k[3],10)/255,k[4]=parseInt(k[4],10)/255,k[5]=parseInt(k[5],10)/255,a.add(parseInt(k[0],10),k[1],k[2],k[3],k[4],k[5],10)))}A.md(this.n+".parse");c=new Vd;c.Ga=b;c.na=a;this.dispatchEvent(c)};
v("X.parserLUT",Cf);v("X.parserLUT.prototype.parse",Cf.prototype.parse);function Df(){De.call(this);this.n="parserMRC"}w(Df,De);
Df.prototype.parse=function(a,b,c){A.Fd(this.n+".parse");c=this.yh(c);var d=c.min,e=c.max;b.$a=[c.Wn,c.Xn,c.Yn];b.Se=[c.xlen/c.vA,c.vC/c.wA,c.xC/c.xA];b.Id=b.Ab=d;b.Hb=b.zb=e;-Infinity==b.kb&&(b.kb=d);Infinity==b.mb&&(b.mb=e);e=yd();L(e,3,0,0,0,1);L(e,0,-1,0,0,c.Wn);L(e,1,0,0,-1,c.Xn);L(e,2,0,-1,0,c.Yn);c.je=e;c.me=yd();Hd(c.je,c.me);var h=xd(0,0,0,1),d=wd();Jd(e,h,d);var k=xd(1,1,1,1),h=wd();Jd(e,k,h);k=[c.Wn,c.Xn,c.Yn];e=Ge(e,k);c.nj=[h[0]-d[0],h[1]-d[1],h[2]-d[2]];c.lj=[e[1]+e[0]+1,e[3]-e[2]+1,
e[5]-e[4]+1];c.mj=[e[0],e[2],e[4]];b.$a=k;b.We(c);b.Qe=Le(this,b);A.md(this.n+".parse");c=new Vd;c.Ga=b;c.na=a;this.dispatchEvent(c)};
Df.prototype.yh=function(a){this._data=a;a={Wn:0,Xn:0,Yn:0,mode:0,rO:0,sO:0,tO:0,vA:0,wA:0,xA:0,xlen:0,vC:0,xC:0,alpha:0,beta:0,gamma:0,hI:0,iI:0,jI:0,Ks:0,Dp:0,Lj:0,gO:0,next:0,VE:0,extra:null,zI:0,BI:0,extra:null,HH:0,eO:0,EH:0,lens:0,wI:0,xI:0,eL:0,fL:0,YK:null,kL:0,mL:0,nL:0,VN:0,FO:0,lK:0,AI:0,data:null,min:Infinity,max:-Infinity,nO:0,UB:null,EO:null,AO:null,orientation:null,qO:null};this.Fa=0;a.Wn=this.f("sint");a.Xn=this.f("sint");a.Yn=this.f("sint");a.mode=this.f("sint");var b=a.Wn*a.Xn*a.Yn;
this.Fa=1024;switch(a.mode){case 0:a.data=this.f("schar",b);break;case 1:a.data=this.f("sshort",b);break;case 2:a.data=this.f("float",b);break;case 3:a.data=this.f("uint",b);break;case 4:a.data=this.f("double",b);break;case 6:a.data=this.f("ushort",b);break;case 16:a.data=this.f("uchar",b);break;default:throw Error("Unsupported MRC data type: "+a.mode);}this.Fa=28;a.vA=this.f("sint");a.wA=this.f("sint");a.xA=this.f("sint");a.xlen=this.f("float");a.vC=this.f("float");a.xC=this.f("float");a.alpha=this.f("float");
a.beta=this.f("float");a.gamma=this.f("float");a.hI=this.f("sint");a.iI=this.f("sint");a.jI=this.f("sint");a.Ks=this.f("float");a.Dp=this.f("float");a.Lj=this.f("float");a.fO=this.f("sint");a.next=this.f("sint");a.VE=this.f("short");a.zI=this.f("short");a.BI=this.f("short");a.HH=this.f("sint");a.dO=this.f("sint");a.EH=this.f("short");a.lens=this.f("short");a.wI=this.f("short");a.xI=this.f("short");a.eL=this.f("short");a.fL=this.f("short");a.YK=this.f("float",6);this.Fa=196;a.kL=this.f("float");a.mL=
this.f("float");a.nL=this.f("float");this.Fa=216;a.lK=this.f("float");a.AI=this.f("sint");a.jO=this.f("schar",10);if(0!=a.next)switch(this.Fa=parseInt(a.next+1024,10),a.mode){case 0:a.data=this.f("schar",b);break;case 1:a.data=this.f("sshort",b);break;case 2:a.data=this.f("float",b);break;case 3:a.data=this.f("uint",b);break;case 4:a.data=this.f("double",b);break;case 6:a.data=this.f("ushort",b);break;case 16:a.data=this.f("uchar",b);break;default:throw Error("Unsupported MRC data type: "+a.mode);
}0>a.Lj-(a.Dp-a.Lj)?(a.min=a.Ks,a.max=a.Lj+(a.Lj-a.Ks)):(a.min=a.Lj-(a.Dp-a.Lj),a.max=a.Dp);return a};v("X.parserMRC",Df);v("X.parserMRC.prototype.parse",Df.prototype.parse);function Ef(){De.call(this);this.n="parserNRRD"}w(Ef,De);
Ef.prototype.parse=function(a,b,c){A.Fd(this.n+".parse");this._data=c;c=this.f("uchar",c.byteLength);var d=c.length,e=null,h=0,k;for(k=1;k<d;k++)if(10==c[k-1]&&10==c[k]){e=Fe(c,0,k-2);h=k+1;break}var l,n,m,p,d=e.split(/\r?\n/),e=0;for(k=d.length;e<k;e++)l=d[e],l.match(/NRRD\d+/)?this.VH=!0:!l.match(/^#/)&&(p=l.match(/(.*):(.*)/))&&(n=p[1].trim(),l=p[2].trim(),(m=this.rF[n])?m.call(this,l):this[n]=l);if(!this.VH)throw Error("Not an NRRD file");if("raw"!==this.encoding&&"gzip"!==this.encoding&&"gz"!==
this.encoding)throw Error("Only raw or gz/gzip encoding is allowed");if(!this.Ob&&(this.Ob=[new K(1,0,0),new K(0,1,0),new K(0,0,1)],this.Iv))for(d=[],p=0;2>=p;p++)d.push(isNaN(this.Iv[p])?void 0:this.Ob[p].scale(this.Iv[p]));h=c.subarray(h);if("gzip"==this.encoding||"gz"==this.encoding)h=(new vf(new Uint8Array(h))).li();h=h.buffer;c={data:null,min:Infinity,max:-Infinity};c.data=new this.Rh(h);p=Ee(c.data);h=c.min=p[0];p=c.max=p[1];b.Id=b.Ab=h;b.Hb=b.zb=p;b.$a=[this.Dv[0],this.Dv[1],this.Dv[2]];d=
(new K(this.Ob[0][0],this.Ob[0][1],this.Ob[0][2])).Pf();e=(new K(this.Ob[1][0],this.Ob[1][1],this.Ob[1][2])).Pf();k=(new K(this.Ob[2][0],this.Ob[2][1],this.Ob[2][2])).Pf();b.Se=[d,e,k];-Infinity==b.kb&&(b.kb=h);Infinity==b.mb&&(b.mb=p);d=p=1;"left-posterior-superior"==this.UB&&(d=p=-1);h=zd();"false"==b.reslicing||!1==b.reslicing?(L(h,0,p,0,0,0),L(h,1,0,d,0,0),L(h,2,0,0,1,0)):(L(h,0,p*this.Ob[0][0],p*this.Ob[1][0],p*this.Ob[2][0],p*this.Hv[0]),L(h,1,d*this.Ob[0][1],d*this.Ob[1][1],d*this.Ob[2][1],
d*this.Hv[1]),L(h,2,1*this.Ob[0][2],1*this.Ob[1][2],1*this.Ob[2][2],1*this.Hv[2]));L(h,3,0,0,0,1);c.je=h;c.me=yd();Hd(c.je,c.me);d=xd(0,0,0,1);p=wd();Jd(h,d,p);e=xd(1,1,1,1);d=wd();Jd(h,e,d);h=Ge(h,b.$a);c.nj=[d[0]-p[0],d[1]-p[1],d[2]-p[2]];c.lj=[h[1]-h[0]+1,h[3]-h[2]+1,h[5]-h[4]+1];c.mj=[h[0],h[2],h[4]];b.We(c);A.md(this.n+".parse");b.Qe=Le(this,b);c=new Vd;c.Ga=b;c.na=a;this.dispatchEvent(c)};
Ef.prototype.rF={type:function(a){switch(a){case "uchar":case "unsigned char":case "uint8":case "uint8_t":this.Rh=Uint8Array;break;case "signed char":case "int8":case "int8_t":this.Rh=Int8Array;break;case "short":case "short int":case "signed short":case "signed short int":case "int16":case "int16_t":this.Rh=Int16Array;break;case "ushort":case "unsigned short":case "unsigned short int":case "uint16":case "uint16_t":this.Rh=Uint16Array;break;case "int":case "signed int":case "int32":case "int32_t":this.Rh=
Int32Array;break;case "uint":case "unsigned int":case "uint32":case "uint32_t":this.Rh=Uint32Array;break;case "float":this.Rh=Float32Array;break;case "double":this.Rh=Float64Array;break;default:throw Error("Unsupported NRRD data type: "+a);}return this.type=a},endian:function(a){return this.aO=a},encoding:function(a){return this.encoding=a},dimension:function(a){return this.mi=parseInt(a,10)},sizes:function(a){var b,c,d,e;d=a.split(/\s+/);e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(parseInt(a,10));
return this.Dv=e},space:function(a){return this.UB=a},"space origin":function(a){return this.Hv=a.split("(")[1].split(")")[0].split(",")},"space directions":function(a){var b,c,d;c=a.match(/\(.*?\)/g);return this.Ob=function(){var a,h,k;k=[];a=0;for(h=c.length;a<h;a++)d=c[a],k.push(function(){var a,c,e,h;e=d.slice(1,-1).split(/,/);h=[];a=0;for(c=e.length;a<c;a++)b=e[a],h.push(parseFloat(b));return h}());return k}()},spacings:function(a){var b;b=a.split(/\s+/);var c,d,e;e=[];c=0;for(d=b.length;c<d;c++)a=
b[c],e.push(parseFloat(a));return this.Iv=e}};v("X.parserNRRD",Ef);v("X.parserNRRD.prototype.parse",Ef.prototype.parse);function Ff(){De.call(this);this.n="parserSTL"}w(Ff,De);
Ff.prototype.parse=function(a,b,c){A.Fd(this.n+".parse");this._data=c;var d=b.s,e=b.S;if("solid"==Fe(this.f("uchar",5))){b.s=d=new ad(c.byteLength);b.S=e=new ad(c.byteLength);var h=d,d=e,e=this.f("uchar",c.byteLength-5);c=e.length;var k=!1,l=!1,n=0,m;for(m=0;m<c;m++)if(10==e[m]){if(k||l){var p=Fe(e,n,m).split(" "),l=parseFloat(p[0]),q=parseFloat(p[1]),p=parseFloat(p[2]);k?(d.add(l,q,p),d.add(l,q,p),d.add(l,q,p)):h.add(l,q,p);l=k=!1}}else 32==e[m-1]&&(102==e[m]?(n=m+=13,k=!0):118==e[m]&&(n=m+=7,l=
!0))}else for(this.Fa=80,h=this.f("uint"),b.s=d=new ad(9*h),b.S=e=new ad(9*h),c=c=0;c<h;c++)k=this.f("float",12),n=k[0],m=k[1],l=k[2],e.add(n,m,l),e.add(n,m,l),e.add(n,m,l),d.add(k[3],k[4],k[5]),d.add(k[6],k[7],k[8]),d.add(k[9],k[10],k[11]),this.Fa+=2;A.md(this.n+".parse");h=new Vd;h.Ga=b;h.na=a;this.dispatchEvent(h)};v("X.parserSTL",Ff);v("X.parserSTL.prototype.parse",Ff.prototype.parse);function Gf(){De.call(this);this.n="parserNII"}w(Gf,De);
Gf.prototype.parse=function(a,b,c){var d=c,e=-1,e="undefined"==typeof DataView?(new Int32Array(c,0,1))[0]:(new DataView(c,0)).getInt32(0,!0);348!=e&&(d=(new vf(new Uint8Array(d))).li(),d=d.buffer);c=this.yh(d);d=c.min;e=c.max;b.Id=b.Ab=d;b.Hb=b.zb=e;-Infinity==b.kb&&(b.kb=d);Infinity==b.mb&&(b.mb=e);d=yd();L(d,3,0,0,0,1);if("false"==b.reslicing||!1==b.reslicing){var h=e=1,k=1;0<c.yc[1]&&(e=c.yc[1]);0<c.yc[2]&&(h=c.yc[2]);0<c.yc[2]&&(k=c.yc[3]);0>c.yc[0]&&(k=-k);L(d,0,e,0,0,0);L(d,1,0,h,0,0);L(d,2,
0,0,k,0)}else if(0<c.jv){var l=0,n=c.SA,m=c.TA,p=c.UA,k=h=e=1,q=c.PA,s=c.QA,u=c.RA,l=1-(n*n+m*m+p*p);1E-7>l?(l=1/Math.sqrt(n*n+m*m+p*p),n*=l,m*=l,p*=l,l=0):l=Math.sqrt(l);0<c.yc[1]&&(e=c.yc[1]);0<c.yc[2]&&(h=c.yc[2]);0<c.yc[2]&&(k=c.yc[3]);0>c.yc[0]&&(k=-k);L(d,0,(l*l+n*n-m*m-p*p)*e,2*(n*m-l*p)*h,2*(n*p+l*m)*k,q);L(d,1,2*(n*m+l*p)*e,(l*l+m*m-n*n-p*p)*h,2*(m*p-l*n)*k,s);L(d,2,2*(n*p-l*m)*e,2*(m*p+l*n)*h,(l*l+p*p-m*m-n*n)*k,u)}else 0<c.NB?(e=c.VB,h=c.WB,k=c.XB,L(d,0,e[0],e[1],e[2],e[3]),L(d,1,h[0],
h[1],h[2],h[3]),L(d,2,k[0],k[1],k[2],k[3])):0==c.jv?(L(d,0,c.yc[1],0,0,0),L(d,1,0,c.yc[2],0,0),L(d,2,0,0,c.yc[3],0)):window.console.log("UNKNOWN METHOD IN PARSER NII");c.je=d;c.me=yd();Hd(c.je,c.me);h=xd(0,0,0,1);e=wd();Jd(d,h,e);k=xd(1,1,1,1);h=wd();Jd(d,k,h);k=[c.mi[1],c.mi[2],c.mi[3]];d=Ge(d,k);c.nj=[h[0]-e[0],h[1]-e[1],h[2]-e[2]];c.lj=[d[1]-d[0]+1,d[3]-d[2]+1,d[5]-d[4]+1];c.mj=[d[0],d[2],d[4]];b.$a=k;b.We(c);b.Qe=Le(this,b);c=new Vd;c.Ga=b;c.na=a;this.dispatchEvent(c)};
Gf.prototype.yh=function(a){this._data=a;a={EK:0,data_type:null,WE:null,pF:0,tK:0,cK:0,$E:null,mi:null,PH:0,QH:0,RH:0,NH:0,gt:0,JE:0,JK:0,yc:null,pC:0,sK:0,rK:0,IK:0,GK:null,lL:null,LE:0,ME:0,HK:0,$K:0,kH:0,lH:0,YE:null,FE:null,jv:0,NB:0,SA:0,TA:0,UA:0,PA:0,QA:0,RA:0,VB:null,WB:null,XB:null,OH:null,magic:null,data:null,min:Infinity,max:-Infinity};a.EK=this.f("uint");a.data_type=this.f("uchar",10);a.WE=this.f("uchar",18);a.pF=this.f("uint");a.tK=this.f("ushort");a.cK=this.f("uchar");a.$E=this.f("uchar");
a.mi=this.f("ushort",8);a.PH=this.f("float");a.QH=this.f("float");a.RH=this.f("float");a.NH=this.f("ushort");a.gt=this.f("ushort");a.JE=this.f("ushort");a.JK=this.f("ushort");a.yc=this.f("float",8);a.pC=this.f("float");a.sK=this.f("float");a.rK=this.f("float");a.IK=this.f("ushort");a.GK=this.f("uchar");a.lL=this.f("uchar");a.LE=this.f("float");a.ME=this.f("float");a.HK=this.f("float");a.$K=this.f("float");a.kH=this.f("uint",1);a.lH=this.f("uint",1);a.YE=this.f("uchar",80);a.FE=this.f("uchar",24);
a.jv=this.f("ushort");a.NB=this.f("ushort");a.SA=this.f("float");a.TA=this.f("float");a.UA=this.f("float");a.PA=this.f("float");a.QA=this.f("float");a.RA=this.f("float");a.VB=this.f("float",4);a.WB=this.f("float",4);a.XB=this.f("float",4);a.OH=this.f("uchar",16);a.magic=this.f("uchar",4);this.Fa=parseInt(a.pC,10);var b=a.mi[1]*a.mi[2]*a.mi[3];switch(a.gt){case 2:a.data=this.f("uchar",b);break;case 4:a.data=this.f("sshort",b);break;case 8:a.data=this.f("sint",b);break;case 16:a.data=this.f("float",
b);break;case 32:a.data=this.f("complex",b);break;case 64:a.data=this.f("double",b);break;case 256:a.data=this.f("schar",b);break;case 512:a.data=this.f("ushort",b);break;case 768:a.data=this.f("uint",b);break;default:throw Error("Unsupported NII data type: "+a.gt);}b=Ee(a.data);a.min=b[0];a.max=b[1];return a};v("X.parserNII",Gf);v("X.parserNII.prototype.parse",Gf.prototype.parse);function Hf(){De.call(this);this.n="parserTRK"}w(Hf,De);
Hf.prototype.parse=function(a,b,c){A.Fd(this.n+".parse");var d=b.s,e=b.S,h=b.qc;this._data=c;this.f("uchar",6);this.f("ushort",3);var k=this.f("float",3);this.f("float",3);var l=this.f("ushort");this.f("uchar",200);this.f("ushort");this.f("uchar",200);c=this.f("float",16);this.f("uchar",444);this.f("uchar",4);this.f("uchar",4);this.f("float",6);this.f("uchar",2);this.f("uchar");this.f("uchar");this.f("uchar");this.f("uchar");this.f("uchar");this.f("uchar");var n=this.f("uint");this.f("uint");var m=
this.f("uint"),p=[],q=[],s=Infinity,u=-Infinity,z=null,y=null,I=null,S=null,e=d=null,O=this.f("uint",(this._data.byteLength-1E3)/4);this.Fa=m;for(var F=this.f("float",(this._data.byteLength-1E3)/4),Q=0,m=h=0;m<n;m++){for(var Y=O[Q],U=new ad(3*Y),ua=0,ka=0;ka<Y;ka++){var wa=F[Q+3*ka+ka*l+1],Ma=F[Q+3*ka+ka*l+2],Fa=F[Q+3*ka+ka*l+3],wa=wa/k[0],Ma=Ma/k[1],Fa=Fa/k[2];U.add(wa,Ma,Fa);if(0<ka)var Ia=U.get(ka-1),ua=ua+Math.sqrt(Math.pow(wa-Ia[0],2)+Math.pow(Ma-Ia[1],2)+Math.pow(Fa-Ia[2],2));ka<Y-1&&(h+=6)}Q+=
3*Y+Y*l+1;ka=U.Af;Y=U.xf;wa=U.Bf;Ma=U.yf;Fa=U.Cf;Ia=U.zf;if(!z||ka<z)z=ka;if(!y||Y>y)y=Y;if(!I||wa<I)I=wa;if(!S||Ma>S)S=Ma;if(!d||Fa<d)d=Fa;if(!e||Ia>e)e=Ia;p.push(U);q.push(ua)}k=(z+y)/2;I=(I+S)/2;l=(d+e)/2;S=new Float32Array(h);b.s=d=new ad(h);b.S=e=new ad(h);b.qc=h=new ad(h);for(m=z=0;m<n;m++)for(y=p[m],O=y.count,ua=q[m],s=Math.min(s,ua),u=Math.max(u,ua),ka=0;ka<O-1;ka++){Q=y.get(ka);F=y.get(ka+1);d.add(Q[0],Q[1],Q[2]);d.add(F[0],F[1],F[2]);var U=Q[0]-k,Y=Q[1]-I,wa=Q[2]-l,Ma=Math.sqrt(U*U+Y*Y+
wa*wa),Fa=F[0]-k,Ia=F[1]-I,la=F[2]-l,za=Math.sqrt(Fa*Fa+Ia*Ia+la*la);e.add(U/Ma,Y/Ma,wa/Ma);e.add(Fa/za,Ia/za,la/za);F=[Math.abs(F[0]-Q[0]),Math.abs(F[1]-Q[1]),Math.abs(F[2]-Q[2])];Q=Math.sqrt(F[0]*F[0]+F[1]*F[1]+F[2]*F[2]);F[0]/=Q;F[1]/=Q;F[2]/=Q;h.add(F[0],F[1],F[2]);h.add(F[0],F[1],F[2]);S[z++]=ua;S[z++]=ua;S[z++]=ua;S[z++]=ua;S[z++]=ua;S[z++]=ua}b.sd="LINES";n=new Sd;n.Id=s;n.Hb=u;n.kb=s;n.mb=u;n.um=S;n.kx=!1;n.B=!0;b.La=n;s=!1;for(m=0;16>m;m++)if(0!=c[m]){s=!0;break}!1==s&&(c[0]=c[5]=c[10]=c[15]=
1);A.md(this.n+".parse");A.o.Yv(c,b.Sb.lb);c=new Vd;c.Ga=b;c.na=a;this.dispatchEvent(c)};v("X.parserTRK",Hf);v("X.parserTRK.prototype.parse",Hf.prototype.parse);function If(){De.call(this);this.n="parserOBJ"}w(If,De);
If.prototype.parse=function(a,b,c){A.Fd(this.n+".parse");this._data=c;c=c.byteLength;var d=this.f("uchar",c),e=[];b.s=new ad(c);b.S=new ad(c);var h=b.s,k=b.S,l=0,n;for(n=0;n<c;++n)if(10==d[n]){var m=Fe(d,l,n).replace(/\s{2,}/g," ").split(" ");if("v"==m[0])e.push([parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])]);else if("f"==m[0]){var p=e[parseInt(m[1],10)-1],l=e[parseInt(m[2],10)-1],m=e[parseInt(m[3],10)-1];h.add(p[0],p[1],p[2]);h.add(l[0],l[1],l[2]);h.add(m[0],m[1],m[2]);p=new K(p[0],p[1],p[2]);
m=new K(m[0],m[1],m[2]);l=pd((new K(l[0],l[1],l[2])).mc(p),m.mc(p));l.normalize();k.add(l.x,l.y,l.z);k.add(l.x,l.y,l.z);k.add(l.x,l.y,l.z)}l=n+1}A.md(this.n+".parse");c=new Vd;c.Ga=b;c.na=a;this.dispatchEvent(c)};v("X.parserOBJ",If);v("X.parserOBJ.prototype.parse",If.prototype.parse);function Jf(){$c.call(this);this.n="loader";this.fl=new gd;this.Im=0}w(Jf,$c);function Kf(a,b){a.Im+=b/a.fl.yi()/3;a.Im=Math.min(1,a.Im);var c=new ze;c.Fj=a.Im;a.dispatchEvent(c)}function Lf(a){a=a.W.tp;var b=a.split(".").pop().toUpperCase();b==a.toUpperCase()&&(b="");if(!(b in Mf))throw Error("The "+b+" file format is not supported.");return[a,b,Mf[b][0],Mf[b][1],Mf[b][2]]}
Jf.prototype.load=function(a,b){if(!a||!b)throw Error("No container or object to load.");if(!id(this.fl.nb,a.rc)||this.fl.get(a.rc)){this.fl.set(a.rc,!1);var c=Lf(a)[0];if(null!=a.Pe)this.parse(null,a,b);else{var d=new XMLHttpRequest;Rc(d,"abort",this.Oy.bind(this,d,a,b));Rc(d,"error",this.Oy.bind(this,d,a,b));Rc(d,"load",this.parse.bind(this,d,a,b));d.open("GET",c,!0);d.responseType="arraybuffer";d.send(null)}}};
Jf.prototype.parse=function(a,b,c){H(a);Kf(this,1);setTimeout(function(){var d=Lf(b),e=d[3],d=new d[2];Rc(d,ee,this.complete.bind(this));var h=b.Pe;null==h&&(h=a.response,b.Pe=h);d.parse(b,c,h,e)}.bind(this),100)};Jf.prototype.complete=function(a){Kf(this,1);var b=a.na,c=a.Ga;setTimeout(function(){b.W.B=!1;b.B=!0;c.U();this.fl.set(b.rc,!0)}.bind(this),100)};Jf.prototype.Oy=function(a,b,c){H(a);throw Error("Loading failed: ",b,c);};
var Mf={OBJ:[If,null],OFF:[Me,null],STL:[Ff,null],VTK:[Oe,null],TRK:[Hf,null],MRC:[Df,null],ST:[Df,null],FSM:[Qe,null],INFLATED:[Qe,null],SMOOTHWM:[Qe,null],SPHERE:[Qe,null],PIAL:[Qe,null],ORIG:[Qe,null],NRRD:[Ef,null],NII:[Gf,null],GZ:[Gf,null],DCM:[Ne,null],DICOM:[Ne,null],"":[Ne,null],CRV:[yf,null],LABEL:[xf,null],MGH:[wf,!1],MGZ:[wf,!0],RAW:[Af,!1],RZ:[Af,!0],TXT:[Cf,null],LUT:[Cf,null],PNG:[Bf,"png"],JPG:[Bf,"jpeg"],JPEG:[Bf,"jpeg"],GIF:[Bf,"gif"]};function Nf(){De.call(this);this.n="parserIMA"}w(Nf,De);
Nf.prototype.parse=function(a,b,c){b.Ug={};b.Ug.Rn=0;this.yh(c,b);if(null==b.W.length||b.ta.length==b.W.length){b.Ug.Rn=b.W.length;var d={};c={};for(var e=0;e<b.ta.length;e++)d.hasOwnProperty(b.ta[e].series_instance_uid)||(d[b.ta[e].series_instance_uid]=[],c[b.ta[e].series_instance_uid]={}),c[b.ta[e].series_instance_uid].hasOwnProperty(b.ta[e].sop_instance_uid)||(c[b.ta[e].series_instance_uid][b.ta[e].sop_instance_uid]=!0,d[b.ta[e].series_instance_uid].push(b.ta[e]));var h=Object.keys(d)[0],e=d[h],
k=e.length;c={};console.log("FIRST IMAGE",e,d,h);var l="image_position_patient";1==k?(l="image_position_patient",d[h][0].dist=0):e[0].image_position_patient[0]!=e[1].image_position_patient[0]||e[0].image_position_patient[1]!=e[1].image_position_patient[1]||e[0].image_position_patient[2]!=e[1].image_position_patient[2]?(l="image_position_patient",d=new K(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),h=new K(e[0].image_orientation_patient[3],
e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]),d=pd(d,h),e.map(function(a,b){b.dist=b.image_position_patient[0]*a.x+b.image_position_patient[1]*a.y+b.image_position_patient[2]*a.z;return b}.bind(null,d)),e.sort(function(a,b){return a.dist-b.dist})):e[0].instance_number!=e[1].instance_number?(l="instance_number",e.sort(function(a,b){return a.instance_number-b.instance_number})):window.console.log("Could not resolve the ordering mode");console.log("SEQUENCE NAME","'"+e[0].sequence_name+
"'");-1<["fgre","memp","fse"].indexOf(e[0].sequence_name)&&(window.console.log(e[0].sequence_name,"reordering..."),l="instance_number",e.sort(function(a,b){return a.instance_number-b.instance_number}));isNaN(e[0].pixel_spacing[0])&&(e[0].pixel_spacing[0]=1);isNaN(e[0].pixel_spacing[1])&&(e[0].pixel_spacing[1]=1);if(1<k)switch(l){case "image_position_patient":var n=e[0].image_position_patient,d=e[1].image_position_patient,h=d[0]-n[0],m=d[1]-n[1],p=d[2]-n[2];e[0].pixel_spacing[2]=Math.sqrt(h*h+m*m+
p*p);break;case "instance_number":e[0].pixel_spacing[2]=1;console.log("INSTANCE NUMBER SPACING");break;default:window.console.log("Unkown ordering mode - returning: "+l)}else e[0].pixel_spacing[2]=1;d=1;switch(l){case "image_position_patient":var n=e[0].image_position_patient,q=e[k-1].image_position_patient,h=q[0]-n[0],m=q[1]-n[1],p=q[2]-n[2],h=Math.sqrt(h*h+m*m+p*p),d=d+Math.round(h/e[0].pixel_spacing[2]);break;case "instance_number":d+=Math.abs(e[k-1].instance_number-e[0].instance_number);break;
default:window.console.log("Unkown ordering mode - returning: "+l)}n=e[0].columns*e[0].rows;h=n*d;q=null;switch(e[0].Mj){case 8:q=new Uint8Array(h);break;case 16:q=new Uint16Array(h);break;case 32:q=new Uint32Array(h);default:window.console.log("Unknown number of bits allocated - using default: 32 bits")}b.Se=e[0].pixel_spacing;for(var s=0;s<k;s++){var u=e[s].data,h=0;switch(l){case "image_position_patient":h=e[s].image_position_patient[0]-e[0].image_position_patient[0];m=e[s].image_position_patient[1]-
e[0].image_position_patient[1];p=e[s].image_position_patient[2]-e[0].image_position_patient[2];h=Math.sqrt(h*h+m*m+p*p)/e[0].pixel_spacing[2];break;case "instance_number":h=e[s].instance_number-e[0].instance_number;break;default:window.console.log("Unkown ordering mode - returning: "+l)}q.set(u,h*n)}c.data=q;b._data=q;b.$a=[e[0].columns,e[0].rows,d];c.aF=b.$a;d=Ee(q);k=d[0];d=d[1];c.min=b.Id=b.Ab=k;c.max=b.Hb=b.zb=d;-Infinity==b.kb&&(b.kb=k);Infinity==b.mb&&(b.mb=d);m=e[0].image_position_patient;
k=yd();switch(l){case "image_position_patient":console.log("ORIENTATION",e[0].image_orientation_patient);d=new K(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]);h=new K(e[0].image_orientation_patient[3],e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]);d=pd(d,h);L(k,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2],-m[0]);L(k,1,-e[0].image_orientation_patient[1]*
e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2],-m[1]);L(k,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2],m[2]);L(k,3,0,0,0,1);break;case "instance_number":"memp"===e[0].sequence_name||"fse"===e[0].sequence_name?(d=new K(e[0].image_orientation_patient[0],e[0].image_orientation_patient[1],e[0].image_orientation_patient[2]),h=new K(e[0].image_orientation_patient[3],
e[0].image_orientation_patient[4],e[0].image_orientation_patient[5]),d=pd(d,h),L(k,0,-e[0].image_orientation_patient[0]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[3]*e[0].pixel_spacing[1],-d.x*e[0].pixel_spacing[2]*e[0].slice_thickness,-m[0]),L(k,1,-e[0].image_orientation_patient[1]*e[0].pixel_spacing[0],-e[0].image_orientation_patient[4]*e[0].pixel_spacing[1],-d.y*e[0].pixel_spacing[2]*e[0].slice_thickness,-m[1]),L(k,2,e[0].image_orientation_patient[2]*e[0].pixel_spacing[0],e[0].image_orientation_patient[5]*
e[0].pixel_spacing[1],d.z*e[0].pixel_spacing[2]*e[0].slice_thickness,m[2])):(L(k,0,1,0,0,-m[0]),L(k,1,0,-1,-0,-m[1]),L(k,2,0,0,1,m[2]));L(k,3,0,0,0,1);break;default:window.console.log("Unkown ordering mode - returning: "+l)}c.je=k;c.me=yd();Hd(c.je,c.me);l=xd(0,0,0,1);e=wd();Jd(k,l,e);l=xd(1,1,1,1);d=wd();Jd(k,l,d);c.nj=[d[0]-e[0],d[1]-e[1],d[2]-e[2]];e=Ge(k,[b.$a[0],b.$a[1],b.$a[2]]);c.lj=[e[1]-e[0]+1,e[3]-e[2]+1,e[5]-e[4]+1];c.mj=[e[0],e[2],e[4]];b.We(c);b.Qe=Le(this,b)}c=new Vd;c.Ga=b;c.na=a;this.dispatchEvent(c)};
Nf.prototype.Sd=function(a,b,c,d){switch(c){case 16975:case 20819:case 20053:case 22351:c=function(a){for(var b="",c=128;1<=c;c/=2)b+=a&c?"1":"0";return b};d=a[b++];a=a[b++];d=parseInt(c((a&65280)>>8)+c(a&255)+(c((d&65280)>>8)+c(d&255)),2);4294967295==d&&(d=0);b+=d/2;break;default:b+=d/2}return b};
Nf.prototype.yh=function(a,b){this._data=a;if("undefined"==typeof b.ta||null==b.ta)b.ta=[];for(var c={pixel_spacing:[.1,.1,Infinity],image_orientation_patient:[1,0,0,0,1,0],image_position_patient:[0,0,0],transfer_syntax_uid:"no_transfer_syntax_uid"},d=this.f("ushort",this._data.byteLength),e=66,h=null,k=null,l=null,n=null,m=[[8,4368],[8,4384]],p=!1;e<d.length;){for(var h=d[e++],k=d[e++],l=d[e++],n=d[e++],p=!1,q=0,s=m.length;q<s;q++)if(h===m[q][0]&&k===m[q][1]){p=!0;break}if(p)window.console.log("Skipping ",
"("+h.toString(16)+","+k.toString(16)+")");else switch("1.2.840.10008.1.2"==c.transfer_syntax_uid&&0==n&&(n=l),h){case 2:switch(k){case 16:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);c.transfer_syntax_uid=k.replace(/\0/g,"");break;default:e=Nf.prototype.Sd(d,e,l,n)}break;case 40:switch(k){case 16:c.rows=d[e];e+=n/2;break;case 17:c.columns=d[e];e+=n/2;break;case 256:c.Mj=d[e];e+=n/2;break;case 257:c.bits_stored=d[e];e+=n/2;break;case 2:c.number_of_images=
d[e];e+=n/2;break;case 48:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.pixel_spacing=[parseFloat(k[0]),parseFloat(k[1]),Infinity];break;default:e=Nf.prototype.Sd(d,e,l,n)}break;case 32:switch(k){case 14:c.series_instance_uid="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.series_instance_uid+=String.fromCharCode(h),c.series_instance_uid+=String.fromCharCode(l);break;case 19:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,
l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);c.instance_number=parseInt(k,10);break;case 50:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.image_position_patient=[parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2])];break;case 55:k="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,k+=String.fromCharCode(h),k+=String.fromCharCode(l);k=k.split("\\");c.image_orientation_patient=[parseFloat(k[0]),parseFloat(k[1]),
parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[4]),parseFloat(k[5])];break;default:e=Nf.prototype.Sd(d,e,l,n)}break;case 24:switch(k){case 36:c.sequence_name="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.sequence_name+=String.fromCharCode(h),c.sequence_name+=String.fromCharCode(l);c.sequence_name=c.sequence_name.replace(/^[\s\xa0]+/,"");c.sequence_name=c.sequence_name.replace(/[\s\xa0]+$/,"");break;case 80:c.slice_thickness="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.slice_thickness+=
String.fromCharCode(h),c.slice_thickness+=String.fromCharCode(l);c.slice_thickness=parseFloat(c.slice_thickness);break;default:e=Nf.prototype.Sd(d,e,l,n);break}case 65534:switch(k){default:n=0,e+=n/2}break;case 8:switch(k){case 24:c.sop_instance_uid="";for(q=0;q<n/2;q++)l=d[e++],h=l&255,l=(l&65280)>>8,c.sop_instance_uid+=String.fromCharCode(h),c.sop_instance_uid+=String.fromCharCode(l);break;default:e=Nf.prototype.Sd(d,e,l,n)}break;case 16:switch(k){case 8720:for(q=0;q<n/2;q++)e++;break;default:e=
Nf.prototype.Sd(d,e,l,n)}break;default:e=Nf.prototype.Sd(d,e,l,n)}}switch(c.Mj){case 8:c.data=new Uint8Array(c.columns*c.rows);break;case 16:c.data=new Uint16Array(c.columns*c.rows);break;case 32:c.data=new Uint32Array(c.columns*c.rows)}this.Fa=this._data.byteLength-c.columns*c.rows*2;d=null;switch(c.Mj){case 8:d=this.f("uchar",c.columns*c.rows);break;case 16:d=this.f("ushort",c.columns*c.rows);break;case 32:d=this.f("uint",c.columns*c.rows)}c.data=d;b.ta.push(c);return b};v("X.parserIMA",Nf);
v("X.parserIMA.prototype.parse",Nf.prototype.parse);var Of=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Pf(a){if(Qf){Qf=!1;var b=ba.location;if(b){var c=b.href;if(c&&(c=(c=Pf(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Qf=!0,Error();}}return a.match(Of)}var Qf=gc;function Rf(a,b){Yc.call(this);this.Ql=a||1;this.hm=b||ba;this.Ns=ta(this.XK,this);this.cu=xa()}w(Rf,Yc);f=Rf.prototype;f.enabled=!1;f.Nb=null;f.XK=function(){if(this.enabled){var a=xa()-this.cu;0<a&&a<.8*this.Ql?this.Nb=this.hm.setTimeout(this.Ns,this.Ql-a):(this.Nb&&(this.hm.clearTimeout(this.Nb),this.Nb=null),this.dispatchEvent(Sf),this.enabled&&(this.Nb=this.hm.setTimeout(this.Ns,this.Ql),this.cu=xa()))}};
f.start=function(){this.enabled=!0;this.Nb||(this.Nb=this.hm.setTimeout(this.Ns,this.Ql),this.cu=xa())};f.stop=function(){this.enabled=!1;this.Nb&&(this.hm.clearTimeout(this.Nb),this.Nb=null)};f.e=function(){Rf.c.e.call(this);this.stop();delete this.hm};var Sf="tick";function Tf(a,b,c){if(ja(a))c&&(a=ta(a,c));else if(a&&"function"==typeof a.handleEvent)a=ta(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:ba.setTimeout(a,b||0)};function Uf(a){return"function"==typeof a.yi?a.yi():ha(a)||r(a)?a.length:mb(a)}function Vf(a){if("function"==typeof a.fk)return a.fk();if(r(a))return a.split("");if(ha(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return nb(a)}function Wf(a){if("function"==typeof a.rn)return a.rn();if("function"!=typeof a.fk){if(ha(a)||r(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return ob(a)}}
function Xf(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(ha(a)||r(a))D(a,b,void 0);else for(var c=Wf(a),d=Vf(a),e=d.length,h=0;h<e;h++)b.call(void 0,d[h],c&&c[h],a)}function Yf(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ha(a)||r(a))return Eb(a,b,void 0);for(var c=Wf(a),d=Vf(a),e=d.length,h=0;h<e;h++)if(!b.call(void 0,d[h],c&&c[h],a))return!1;return!0};function Zf(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function $f(){}$f.prototype.dy=null;function ag(a){var b;(b=a.dy)||(b={},bg(a)&&(b[0]=!0,b[1]=!0),b=a.dy=b);return b};var cg;function dg(){}w(dg,$f);function eg(a){return(a=bg(a))?new ActiveXObject(a):new XMLHttpRequest}function bg(a){if(!a.Qz&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Qz=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Qz}cg=new dg;function fg(a){this.nb=new gd;a&&this.Cs(a)}function gg(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+na(a):b.substr(0,1)+a}f=fg.prototype;f.yi=function(){return this.nb.yi()};f.add=function(a){this.nb.set(gg(a),a)};f.Cs=function(a){a=Vf(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};f.Vf=function(a){a=Vf(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};f.remove=function(a){return this.nb.remove(gg(a))};f.clear=function(){this.nb.clear()};f.In=function(){return this.nb.In()};
f.contains=function(a){a=gg(a);return id(this.nb.nb,a)};f.Vz=function(a){var b=new fg;a=Vf(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};f.fk=function(){return this.nb.fk()};f.clone=function(){return new fg(this)};f.xl=function(a){return this.yi()==Uf(a)&&hg(this,a)};
function hg(a,b){var c=Uf(b);if(a.yi()>c)return!1;!(b instanceof fg)&&5<c&&(b=new fg(b));return Yf(a,function(a){var c=b;return"function"==typeof c.contains?c.contains(a):"function"==typeof c.Zs?c.Zs(a):ha(c)||r(c)?Hb(c,a):pb(c,a)})};function ig(a){var b;b||(b=jg(a||arguments.callee.caller,[]));return b}
function jg(a,b){var c=[];if(Hb(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(kg(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var h;h=d[e];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=kg(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&(h=h.substr(0,40)+"...");c.push(h)}b.push(a);c.push(")\n");try{c.push(jg(a.caller,b))}catch(k){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function kg(a){if(lg[a])return lg[a];a=String(a);if(!lg[a]){var b=/function ([^\(]+)/.exec(a);lg[a]=b?b[1]:"[Anonymous]"}return lg[a]}var lg={};function mg(a,b,c,d,e){this.reset(a,b,c,d,e)}mg.prototype.My=null;mg.prototype.Ly=null;var ng=0;mg.prototype.reset=function(a,b,c,d,e){"number"==typeof e||ng++;d||xa();this.Pn=a;this.vI=b;delete this.My;delete this.Ly};mg.prototype.sB=function(a){this.Pn=a};function og(a){this.uk=a;this.Kz=this.sc=this.Pn=this.Ja=null}function pg(a,b){this.name=a;this.value=b}pg.prototype.toString=function(){return this.name};var qg=new pg("SEVERE",1E3),rg=new pg("CONFIG",700),sg=new pg("FINE",500);f=og.prototype;f.getName=function(){return this.uk};f.getParent=function(){return this.Ja};f.wt=function(){this.sc||(this.sc={});return this.sc};f.sB=function(a){this.Pn=a};
function tg(a){if(a.Pn)return a.Pn;if(a.Ja)return tg(a.Ja);eb("Root logger has no level set.");return null}f.log=function(a,b,c){if(a.value>=tg(this).value)for(ja(b)&&(b=b()),a=this.kz(a,b,c,og.prototype.log),b="log:"+a.vI,ba.console&&(ba.console.timeStamp?ba.console.timeStamp(b):ba.console.markTimeline&&ba.console.markTimeline(b)),ba.msWriteProfilerMark&&ba.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.Kz)for(var e=0,h=void 0;h=c.Kz[e];e++)h(d);b=b.getParent()}};
f.kz=function(a,b,c,d){a=new mg(a,String(b),this.uk);if(c){a.My=c;var e;d=d||og.prototype.kz;try{var h;var k=da("window.location.href");if(r(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var l,n;b=!1;try{l=c.lineNumber||c.lO||"Not available"}catch(m){l="Not available",b=!0}try{n=c.fileName||c.filename||c.sourceURL||ba.$googDebugFname||k}catch(p){n="Not available",b=!0}h=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:l,fileName:n,stack:c.stack||"Not available"}}e="Message: "+Oa(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Oa(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Oa(ig(d)+"-> ")}catch(q){e="Exception trying to expose exception! You win, we lose. "+q}a.Ly=e}return a};f.qo=function(a){this.Ja=a};var ug={},vg=null;
function wg(a){vg||(vg=new og(""),ug[""]=vg,vg.sB(rg));var b;if(!(b=ug[a])){b=new og(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=wg(a.substr(0,c));c.wt()[d]=b;b.qo(c);ug[a]=b}return b};function xg(a,b){a&&a.log(sg,b,void 0)};function yg(a){Yc.call(this);this.headers=new gd;this.Pr=a||null;this.bi=!1;this.Or=this.ua=null;this.Nn=this.bA=this.Fq="";this.mk=this.Tt=this.sq=this.rt=!1;this.Lo=0;this.Er=null;this.cB=zg;this.Ir=this.jL=!1}w(yg,Yc);var zg="",Ag=yg.prototype,Bg=wg("goog.net.XhrIo");Ag.df=Bg;var Cg=/^https?$/i,Dg=["POST","PUT"],Eg=[];function Fg(a,b){var c=new yg;Eg.push(c);b&&c.r("complete",b);c.gu("ready",c.OE);c.send(a,void 0,void 0,void 0)}f=yg.prototype;f.OE=function(){this.g();Kb(Eg,this)};
f.send=function(a,b,c,d){if(this.ua)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Fq+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Fq=a;this.Nn="";this.bA=b;this.rt=!1;this.bi=!0;this.ua=this.Pr?eg(this.Pr):eg(cg);this.Or=this.Pr?ag(this.Pr):ag(cg);this.ua.onreadystatechange=ta(this.GA,this);try{xg(this.df,Gg(this,"Opening Xhr")),this.Tt=!0,this.ua.open(b,String(a),!0),this.Tt=!1}catch(e){xg(this.df,Gg(this,"Error opening Xhr: "+e.message));Hg(this,e);return}a=c||"";var h=
this.headers.clone();d&&Xf(d,function(a,b){h.set(b,a)});d=Fb(h.rn());c=ba.FormData&&a instanceof ba.FormData;!Hb(Dg,b)||d||c||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");h.forEach(function(a,b){this.ua.setRequestHeader(b,a)},this);this.cB&&(this.ua.responseType=this.cB);"withCredentials"in this.ua&&(this.ua.withCredentials=this.jL);try{Ig(this),0<this.Lo&&(this.Ir=Jg(this.ua),xg(this.df,Gg(this,"Will abort after "+this.Lo+"ms if incomplete, xhr2 "+this.Ir)),this.Ir?(this.ua.timeout=
this.Lo,this.ua.ontimeout=ta(this.dC,this)):this.Er=Tf(this.dC,this.Lo,this)),xg(this.df,Gg(this,"Sending request")),this.sq=!0,this.ua.send(a),this.sq=!1}catch(k){xg(this.df,Gg(this,"Send error: "+k.message)),Hg(this,k)}};function Jg(a){return E&&nc(9)&&t(a.timeout)&&ca(a.ontimeout)}function Gb(a){return"content-type"==a.toLowerCase()}f.dC=function(){"undefined"!=typeof aa&&this.ua&&(this.Nn="Timed out after "+this.Lo+"ms, aborting",xg(this.df,Gg(this,this.Nn)),this.dispatchEvent("timeout"),this.abort(8))};
function Hg(a,b){a.bi=!1;a.ua&&(a.mk=!0,a.ua.abort(),a.mk=!1);a.Nn=b;Kg(a);Lg(a)}function Kg(a){a.rt||(a.rt=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}f.abort=function(){this.ua&&this.bi&&(xg(this.df,Gg(this,"Aborting")),this.bi=!1,this.mk=!0,this.ua.abort(),this.mk=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Lg(this))};f.e=function(){this.ua&&(this.bi&&(this.bi=!1,this.mk=!0,this.ua.abort(),this.mk=!1),Lg(this,!0));yg.c.e.call(this)};
f.GA=function(){this.Wj||(this.Tt||this.sq||this.mk?Mg(this):this.jJ())};f.jJ=function(){Mg(this)};
function Mg(a){if(a.bi&&"undefined"!=typeof aa)if(a.Or[1]&&4==Ng(a)&&2==Og(a))xg(a.df,Gg(a,"Local request error detected and ignored"));else if(a.sq&&4==Ng(a))Tf(a.GA,0,a);else if(a.dispatchEvent("readystatechange"),4==Ng(a)){xg(a.df,Gg(a,"Request complete"));a.bi=!1;try{var b=Og(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}if(!(c=d)){var e;if(e=0===b){var h=Pf(String(a.Fq))[1]||null;if(!h&&self.location)var k=self.location.protocol,
h=k.substr(0,k.length-1);e=!Cg.test(h?h.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var l;try{l=2<Ng(a)?a.ua.statusText:""}catch(n){xg(a.df,"Can not get status: "+n.message),l=""}a.Nn=l+" ["+Og(a)+"]";Kg(a)}}finally{Lg(a)}}}
function Lg(a,b){if(a.ua){Ig(a);var c=a.ua,d=a.Or[0]?ea:null;a.ua=null;a.Or=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=a.df)&&c.log(qg,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ig(a){a.ua&&a.Ir&&(a.ua.ontimeout=null);t(a.Er)&&(ba.clearTimeout(a.Er),a.Er=null)}f.Ag=function(){return!!this.ua};function Ng(a){return a.ua?a.ua.readyState:0}function Og(a){try{return 2<Ng(a)?a.ua.status:-1}catch(b){return-1}}
function Gg(a,b){return b+" ["+a.bA+" "+a.Fq+" "+Og(a)+"]"};/*
 Copyright 2014 Washington University
 @author sunilk@mokacreativellc.com (Sunil Kumar)
 @author herrickr@mir.wustl.edu (Rick Herrick)
*/
function M(){}v("gxnat",M);M.JPEG_CONVERT_SUFFIX="?format=image/jpeg";M.wF={projects:"proj",subjects:"subj",experiments:"expt",scans:"scans"};M.Qw="?format=zip";M.sh=function(a,b,c){a=a+(-1<a.indexOf("?")?"&":"?")+"format=json";null!=c&&("&"!==c[0]&&(c="&"+c),a+=c);M.get(a,b,"json")};
M.get=function(a,b,c){Fg(a,function(a){a=a.target;switch(c){case void 0:b(a);case "json":var e;e=a.ua?Zf(a.ua.responseText):void 0;e.hasOwnProperty("ResultSet")?b(e.ResultSet.Result):b(e);break;case "text":try{e=a.ua?a.ua.responseText:""}catch(h){xg(a.df,"Can not get responseText: "+h.message),e=""}b(e)}})};
M.Pq=function(a,b){var c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,d=/(^[ ]*|[ ]*$)/g,e=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,h=/^0x[0-9a-f]+$/i,k=/^0/,l=(M.Pq.MH&&(""+a).toLowerCase()||""+a).replace(d,"")||"",n=(M.Pq.MH&&(""+b).toLowerCase()||""+b).replace(d,"")||"",d=l.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),c=n.replace(c,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,
"").split("\x00"),l=parseInt(l.match(h))||1!=d.length&&l.match(e)&&Date.parse(l);if(e=parseInt(n.match(h))||l&&n.match(e)&&Date.parse(n)||null){if(l<e)return-1;if(l>e)return 1}l=0;for(n=Math.max(d.length,c.length);l<n;l++){e=!(d[l]||"").match(k)&&parseFloat(d[l])||d[l]||0;h=!(c[l]||"").match(k)&&parseFloat(c[l])||c[l]||0;if(isNaN(e)!==isNaN(h))return isNaN(e)?1:-1;typeof e!==typeof h&&(e+="",h+="");if(e<h)return-1;if(e>h)return 1}return 0};
M.LK=function(a,b){var c=[],d={},e=[],h={};D(a,function(a){h=a;D(b,function(a){h=h[a]});h=h.toLowerCase();c.push(h);d[h]=a});c=c.sort(M.pO);D(c,function(a){e.push(d[a])});return e};v("gxnat.JPEG_CONVERT_SUFFIX",M.JPEG_CONVERT_SUFFIX);v("gxnat.folderAbbrev",M.wF);v("gxnat.ZIP_SUFFIX",M.Qw);v("gxnat.jsonGet",M.sh);v("gxnat.get",M.get);v("gxnat.naturalSort",M.Pq);v("gxnat.sortXnatPropertiesArray",M.LK);function Pg(a){this.originalUrl=a;this.files=this.resources=this.scans=this.experiments=this.subjects=this.projects=this.prefix=null;a=a.split("/");for(var b=!0,c=0,b=0,d=a.length,c=0;c<d;c++)if(b=this.hasOwnProperty(a[c])&&a[c+1]){if("projects"===a[c]&&0!==c)for(this.prefix="",b=0;b<c;b++)this.prefix+=a[b],this.prefix=b<c-1?this.prefix+"/":this.prefix;this[a[c]]=a[c+1];c++}Qg(this)}w(Pg,uc);v("gxnat.Path",Pg);
function Rg(a){a+="/REST";0<a.length&&"/"===a[a.length-1]&&(a=a.substring(0,a.length-1));return a}function Sg(a){for(var b=0,c=Tg.length,b=0;b<c;b++)a(Tg[b],b)}function Ug(a,b,c){if(-1==a.indexOf(c))throw Error("Graft folder",c,"not in prefix:",a);if(-1==a.indexOf(c))throw Error("Graft folder",c,"not in suffix:",b);return a.split(c+"/")[0]+c+b.split(c)[1]}var Tg=["projects","subjects","experiments",["scans","resources"],"files"];
function Qg(a){var b,c,d,e=!1;Sg(function(a,k){if(g(a))for(b=0,c=a.length;b<c;b++)d=a[b],null!=this[d]||e||(this.it=Tg[k-1],e=!0);else null!=this[a]||e||(this.it=Tg[k-1],e=!0)}.bind(a))}Pg.prototype.bq=function(){null!=this.it||Qg(this);return this.it};
Pg.prototype.zh=function(a){if(!this.hasOwnProperty(a))throw Error("Invalid level: ",a);for(var b=this.prefix,c="",d=0,e=0,h=Tg.length,k=0,d=0;d<h;d++){c=Tg[d];if(g(c))for(k=c.length,e=0;e<k;e++)currSubLevel=c[d][e],this[currSubLevel]&&(b+=currSubLevel+"/"+this[currSubLevel]);else b+="/"+c+"/"+this[c];if(a===c||-1<c.indexOf(a))return b}};Pg.prototype.g=function(){Pg.c.g.call(this);sb(this)};v("gxnat.Path.getQueryPrefix",Rg);v("gxnat.Path.forEachXnatLevel",Sg);
v("gxnat.Path.getDeepestSharedXnatLevel",function(a,b){var c=new Pg(a),d=new Pg(b),e=void 0;Sg(function(a){c[a]&&c[a]===d[a]&&(e=a)});return e});v("gxnat.Path.graftUrl",Ug);v("gxnat.Path.xnatLevelOrder",Tg);v("gxnat.Path.prototype.getDeepestLevel",Pg.prototype.bq);v("gxnat.Path.prototype.pathByLevel",Pg.prototype.zh);v("gxnat.Path.prototype.dispose",Pg.prototype.g);function Vg(a){this.wd=new Pg(a);this.projects=[];this[Wg]={};this[Xg]={};this[Yg]={}}w(Vg,uc);v("gxnat.ProjectTree",Vg);function Zg(a){this[$g]=r(a)?new Pg(a):a;this[ah]=this[$g].bq();a=Tg.indexOf(this[$g].bq())+1;-1!=a&&(this[bh]=Tg[a],r(this[bh])&&(this[ch]=this[$g].originalUrl+"/"+this[bh],this[this[bh]]=[]))}w(Zg,uc);v("gxnat.ProjectTree.TreeNode",Zg);Zg.prototype.ae=function(a){this.wb=a};Zg.prototype.Rd=function(){return this.wb};
Zg.prototype.g=function(){Zg.c.g.call(this);null!=this[$g]&&this[$g].g();sb(this)};var ah=B(),ch=B(),dh=B(),$g=B(),bh=B(),eh=B(),fh=B(),gh=B(),Wg=B(),Xg=B(),Yg=B(),hh=["ID","description","name","URI"],ih=["gender","handedness","label","URI"],jh=["label","URI"];function kh(a,b){return La(a.Rd(),b.Rd())}function lh(a){var b="&columns=";D(a,function(c,d){separator=",";d==a.length-1&&(separator="");b+=c+separator});return b}f=Vg.prototype;
f.Uy=function(a){var b=[];C(this.mn(a),function(a,d){"projects"==d?b.push(a[gh].ID):b.push(a[gh].label)});return b};f.Vy=function(a){var b=[];C(this.mn(a),function(a){b.push(a[$g].originalUrl)});return b};f.mn=function(a){branch={projects:this.ld};"experiments"==a[bh]?branch.subjects=a:g(a[bh])&&(branch.subjects=this[Xg][a[$g].zh("subjects")],branch.experiments=a);return branch};f.gA=function(a,b){this.Qn(this.wd,a,b)};
f.Qn=function(a,b,c){var d=r(a)?new Pg(a):a,e;if(null!=this.ld){a={projects:this.ld};if(null!=d.subjects){e=d.zh("subjects");if(null==this[Xg][e]){this.ju(e,function(a){this.iA(a,function(){null!=b&&b(a);this.Qn(d,b,c)}.bind(this))}.bind(this));return}a.subjects=this[Xg][e]}if(null!=d.experiments){e=d.zh("experiments");if(null==this[Yg][e]){this.iu(e,function(a){null!=b&&b(a);this.Qn(d,b,c)}.bind(this));return}a.experiments=this[Yg][e]}null!=c&&c(a)}else this.hA(function(a){null!=b&&b(a);this.Qn(d,
b,c)}.bind(this))};f.hA=function(a){if(null==this.ld){var b=lh(hh),c=this.wd.prefix+"/projects/"+this.wd.projects,d;M.sh(this.wd.prefix+"/projects",function(b){d=new Zg(c);this.projects.push(d);this.ld=d;this[Wg][d[$g].originalUrl]=d;d[gh]=b[0];d.ae(d[gh].name);a(d)}.bind(this),"&ID="+this.wd.projects+b)}};f.tn=function(a){return this[Xg][a]};f.Dl=function(a){return this[Yg][a]};
f.iA=function(a,b){var c=a;r(a)?c=this.tn(a):a instanceof Pg&&(c=this.tn(a.originalUrl));if(null!=c[gh])b(c);else{var d=this.wd.prefix+"/subjects",e=lh(ih),e="&ID="+c[$g].subjects+e;M.sh(d,function(a){c[gh]=a[0];c.ae(c[gh].label);b(c)}.bind(this),e)}};
f.jA=function(a,b){if(null==this.ld[eh]||!0!=this.ld[eh]){var c=this.ld[$g].prefix+"/subjects",d="&project="+this.ld[$g].projects+lh(ih),e,h;M.sh(c,function(c){D(c,function(d){h=this.ld[$g].prefix+"/projects/"+this.ld[$g].projects+"/subjects/"+d.ID;e=this.ju(h);null==e[gh]&&(e[gh]=d,e.ae(e[gh].label));null!=a&&a(e);this.ld.subjects.length==c.length&&(this.ld[eh]=!0,null!=b&&(d=this.ld.subjects,d.sort(kh),b(d)))}.bind(this))}.bind(this),d)}};
f.ju=function(a,b){if(null!=this[Xg][a])return this[Xg][a];subjNode=new Zg(a);this.ld.subjects.push(subjNode);this[Xg][a]=subjNode;null!=b&&b(subjNode);return subjNode};f.eA=function(a,b){var c=a;r(a)?c=this.Dl(a):a instanceof Pg&&(c=this.Dl(a.originalUrl));var d=this.wd.prefix+"/experiments",e=lh(jh),e="&ID="+c[$g].experiments+e;M.sh(d,function(a){c[gh]=a[0];c.ae(c[gh].label);b(c)}.bind(this),e)};
f.fA=function(a,b,c){var d=a;r(a)?d=this.tn(a):a instanceof Pg&&(d=this.tn(a.originalUrl));if(null!=d[eh]&&!0==d[eh])window.console.log("Don't need to reload the experiments of "+d[$g].originalUrl);else{var e=d[$g].originalUrl+"/experiments";M.sh(e+"?xsiType=xnat:imageSessionData",function(a){D(a,function(k){this.iu(e+"/"+k.ID,function(e){null!=b&&b(e);d.experiments.length==a.length&&(d[eh]=!0,null!=c&&(e=d.experiments,e.sort(kh),c(e)))}.bind(this))}.bind(this))}.bind(this))}};
f.iu=function(a,b){null==this[Yg][a]&&(exptNode=new Zg(a),this.eA(exptNode,function(c){this[Xg][c[$g].zh("subjects")].experiments.push(c);this[Yg][a]=c;null!=b&&b(c)}.bind(this)))};f.g=function(){Vg.c.g.call(this);delete this.ld;this.wd.g();delete this.wd;D(this.projects,function(a){null!=a.subjects&&D(a.subjects,function(a){null!=a.experiments&&D(a.experiments,function(a){a.g()});a.g()});a.g()});sb(this)};v("gxnat.ProjectTree.TreeNode",Zg);v("gxnat.ProjectTree.LEVEL_KEY",ah);
v("gxnat.ProjectTree.NEXTLEVELQUERY_KEY",ch);v("gxnat.ProjectTree.NEXTLEVELJSON_KEY",dh);v("gxnat.ProjectTree.PATH_KEY",$g);v("gxnat.ProjectTree.NEXTLEVEL_KEY",bh);v("gxnat.ProjectTree.NEXTLEVELLOADED_KEY",eh);v("gxnat.ProjectTree.ISLOADING_KEY",fh);v("gxnat.ProjectTree.METADATA_KEY",gh);v("gxnat.ProjectTree.PROJ_DIRECT",Wg);v("gxnat.ProjectTree.SUBJ_DIRECT",Xg);v("gxnat.ProjectTree.EXPT_DIRECT",Yg);v("gxnat.ProjectTree.PROJECT_METADATA",hh);v("gxnat.ProjectTree.SUBJECT_METADATA",ih);
v("gxnat.ProjectTree.EXPERIMENT_METADATA",jh);v("gxnat.ProjectTree.compareNodeTitles",kh);v("gxnat.ProjectTree.getColumnQuery",lh);v("gxnat.ProjectTree.prototype.getBranchTitles",Vg.prototype.Uy);v("gxnat.ProjectTree.prototype.getBranchUris",Vg.prototype.Vy);v("gxnat.ProjectTree.prototype.getBranchFromEndNode",Vg.prototype.mn);v("gxnat.ProjectTree.prototype.loadInitBranch",Vg.prototype.gA);v("gxnat.ProjectTree.prototype.loadBranch",Vg.prototype.Qn);v("gxnat.ProjectTree.prototype.loadProject",Vg.prototype.hA);
v("gxnat.ProjectTree.prototype.getSubjectNodeByUri",Vg.prototype.tn);v("gxnat.ProjectTree.prototype.getExperimentNodeByUri",Vg.prototype.Dl);v("gxnat.ProjectTree.prototype.loadSubjectMetadata",Vg.prototype.iA);v("gxnat.ProjectTree.prototype.loadSubjects",Vg.prototype.jA);v("gxnat.ProjectTree.prototype.loadSubject",Vg.prototype.ju);v("gxnat.ProjectTree.prototype.loadExperimentMetadata",Vg.prototype.eA);v("gxnat.ProjectTree.prototype.loadExperiments",Vg.prototype.fA);
v("gxnat.ProjectTree.prototype.loadExperiment",Vg.prototype.iu);v("gxnat.ProjectTree.prototype.dispose",Vg.prototype.g);function N(a,b){this.x=ca(a)?a:0;this.y=ca(b)?b:0}f=N.prototype;f.clone=function(){return new N(this.x,this.y)};f.toString=function(){return"("+this.x+", "+this.y+")"};function mh(a,b){return new N(a.x-b.x,a.y-b.y)}f.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};f.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};f.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
f.translate=function(a,b){a instanceof N?(this.x+=a.x,this.y+=a.y):(this.x+=a,t(b)&&(this.y+=b));return this};f.scale=function(a,b){var c=t(b)?b:a;this.x*=a;this.y*=c;return this};function nh(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}f=nh.prototype;f.clone=function(){return new nh(this.top,this.right,this.bottom,this.left)};f.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};f.contains=function(a){return this&&a?a instanceof nh?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
f.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};f.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};f.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
f.translate=function(a,b){a instanceof N?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,t(b)&&(this.top+=b,this.bottom+=b));return this};f.scale=function(a,b){var c=t(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function oh(a,b){this.width=a;this.height=b}function ph(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}f=oh.prototype;f.clone=function(){return new oh(this.width,this.height)};f.toString=function(){return"("+this.width+" x "+this.height+")"};f.In=function(){return!(this.width*this.height)};f.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.scale=function(a,b){var c=t(b)?b:a;this.width*=a;this.height*=c;return this};function qh(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}f=qh.prototype;f.clone=function(){return new qh(this.left,this.top,this.width,this.height)};f.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
f.Vz=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};f.contains=function(a){return a instanceof qh?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
function rh(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d}f.ot=function(a){return Math.sqrt(rh(this,a))};f.Bi=function(){return new oh(this.width,this.height)};f.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
f.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.translate=function(a,b){a instanceof N?(this.left+=a.x,this.top+=a.y):(this.left+=a,t(b)&&(this.top+=b));return this};
f.scale=function(a,b){var c=t(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function sh(){return gc?"Webkit":fc?"Moz":E?"ms":ec?"O":null};function th(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function P(a,b){var c=th(a),d=Ob(arguments,1),e=c.length+d.length;uh(c,d);a.className=c.join(" ");return c.length==e}function vh(a,b){var c=th(a),d=Ob(arguments,1),e=wh(c,d);a.className=e.join(" ");return e.length==c.length-d.length}function uh(a,b){for(var c=0;c<b.length;c++)Hb(a,b[c])||a.push(b[c])}function wh(a,b){return Bb(a,function(a){return!Hb(b,a)})}
function xh(a,b,c){var d=th(a);r(b)?Kb(d,b):g(b)&&(d=wh(d,b));r(c)&&!Hb(d,c)?d.push(c):g(c)&&uh(d,c);a.className=d.join(" ")};var yh=!E||oc(9),zh=!fc&&!E||E&&oc(9)||fc&&nc("1.9.1"),Ah=E&&!nc("9");function Bh(a){return a?new Ch(Dh(a)):Ba||(Ba=new Ch)}function Eh(a){return r(a)?document.getElementById(a):a}function Fh(a,b,c){return Gh(document,a,b,c)}function Hh(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):Gh(document,"*",a,b)}function Ih(a,b){var c=b||document,d=null;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Gh(document,"*",a,b)[0])||null}
function Gh(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,h=0,k;k=a[h];h++)b==k.nodeName&&(d[e++]=k);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(h=e=0;k=a[h];h++)b=k.className,"function"==typeof b.split&&Hb(b.split(/\s+/),c)&&(d[e++]=k);d.length=e;return d}return a}
function Kh(a,b){C(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Lh?a.setAttribute(Lh[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Lh={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Mh(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new oh(a.clientWidth,a.clientHeight)}function Nh(a){return gc||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Oh(a){return a?a.parentWindow||a.defaultView:window}function R(a,b,c){return Ph(document,arguments)}
function Ph(a,b){var c=b[0],d=b[1];if(!yh&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Oa(d.name),'"');if(d.type){c.push(' type="',Oa(d.type),'"');var e={};xb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(r(d)?c.className=d:g(d)?c.className=d.join(" "):Kh(c,d));2<b.length&&Qh(a,c,b,2);return c}function Qh(a,b,c,d){function e(c){c&&b.appendChild(r(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var h=c[d];!ha(h)||ma(h)&&0<h.nodeType?e(h):D(Rh(h)?Mb(h):h,e)}}
function Sh(a,b){Qh(Dh(a),a,arguments,1)}function Th(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Uh(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function T(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Vh(a){return zh&&void 0!=a.children?a.children:Bb(a.childNodes,function(a){return 1==a.nodeType})}function Wh(a){return void 0!=a.firstElementChild?a.firstElementChild:Xh(a.firstChild)}
function Yh(a){return void 0!=a.nextElementSibling?a.nextElementSibling:Xh(a.nextSibling)}function Xh(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function Zh(a){return ma(a)&&1==a.nodeType}function $h(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}
function ai(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],e=Infinity;for(b=0;b<c;b++){for(var h=[],k=arguments[b];k;)h.unshift(k),k=k.parentNode;d.push(h);e=Math.min(e,h.length)}h=null;for(b=0;b<e;b++){for(var k=d[0][b],l=1;l<c;l++)if(k!=d[l][b])return h;h=k}return h}function Dh(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function bi(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Th(a),a.appendChild(Dh(a).createTextNode(String(b)))}var ci={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},di={IMG:" ",BR:"\n"};function ei(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))}function fi(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}
function gi(a){a=a.tabIndex;return t(a)&&0<=a&&32768>a}function hi(a){if(Ah&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];ii(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Ah||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function ji(a){var b=[];ii(a,b,!1);return b.join("")}
function ii(a,b,c){if(!(a.nodeName in ci))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in di)b.push(di[a.nodeName]);else for(a=a.firstChild;a;)ii(a,b,c),a=a.nextSibling}function Rh(a){if(a&&"number"==typeof a.length){if(ma(a))return"function"==typeof a.item||"string"==typeof a.item;if(ja(a))return"function"==typeof a.item}return!1}
function ki(a,b,c){if(!b&&!c)return null;var d=b?b.toUpperCase():null;return li(a,function(a){return(!d||a.nodeName==d)&&(!c||r(a.className)&&Hb(a.className.split(/\s+/),c))})}function li(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Ch(a){this.ia=a||ba.document||document}f=Ch.prototype;f.G=Bh;function mi(a){return a.ia}f.a=function(a){return r(a)?this.ia.getElementById(a):a};f.yC=Ch.prototype.a;f.p=function(a,b,c){return Ph(this.ia,arguments)};f.createElement=function(a){return this.ia.createElement(a)};
f.createTextNode=function(a){return this.ia.createTextNode(String(a))};function ni(a){return"CSS1Compat"==a.ia.compatMode}function oi(a){a=a.ia;return a.parentWindow||a.defaultView}function pi(a){var b=a.ia;a=Nh(b);b=b.parentWindow||b.defaultView;return E&&nc("10")&&b.pageYOffset!=a.scrollTop?new N(a.scrollLeft,a.scrollTop):new N(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}f.appendChild=function(a,b){a.appendChild(b)};f.Xt=Uh;f.removeNode=T;f.wt=Vh;f.bz=Wh;f.contains=$h;
f.qh=function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!fi(a)||gi(a)):fi(a)&&gi(a))&&E?(a=ja(a.getBoundingClientRect)?a.getBoundingClientRect():{height:a.offsetHeight,width:a.offsetWidth},a=null!=a&&0<a.height&&0<a.width):a=b;return a};function qi(a,b,c){r(b)?ri(a,c,b):C(b,va(ri,a))}function ri(a,b,c){a:if(c=ab(c),void 0===a.style[c]){var d=sh()+cb(c);if(void 0!==a.style[d]){c=d;break a}}c&&(a.style[c]=b)}function si(a,b){var c=Dh(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function ti(a,b){return si(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function ui(a){return ti(a,"position")}
function vi(a,b,c){var d,e=fc&&(ac||jc)&&nc("1.9");b instanceof N?(d=b.x,b=b.y):(d=b,b=c);a.style.left=wi(d,e);a.style.top=wi(b,e)}function xi(a){return new N(a.offsetLeft,a.offsetTop)}function yi(a){a=a?Dh(a):document;return!E||oc(9)||ni(Bh(a))?a.documentElement:a.body}
function zi(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}E&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Ai(a){if(E&&!oc(8))return a.offsetParent;var b=Dh(a),c=ti(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=ti(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Bi(a){for(var b=new nh(0,Infinity,Infinity,0),c=Bh(a),d=c.ia.body,e=c.ia.documentElement,h=Nh(c.ia);a=Ai(a);)if(!(E&&0==a.clientWidth||gc&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=ti(a,"overflow")){var k=Ci(a),l;l=a;if(fc&&!nc("1.9")){var n=parseFloat(si(l,"borderLeftWidth"));if(Di(l))var m=l.offsetWidth-l.clientWidth-n-parseFloat(si(l,"borderRightWidth")),n=n+m;l=new N(n,parseFloat(si(l,"borderTopWidth")))}else l=new N(l.clientLeft,l.clientTop);k.x+=l.x;k.y+=l.y;b.top=Math.max(b.top,
k.y);b.right=Math.min(b.right,k.x+a.clientWidth);b.bottom=Math.min(b.bottom,k.y+a.clientHeight);b.left=Math.max(b.left,k.x)}d=h.scrollLeft;h=h.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,h);c=Mh(oi(c)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,h+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function Ci(a){var b,c=Dh(a),d=ti(a,"position"),e=fc&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),h=new N(0,0),k=yi(c);if(a==k)return h;if(a.getBoundingClientRect)b=zi(a),a=pi(Bh(c)),h.x=b.left+a.x,h.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(k),h.x=b.screenX-a.screenX,h.y=b.screenY-a.screenY;else{b=a;do{h.x+=b.offsetLeft;h.y+=b.offsetTop;b!=a&&(h.x+=b.clientLeft||0,h.y+=b.clientTop||0);
if(gc&&"fixed"==ui(b)){h.x+=c.body.scrollLeft;h.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(ec||gc&&"absolute"==d)h.y-=c.body.offsetTop;for(b=a;(b=Ai(b))&&b!=c.body&&b!=k;)h.x-=b.scrollLeft,ec&&"TR"==b.tagName||(h.y-=b.scrollTop)}return h}function Ei(a,b){var c=Fi(a),d=Fi(b);return new N(c.x-d.x,c.y-d.y)}
function Gi(a){var b;if(a.getBoundingClientRect)b=zi(a),b=new N(b.left,b.top);else{b=pi(Bh(a));var c=Ci(a);b=new N(c.x-b.x,c.y-b.y)}if(fc&&!nc(12)){b:{c=ab("transform");if(void 0===a.style[c]&&(c=sh()+cb(c),void 0!==a.style[c])){c=(gc?"-webkit":fc?"-moz":E?"-ms":ec?"-o":null)+"-transform";break b}c="transform"}a=(a=ti(a,c)||ti(a,"transform"))?(a=a.match(Hi))?new N(parseFloat(a[1]),parseFloat(a[2])):new N(0,0):new N(0,0);a=new N(b.x+a.x,b.y+a.y)}else a=b;return a}
function Fi(a){if(1==a.nodeType)return Gi(a);var b=ja(a.BF),c=a;a.targetTouches?c=a.targetTouches[0]:b&&a.wc.targetTouches&&(c=a.wc.targetTouches[0]);return new N(c.clientX,c.clientY)}function Ii(a,b,c){if(b instanceof oh)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");Ji(a,b);Ki(a,c)}function wi(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Ki(a,b){a.style.height=wi(b,!0)}function Ji(a,b){a.style.width=wi(b,!0)}
function Li(a){var b=Mi;if("none"!=ti(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,h=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=h;c.visibility=e;return a}function Mi(a){var b=a.offsetWidth,c=a.offsetHeight,d=gc&&!b&&!c;return ca(b)&&!d||!a.getBoundingClientRect?new oh(b,c):(a=zi(a),new oh(a.right-a.left,a.bottom-a.top))}function Ni(a){var b=Ci(a);a=Li(a);return new qh(b.x,b.y,a.width,a.height)}
function Oi(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function Pi(a,b){a.style.display=b?"":"none"}function Qi(a){E&&ca(a.cssText)?a.cssText=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }":a.innerHTML=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }"}function Di(a){return"rtl"==ti(a,"direction")}var Ri=fc?"MozUserSelect":gc?"WebkitUserSelect":null;
function Si(a,b,c){c=c?null:a.getElementsByTagName("*");if(Ri){if(b=b?"none":"",a.style[Ri]=b,c){a=0;for(var d;d=c[a];a++)d.style[Ri]=b}}else if(E||ec)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}function Ti(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function Ui(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Ti(a,c):0}function Vi(a,b){if(E){var c=Ui(a,b+"Left"),d=Ui(a,b+"Right"),e=Ui(a,b+"Top"),h=Ui(a,b+"Bottom");return new nh(e,d,h,c)}c=si(a,b+"Left");d=si(a,b+"Right");e=si(a,b+"Top");h=si(a,b+"Bottom");return new nh(parseFloat(e),parseFloat(d),parseFloat(h),parseFloat(c))}var Wi={thin:2,medium:4,thick:6};
function Xi(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Wi?Wi[c]:Ti(a,c)}function Yi(a){if(E&&!oc(9)){var b=Xi(a,"borderLeft"),c=Xi(a,"borderRight"),d=Xi(a,"borderTop");a=Xi(a,"borderBottom");return new nh(d,c,a,b)}b=si(a,"borderLeftWidth");c=si(a,"borderRightWidth");d=si(a,"borderTopWidth");a=si(a,"borderBottomWidth");return new nh(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Hi=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Zi(a){uc.call(this);this.Nc=a;this.Xa={}}w(Zi,uc);var $i=[];f=Zi.prototype;f.r=function(a,b,c,d){g(b)||(b&&($i[0]=b.toString()),b=$i);for(var e=0;e<b.length;e++){var h=G(a,b[e],c||this.handleEvent,d||!1,this.Nc||this);if(!h)break;this.Xa[h.key]=h}return this};f.gu=function(a,b,c,d){return aj(this,a,b,c,d)};function aj(a,b,c,d,e,h){if(g(c))for(var k=0;k<c.length;k++)aj(a,b,c[k],d,e,h);else{b=Rc(b,c,d||a.handleEvent,e,h||a.Nc||a);if(!b)return a;a.Xa[b.key]=b}return a}
f.eb=function(a,b,c,d,e){if(g(b))for(var h=0;h<b.length;h++)this.eb(a,b[h],c,d,e);else c=c||this.handleEvent,e=e||this.Nc||this,c=Lc(c),d=!!d,b=gb(a)?a.sn(b,c,d,e):a?(a=Nc(a))?a.sn(b,c,d,e):null:null,b&&(Tc(b),delete this.Xa[b.key]);return this};f.Vf=function(){C(this.Xa,Tc);this.Xa={}};f.e=function(){Zi.c.e.call(this);this.Vf()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function bj(){}fa(bj);bj.prototype.zA=0;function cj(a){Yc.call(this);this.bb=a||Bh();this.Kg=dj;this.bf=null;this.$=!1;this.l=null;this.Ci=void 0;this.Gf=this.sc=this.Ja=this.su=null;this.qC=!1}w(cj,Yc);cj.prototype.DH=bj.Qd();var dj=null;
function ej(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}function fj(a){return a.bf||(a.bf=":"+(a.DH.zA++).toString(36))}function gj(a,b){a.Ja&&a.Ja.Gf&&(tb(a.Ja.Gf,a.bf),ub(a.Ja.Gf,b,a));a.bf=b}f=cj.prototype;f.a=function(){return this.l};
f.Ua=function(){this.Ci||(this.Ci=new Zi(this));return this.Ci};f.po=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Ja&&this.bf&&hj(this.Ja,this.bf)&&this.Ja!=a)throw Error("Unable to set parent component");this.Ja=a;cj.c.vv.call(this,a)};f.getParent=function(){return this.Ja};f.vv=function(a){if(this.Ja&&this.Ja!=a)throw Error("Method not supported");cj.c.vv.call(this,a)};f.G=function(){return this.bb};f.p=function(){this.l=this.bb.createElement("div")};f.k=function(a){this.Jg(a)};
f.Jg=function(a,b){if(this.$)throw Error("Component already rendered");this.l||this.p();a?a.insertBefore(this.l,b||null):this.bb.ia.body.appendChild(this.l);this.Ja&&!this.Ja.$||this.Ta()};f.ob=function(a){if(this.$)throw Error("Component already rendered");if(a&&this.te(a)){this.qC=!0;var b=Dh(a);this.bb&&this.bb.ia==b||(this.bb=Bh(a));this.Md(a);this.Ta()}else throw Error("Invalid element to decorate");};f.te=function(){return!0};f.Md=function(a){this.l=a};
f.Ta=function(){this.$=!0;ij(this,function(a){!a.$&&a.a()&&a.Ta()})};f.jc=function(){ij(this,function(a){a.$&&a.jc()});this.Ci&&this.Ci.Vf();this.$=!1};f.e=function(){this.$&&this.jc();this.Ci&&(this.Ci.g(),delete this.Ci);ij(this,function(a){a.g()});!this.qC&&this.l&&T(this.l);this.Ja=this.su=this.l=this.Gf=this.sc=null;cj.c.e.call(this)};f.Pm=function(a,b){this.Ds(a,jj(this),b)};
f.Ds=function(a,b,c){if(a.$&&(c||!this.$))throw Error("Component already rendered");if(0>b||b>jj(this))throw Error("Child component index out of bounds");this.Gf&&this.sc||(this.Gf={},this.sc=[]);if(a.getParent()==this){var d=fj(a);this.Gf[d]=a;Kb(this.sc,a)}else ub(this.Gf,fj(a),a);a.po(this);Nb(this.sc,b,0,a);a.$&&this.$&&a.getParent()==this?(c=this.Aa(),c.insertBefore(a.a(),c.childNodes[b]||null)):c?(this.l||this.p(),b=kj(this,b+1),a.Jg(this.Aa(),b?b.l:null)):this.$&&!a.$&&a.l&&a.l.parentNode&&
1==a.l.parentNode.nodeType&&a.Ta()};f.Aa=function(){return this.l};f.Ae=function(){null==this.Kg&&(this.Kg=Di(this.$?this.l:this.bb.ia.body));return this.Kg};f.am=function(a){if(this.$)throw Error("Component already rendered");this.Kg=a};function jj(a){return a.sc?a.sc.length:0}function hj(a,b){var c;a.Gf&&b?(c=a.Gf,c=(b in c?c[b]:void 0)||null):c=null;return c}function kj(a,b){return a.sc?a.sc[b]||null:null}function ij(a,b,c){a.sc&&D(a.sc,b,c)}function lj(a,b){return a.sc&&b?Ab(a.sc,b):-1}
f.removeChild=function(a,b){if(a){var c=r(a)?a:fj(a);a=hj(this,c);c&&a&&(tb(this.Gf,c),Kb(this.sc,a),b&&(a.jc(),a.l&&T(a.l)),a.po(null))}if(!a)throw Error("Child is not in parent component");return a};v("nrg.string",function(){});function mj(a){if(void 0!=a)return a.replace(/\\/g,"/").replace(/.*\//,"")}function nj(a){if(void 0!=a)return a.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function oj(a){if(null!=a)return a="array"==ga(a)?a[0]:a,a=a.slice(a.lastIndexOf(".")+1),"gz"==a&&(a="nii."+a),a.toLowerCase()}function pj(a){return a.replace(/\W/g,"")}function qj(a,b){var c=a.toLowerCase().replace(/\.|_/g,"-");null!=b&&(c+="-"+b.toLowerCase().replace(/\.|_/g,"-"));return c}
function rj(a){return"rgb("+a.split(" ").map(function(a){return Math.round(255*parseFloat(a))}).toString()+")"}v("nrg.string.basename",mj);v("nrg.string.dirname",nj);v("nrg.string.getFileExtension",oj);v("nrg.string.fileNameMatch",function(a,b){return mj(a)===mj(b)});v("nrg.string.stripNonAlphanumeric",pj);v("nrg.string.stripIllegal",function(a){return a.replace(/[|&;$%@"<>()+,]/g,"")});v("nrg.string.getLettersOnly",function(a){return pj(a).replace(/[0-9]/g,"")});
v("nrg.string.replaceIllegal",function(a,b){if("string"!==typeof a)throw Error("Illegal value "+typeof a+" in argument of nrg.string.replaceIllegal .");void 0===b&&(b="");var c=a.replace(/\/./g,b);return c=c.replace(/[|&;$%@"<>()+,]/g,b)});v("nrg.string.truncateString",function(a,b){b=void 0===b?30:b;return a.length>b?a.substring(0,b-3)+"...":a});v("nrg.string.makeCssName",qj);v("nrg.string.mrmlColorToRgb",rj);function sj(a,b,c){uc.call(this);this.hu=a;this.Ql=b||0;this.Nc=c;this.NE=ta(this.eF,this)}w(sj,uc);f=sj.prototype;f.bf=0;f.e=function(){sj.c.e.call(this);this.stop();delete this.hu;delete this.Nc};f.start=function(a){this.stop();this.bf=Tf(this.NE,ca(a)?a:this.Ql)};f.stop=function(){this.Ag()&&ba.clearTimeout(this.bf);this.bf=0};f.Ag=function(){return 0!=this.bf};f.eF=function(){this.bf=0;this.hu&&this.hu.call(this.Nc)};var rb={},tj=null;function uj(a){a=na(a);delete rb[a];qb()&&tj&&tj.stop()}function vj(){tj||(tj=new sj(function(){wj()},20));var a=tj;a.Ag()||a.start()}function wj(){var a=xa();C(rb,function(b){xj(b,a)});qb()||vj()};function yj(){Yc.call(this);this.I=zj;this.endTime=this.startTime=null}w(yj,Yc);var zj=0;yj.prototype.wh=function(){this.Kc("begin")};yj.prototype.onEnd=function(){this.Kc("end")};yj.prototype.Kc=function(a){this.dispatchEvent(a)};function Aj(a,b,c,d){yj.call(this);if(!g(a)||!g(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Do=a;this.mF=b;this.duration=c;this.nx=d;this.coords=[];this.Mk=!1}w(Aj,yj);f=Aj.prototype;f.ri=function(a){this.Mk=a};f.hf=0;
f.play=function(a){if(a||this.I==zj)this.hf=0,this.coords=this.Do;else if(1==this.I)return!1;uj(this);this.startTime=a=xa();-1==this.I&&(this.startTime-=this.duration*this.hf);this.endTime=this.startTime+this.duration;this.hf||this.wh();this.Kc("play");-1==this.I&&this.Kc("resume");this.I=1;var b=na(this);b in rb||(rb[b]=this);vj();xj(this,a);return!0};f.stop=function(a){uj(this);this.I=zj;a&&(this.hf=1);Bj(this,this.hf);this.Kc("stop");this.onEnd()};
f.e=function(){this.I==zj||this.stop(!1);this.Kc("destroy");Aj.c.e.call(this)};f.Jb=function(){this.g()};function xj(a,b){a.hf=(b-a.startTime)/(a.endTime-a.startTime);1<=a.hf&&(a.hf=1);Bj(a,a.hf);1==a.hf?(a.I=zj,uj(a),a.Kc("finish"),a.onEnd()):1==a.I&&a.Cu()}function Bj(a,b){ja(a.nx)&&(b=a.nx(b));a.coords=Array(a.Do.length);for(var c=0;c<a.Do.length;c++)a.coords[c]=(a.mF[c]-a.Do[c])*b+a.Do[c]}f.Cu=function(){this.Kc("animate")};f.Kc=function(a){this.dispatchEvent(new Cj(a,this))};
function Cj(a,b){Bc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.hf=b.hf;this.state=b.I}w(Cj,Bc);var Dj={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ej(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Fj.test(c))return b.Il=Gj(c),b.type="hex",b;a:{var d=a.match(Hj);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length)return b.Il=Ij(c),b.type="rgb",b;if(Dj&&(c=Dj[a.toLowerCase()]))return b.Il=c,b.type="named",b;throw Error(a+" is not a valid color string");}var Jj=/#(.)(.)(.)/;
function Gj(a){if(!Fj.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Jj,"#$1$1$2$2$3$3"));return a.toLowerCase()}function Kj(a){a=Gj(a);return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]}
function Ij(a){var b=a[0],c=a[1];a=a[2];b=Number(b);c=Number(c);a=Number(a);if(isNaN(b)||0>b||255<b||isNaN(c)||0>c||255<c||isNaN(a)||0>a||255<a)throw Error('"('+b+","+c+","+a+'") is not a valid RGB color');b=Lj(b.toString(16));c=Lj(c.toString(16));a=Lj(a.toString(16));return"#"+b+c+a}var Fj=/^#(?:[0-9a-f]{3}){1,2}$/i,Hj=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Lj(a){return 1==a.length?"0"+a:a}
function Mj(a,b,c){var d=0,e=0,h=0;if(0==b)h=e=d=c;else{var k=Math.floor(a/60),l=a/60-k;a=c*(1-b);var n=c*(1-b*l);b=c*(1-b*(1-l));switch(k){case 1:d=n;e=c;h=a;break;case 2:d=a;e=c;h=b;break;case 3:d=a;e=n;h=c;break;case 4:d=b;e=a;h=c;break;case 5:d=c;e=a;h=n;break;case 6:case 0:d=c,e=b,h=a}}return Ij([Math.floor(d),Math.floor(e),Math.floor(h)])};function Nj(a){var b=a.offsetLeft,c=a.offsetParent;c||"fixed"!=ui(a)||(c=Dh(a).documentElement);if(!c)return b;if(fc)var d=Yi(c),b=b+d.left;else oc(8)&&(d=Yi(c),b-=d.left);return Di(c)?c.clientWidth-(b+a.offsetWidth):b};function Oj(a,b,c,d,e){Aj.call(this,b,c,d,e);this.element=a}w(Oj,Aj);f=Oj.prototype;f.j=ea;f.Ae=function(){ca(this.Kg)||(this.Kg=Di(this.element));return this.Kg};f.Cu=function(){this.j();Oj.c.Cu.call(this)};f.onEnd=function(){this.j();Oj.c.onEnd.call(this)};f.wh=function(){this.j();Oj.c.wh.call(this)};function Pj(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Oj.apply(this,arguments)}w(Pj,Oj);
Pj.prototype.j=function(){var a=this.Mk&&this.Ae()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function Qj(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Oj.apply(this,arguments)}w(Qj,Oj);Qj.prototype.j=function(){this.element.style.width=Math.round(this.coords[0])+"px";this.element.style.height=Math.round(this.coords[1])+"px"};
function Rj(a,b,c,d,e){Oj.call(this,a,[b],[c],d,e)}w(Rj,Oj);Rj.prototype.j=function(){this.element.style.width=Math.round(this.coords[0])+"px"};function Sj(a,b,c,d,e){Oj.call(this,a,[b],[c],d,e)}w(Sj,Oj);Sj.prototype.j=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function Tj(a,b,c,d,e){t(b)&&(b=[b]);t(c)&&(c=[c]);Oj.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}w(Tj,Oj);Tj.prototype.j=function(){Oi(this.element,this.coords[0])};
Tj.prototype.show=function(){this.element.style.display=""};Tj.prototype.Kl=function(){this.element.style.display="none"};function Uj(a,b,c){Tj.call(this,a,1,0,b,c)}w(Uj,Tj);function Vj(a,b,c){Tj.call(this,a,0,1,b,c)}w(Vj,Tj);function Wj(a,b,c){Tj.call(this,a,1,0,b,c)}w(Wj,Tj);Wj.prototype.wh=function(){this.show();Wj.c.wh.call(this)};Wj.prototype.onEnd=function(){this.Kl();Wj.c.onEnd.call(this)};function Xj(a,b,c){Tj.call(this,a,0,1,b,c)}w(Xj,Tj);Xj.prototype.wh=function(){this.show();Xj.c.wh.call(this)};
function Yj(a,b,c,d,e){if(3!=b.length||3!=c.length)throw Error("Start and end points must be 3D");Oj.apply(this,arguments)}w(Yj,Oj);Yj.prototype.ur=function(){for(var a=[],b=0;b<this.coords.length;b++)a[b]=Math.round(this.coords[b]);this.element.style.backgroundColor="rgb("+a.join(",")+")"};Yj.prototype.j=function(){this.ur()};function Zj(){yj.call(this);this.Zb=[]}w(Zj,yj);Zj.prototype.add=function(a){Hb(this.Zb,a)||(this.Zb.push(a),G(a,"finish",this.Du,!1,this))};Zj.prototype.remove=function(a){Kb(this.Zb,a)&&Sc(a,"finish",this.Du,!1,this)};Zj.prototype.e=function(){D(this.Zb,function(a){a.g()});this.Zb.length=0;Zj.c.e.call(this)};function ak(){Zj.call(this);this.tt=0}w(ak,Zj);
ak.prototype.play=function(a){if(0==this.Zb.length)return!1;if(a||this.I==zj)this.tt=0,this.wh();else if(1==this.I)return!1;this.Kc("play");-1==this.I&&this.Kc("resume");var b=-1==this.I&&!a;this.startTime=xa();this.endTime=null;this.I=1;D(this.Zb,function(c){b&&-1!=c.I||c.play(a)});return!0};ak.prototype.stop=function(a){D(this.Zb,function(b){b.I==zj||b.stop(a)});this.I=zj;this.endTime=xa();this.Kc("stop");this.onEnd()};
ak.prototype.Du=function(){this.tt++;this.tt==this.Zb.length&&(this.endTime=xa(),this.I=zj,this.Kc("finish"),this.onEnd())};function bk(){Zj.call(this);this.If=0}w(bk,Zj);bk.prototype.play=function(a){if(0==this.Zb.length)return!1;if(a||this.I==zj)this.If<this.Zb.length&&this.Zb[this.If].I!=zj&&this.Zb[this.If].stop(!1),this.If=0,this.wh();else if(1==this.I)return!1;this.Kc("play");-1==this.I&&this.Kc("resume");this.startTime=xa();this.endTime=null;this.I=1;this.Zb[this.If].play(a);return!0};
bk.prototype.stop=function(a){this.I=zj;this.endTime=xa();if(a)for(a=this.If;a<this.Zb.length;++a){var b=this.Zb[a];b.I==zj&&b.play();b.I==zj||b.stop(!0)}else this.If<this.Zb.length&&this.Zb[this.If].stop(!1);this.Kc("stop");this.onEnd()};bk.prototype.Du=function(){1==this.I&&(this.If++,this.If<this.Zb.length?this.Zb[this.If].play():(this.endTime=xa(),this.I=zj,this.Kc("finish"),this.onEnd()))};v("nrg.convert",function(){});function ck(a){if(!g(a)&&!t(a))throw new TypeError("Array or number expected!",a);if(a instanceof Array)return a.map(function(a){return a.toString()+"px"});switch(typeof a){case "number":return a.toString()+"px"}}
function dk(a,b,c){if(b[0]===b[1]||c[0]===c[1])throw"Remap: initial domain is equal!";b=b.sort();c=c.sort();if(a<=b[0])return a=b[0],{remappedVal:c[0],oldValue:a};if(a>=b[1])return a=b[1],{remappedVal:c[1],oldValue:a};b=Math.round(a/(b[1]-b[0])*(c[1]-c[0]));b<c[0]?b=c[0]:b>c[1]&&(b=c[1]);return{remappedVal:b,oldValue:a}}function ek(a){if(!r(a)&&!t(a))throw new TypeError("Number or string expected!",a);return parseInt(a,10)}
function fk(a){var b={};C(a,function(a,d){isNaN(a)?r(a)&&(b[d]=a):b[d]=a});return b}function gk(a){var b={};C(a,function(a,d){r(a)?0<a.length&&(b[d]=a):b[d]=a});return b}v("nrg.convert.pct",function(a){if(!t(a))throw new TypeError("Number expected!",a);if(1<a||0>a)throw Error("Value must be between 0 and 1!");return(100*a).toString()+"%"});v("nrg.convert.px",ck);v("nrg.convert.remap1D",dk);v("nrg.convert.toInt",ek);
v("nrg.convert.toFloatArray",function(a){if(!r(a))throw new TypeError("String expected!",a);var b=[];a=a.split(" ");D(a,function(a,d){b[d]=parseFloat(a,10)});return b});v("nrg.convert.objectToArray",function(a){if(!ma(a))throw new TypeError("Object expected!",a);var b=[],c="";for(c in a)b=b.concat(a[c]);return b});v("nrg.convert.rgbToArray",function(a){if(!r(a))throw new TypeError("String expected!",a);a=a.match(/\d+/g);var b=0,b=0;for(len=a.length;b<len;b++)a[b]=parseInt(a[b],10);return a});
v("nrg.convert.arrayToRgb",function(a,b){if(!g(a))throw new TypeError("Array expected!",a);var c="rgb(";b=void 0===b?1:b;D(a,function(a){c+=parseInt(a*b,10).toString()+","});return c=c.substring(0,c.length-1)+")"});v("nrg.convert.filterNaN",fk);v("nrg.convert.filterZeroLengthStrings",gk);v("nrg.style",function(){});var hk="azimuth background-attachment background-color background-image background-position background-repeat background border-collapse border-color border-spacing border-style border-top border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width border-bottom-width border-left-width border-width border bottom caption-side clear clip color content counter-increment counter-reset cue-after cue-before cue cursor direction display elevation empty-cells float font-family font-size font-style font-variant font-weight font height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-right margin-left margin-top margin-bottom margin max-height max-width min-height min-width orphans outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page-break-after page-break-before page-break-inside pause-after pause-before pause pitch-range pitch play-during position quotes richness right speak-header speak-numeral speak-punctuation speak speech-rate stress table-layout text-align text-decoration text-indent text-transform top unicode-bidi vertical-align visibility voice-family volume white-space widows width word-spacing z-index".split(" ");
function ik(a){return a.getBoundingClientRect()}
function jk(a,b){if(b&&"string"===typeof b){var c="";switch(b){case "height":return a.clientHeight;case "width":return a.clientWidth;case "outerHeight":return a.offsetHeight;case "outerWidth":return a.offsetWidth;case "offsetTop":return a.offsetTop;case "offsetLeft":return a.offsetLeft;default:c=/%emt/.test(a.style[b]);if(!c)return ek(a.style[b]);var d=Ei(a,a.parentNode),d={left:ek(a.style.left)||d.x,top:ek(a.style.top)||d.y};return d[b]}}else return c={},d=a.parentNode?Ei(a,a.parentNode):Ei(a,document.body),
d={left:ek(a.style.left)||d.x,top:ek(a.style.top)||d.y},c.left=d.left,c.top=d.top,c.height=a.clientHeight,c.width=a.clientWidth,c.outerHeight=a.offsetWidth,c.outerWidth=a.offsetHeight,c.offsetTop=a.offsetTop,c.offsetLeft=a.offsetLeft,c}
function kk(a){var b="height width left top border-width borderWidth borderRadius border-radius fontSize fontSize margin margin-top marginTop marginLeft margin-left".split(" "),c=0,d=0;for(key in a)for(c=0,d=b.length;c<d;c++)key===b[c]&&(a[key]=parseInt(a[key],10));return a}function lk(a,b){a&&b&&(a.style||(a.style={}),qi(a,b),D("top left height width fontSize borderWidth borderRadius".split(" "),function(c){b[c]&&!Da(b[c],"%")&&(a.style[c]=ck(b[c]))}))}var mk="is_hovered_"+B();
function nk(a,b,c,d,e,h){function k(){a[mk]=!1;vh(a,b);null!=h&&h()}function l(){a[mk]=!0;P(a,b);null!=e&&e()}G(a,"mouseover",l);G(a,"mouseout",k);c&&(c=void 0!==d?c.bind(d):c,c(l,k))}v("nrg.style.cssProperties",hk);v("nrg.style.removeClassesThatContain",function(a,b){var c=th(a),d=[],e=0;b=b.toLowerCase();e=0;for(len=c.length;e<len;e++)-1<c[e].toLowerCase().indexOf(b)&&d.push(c[e]);e=0;for(len=d.length;e<len;e++)vh(a,d[e])});v("nrg.style.absolutePosition",ik);v("nrg.style.dims",jk);
v("nrg.style.getStyleSheet",function(a){for(var b=0;b<document.styleSheets.length;b++){var c=document.styleSheets[b];if(c.title==a)return c}});v("nrg.style.getComputedStyle",function(a,b){if(b&&r(b))return window.getComputedStyle(a,null).getPropertyValue(b);void 0===b&&(b=hk);for(var c={},d=window.getComputedStyle(a,null),e=0,h=b.length,e=0;e<h;e++)c[b[e]]=d.getPropertyValue(b[e]);return kk(c)});v("nrg.style.parseIntNumericalProperties",kk);v("nrg.style.setStyle",lk);v("nrg.style.IS_HOVERED",mk);
v("nrg.style.setHoverClass",nk);v("nrg.style.getPositionRelativeToAncestor",function(a,b){var c=0,d=0;if(a.offsetParent){for(var e=a;e!==b;)c+=e.offsetLeft,d+=e.offsetTop,e=e.offsetParent;return{left:c,top:d}}});function ok(a){return 1-Math.pow(1-a,3)};function pk(){}v("nrg.fx",pk);function qk(a,b,c){void 0===b&&(b=500);rk(a,b,1,c)}function sk(a,b,c){void 0===b&&(b=500);rk(a,0,0,function(){rk(a,b,1,c)})}function tk(a,b,c){void 0===b&&(b=500);rk(a,b,0,c)}function rk(a,b,c,d,e){e||(null!=a.style?e=a.style.opacity?parseInt(a.style.opacity,10):1:(window.console.log(a),a.style.opacity=1));var h=new Tj(a,e,c,b);d&&h.addEventListener("end",function(a){d(a);H(h);delete h});h.play()}pk.animGenStyles="left top width height opacity background-color color z-index".split(" ");
function uk(a,b,c,d){if(("left"in b||"left"in c||"top"in b||"top"in c)&&!(isNaN(b.top)||isNaN(c.top)||isNaN(b.left)||isNaN(c.left)))return new Pj(a,[b.left,b.top],[c.left,c.top],d,ok)}function vk(a,b,c,d){if(("height"in b||"height"in c||"width"in b||"width"in c)&&!(isNaN(b.height)||isNaN(c.height)||isNaN(b.width)||isNaN(c.width)))return new Qj(a,[b.width,b.height],[c.width,c.height],d,ok)}
function wk(a,b,c,d){if("opacity"in b||"opacity"in c)if(D([b,c],function(a){"opacity"in a||(a.opacity=1);t(a.opacity)||(a.opacity=parseInt(a.opacity,10))}),b.opacity!==c.opacity)return new Tj(a,b.opacity,c.opacity,d)}function xk(a,b,c,d){if("visibility"in b||"visibility"in c)if(D([b,c],function(a){"visibility"in a||(a.visibility="visible")}),b.visibility!==c.visibility)return"hidden"===b.visibility?new Xj(a,d):new Wj(a,d)}
function yk(a,b,c,d){if("background-color"in b||"background-color"in c){D([b,c],function(a){"background-color"in a||(a["background-color"]="rgb(255,255,255)")});try{var e=Ej(b["background-color"]),h=Ej(c["background-color"]);if(e.Il!==h.Il)return new Yj(a,Kj(e),Kj(h),d,ok)}catch(k){window.console.log("Skipping color transition anim: ",k.message)}}}function zk(a,b){this.DE=a;this.ZK=b}function Ak(a){return gk(fk(a))}
function Bk(a){var b=Li(a),c=xi(a);return{left:c.x,top:c.y,width:b.width,height:b.height,opacity:parseInt(a.style.opacity,10),"background-color":a.style.backgroundColor,background:a.style.background,color:a.style.color,"z-index":parseInt(a.style.zIndex,10)}}function Ck(a,b){var c=Bk(a),c=Ak(c),d=Bk(b),e=Ak(d);C(c,function(a,b){null!=e[b]||(e[b]=a)});return new zk(c,e)}
function Dk(a,b,c,d){var e=[];D(pk.animGenStyles,function(h){if(null!=b&&null!=c)switch(h){case "left":e.push(uk(a,b,c,d));break;case "height":e.push(vk(a,b,c,d));break;case "opacity":e.push(wk(a,b,c,d));break;case "visibility":e.push(xk(a,b,c,d));break;case "background-color":e.push(yk(a,b,c,d))}});var h=[];D(e,function(a){null!=a&&h.push(a)});delete e;return h}
function Ek(a,b,c,d){var e=new ak;D(a,function(a){c&&G(a,"animate",c);e.add(a)});b&&G(e,"begin",b);G(e,"end",function(){d&&d();e.g();e=null;delete e});e.play()}function Fk(a,b,c){function d(){lk(a,{opacity:c})}b=void 0===b?1:b;c=void 0===c?.5:c;G(a,"mouseover",function(){lk(a,{opacity:b})});G(a,"mouseout",d);d()}v("nrg.fx.fadeIn",qk);v("nrg.fx.fadeInFromZero",sk);v("nrg.fx.fadeOut",tk);
v("nrg.fx.fadeOutAndRemove",function(a,b,c){void 0===b&&(b=500);rk(a,b,0,function(){a.parentNode.removeChild(a);c&&c()})});v("nrg.fx.fadeTo",rk);v("nrg.fx.animGenStyles",pk.animGenStyles);v("nrg.fx.generateAnim_Slide",uk);v("nrg.fx.generateAnim_Resize",vk);v("nrg.fx.generateAnim_Fade",wk);v("nrg.fx.generateAnim_RemoveAddFade",xk);v("nrg.fx.generateAnim_BgColorTrans",yk);v("nrg.fx.TransitionDims",zk);v("nrg.fx.filterTransitionStyles",Ak);v("nrg.fx.getTransitionStyles",Bk);
v("nrg.fx.generateTransitionDims",Ck);v("nrg.fx.generateAnimations",Dk);v("nrg.fx.parallelAnimate",Ek);v("nrg.fx.serialAnimate",function(a,b,c,d){var e=new bk;D(a,function(a){c&&G(a,"animate",c);e.add(a)});b&&G(e,"begin",b);G(e,"end",function(){d&&d();e.g();e=null;delete e});e.play()});v("nrg.fx.setBasicHoverStates",Fk);function Gk(a){return a.slice(a.lastIndexOf("/")+1)}function Hk(a){for(var b=arguments[0],c=1;c<arguments.length;c++)var d=arguments[c],b=0==d.lastIndexOf("/",0)?d:""==b||Da(b,"/")?b+d:b+("/"+d);return b};function Ik(){}v("nrg.dom",Ik);function Jk(a,b,c){if(!g(a))throw new TypeError("Array expected!",a);if(b&&!r(b))throw new TypeError("String expected!",b);if(c&&!r(c))throw new TypeError("String expected!",c);var d={};c=c?c:"png";var e="",h=0,h=0;for(len=a.length;h<len;h++)e=a[h],d[e]=Kk(e,{src:b?Hk(b,bb(e)+"."+c):""});return d}function Lk(a,b){var c=R("img",{src:b});c.style.ON="contain";c.style.maxWidth="100%";c.style.maxHeight="100%";Sh(a,c);c.onclick=c.parentNode.onclick}
function Kk(a,b,c,d){if(!r(a))throw new TypeError("String expected!");if(b&&!ma(b))throw new TypeError("Object expected!");if(null!=c&&!t(c))throw new TypeError("Number expected!");if(null!=d&&!t(d))throw new TypeError("Number expected!");a=Mk("div",a,b?b:{});b&&b.src&&Lk(a,b.src);Fk(a,void 0===c?1:c,void 0===d?.5:d);return a}
function Mk(a,b,c){if(!r(a))throw new TypeError("String expected!",a);if(!r(b))throw new TypeError("String expected!",b);if(c&&!ma(c))throw new TypeError("Object expected!");c=c&&ma(c)?c:{};c.id=c.id?c.id:b+"_"+B();c["class"]=c["class"]?c["class"]:bb(b.replace(/\./g,"-").toLowerCase());return R(a,c)}v("nrg.dom.createBasicHoverButtonSet",Jk);v("nrg.dom.createDivChildImage",Lk);v("nrg.dom.createBasicHoverButton",Kk);v("nrg.dom.createUniqueDom",Mk);
v("nrg.dom.stopPropagation",function(a){a||(a=window.event);a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation()});v("nrg.dom.checkForExtraneousArgs",function(a,b){for(var c in b)if(c in a)"[object Object]"===b[c].toString()&&Ik.JO(originString,a[c],b[c]);else throw"Invalid arguments detected in args: '"+c+"' ";});
v("nrg.dom.readCSS",function(a){for(var b=document.styleSheets[0].rules||document.styleSheets[0].cssRules,c=0,c=0;c<b.length;c++)b[c].selectorText==a&&(b[c].cssText?alert(b[c].cssText):alert(b[c].style.cssText));return b});function V(a){cj.call(this,a);this.gw();this.l=Mk("div",this.constructor.ID_PREFIX,a);this.Np();Nk(this)}w(V,cj);v("nrg.ui.Component",V);f=V.prototype;f.gw=function(){if(this instanceof V){this.constructor.c&&this.constructor.c instanceof V&&V.prototype.gw.bind(this.constructor.c)();if(!this.constructor.ID_PREFIX)throw Error("nrg.ui.Component subclass should have the property 'ID_PREFIX' .",this);ca(this.constructor.nm)||(this.constructor.nm=Ok(this.constructor.ID_PREFIX),this.constructor.oc=this.constructor.nm)}};
function Ok(a){return a.toLowerCase().replace(/\./g,"-")}f.Np=function(){if(null!=this.constructor.c)for(var a=this.constructor.c;null!=a.constructor.ID_PREFIX;)V.prototype.Np.bind(a)(),a=a.constructor.c;ca(this.constructor.CSS_SUFFIX)&&!ca(this.constructor.CSS)&&(this.constructor.CSS=vb(this.constructor.CSS_SUFFIX),C(this.constructor.CSS,function(a,c){this.constructor.CSS[c]=qj(this.constructor.ID_PREFIX,a)}.bind(this)))};
function Nk(a){for(var b=[],c=a,d;null!=c.constructor.ID_PREFIX;)d=Ok(c.constructor.ID_PREFIX),Jb(b,d),c=c.constructor.c;D(b,function(a){null!=this.a()&&P(this.a(),a)}.bind(a))}f.Fi="";f.pB=function(a){this.Fi=a};f.bG=function(){return this.Fi};f.uE=function(a){null==this.Go&&(this.Go=[]);this.Go.push(a)};
f.eh=function(){if(null==this.ba)this.ba=Li(this.a());else if(this.ba.height!==this.q.height||this.ba.width!==this.q.width)this.ba=this.q;if(null==this.co)this.co=xi(this.a());else if(this.co.x!==this.Op.x||this.co.y!==this.Op.y)this.co=this.Op;this.q=Li(this.a());this.Op=xi(this.a())};f.j=function(){this.eh()};f.k=function(a){this.$&&this.a().parentNode!==a&&null!=a?a.appendChild(this.a()):V.c.k.call(this,a)};f.Hy=!1;f.bF=function(){return this.Hy};
f.e=function(){V.c.e.call(this);null!=this.Go&&(D(this.Go,function(a){H(a);a.g()}),Ib(this.Go));H(this);H(this.a());T(this.a());this.co=this.ba=this.Op=this.q=this.Fi=null;this.Hy=!0};f.nt=function(a){null!=a&&(a=g(a)?a:[a],D(a,function(a){H(a);a.g()}),Ib(a))};f.Sp=function(a){null!=a&&(H(a),a.g())};f.Tp=function(a){C(a,function(b,c){H(b);T(b);delete a[c]});sb(a)};f.fn=function(a){C(a,function(b,c){H(b);b.g();delete a[c]});sb(a)};v("nrg.ui.Component.animationLengths",{LL:150,hM:300,SM:600});
v("nrg.ui.Component.idPrefixToCssClass",Ok);v("nrg.ui.Component.prototype.validateIdPrefix",V.prototype.gw);v("nrg.ui.Component.prototype.imagePrefix",V.prototype.Fi);v("nrg.ui.Component.prototype.createCssMap",V.prototype.Np);v("nrg.ui.Component.prototype.setImagePrefix",V.prototype.pB);v("nrg.ui.Component.prototype.getImagePrefix",V.prototype.bG);v("nrg.ui.Component.prototype.addSubComponent",V.prototype.uE);v("nrg.ui.Component.prototype.calcDims",V.prototype.eh);
v("nrg.ui.Component.prototype.updateStyle",V.prototype.j);v("nrg.ui.Component.prototype.render",V.prototype.k);v("nrg.ui.Component.prototype.disposeInternalCalled",V.prototype.bF);v("nrg.ui.Component.prototype.disposeAnimations",V.prototype.nt);v("nrg.ui.Component.prototype.disposeAnimationQueue",V.prototype.Sp);v("nrg.ui.Component.prototype.disposeElementMap",V.prototype.Tp);v("nrg.ui.Component.prototype.disposeComponentMap",V.prototype.fn);v("nrg.ui.Component.prototype.disposeInternal",V.prototype.e);var Pk;function Qk(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function Rk(a,b,c){ha(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Pk||(Pk={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Pk,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function Sk(a,b){var c=a.getAttribute("aria-"+b);return null==c||void 0==c?"":String(c)};function Tk(a){if(a.classList)return a.classList;a=a.className;return r(a)&&a.match(/\S+/g)||[]}function Uk(a,b){return a.classList?a.classList.contains(b):Hb(Tk(a),b)}function Vk(a,b){a.classList?a.classList.add(b):Uk(a,b)||(a.className+=0<a.className.length?" "+b:b)}function Wk(a,b){if(a.classList)D(b,function(b){Vk(a,b)});else{var c={};D(Tk(a),function(a){c[a]=!0});D(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function Xk(a,b){a.classList?a.classList.remove(b):Uk(a,b)&&(a.className=Bb(Tk(a),function(a){return a!=b}).join(" "))}function Yk(a,b){a.classList?D(b,function(b){Xk(a,b)}):a.className=Bb(Tk(a),function(a){return!Hb(b,a)}).join(" ")}function Zk(a,b,c){c?Vk(a,b):Xk(a,b)};function $k(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 224:case 92:return!1;case 0:return!fc;default:return 166>a.keyCode||183<a.keyCode}}
function al(a,b,c,d,e){if(!(E||gc&&nc("525")))return!0;if(ac&&e)return bl(a);if(e&&!d)return!1;t(b)&&(b=cl(b));if(!c&&(17==b||18==b||ac&&91==b))return!1;if(gc&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(E&&d&&b==a)return!1;switch(a){case 13:return!(E&&oc(9));case 27:return!gc}return bl(a)}
function bl(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||gc&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function cl(a){if(fc)a=dl(a);else if(ac&&gc)a:switch(a){case 93:a=91;break a}return a}
function dl(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function el(a,b,c,d,e){function h(a){a&&(a.tabIndex=0,Qk(a,k.vg()),Vk(a,"goog-zippy-header"),fl(k,a),a&&k.Zz.r(a,"keydown",k.Sq))}Yc.call(this);this.bb=e||Bh();this.Yj=this.bb.a(a)||null;this.Yp=this.bb.a(d||null);this.Ub=(this.eu=ja(b)?b:null)||!b?null:this.bb.a(b);this.lh=!0==c;this.Zz=new Zi(this);this.tu=new Zi(this);var k=this;h(this.Yj);h(this.Yp);this.Db(this.lh)}w(el,Yc);var gl={jw:"action",Nw:"toggle"};f=el.prototype;f.jk=!0;f.e=function(){el.c.e.call(this);yc(this.Zz);yc(this.tu)};
f.vg=function(){return"tab"};f.Aa=function(){return this.Ub};f.toggle=function(){this.Db(!this.lh)};f.Db=function(a){this.Ub?Pi(this.Ub,a):a&&this.eu&&(this.Ub=this.eu());this.Ub&&Vk(this.Ub,"goog-zippy-content");this.Yp?(Pi(this.Yj,!a),Pi(this.Yp,a)):hl(this,a);this.lh=a;this.dispatchEvent(new il(gl.Nw,this))};function hl(a,b){a.Yj&&(Zk(a.Yj,"goog-zippy-expanded",b),Zk(a.Yj,"goog-zippy-collapsed",!b),Rk(a.Yj,"expanded",b))}
f.oo=function(a){this.jk!=a&&((this.jk=a)?(fl(this,this.Yj),fl(this,this.Yp)):this.tu.Vf())};function fl(a,b){b&&a.tu.r(b,"click",a.Rq)}f.Sq=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchEvent(new Bc(gl.jw,this)),a.preventDefault(),a.stopPropagation()};f.Rq=function(){this.toggle();this.dispatchEvent(new Bc(gl.jw,this))};function il(a,b){Bc.call(this,a,b)}w(il,Bc);function jl(a,b,c,d){d=d||Bh();var e=d.p("div",{style:"overflow:hidden"});b=d.a(b);b.parentNode.replaceChild(e,b);e.appendChild(b);this.Zp=e;this.Ue=null;el.call(this,a,b,c,void 0,d);a=this.lh;this.Zp.style.display=a?"":"none";hl(this,a)}w(jl,el);f=jl.prototype;f.Ep=500;f.AE=ok;
f.Db=function(a){if(this.lh!=a||this.Ue){"none"==this.Zp.style.display&&(this.Zp.style.display="");var b=this.Aa().offsetHeight,c=0;this.Ue?(a=this.lh,H(this.Ue),this.Ue.stop(!1),c=parseInt(this.Aa().style.marginTop,10),c=b-Math.abs(c)):c=a?0:b;hl(this,a);this.Ue=new Aj([0,c],[0,a?b:0],this.Ep,this.AE);G(this.Ue,["begin","animate","end"],this.DI,!1,this);G(this.Ue,"end",ta(this.EI,this,a));this.Ue.play(!1)}};f.DI=function(a){var b=this.Aa();b.style.marginTop=a.y-b.offsetHeight+"px"};
f.EI=function(a){a&&(this.Aa().style.marginTop="0");H(this.Ue);this.lh=a;this.Ue=null;a||(this.Zp.style.display="none");this.dispatchEvent(new il(gl.Nw,this))};function kl(a,b,c,d){V.call(this);this.wb=a;this.sb=R("div",{id:"ZippyHeader_"+a+"_"+B(),"class":kl.CSS.Yo});this.sb[ll]=a.toLowerCase();null!=d?d(b,this.sb):b.appendChild(this.sb);this.wn=R("div",{id:"ZippyHeaderLabel_"+a+"_"+B(),"class":kl.CSS.PC});this.Zv();this.sb.appendChild(this.wn);this.kh=R("div",{id:"ZippyExpandIcon_"+a+"_"+B(),"class":kl.CSS.MC},"+");this.sb.appendChild(this.kh);this.Pj=R("div",{id:"ZippyContent_"+a+"_"+B(),"class":kl.CSS.Tg});b.appendChild(this.Pj);this.Gd=new this.wC(this.sb,
this.Pj,null!=c?c:!1);this.NK=na(this);this.le={};G(this.sb,"mouseover",this.RJ.bind(this));G(this.sb,"mouseout",this.QJ.bind(this));ml(this)}w(kl,V);v("nrg.ui.ZippyNode",kl);kl.ID_PREFIX="nrg.ui.ZippyNode";var nl={JL:"a",xL:"b",FC:"c"};kl.CSS_SUFFIX={Yo:"header",xw:"header-mouseover",PC:"header-label",MC:"expandicon",pw:"expandicon-mouseover",Tg:"content",Tg:"content-sub"};var ll=B();f=kl.prototype;f.wC=jl;
f.Zv=function(a){a=null!=a?a:45;var b=this.wn,c=this.wb.replace(/<(?:.|\n)*?>/gm,"").replace("&nbsp"," ");b.innerHTML=c.length<this.wb?Wa(this.wb,a+60):c.length==this.wb.length?Wa(this.wb,a):this.wb;return b};f.Rd=function(){return this.wb};f.tG=function(){return this.le};f.XF=function(){return this.sb};f.IF=function(){return this.Pj};f.YF=function(){return this.wn};f.iH=function(){return this.Gd};f.Db=function(a){this.Gd.Db(a)};f.uK=function(a){this.wC=!0===a?jl:el};
function ml(a){G(a.Gd,nb(gl),function(a){null!=this.Gd.Ue?this.dispatchEvent({type:"c"}):a.target.lh?this.$u():(this.kh.innerHTML="+",lk(this.kh,{"margin-left":"-1.1em"}),this.dispatchEvent({type:"b"}))}.bind(a))}f.$u=function(){this.kh.innerHTML="-";lk(this.kh,{"margin-left":"-1em"});this.dispatchEvent({type:"a"})};f.RJ=function(){P(this.sb,kl.CSS.xw);P(this.kh,kl.CSS.pw)};f.QJ=function(){vh(this.sb,kl.CSS.xw);vh(this.kh,kl.CSS.pw)};
f.e=function(){kl.c.e.call(this);T(this.wn);delete this.wn;T(this.kh);delete this.kh;H(this.sb);T(this.sb);delete this.sb;T(this.Pj);delete this.Pj;null!=this.Gd&&(this.Gd.g(),H(this.Gd),delete this.Gd);this.fn(this.le);delete this.le;delete this.NK;delete this.wb};v("nrg.ui.ZippyNode.ID_PREFIX",kl.ID_PREFIX);v("nrg.ui.ZippyNode.EventType",nl);v("nrg.ui.ZippyNode.CSS_SUFFIX",kl.CSS_SUFFIX);v("nrg.ui.ZippyNode.NODE_STORT_TAG",ll);v("nrg.ui.ZippyNode.prototype.truncateHeaderLabel",kl.prototype.Zv);
v("nrg.ui.ZippyNode.prototype.getTitle",kl.prototype.Rd);v("nrg.ui.ZippyNode.prototype.getNodes",kl.prototype.tG);v("nrg.ui.ZippyNode.prototype.getHeader",kl.prototype.XF);v("nrg.ui.ZippyNode.prototype.getContentHolder",kl.prototype.IF);v("nrg.ui.ZippyNode.prototype.getHeaderLabel",kl.prototype.YF);v("nrg.ui.ZippyNode.prototype.getZippy",kl.prototype.iH);v("nrg.ui.ZippyNode.prototype.setExpanded",kl.prototype.Db);v("nrg.ui.ZippyNode.prototype.setAnimated",kl.prototype.uK);
v("nrg.ui.ZippyNode.prototype.disposeInternal",kl.prototype.e);M.kd={};M.kd.od=function(){uc.call(this)};w(M.kd.od,uc);v("gxnat.vis.VisNode",M.kd.od);f=M.kd.od.prototype;f.pg="Generic";f.rr=function(a){this.pg=a};f.EF=function(){return this.pg};f.gm="";f.wo=function(a){this.gm=a};f.VG=function(){return this.gm};f.wb=null;f.ae=function(a){this.wb=a};f.Rd=function(){return this.wb};f.g=function(){M.kd.od.c.g.call(this);this.pg&&delete this.pg;this.gm&&delete this.gm;this.wb&&delete this.wb};v("gxnat.vis.VisNode.prototype.setCategory",M.kd.od.prototype.rr);
v("gxnat.vis.VisNode.prototype.getCategory",M.kd.od.prototype.EF);v("gxnat.vis.VisNode.prototype.setThumbnailUrl",M.kd.od.prototype.wo);v("gxnat.vis.VisNode.prototype.getThumbnailUrl",M.kd.od.prototype.VG);v("gxnat.vis.VisNode.prototype.setTitle",M.kd.od.prototype.ae);v("gxnat.vis.VisNode.prototype.getTitle",M.kd.od.prototype.Rd);v("gxnat.vis.VisNode.prototype.dispose",M.kd.od.prototype.g);function ol(a){this.gp=new JSZip(a)}w(ol,uc);v("gxnat.Zip",ol);function pl(a,b,c,d){if(!Ea(a,".zip")){if(!Ea(a,"/files"))throw Error("filesUrl must end in '/files'!");a+=M.Qw}var e=new XMLHttpRequest;e.open("GET",a);e.responseType="arraybuffer";e.addEventListener("load",function(){b(new ol(e.response))});null!=c&&e.addEventListener("progress",c);null!=d&&e.addEventListener("error",function(a){window.console.log("DOWNLOAD ERROR: ",a);d(e,a)});e.send()}ol.prototype.xg=function(){return this.gp.files};
ol.prototype.lu=function(a){C(this.xg(),function(b){a(b.name,b.asArrayBuffer())}.bind(this))};ol.prototype.g=function(){ol.c.g.call(this);this.lu(function(a){this.gp.remove(a)}.bind(this));sb(this.gp);delete this.gp};v("gxnat.Zip.prototype.getFiles",ol.prototype.xg);v("gxnat.Zip.prototype.loopFiles",ol.prototype.lu);v("gxnat.Zip.getFilesAsZip",pl);v("gxnat.Zip.prototype.dispose",ol.prototype.g);v("gxnat.slicerNode",function(){});
function ql(a){a=a.getAttribute("displayNodeRef").split(" ");for(var b=[],c="",d=0,e=a.length;d<e;d++){c=a[d].replace("vtkMRML","").split("Node")[0];switch(c){case "ScalarVolumeDisplay":c="VolumeDisplay";break;case "DiffusionTensorVolumeDisplay":c="DiffusionTensorVolumeDisplay";break;case "NCIRayCastVolumeRenderingDisplay":c="NCIRayCastVolumeRendering";break;case "GPURayCastVolumeRenderingDisplay":c="GPURayCastVolumeRendering";break;case "FiberBundleTubeDisplay":c="FiberBundleTubeDisplayNode";break;
case "FiberBundleLineDisplay":c="FiberBundleLineDisplayNode";break;case "FiberBundleGlyphDisplay":c="FiberBundleGlyphDisplayNode"}b.push(c)}return b}function rl(a){if(null!=a)return a.split(" ").map(function(a){return parseFloat(a)})}v("gxnat.slicerNode.getDisplayNodeTypes",ql);v("gxnat.slicerNode.toFloatArray",rl);function sl(){na(this)}v("gxnat.slicerNode.Node",sl);function tl(a,b){na(this);var c=b.getAttribute("displayNodeRef").split(" "),d=[],e=null;D(ql(b),function(b){D(a.getElementsByTagName(b),function(a){d.push(a)})});for(var h=0,k=d.length;h<k;h++)if(-1<c.indexOf(d[h].getAttribute("id"))){e=d[h];break}this.en=e;this.opacity=parseFloat(e.getAttribute("opacity"),10);this.color=rl(e.getAttribute("color"));this.visible="true"===e.getAttribute("visibility");this.origin=rl(a.getAttribute("origin"));e.getAttribute("colorMode");a.getAttribute("ijkToRASDirections")}
w(tl,sl);v("gxnat.slicerNode.Display",tl);function ul(a,b){tl.call(this,a,b)}w(ul,tl);v("gxnat.slicerNode.Mesh",ul);function vl(a,b){if(a instanceof vl)this.Yc=a.Tv();else{var c;if(c=ha(a))a:{for(var d=c=0;d<a.length;d++){if(!ha(a[d])||0<c&&a[d].length!=c){c=!1;break a}for(var e=0;e<a[d].length;e++)if(!t(a[d][e])){c=!1;break a}0==c&&(c=a[d].length)}c=0!=c}if(c)this.Yc=Mb(a);else if(a instanceof oh)this.Yc=wl(a.height,a.width);else if(t(a)&&t(b)&&0<a&&0<b)this.Yc=wl(a,b);else throw Error("Invalid argument(s) for Matrix contructor");}this.gd=new oh(this.Yc[0].length,this.Yc.length)}
function xl(a,b,c){for(var d=0;d<a.Bi().height;d++)for(var e=0;e<a.Bi().width;e++)b.call(c,a.Yc[d][e],d,e,a)}function yl(a,b){var c=new vl(a.Bi());xl(a,function(d,e,h){c.Yc[e][h]=b.call(void 0,d,e,h,a)});return c}function wl(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c}f=vl.prototype;f.add=function(a){if(!ph(this.gd,a.Bi()))throw Error("Matrix summation is only supported on arrays of equal size");return yl(this,function(b,c,d){return b+a.Yc[c][d]})};
f.xl=function(a,b){if(this.gd.width!=a.gd.width||this.gd.height!=a.gd.height)return!1;for(var c=b||0,d=0;d<this.gd.height;d++)for(var e=0;e<this.gd.width;e++)if(!(Math.abs(this.Yc[d][e]-a.Yc[d][e])<=(c||1E-6)))return!1;return!0};f.Bi=function(){return this.gd};
f.multiply=function(a){if(a instanceof vl){if(this.gd.width!=a.Bi().height)throw Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return zl(this,a)}if(t(a))return Al(this,a);throw Error("A matrix can only be multiplied by a number or another matrix.");};f.mc=function(a){if(!ph(this.gd,a.Bi()))throw Error("Matrix subtraction is only supported on arrays of equal size.");return yl(this,function(b,c,d){return b-a.Yc[c][d]})};
f.Tv=function(){return this.Yc};f.toString=function(){var a=0;xl(this,function(b){b=String(b).length;b>a&&(a=b)});var b=[];D(this.Yc,function(c){b.push("[ ");D(c,function(c){c=String(c);b.push(Array(a-c.length+1).join(" ")+c+" ")});b.push("]\n")});return b.join("")};function Bl(a,b,c){return 0<=b&&b<a.gd.height&&0<=c&&c<a.gd.width}
function zl(a,b){var c=new vl(a.gd.height,b.Bi().width);xl(c,function(a,e,h){for(var k=a=0;k<this.gd.width;k++)a+=(Bl(this,e,k)?this.Yc[e][k]:0)*(Bl(b,k,h)?b.Yc[k][h]:0);if(!Bl(c,e,h))throw Error("Index out of bounds when setting matrix value, ("+e+","+h+") in size ("+c.gd.height+","+c.gd.width+")");c.Yc[e][h]=a},a);return c}function Al(a,b){return yl(a,function(a){return a*b})};function Cl(a,b,c){tl.call(this,a,b);for(var d=0,e,h,k,l;3>d;d++)switch(e=a.getElementsByTagName("Slice")[d].getAttribute("sliceToRAS").split(" ").map(parseFloat),sliceToRASMatrix=yl(new vl(4,4),function(a,b,c){return e[4*b+c]}),d){case 0:h=sliceToRASMatrix;break;case 1:k=sliceToRASMatrix;break;case 2:l=sliceToRASMatrix}this.Ev=new Dl(k,l,h);b=c!==b.getAttribute("id")?!1:!0;c=!1;if(b)for(a=a.getElementsByTagName("Slice"),d=0,h=a.length;d<h&&!(c="true"===a[d].getAttribute("sliceVisibility")||!1);d++);
this.yq=b;this.$i=this.en?parseInt(this.en.getAttribute("upperThreshold")):null;this.pk=this.en?parseInt(this.en.getAttribute("lowerThreshold")):null;this.visible=c}w(Cl,tl);v("gxnat.slicerNode.Volume",Cl);function Dl(a,b,c){var d=new vl([[0],[0],[0],[1]]);D([a,b,c],function(a,b){var c=a.multiply(d).Tv(),c=[c[0][0],c[1][0],c[2][0]];switch(b){case 0:this.nK=c;break;case 1:this.RE=c;break;case 2:this.GE=c}}.bind(this))}v("gxnat.slicerNode.Volume.sliceToRAS",Dl);function El(a,b){na(this);this.backgroundColor=rj(a);this.Zx=rj(b)}w(El,sl);v("gxnat.slicerNode.BackgroundColor",El);function Fl(a,b,c,d,e,h,k,l){na(this);this.element=a;this.Hp=b;this.backgroundColor=c;this.cA=d;this.Qm=e;this.hL=h;this.oI=k;this.qF=l}w(Fl,sl);v("gxnat.slicerNode.SceneView",Fl);function Gl(a){uc.call(this);a instanceof Fl?(this.Qm=a.Qm,this.Hp=a.Hp,this.backgroundColor=a.backgroundColor,this.cA=a.cA):a instanceof Cl?(this.origin=a.origin||[0,0,0],this.$i=a.$i||1E4,this.pk=a.pk||-1E4,this.Kr=a.Kr||!1,this.yq=a.yq||!1,this.Ev=a.Ev||null,a.Cg&&(this.$z=a.labelMapFile,this.ZH=a.colorTableFile)):a instanceof ul&&(this.color=a.color||[.5,.5,.5],this.opacity=a.opacity||1)}w(Gl,uc);v("gxnat.vis.RenderProperties",Gl);Gl.prototype.g=function(){Gl.c.g.call(this);sb(this)};
v("gxnat.vis.RenderProperties.prototype.dispose",Gl.prototype.g);function Hl(a){M.kd.od.call(this);this.ne=a||null}w(Hl,M.kd.od);v("gxnat.vis.Renderable",Hl);Hl.prototype.xv=function(a){this.ne=a instanceof Gl?a:new Gl(a)};Hl.prototype.FG=function(){return this.ne};Hl.prototype.g=function(){Hl.c.g.call(this);this.ne&&(this.ne.g(),delete this.ne)};v("gxnat.vis.Renderable.prototype.setRenderProperties",Hl.prototype.xv);v("gxnat.vis.Renderable.prototype.getRenderProperties",Hl.prototype.FG);v("gxnat.vis.Renderable.prototype.dispose",Hl.prototype.g);function Il(a,b){Hl.call(this,b);this.wi=a||[];null!=b&&this.xv(b)}w(Il,Hl);v("gxnat.vis.Viewable",Il);f=Il.prototype;f.ui=null;f.PF=function(){return this.ui};f.wK=function(a){return this.ui=a};f.kB=function(a){null!=this.ui&&sb(this.ui);this.ui={};var b=this.xg();D(b,function(a){this.ui[a]=null}.bind(this));var c,d,e,h;a.lu(function(a,l){c=0;for(d=b.length;c<d;c++)if(e=b[c],h="/files/"+a.split("/files/")[1],Ea(e,h)){this.ui[e]=l;break}}.bind(this));a.g()};f.xg=function(){return this.wi};
f.eK=function(a){window.WN.log("REMOVING FILE",a);Kb(this.wi,a)};f.ci=function(a,b){null==this.wi&&(this.wi=[]);g(a)||(a=[a]);D(a,function(a){null!=b&&null==b(a)||this.wi.push(a)}.bind(this))};f.g=function(){Il.c.g.call(this);this.wi&&(Ib(this.wi),delete this.wi)};v("gxnat.vis.Viewable.prototype.getFileData",Il.prototype.PF);v("gxnat.vis.Viewable.prototype.setFileData",Il.prototype.wK);v("gxnat.vis.Viewable.prototype.setFileDataFromZip",Il.prototype.kB);v("gxnat.vis.Viewable.prototype.getFiles",Il.prototype.xg);
v("gxnat.vis.Viewable.prototype.removeFile",Il.prototype.eK);v("gxnat.vis.Viewable.prototype.addFiles",Il.prototype.ci);v("gxnat.vis.Viewable.prototype.dispose",Il.prototype.g);function Jl(a){Hl.call(this);null!=a?g(a)||(a=[a]):a=[];this.Oe=a}w(Jl,Hl);v("gxnat.vis.ViewableGroup",Jl);Jl.prototype.Fx=function(a){return this.Oe.push(a)};Jl.prototype.zF=function(){var a=[];D(this.Oe,function(b){a=Lb(a,b.xg())});return a};Jl.prototype.hH=function(){return this.Oe};Jl.prototype.g=function(){Jl.c.g.call(this);D(this.Oe,function(a){g(a)?D(a,function(a){a.g()}):a instanceof Il&&a.g()});delete this.Oe};v("gxnat.vis.ViewableGroup.prototype.addViewable",Jl.prototype.Fx);
v("gxnat.vis.ViewableGroup.prototype.getAllViewableFiles",Jl.prototype.zF);v("gxnat.vis.ViewableGroup.prototype.getViewables",Jl.prototype.hH);v("gxnat.vis.ViewableGroup.prototype.dispose",Jl.prototype.g);function Kl(){M.kd.od.call(this);this.Vc=[]}w(Kl,M.kd.od);v("gxnat.vis.ViewableTree",Kl);function Ll(a,b,c){this.bK=a;this.OK=b;this.oF=c}v("gxnat.vis.ViewableTree.metadataCollection",Ll);f=Kl.prototype;f.fr=null;f.em=null;f.zl=null;f.orientation=null;f.Kb=function(){return this.orientation};f.ro=function(a){this.fr=a};f.uo=function(a){this.em=a};f.no=function(a){this.zl=a};f.fH=function(){return this.Vc};
f.g=function(){Kl.c.g.call(this);null!=this.fr&&(sb(this.fr),delete this.yO);null!=this.em&&(sb(this.em),delete this.GO);null!=this.zl&&(sb(this.zl),delete this.bO);null!=this.Vc&&(D(this.Vc,function(a){a.g()}),delete this.Vc);null!=this.cC&&Ib(this.cC);delete this.cC;delete this.orientation};v("gxnat.vis.ViewableTree.metadataCollection",Ll);v("gxnat.vis.ViewableTree.prototype.projectMetadata",Kl.prototype.fr);v("gxnat.vis.ViewableTree.prototype.subjectMetadata",Kl.prototype.em);
v("gxnat.vis.ViewableTree.prototype.experimentMetadata",Kl.prototype.zl);v("gxnat.vis.ViewableTree.prototype.orientation",Kl.prototype.orientation);v("gxnat.vis.ViewableTree.prototype.getOrientation",Kl.prototype.Kb);v("gxnat.vis.ViewableTree.prototype.setProjectMetadata",Kl.prototype.ro);v("gxnat.vis.ViewableTree.prototype.setSubjectMetadata",Kl.prototype.uo);v("gxnat.vis.ViewableTree.prototype.setExperimentMetadata",Kl.prototype.no);v("gxnat.vis.ViewableTree.prototype.getViewableGroups",Kl.prototype.fH);
v("gxnat.vis.ViewableTree.prototype.dispose",Kl.prototype.g);function Ml(a,b,c){Kl.call(this);this.rr(a);null!=c&&null!=b&&(this.jn=c,this.Ah=Ug(this.jn,b.URI,"experiments"),this.ap=new Pg(this.Ah));this.Kn=b;this.Zd={}}w(Ml,Kl);v("gxnat.vis.AjaxViewableTree",Ml);var Nl={ID:"Scan ID",Name:"Name",type:"Scan Type"},Ol={yob:"Year of Birth",acquisition_site:"Acq. Site",date:"Date",scanner:"Scanner",label:"Subject"},Pl={label:"Session"};function Ql(a,b,c){M.sh(a,function(a){g(a);D(a,function(a){b(a)});c&&c()})}f=Ml.prototype;f.mh=null;f.vi=!1;
f.lB=function(a,b){null==this.mh&&(this.mh={});this.mh[a]=b};f.vz=function(){var a=0;C(this.mh,function(b,c){a+=this.az(c)}.bind(this));return a};f.az=function(a){return parseInt(this.mh[a].Size,10)};f.QF=function(){return this.mh};f.SF=function(){return this.vi};f.mB=function(a){this.vi=a};f.NF=function(){return this.jn};f.EG=function(){return this.Ah};f.JG=function(){return this.Zd};f.EB=function(a){this.Zd=a};f.bm=function(){C(Nl,function(a,b){null!=this.Kn[b]&&(this.Zd[a]=this.Kn[b])}.bind(this))};
f.ro=function(a){Ml.c.ro.call(this,a)};f.uo=function(a){Ml.c.uo.call(this,a);C(Ol,function(a,c){null!=this.em[c]&&(this.Zd[a]=this.em[c])}.bind(this))};f.no=function(a){Ml.c.no.call(this,a);C(Pl,function(a,c){null!=this.zl[c]&&(this.Zd[a]=this.zl[c])}.bind(this))};f.TF=function(){return this.ln};f.Iq=function(a){a=a[this.kn];if(!Da(a,"/"))return this.Ah+"!"+a};
f.zi=function(a){if(this.vi)a();else{var b=0,c=0,d="",e;M.sh(this.Ah+this.$p,function(h){for(c=h.length;b<c;b++)if(e=h[b],d=this.Iq(e))this.lB(d,e),this.ci(d,this.Bl);a();this.vi=!0}.bind(this))}};f.Bl=function(a){return-1<a.indexOf("_MACOSX")?null:a};f.ek=function(){};function Rl(a,b,c,d){var e=new Pg(a);Ql(a+"/"+b.prototype.ln,function(a){new b(a,e.zh("experiments"),c)},d)}
f.g=function(){Ml.c.g.call(this);null!=this.mh&&(sb(this.mh),delete this.mh);delete this.vi;sb(this.Zd);delete this.Zd;null!=this.Kn&&(sb(this.Kn),delete this.Kn);null!=this.ap&&(this.ap.g(),delete this.ap);delete this.jn;delete this.Ah};v("gxnat.vis.AjaxViewableTree.VIEWABLE_KEY_MAP",Nl);v("gxnat.vis.AjaxViewableTree.SUBJECT_KEY_MAP",Ol);v("gxnat.vis.AjaxViewableTree.EXPERIMENT_KEY_MAP",Pl);v("gxnat.vis.AjaxViewableTree.FILE_SIZE_KEY","Size");v("gxnat.vis.AjaxViewableTree.loopFolderContents",Ql);
v("gxnat.vis.AjaxViewableTree.getViewableTrees",Rl);v("gxnat.vis.AjaxViewableTree.prototype.filesGotten",Ml.prototype.vi);v("gxnat.vis.AjaxViewableTree.prototype.setFileMetadata",Ml.prototype.lB);v("gxnat.vis.AjaxViewableTree.prototype.getTotalSize",Ml.prototype.vz);v("gxnat.vis.AjaxViewableTree.prototype.getFileSize",Ml.prototype.az);v("gxnat.vis.AjaxViewableTree.prototype.getFileMetadata",Ml.prototype.QF);v("gxnat.vis.AjaxViewableTree.prototype.getFilesGotten",Ml.prototype.SF);
v("gxnat.vis.AjaxViewableTree.prototype.setFilesGotten",Ml.prototype.mB);v("gxnat.vis.AjaxViewableTree.prototype.getExperimentUrl",Ml.prototype.NF);v("gxnat.vis.AjaxViewableTree.prototype.getQueryUrl",Ml.prototype.EG);v("gxnat.vis.AjaxViewableTree.prototype.getSessionInfo",Ml.prototype.JG);v("gxnat.vis.AjaxViewableTree.prototype.setSessionInfo",Ml.prototype.EB);v("gxnat.vis.AjaxViewableTree.prototype.setViewableMetadata",Ml.prototype.bm);
v("gxnat.vis.AjaxViewableTree.prototype.setProjectMetadata",Ml.prototype.ro);v("gxnat.vis.AjaxViewableTree.prototype.setSubjectMetadata",Ml.prototype.uo);v("gxnat.vis.AjaxViewableTree.prototype.setExperimentMetadata",Ml.prototype.no);v("gxnat.vis.AjaxViewableTree.prototype.getFolderQuerySuffix",Ml.prototype.TF);v("gxnat.vis.AjaxViewableTree.prototype.makeFileUrl",Ml.prototype.Iq);v("gxnat.vis.AjaxViewableTree.prototype.getFileList",Ml.prototype.zi);
v("gxnat.vis.AjaxViewableTree.prototype.fileFilter",Ml.prototype.Bl);v("gxnat.vis.AjaxViewableTree.prototype.getThumbnailImage",Ml.prototype.ek);v("gxnat.vis.AjaxViewableTree.prototype.dispose",Ml.prototype.g);function Sl(a,b,c,d){this.files=a;this.pI=b;this.Rv=c;this.xF=d}v("xiv.sampleData.Sample",Sl);function Tl(){uc.call(this);this.hg=[]}w(Tl,uc);v("xiv.sampleData.SampleCollection",Tl);Tl.prototype.GG=function(){return this.hg};Tl.prototype.g=function(){Tl.c.g.call(this);D(this.hg,function(a){sb(a)});delete this.hg};v("xiv.sampleData.SampleCollection.Samples",Tl.hg);v("xiv.sampleData.SampleCollection.getSamples",Tl.GG);v("xiv.sampleData.SampleCollection.dispose",Tl.g);function Ul(){Tl.call(this);this.hg.push(this.ov)}w(Ul,Tl);v("xiv.sampleData.SlicerScenes",Ul);
Ul.prototype.ov=new Sl(["src/main/scripts/viewer/xiv/sample-data/slicer-scenes/VolumeOnly/Slicer Data Bundle Scene View.png","src/main/scripts/viewer/xiv/sample-data/slicer-scenes/VolumeOnly/VolumeOnly.mrml","src/main/scripts/viewer/xiv/sample-data/slicer-scenes/VolumeOnly/Data/MRHead.nrrd"],{Type:"Slicer Scene"},"src/main/scripts/viewer/xiv/sample-data/slicer-scenes/VolumeOnly/Slicer Data Bundle Scene View.png",["Test Project 1","Test Subject 1","Test Experiment 1-1"]);/*
 Copyright 2014 Washington University
 @author sunilk@mokacreativellc.com (Sunil Kumar)
*/
function Vl(){}v("xiv",Vl);v("xiv.SAMPLE_DATA_PATH","xiv/sample-data");v("xiv.SAMPLE_SCAN_PREFIX","xiv/sample-data/scans/");function Wl(a,b,c){Ml.call(this,"Scans",a,b);this.Zd["Total Frames"]=0;c&&c(this)}w(Wl,Ml);v("gxnat.vis.Scan",Wl);var Xl="dcm dicom ima nii nii.gz nrrd mgh mgz".split(" ");f=Wl.prototype;f.ln="scans";f.$p="/files";f.kn="URI";
f.bm=function(){Wl.c.bm.call(this);if(null!=this.Ck["parameters/orientation"]){var a;a:{switch(this.Ck["parameters/orientation"]){case "Sag":a="Sagittal";break a;case "Cor":a="Coronal";break a;case "Tra":a="Transverse";break a}a=void 0}this.Zd.Orientation=a;this.orientation=this.Zd.Orientation}null!=this.Ck["parameters/acqType"]&&(this.Zd["Acq. Type"]=this.Ck["parameters/acqType"])};
f.zi=function(a){this.vi?a():M.sh(this.ap.originalUrl,function(b){this.Ck=b.items[0].data_fields;this.bm();Wl.c.zi.call(this,function(){this.ek();a()}.bind(this))}.bind(this))};f.Bl=function(a){a=Wl.c.Bl.call(this,a);if(null!=a){for(var b=0,c=Xl.length;b<c;b++)if(Ea(a,"."+Xl[b]))return a;window.console.log("Found skippable scan file: ",a);return null}};
f.ci=function(a){this.rr("Scans");if(0==this.Vc.length){var b=new Jl;b.ae("scan");b.rr("scans");this.Vc.push(b)}0==this.Vc[0].Oe.length&&this.Vc[0].Fx(new Il);this.Vc[0].Oe[0].ci(a,this.Bl);this.Zd["Total Frames"]=this.Vc[0].Oe[0].xg().length};f.Iq=function(a){return Ug(this.jn,a[this.kn],"experiments")};f.ek=function(a){if(this.Vc&&this.Vc[0]){var b=this.Vc[0].Oe[0].xg().sort(M.Pq);this.wo(b[Math.floor(b.length/2)]+M.JPEG_CONVERT_SUFFIX);null!=a&&a(this)}};
f.g=function(){Wl.c.g.call(this);null!=this.Ck&&sb(this.Ck);delete this.Ck};v("gxnat.vis.Scan.acceptableFileTypes",Xl);v("gxnat.vis.Scan.prototype.folderQuerySuffix",Wl.prototype.ln);v("gxnat.vis.Scan.prototype.fileQuerySuffix",Wl.prototype.$p);v("gxnat.vis.Scan.prototype.fileContentsKey",Wl.prototype.kn);v("gxnat.vis.Scan.prototype.setViewableMetadata",Wl.prototype.bm);v("gxnat.vis.Scan.prototype.getFileList",Wl.prototype.zi);v("gxnat.vis.Scan.prototype.fileFilter",Wl.prototype.Bl);
v("gxnat.vis.Scan.prototype.addFiles",Wl.prototype.ci);v("gxnat.vis.Scan.prototype.makeFileUrl",Wl.prototype.Iq);v("gxnat.vis.Scan.prototype.getThumbnailImage",Wl.prototype.ek);v("gxnat.vis.Scan.prototype.dispose",Wl.prototype.g);function Yl(a,b,c){Yc.call(this);this.target=a;this.handle=b||a;this.fu=c||new qh(NaN,NaN,NaN,NaN);this.ia=Dh(a);this.ic=new Zi(this);xc(this,va(yc,this.ic));G(this.handle,["touchstart","mousedown"],this.Co,!1,this)}w(Yl,Yc);var Zl=E||fc&&nc("1.9.3");f=Yl.prototype;f.clientX=0;f.clientY=0;f.screenX=0;f.screenY=0;f.Kv=0;f.Lv=0;f.hh=0;f.vd=0;f.vc=!0;f.pi=!1;f.Pz=0;f.Nq=0;f.FH=!1;f.Mk=!1;f.ri=function(a){this.Mk=a};f.Ua=function(){return this.ic};function $l(a,b){a.fu=b||new qh(NaN,NaN,NaN,NaN)}
f.BB=function(a){this.mr=a};f.$b=function(a){this.vc=a};f.e=function(){Yl.c.e.call(this);Sc(this.handle,["touchstart","mousedown"],this.Co,!1,this);this.ic.Vf();Zl&&this.ia.releaseCapture();this.handle=this.target=null};function am(a){ca(a.Kg)||(a.Kg=Di(a.target));return a.Kg}
f.Co=function(a){var b="mousedown"==a.type;if(!this.vc||this.pi||b&&!Hc(a))this.dispatchEvent("earlycancel");else{bm(a);if(0==this.Pz)if(this.dispatchEvent(new cm("start",this,a.clientX,a.clientY)))this.pi=!0,a.preventDefault();else return;else a.preventDefault();var b=this.ia,c=b.documentElement,d=!Zl;this.ic.r(b,["touchmove","mousemove"],this.wH,d);this.ic.r(b,["touchend","mouseup"],this.si,d);Zl?(c.setCapture(!1),this.ic.r(c,"losecapture",this.si)):this.ic.r(Oh(b),"blur",this.si);E&&this.FH&&this.ic.r(b,
"dragstart",Dc);this.mr&&this.ic.r(this.mr,"scroll",this.Wl,d);this.clientX=this.Kv=a.clientX;this.clientY=this.Lv=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.hh=this.Mk?Nj(this.target):this.target.offsetLeft;this.vd=this.target.offsetTop;this.bv=pi(Bh(this.ia));this.Nq=xa()}};
f.si=function(a,b){this.ic.Vf();Zl&&this.ia.releaseCapture();if(this.pi){bm(a);this.pi=!1;var c=dm(this,this.hh),d=em(this,this.vd);this.dispatchEvent(new cm("end",this,a.clientX,a.clientY,0,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function bm(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.ja(a.wc.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.ja(a.wc.changedTouches[0],a.currentTarget)}
f.wH=function(a){if(this.vc){bm(a);var b=(this.Mk&&am(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.pi){var d=this.Kv-this.clientX,e=this.Lv-this.clientY;if(d*d+e*e>this.Pz)if(this.dispatchEvent(new cm("start",this,a.clientX,a.clientY)))this.pi=!0;else{this.Wj||this.si(a);return}}c=fm(this,b,c);b=c.x;c=c.y;this.pi&&this.dispatchEvent(new cm("beforedrag",this,a.clientX,a.clientY,0,b,
c))&&(gm(this,a,b,c),a.preventDefault())}};function fm(a,b,c){var d=pi(Bh(a.ia));b+=d.x-a.bv.x;c+=d.y-a.bv.y;a.bv=d;a.hh+=b;a.vd+=c;b=dm(a,a.hh);a=em(a,a.vd);return new N(b,a)}f.Wl=function(a){var b=fm(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;gm(this,a,b.x,b.y)};function gm(a,b,c,d){a.jt(c,d);a.dispatchEvent(new cm("drag",a,b.clientX,b.clientY,0,c,d))}
function dm(a,b){var c=a.fu,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function em(a,b){var c=a.fu,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}f.jt=function(a,b){this.Mk&&am(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};f.Of=function(){return this.pi};
function cm(a,b,c,d,e,h,k,l){Bc.call(this,a);this.clientX=c;this.clientY=d;this.left=ca(h)?h:b.hh;this.top=ca(k)?k:b.vd;this.qt=b;this.iF=!!l}w(cm,Bc);yb("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));function hm(){this.iv="";this.xD=im;this.Fy=null}hm.prototype.Zy=function(){return this.Fy};hm.prototype.toString=function(){return"SafeHtml{"+this.iv+"}"};function jm(a){if(a instanceof hm&&a.constructor===hm&&a.xD===im)return a.iv;eb("expected object of type SafeHtml, got '"+a+"'");return"type_error:SafeHtml"}yb("action","cite","data","formaction","href","manifest","poster","src");yb("link","script","style");var im={};function km(a,b){var c=new hm;c.iv=a;c.Fy=b;return c}var lm=km("",0);function mm(a,b){Yc.call(this);this.Nc=new Zi(this);this.qv(a||null);b&&(this.jm=b)}w(mm,Yc);f=mm.prototype;f.l=null;f.EE=!0;f.Xx=null;f.Yx=null;f.Tl=!1;f.DK=!1;f.bu=-1;f.BH=!1;f.kF=!0;f.jm="toggle_display";f.a=function(){return this.l};f.qv=function(a){if(this.Tl)throw Error("Can not change this state of the popup while showing.");this.l=a};f.HB=function(a,b){this.dm=a;this.Ll=b};f.Ua=function(){return this.Nc};f.ra=function(){return this.Tl};
f.R=function(a){this.dm&&this.dm.stop();this.Ll&&this.Ll.stop();a?this.Cv():this.Ml()};f.Yd=ea;
f.Cv=function(){if(!this.Tl&&this.Eu()){if(!this.l)throw Error("Caller must call setElement before trying to show the popup");this.Yd();var a=Dh(this.l);this.BH&&this.Nc.r(a,"keydown",this.II,!0);if(this.EE)if(this.Nc.r(a,"mousedown",this.DA,!0),E){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(e){break}a=d;b=a.activeElement}this.Nc.r(a,"mousedown",this.DA,!0);this.Nc.r(a,"deactivate",this.CA)}else this.Nc.r(a,"blur",
this.CA);"toggle_display"==this.jm?(this.l.style.visibility="visible",Pi(this.l,!0)):"move_offscreen"==this.jm&&this.Yd();this.Tl=!0;this.bu=xa();this.dm?(Rc(this.dm,"end",this.IA,!1,this),this.dm.play()):this.IA()}};f.Ml=function(a){if(!this.Tl||!this.dispatchEvent({type:"beforehide",target:a}))return!1;this.Nc&&this.Nc.Vf();this.Tl=!1;xa();this.Ll?(Rc(this.Ll,"end",va(this.my,a),!1,this),this.Ll.play()):this.my(a);return!0};
f.my=function(a){"toggle_display"==this.jm?this.DK?Tf(this.Oz,0,this):this.Oz():"move_offscreen"==this.jm&&(this.l.style.top="-10000px");this.Lu(a)};f.Oz=function(){this.l.style.visibility="hidden";Pi(this.l,!1)};f.Eu=function(){return this.dispatchEvent("beforeshow")};f.IA=function(){this.dispatchEvent("show")};f.Lu=function(a){this.dispatchEvent({type:"hide",target:a})};f.DA=function(a){a=a.target;$h(this.l,a)||nm(this,a)||this.Yx&&!$h(this.Yx,a)||150>xa()-this.bu||this.Ml(a)};
f.II=function(a){27==a.keyCode&&this.Ml(a.target)&&(a.preventDefault(),a.stopPropagation())};f.CA=function(a){if(this.kF){var b=Dh(this.l);if("undefined"!=typeof document.activeElement){if(a=b.activeElement,!a||$h(this.l,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>xa()-this.bu||this.Ml()}};function nm(a,b){return Db(a.Xx||[],function(a){return b===a||$h(a,b)})}f.e=function(){mm.c.e.call(this);this.Nc.g();yc(this.dm);yc(this.Ll);delete this.l;delete this.Nc;delete this.Xx};function om(a){Yc.call(this);this.l=a;a=E?"focusout":"blur";this.cI=G(this.l,E?"focusin":"focus",this,!E);this.dI=G(this.l,a,this,!E)}w(om,Yc);om.prototype.handleEvent=function(a){var b=new Fc(a.wc);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};om.prototype.e=function(){om.c.e.call(this);Tc(this.cI);Tc(this.dI);delete this.l};function pm(a,b){cj.call(this,b);this.dL=!!a;this.On=null}w(pm,cj);f=pm.prototype;f.ut=null;f.nc=!1;f.se=null;f.$c=null;f.$f=null;f.Ls=!1;f.P=function(){return"goog-modalpopup"};f.xi=function(){return this.se};f.p=function(){pm.c.p.call(this);var a=this.a(),b=Ja(this.P()).split(" ");Wk(a,b);ei(a,!0);Pi(a,!1);qm(this);rm(this)};
function qm(a){if(a.dL&&!a.$c){var b;b=a.G().p("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});a.$c=b;a.$c.className=a.P()+"-bg";Pi(a.$c,!1);Oi(a.$c,0)}a.se||(a.se=a.G().p("div",a.P()+"-bg"),Pi(a.se,!1))}function rm(a){a.$f||(a.$f=a.G().createElement("span"),Pi(a.$f,!1),ei(a.$f,!0),a.$f.style.position="absolute")}f.aB=function(){this.Ls=!1};f.te=function(a){return!!a&&"DIV"==a.tagName};
f.Md=function(a){pm.c.Md.call(this,a);a=Ja(this.P()).split(" ");Wk(this.a(),a);qm(this);rm(this);Pi(this.a(),!1)};f.Ta=function(){this.$c&&Uh(this.$c,this.a());Uh(this.se,this.a());pm.c.Ta.call(this);var a=this.a();a.parentNode&&a.parentNode.insertBefore(this.$f,a.nextSibling);this.ut=new om(mi(this.G()));this.Ua().r(this.ut,"focusin",this.OI);sm(this,!1)};f.jc=function(){this.ra()&&this.R(!1);yc(this.ut);pm.c.jc.call(this);T(this.$c);T(this.se);T(this.$f)};
f.R=function(a){a!=this.nc&&(this.yk&&this.yk.stop(),this.rl&&this.rl.stop(),this.xk&&this.xk.stop(),this.ql&&this.ql.stop(),this.$&&sm(this,a),a?this.Cv():this.Ml())};function sm(a,b){if(b){a.Jl||(a.Jl=[]);for(var c=a.G(),c=c.wt(c.ia.body),d=0;d<c.length;d++){var e=c[d];e==a.l||Sk(e,"hidden")||(Rk(e,"hidden",!0),a.Jl.push(e))}}else if(a.Jl){for(d=0;d<a.Jl.length;d++)a.Jl[d].removeAttribute("aria-hidden");a.Jl=null}}f.HB=function(a,b,c,d){this.yk=a;this.xk=b;this.rl=c;this.ql=d};
f.Cv=function(){if(this.dispatchEvent("beforeshow")){try{this.On=mi(this.G()).activeElement}catch(a){}this.mv();this.Yd();this.Ua().r(oi(this.G()),"resize",this.mv);tm(this,!0);this.focus();this.nc=!0;this.yk&&this.rl?(Rc(this.yk,"end",this.Zq,!1,this),this.rl.play(),this.yk.play()):this.Zq()}};
f.Ml=function(){if(this.dispatchEvent("beforehide")){this.Ua().eb(oi(this.G()),"resize",this.mv);this.nc=!1;this.xk&&this.ql?(Rc(this.xk,"end",this.Tq,!1,this),this.ql.play(),this.xk.play()):this.Tq();try{var a=mi(this.G()).body,b=mi(this.G()).activeElement||a;this.On&&b==a&&this.On!=a&&this.On.focus()}catch(c){}this.On=null}};function tm(a,b){a.$c&&Pi(a.$c,b);a.se&&Pi(a.se,b);Pi(a.a(),b);Pi(a.$f,b)}f.Zq=function(){this.dispatchEvent("show")};f.Tq=function(){tm(this,!1);this.dispatchEvent("hide")};
f.ra=function(){return this.nc};f.focus=function(){this.Qy()};f.mv=function(){this.$c&&Pi(this.$c,!1);this.se&&Pi(this.se,!1);var a=mi(this.G()),b=Mh(Oh(a)||window||window),c=Math.max(b.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(b.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.$c&&(Pi(this.$c,!0),Ii(this.$c,c,a));this.se&&(Pi(this.se,!0),Ii(this.se,c,a))};
f.Yd=function(){var a=mi(this.G()),b=Oh(a)||window;if("fixed"==ui(this.a()))var c=a=0;else c=pi(this.G()),a=c.x,c=c.y;var d=Li(this.a()),b=Mh(b||window),a=Math.max(a+b.width/2-d.width/2,0),c=Math.max(c+b.height/2-d.height/2,0);vi(this.a(),a,c);vi(this.$f,a,c)};f.OI=function(a){this.Ls?this.aB():a.target==this.$f&&Tf(this.Qy,0,this)};f.Qy=function(){try{E&&mi(this.G()).body.focus(),this.a().focus()}catch(a){}};
f.e=function(){yc(this.yk);this.yk=null;yc(this.xk);this.xk=null;yc(this.rl);this.rl=null;yc(this.ql);this.ql=null;pm.c.e.call(this)};function um(a,b,c){pm.call(this,b,c);this.ud=a||"modal-dialog";this.Q=vm(vm(new wm,xm,!0),ym,!1,!0)}w(um,pm);f=um.prototype;f.Ky=!0;f.St=!0;f.ru=!0;f.Wp=!0;f.Fp=.5;f.wb="";f.tc=null;f.Oa=null;f.cF=!1;f.hd=null;f.Ad=null;f.Fr=null;f.de=null;f.Hf=null;f.Gc=null;f.hv="dialog";f.P=function(){return this.ud};f.ae=function(a){this.wb=a;this.Ad&&bi(this.Ad,a)};f.Rd=function(){return this.wb};f.Fk=function(a){this.tc=a=km(a,null);this.Hf&&(this.Hf.innerHTML=jm(a))};
f.getContent=function(){return null!=this.tc?jm(this.tc):""};f.Ai=function(){return this.hv};f.Aa=function(){this.a()||this.k();return this.Hf};f.uz=function(){this.a()||this.k();return this.hd};f.xi=function(){this.a()||this.k();return um.c.xi.call(this)};function zm(a,b){a.Fp=b;if(a.a()){var c=a.xi();c&&Oi(c,a.Fp)}}function Am(a,b){b!=a.ru&&Bm(a,b)}function Bm(a,b){a.ru=b;if(a.$){var c=a.G(),d=a.xi(),e=a.$c;b?(e&&c.Xt(e,a.a()),c.Xt(d,a.a())):(c.removeNode(e),c.removeNode(d))}a.ra()&&sm(a,b)}
f.vr=function(a){this.Wp=a;this.mo(a&&this.$)};f.mo=function(a){var b=Ja(this.ud+"-title-draggable").split(" ");this.a()&&(a?Wk(this.hd,b):Yk(this.hd,b));a&&!this.Oa?(this.Oa=new Yl(this.a(),this.hd),Wk(this.hd,b),G(this.Oa,"start",this.wr,!1,this)):!a&&this.Oa&&(this.Oa.g(),this.Oa=null)};
f.p=function(){um.c.p.call(this);var a=this.a(),b=this.G();this.hd=b.p("div",this.ud+"-title",this.Ad=b.p("span",{className:this.ud+"-title-text",id:fj(this)},this.wb),this.de=b.p("span",this.ud+"-title-close"));Sh(a,this.hd,this.Hf=b.p("div",this.ud+"-content"),this.Gc=b.p("div",this.ud+"-buttons"));Qk(this.Ad,"heading");Qk(this.de,"button");ei(this.de,!0);Rk(this.de,"label",Cm);this.Fr=this.Ad.id;Qk(a,this.Ai());Rk(a,"labelledby",this.Fr||"");this.tc&&(this.Hf.innerHTML=jm(this.tc));Pi(this.de,
this.St);this.Q&&(a=this.Q,a.l=this.Gc,a.k());Pi(this.Gc,!!this.Q);zm(this,this.Fp)};
f.Md=function(a){um.c.Md.call(this,a);a=this.a();var b=this.ud+"-content";this.Hf=Fh(null,b,a)[0];this.Hf||(this.Hf=this.G().p("div",b),this.tc&&(this.Hf.innerHTML=jm(this.tc)),a.appendChild(this.Hf));var b=this.ud+"-title",c=this.ud+"-title-text",d=this.ud+"-title-close";(this.hd=Fh(null,b,a)[0])?(this.Ad=Fh(null,c,this.hd)[0],this.de=Fh(null,d,this.hd)[0]):(this.hd=this.G().p("div",b),a.insertBefore(this.hd,this.Hf));this.Ad?(this.wb=hi(this.Ad),this.Ad.id||(this.Ad.id=fj(this))):(this.Ad=R("span",
{className:c,id:fj(this)}),this.hd.appendChild(this.Ad));this.Fr=this.Ad.id;Rk(a,"labelledby",this.Fr||"");this.de||(this.de=this.G().p("span",d),this.hd.appendChild(this.de));Pi(this.de,this.St);b=this.ud+"-buttons";(this.Gc=Fh(null,b,a)[0])?(this.Q=new wm(this.G()),this.Q.ob(this.Gc)):(this.Gc=this.G().p("div",b),a.appendChild(this.Gc),this.Q&&(a=this.Q,a.l=this.Gc,a.k()),Pi(this.Gc,!!this.Q));zm(this,this.Fp)};
f.Ta=function(){um.c.Ta.call(this);this.Ua().r(this.a(),"keydown",this.xh).r(this.a(),"keypress",this.xh);this.Ua().r(this.Gc,"click",this.FI);this.mo(this.Wp);this.Ua().r(this.de,"click",this.AJ);var a=this.a();Qk(a,this.Ai());""!==this.Ad.id&&Rk(a,"labelledby",this.Ad.id);this.ru||Bm(this,!1)};f.jc=function(){this.ra()&&this.R(!1);this.mo(!1);um.c.jc.call(this)};f.R=function(a){a!=this.ra()&&(this.$||this.k(),um.c.R.call(this,a))};f.Zq=function(){um.c.Zq.call(this);this.dispatchEvent(Dm)};
f.Tq=function(){um.c.Tq.call(this);this.dispatchEvent(Em);this.cF&&this.g()};f.wr=function(){var a=mi(this.G()),b=Mh(Oh(a)||window||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d=Li(this.a());"fixed"==ui(this.a())?$l(this.Oa,new qh(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height))):$l(this.Oa,new qh(0,0,c-d.width,a-d.height))};f.AJ=function(){Fm(this)};
function Fm(a){if(a.St){var b=a.Q,c=b&&b.Ss;c?(b=b.get(c),a.dispatchEvent(new Gm(c,b))&&a.R(!1)):a.R(!1)}}f.e=function(){this.Gc=this.de=null;um.c.e.call(this)};function Hm(a,b){a.Q=b;if(a.Gc){if(a.Q){var c=a.Q;c.l=a.Gc;c.k()}else a.Gc.innerHTML=jm(lm);Pi(a.Gc,!!a.Q)}}f.FI=function(a){a:{for(a=a.target;null!=a&&a!=this.Gc;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=null}if(a&&!a.disabled){a=a.name;var b=this.Q.get(a);this.dispatchEvent(new Gm(a,b))&&this.R(!1)}};
f.xh=function(a){var b=!1,c=!1,d=this.Q,e=a.target;if("keydown"==a.type)if(this.Ky&&27==a.keyCode){var h=d&&d.Ss,e="SELECT"==e.tagName&&!e.disabled;h&&!e?(c=!0,b=d.get(h),b=this.dispatchEvent(new Gm(h,b))):e||(b=!0)}else{if(9==a.keyCode&&a.shiftKey&&e==this.a()){this.Ls=!0;try{this.$f.focus()}catch(k){}Tf(this.aB,0,this)}}else if(13==a.keyCode){if("BUTTON"==e.tagName&&!e.disabled)h=e.name;else if(e==this.de)Fm(this);else if(d){var l=d.kt,n;if(n=l)a:{n=d.l.getElementsByTagName("BUTTON");for(var m=
0,p;p=n[m];m++)if(p.name==l||p.id==l){n=p;break a}n=null}e=("TEXTAREA"==e.tagName||"SELECT"==e.tagName||"A"==e.tagName)&&!e.disabled;!n||n.disabled||e||(h=l)}h&&d&&(c=!0,b=this.dispatchEvent(new Gm(h,String(d.get(h)))))}else e==this.de&&32==a.keyCode&&Fm(this);if(b||c)a.stopPropagation(),a.preventDefault();b&&this.R(!1)};function Gm(a,b){this.type=Im;this.key=a;this.caption=b}w(Gm,Bc);var Im="dialogselect",Em="afterhide",Dm="aftershow";function wm(a){this.bb=a||Bh();gd.call(this)}var Jm,Km;w(wm,gd);
f=wm.prototype;f.ud="goog-buttonset";f.kt=null;f.l=null;f.Ss=null;f.set=function(a,b,c,d){gd.prototype.set.call(this,a,b);c&&(this.kt=a);d&&(this.Ss=a);return this};function vm(a,b,c,d){return a.set(b.key,b.caption,c,d)}f.k=function(){if(this.l){this.l.innerHTML=jm(lm);var a=Bh(this.l);this.forEach(function(b,c){var d=a.p("button",{name:c},b);c==this.kt&&(d.className=this.ud+"-default");this.l.appendChild(d)},this)}};
f.ob=function(a){if(a&&1==a.nodeType){this.l=a;a=this.l.getElementsByTagName("button");for(var b=0,c,d,e;c=a[b];b++)if(d=c.name||c.id,e=hi(c)||c.value,d){var h=0==b;this.set(d,e,h,c.name==Lm);h&&Vk(c,this.ud+"-default")}}};f.a=function(){return this.l};f.G=function(){return this.bb};var Lm="cancel",Cm="Close",xm={key:"ok",caption:"OK"},ym={key:Lm,caption:"Cancel"},Mm={key:"yes",caption:"Yes"},Nm={key:"no",caption:"No"},Om={key:"save",caption:"Save"},Pm={key:"continue",caption:"Continue"};
"undefined"!=typeof document&&(Jm=vm(new wm,xm,!0,!0),vm(vm(new wm,xm,!0),ym,!1,!0),Km=vm(vm(new wm,Mm,!0),Nm,!1,!0),vm(vm(vm(new wm,Mm),Nm,!0),ym,!1,!0),vm(vm(vm(new wm,Pm),Om),ym,!0,!0));function Qm(){um.call(this);this.Ky=!1}w(Qm,um);v("nrg.ui.Dialog",Qm);Qm.ID_PREFIX="nrg.ui.Dialog";Qm.CSS={Hw:"nrg-ui-dialog-overlay",Xo:"nrg-ui-dialog-background",cj:"nrg-ui-dialog-closebutton",GC:"nrg-ui-dialog-closebutton-image",ED:"nrg-ui-dialog-subtext",Vk:"nrg-ui-dialog-text",TITLE:"nrg-ui-dialog-title",Tg:"nrg-ui-dialog-content",CC:"nrg-ui-dialog-buttons"};f=Qm.prototype;f.Wp=!0;f.Oa=null;f.zk=null;
f.uv=function(a){this.im.style.visibility="hidden";this.qg.style.visibility="hidden";null!=a&&nk(this.a(),a,null,null,function(){this.im.style.visibility="visible";this.qg.style.visibility="visible"}.bind(this),function(){this.im.style.visibility="hidden";this.qg.style.visibility="hidden"}.bind(this))};f.Ex=function(a){P(this.im,a)};f.rE=function(a){P(this.tc,a)};f.pE=function(a){P(this.qg.parentNode,a)};f.qE=function(a){P(this.qg,a)};f.qx=function(a){P(this.Lp,a)};f.oE=function(a){P(this.Qs,a)};
function Rm(a){a.Lp=Hh("modal-dialog-title-close",a.a())[0];P(a.Lp,Qm.CSS.cj);a.qg=R("img",{id:a.constructor.ID_PREFIX+"_CloseButton_"+B(),"class":Qm.CSS.GC});a.qg.src=serverRoot+"/images/viewer/xiv/ui/Modal/close.png";a.Lp.appendChild(a.qg);G(a.qg,"click",function(a){this.R(!this.ra());this.dispatchEvent({type:"f"});a.stopPropagation()}.bind(a))}f.BE=function(){var a=this.a(),b=Vj(a,600),c=Uj(a,600),d=Vj(a,600),a=Uj(a,600);this.HB(b,c,d,a)};
f.Oq=function(a,b,c,d){var e=this.a(),h=Li(e.parentNode),k=Li(e);c=null!=c?c:0;"left"==a?e.style.left=0+c+"px":"right"==a&&(e.style.left=h.width-k.width+c+"px");"top"==b&&(e.style.top=0+(null!=d?d:0)+"px")};f.ue=function(){var a=this.a(),b=Li(this.a().parentNode);if(null!=this.xi()){var c=this.xi();0==c.opacity?T(c):lk(c,{width:b.width,height:b.height,"z-index":199})}var c=Li(a),d=0,e=0;c.width<=b.width&&(d=b.width/2-c.width/2);c.height<=b.height&&(e=b.height/2-c.height/2);vi(a,d,e)};
f.vr=function(a){this.Wp=a;this.mo(a&&this.$)};f.mo=function(a){var b=Ja(this.P()+"-title-draggable").split(" "),c=this.uz();this.a()&&(a?Wk(c,b):Yk(c,b));a&&!this.Oa?(this.Oa=new Yl(this.a(),this.hd),Wk(c,b),G(this.Oa,"start",this.wr,!1,this)):!a&&this.Oa&&(this.Oa.g(),this.Oa=null)};f.kC=function(){this.wr()};
f.wr=function(){var a=mi(this.G()),b=Oh(a)||window;if(null!=this.a()){var a=Li(this.a().parentNode),b=Mh(b||window),c=Li(this.a());"fixed"==ui(this.a())?$l(this.Oa,new qh(0,0,Math.max(0,b.width-c.width),Math.max(0,b.height-c.height))):$l(this.Oa,new qh(-1*c.width,-1*c.height,a.width+c.width,a.height+c.height))}};f.sx=function(a){var b=R("img",{id:this.constructor.ID_PREFIX+"_Image_"+B(),"class":Qm.CSS.Tk});null==this.Cn&&(this.Cn=[]);this.Cn.push(b);this.Aa().appendChild(b);null!=a&&(b.src=a);return b};
f.Jj=function(a){var b=R("div",{id:this.constructor.ID_PREFIX+"_Text_"+B(),"class":Qm.CSS.Vk},a);null==this.Xi&&(this.Xi=[]);this.Xi.push(b);b.innerHTML=a||"";this.Aa().appendChild(b);return b};f.Es=function(a){var b=R("div",{id:"ErrorSub_"+B(),"class":Qm.CSS.ED});b.innerHTML=a;this.Aa().appendChild(b);return b};f.uG=function(){return this.a()};
f.k=function(a){if(!this.$)Qm.c.k.call(this,a);else if(null!=a&&this.a().parentNode!=a){Sh(a,this.a());return}P(this.a(),"nrg-ui-dialog");this.im=Hh("modal-dialog-title",this.a())[0];this.tc=Hh("modal-dialog-content",this.a())[0];this.Qs=Hh("modal-dialog-buttons",this.a())[0];this.qg=null;Rm(this);P(this.Qs,Qm.CSS.CC);P(this.im,Qm.CSS.TITLE);P(this.tc,Qm.CSS.Tg);Qm.c.vr.call(this,!1);this.vr(!0)};
f.R=function(a){null!=this.a()&&(null==this.zk&&(this.zk=xi(this.a())),this.ra()&&!1==a?(this.zk=xi(this.a()),Qm.c.R.call(this,a)):this.ra()||!0!=a||(Qm.c.R.call(this,a),vi(this.a(),this.zk)))};f.nv=function(){var a;a=this.Aa();a=Li(a);Ii(this.a(),a.width+20,a.height+20)};f.QG=function(){return this.Xi};
f.e=function(){Qm.c.e.call(this);delete this.Qs;delete this.im;delete this.tc;delete this.qg;delete this.Lp;null!=this.LA&&(T(this.LA),delete this.LA);null!=this.Xi&&(D(this.Xi,function(a){T(a);delete a}),delete this.Xi);null!=this.Cn&&(D(this.Cn,function(a){T(a);delete a}),delete this.Cn);null!=this.zk&&(sb(this.zk),delete this.zk)};v("nrg.ui.Dialog.ID_PREFIX",Qm.ID_PREFIX);v("nrg.ui.Dialog.EventType",{qM:"d",CLOSED:"e",wL:"f"});v("nrg.ui.Dialog.prototype.setMouseoverClass",Qm.prototype.uv);
v("nrg.ui.Dialog.prototype.addTitleClass",Qm.prototype.Ex);v("nrg.ui.Dialog.prototype.addContentClass",Qm.prototype.rE);v("nrg.ui.Dialog.prototype.addCloseButtonClass",Qm.prototype.pE);v("nrg.ui.Dialog.prototype.addCloseButtonImageClass",Qm.prototype.qE);v("nrg.ui.Dialog.prototype.addCloseSpanClass",Qm.prototype.qx);v("nrg.ui.Dialog.prototype.addButtonsClass",Qm.prototype.oE);v("nrg.ui.Dialog.prototype.applyFadeTransitions",Qm.prototype.BE);v("nrg.ui.Dialog.prototype.moveToCorner",Qm.prototype.Oq);
v("nrg.ui.Dialog.prototype.center",Qm.prototype.ue);v("nrg.ui.Dialog.prototype.setDraggable",Qm.prototype.vr);v("nrg.ui.Dialog.prototype.updateLimits",Qm.prototype.kC);v("nrg.ui.Dialog.prototype.addImage",Qm.prototype.sx);v("nrg.ui.Dialog.prototype.addText",Qm.prototype.Jj);v("nrg.ui.Dialog.prototype.addSubText",Qm.prototype.Es);v("nrg.ui.Dialog.prototype.getOverlay",Qm.prototype.uG);v("nrg.ui.Dialog.prototype.render",Qm.prototype.k);v("nrg.ui.Dialog.prototype.setVisible",Qm.prototype.R);
v("nrg.ui.Dialog.prototype.getTextElements",Qm.prototype.QG);v("nrg.ui.Dialog.prototype.resizeToContents",Qm.prototype.nv);v("nrg.ui.Dialog.prototype.disposeInternal",Qm.prototype.e);function Sm(){Qm.call(this);Hm(this,null)}w(Sm,Qm);v("nrg.ui.ErrorDialog",Sm);Sm.ID_PREFIX="nrg.ui.ErrorDialog";Sm.CSS={Hw:"nrg-ui-errordialog",Tk:"nrg-ui-errordialog-image",Vk:"nrg-ui-errordialog-text"};Sm.prototype.yl=null;Sm.prototype.Jj=function(a){Sm.c.Jj.call(this,a);a=this.Xi;P(a[a.length-1],Sm.CSS.Vk)};Sm.prototype.k=function(a){Sm.c.k.call(this,a);P(this.a(),Sm.CSS.Hw);null==this.yl&&(this.yl=this.sx(serverRoot+"/images/viewer/xiv/ui/Overlay/sadbrain-white.png"),P(this.yl,Sm.CSS.Tk),this.ue())};
Sm.prototype.e=function(){Sm.c.e.call(this);null!=this.yl.parentNode&&T(this.yl);delete this.yl};v("nrg.ui.ErrorDialog.ID_PREFIX",Sm.ID_PREFIX);v("nrg.ui.ErrorDialog.CSS",Sm.CSS);v("nrg.ui.ErrorDialog.prototype.addText",Sm.prototype.Jj);v("nrg.ui.ErrorDialog.prototype.disposeInternal",Sm.prototype.e);function Tm(a,b,c,d){na(this);this.url=a;this.document=b;this.files=d}w(Tm,sl);v("gxnat.slicerNode.Mrml",Tm);function Um(a,b){na(this);this.file=a;this.Xd=b}w(Um,sl);v("gxnat.slicerNode.Displayable",Um);function Vm(a){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(a,"application/xml");if("undefined"!=typeof ActiveXObject){var b=new ActiveXObject("MSXML2.DOMDocument");if(b){b.resolveExternals=!1;b.validateOnParse=!1;try{b.setProperty("ProhibitDTD",!0),b.setProperty("MaxXMLSize",2048),b.setProperty("MaxElementDepth",256)}catch(c){}}b.loadXML(a);return b}throw Error("Your browser does not support loading xml documents");};function Wm(a,b,c){na(this);this.position=a;this.bw=b;this.focus=c}w(Wm,sl);v("gxnat.slicerNode.Camera",Wm);function Xm(a,b,c,d,e,h){na(this);this.position=a;this.color=b;this.name=h}w(Xm,sl);v("gxnat.slicerNode.Annotations",Xm);function Ym(){na(this)}w(Ym,sl);v("gxnat.slicerNode.Layout",Ym);M.w={};v("gxnat.slicerUtils",M.w);M.w.qw="/scripts/viewer/xiv/vis/GenericColorTable.txt";M.w.Ny=function(a){for(var b=[],c=0,d=a.length;c<d;c++)Ea(a[c],".mrml")&&b.push(a[c]);return b};M.w.It=function(a,b){M.get(a,function(a){b(new Vm(a))},"text")};M.w.nz=function(a,b,c){a=g(a)?a:[a];var d=M.w.Ny(a),e=[],h=0;D(d,function(b){M.w.It(b,function(l){h++;e.push(new Tm(b,l,0,a));h==d.length&&c(e)})})};
M.w.ty=function(a,b,c){M.w.Sy(a,b,function(b){c(new Fl(a,M.w.Wy(a),M.w.Ty(a),M.w.iz(a),b,M.w.zz(a),M.w.mz(a),null))})};M.w.pz=function(a,b){var c=[],d=[],e=0;D(a,function(a){c=M.w.qz(a.document);D(c,function(k){M.w.ty(k,a,function(a){e++;d.push(a);e==c.length&&b(d)})})})};M.w.$y=function(a,b){a=r(a)?M.w.It(a):a;var c=[];D(a.getElementsByTagName(b),function(a){c.push(a)});return c};M.w.qz=function(a){return M.w.$y(a,"SceneView")};
M.w.Wy=function(a){return new Wm(rl(a.getElementsByTagName("Camera")[0].getAttribute("position")),rl(a.getElementsByTagName("Camera")[0].getAttribute("viewUp")),rl(a.getElementsByTagName("Camera")[0].getAttribute("focalPoint")))};M.w.tz=function(a,b){for(var c=a.getAttribute("storageNodeRef"),d=b.getElementsByTagName("SceneViewStorage"),e=0,h=d.length;e<h;e++)if(d[e].getAttribute("id")===c)return d[e].getAttribute("fileName")};
M.w.Ty=function(a){return new El(a.getElementsByTagName("View")[0].getAttribute("backgroundColor"),a.getElementsByTagName("View")[0].getAttribute("backgroundColor2"))};M.w.iz=function(a){return new Ym(a.getElementsByTagName("Layout")[0].getAttribute("currentViewArrangement"))};
M.w.Ul=function(a,b){if(null!=a)for(var c=0,d=b.length,e="",h="";c<d;c++)if(e=decodeURIComponent(b[c].toLowerCase()),h=decodeURIComponent(a.toLowerCase()),-1<h.indexOf("%")&&(h=decodeURIComponent(h)),e.indexOf(h)==e.length-h.length)return b[c].replace(/%/g,"%25")};M.w.RF=function(a,b){var c=a.slice(0,a.lastIndexOf("/")+1);/^\/+$/.test(c)||(c=c.replace(/\/+$/,""));return Xa(b,"!",Gk(c),"/",Gk(a))};
M.w.Sy=function(a,b,c){var d=a.getElementsByTagName("MarkupsDisplay"),e=a.getElementsByTagName("MarkupsFiducial");a=a.getElementsByTagName("MarkupsFiducialStorage");var h=[],k=[],l=0,n,m,p="rgb(255,0,0)",q="",s="",u="",z=0,y,I;0==a.length?c(null):(D(a,function(a){k.push(M.w.Ul(a.getAttribute("fileName"),b.files))}),0==k.length?c(null):D(k,function(a){M.get(a,function(a){l++;D(a.split(/\n/),function(a){if(-1==a.indexOf("#")&&(n=a.split(/,/),1!=n.length)){m=[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])];
u=n[11];p=[1,0,0];s=q="";z=0;for(len=e.length;z<len;z++)if(y=e[z],q=y.getAttribute("id"),q===n[0].replace("_","")){s=y.getAttribute("displayNodeRef");break}len=d.length;for(z=0;z<len;z++)if(I=d[z],q=I.getAttribute("id"),q===s){p=rl(I.getAttribute("color")).map(function(a){return parseFloat(a)});break}h.push(new Xm(m,p,0,0,0,u))}});l==k.length&&c(h)},"text")}))};
M.w.Bt=function(a,b,c){var d=[],e=a.getElementsByTagName(c),h=null,k=0,l=e.length;D(a.getElementsByTagName(b),function(a){for(k=0;k<l;k++)if(h=e[k],h.getAttribute("id")===a.getAttribute("storageNodeRef")){d.push(new Um(h.getAttribute("fileName"),a));break}});return d};M.w.OF=function(){return null};
M.w.zz=function(a){var b=a.getElementsByTagName("Selection")[0].getAttribute("activeVolumeID"),c=M.w.Bt(a,"Volume","VolumeArchetypeStorage"),d=a.getElementsByTagName("LabelMapVolumeDisplay"),e=[],h=[],k="";D(c,function(a){k=a.Xd.getAttribute("displayNodeRef");1<k.indexOf("LabelMap")?(D(d,function(b){b.getAttribute("id")==k&&(a.en=b,-1!=b.getAttribute("colorNodeID").indexOf("vtkMRMLColorTableNodeFileGeneric")?a.Ws=serverRoot+M.w.qw:window.console.log("Custom color table: ",b.getAttribute("colorNodeID")))}),
e.push(a)):h.push(a)});var l="";D(e,function(a){l=a.Xd.getAttribute("attributes").split(";");D(l,function(b){-1!=b.indexOf("AssociatedNodeID")&&(refVol=b.split(":")[1],D(h,function(b){b.Xd.getAttribute("id")==refVol&&(b.Cg=a)}.bind(this)))}.bind(this))});D(h,function(c){c.Uf=new Cl(a,c.Xd,b);c.Cg&&(c.Uf.Cg=c.Cg,delete c.Cg)});return h};M.w.mz=function(a){var b=M.w.Bt(a,"Model","ModelStorage");D(b,function(b){b.Uf=new ul(a,b.Xd)});return b};v("gxnat.slicerUtils.GENERIC_COLORTABLE_FILE",M.w.qw);
v("gxnat.slicerUtils.extractMrmls",M.w.Ny);v("gxnat.slicerUtils.getMrmlAsXml",M.w.It);v("gxnat.slicerUtils.getMrmlNodes",M.w.nz);v("gxnat.slicerUtils.createSceneViewProperties",M.w.ty);v("gxnat.slicerUtils.getSceneViewNodes",M.w.pz);v("gxnat.slicerUtils.getElementsFromMrml",M.w.$y);v("gxnat.slicerUtils.getSceneViewsFromMrml",M.w.qz);v("gxnat.slicerUtils.getCameraFromSceneView",M.w.Wy);v("gxnat.slicerUtils.getThumbnail",M.w.tz);v("gxnat.slicerUtils.mrmlColorToRgb",M.w.oO);
v("gxnat.slicerUtils.getBackgroundColorFromSceneView",M.w.Ty);v("gxnat.slicerUtils.getLayoutFromSceneView",M.w.iz);v("gxnat.slicerUtils.matchFileToSet",M.w.Ul);v("gxnat.slicerUtils.getFileUrlRelativeToMrbUrl",M.w.RF);v("gxnat.slicerUtils.getAnnotations",M.w.Sy);v("gxnat.slicerUtils.getDisplayables",M.w.Bt);v("gxnat.slicerUtils.getFibers",M.w.OF);v("gxnat.slicerUtils.getVolumes",M.w.zz);v("gxnat.slicerUtils.getMeshes",M.w.mz);function Zm(a,b,c){this.vh=[];Ml.call(this,"Slicer Scenes",a,b);c&&c(this)}w(Zm,Ml);v("gxnat.vis.Slicer",Zm);var bn=["jpeg","jpg","png","gif"];f=Zm.prototype;f.ln="resources/Slicer/files";f.$p="?listContents=true";f.kn="File Name";f.zi=function(a){this.vi?cn(this,a):Wl.c.zi.call(this,function(){this.ek(function(){this.bm();cn(this,a)}.bind(this))}.bind(this))};function cn(a,b){M.w.nz(a.vh,0,function(a){M.w.pz(a,function(d){this.oy(d,a,b)}.bind(this))}.bind(a))}
f.oy=function(a,b,c){this.uI=b;this.qK=a;var d,e,h,k;D(this.qK,function(a){d=[a.hL||[],a.oI||[],a.qF||[]];e=[];D(d,function(a){D(a,function(a){h=M.w.Ul(Gk(a.file),this.vh);a.Uf instanceof Cl&&a.Uf.Cg&&(a.Uf.labelMapFile=M.w.Ul(a.Uf.Cg.file,this.vh),null!=a.Uf.Cg.Ws&&null==M.w.Ul(a.Uf.Cg.Ws,this.vh)&&(a.Uf.colorTableFile=a.Uf.Cg.Ws));e.push(new Il(h,a.Uf))}.bind(this))}.bind(this));k=new Jl(e);k.wo(M.w.Ul(M.w.tz(a.element,this.uI[0].document),this.vh));k.ae(a.element.getAttribute("name"));k.xv(a);
this.Vc.push(k)}.bind(this));c&&c(this)};f.ek=function(a){var b="",c=0,d=this.vh.length;for(this.thumbnailFiles=[];c<d;c++)b=oj(this.vh[c]),-1!=bn.indexOf(b)&&this.thumbnailFiles.push(this.vh[c]);D(this.thumbnailFiles,function(a,b){-1!=a.indexOf("%20")&&(this.thumbnailFiles[b]=a.replace(/%20/g,"%2520"))}.bind(this));d=this.thumbnailFiles.length;for(c=0;c<d;c++)if("Data"!=mj(nj(this.thumbnailFiles[c]))){this.wo(this.thumbnailFiles[c]);break}a&&a(this)};f.ci=function(a){g(a)||(a=[a]);D(a,function(a){this.vh.push(a)}.bind(this))};
v("gxnat.vis.Slicer.thumbnailExtensions",bn);v("gxnat.vis.Slicer.prototype.folderQuerySuffix",Zm.prototype.ln);v("gxnat.vis.Slicer.prototype.fileQuerySuffix",Zm.prototype.$p);v("gxnat.vis.Slicer.prototype.fileContentsKey",Zm.prototype.kn);v("gxnat.vis.Slicer.prototype.getFileList",Zm.prototype.zi);v("gxnat.vis.Slicer.prototype.convertToViewableGroups",Zm.prototype.oy);v("gxnat.vis.Slicer.prototype.getThumbnailImage",Zm.prototype.ek);v("gxnat.vis.Slicer.prototype.addFiles",Zm.prototype.ci);function dn(){Tl.call(this);this.hg.push(this.ov);this.hg.push(this.oK);this.hg.push(this.pK)}w(dn,Tl);v("xiv.sampleData.Scans",dn);
dn.prototype.ov=new Sl("src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample1/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-4-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 1","Total Frames":176,Type:"t1_mpr_1mm_p2_pos50"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample1/Sample1.png",["Test Project 1","Test Subject 1","Test Experiment 1-1"]);
dn.prototype.oK=new Sl("src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample2/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-5-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 2","Total Frames":176,Type:"t1_mpr_1mm_p2_pos50"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample2/Sample2.png",["Test Project 1","Test Subject 1","Test Experiment 1-1"]);
dn.prototype.pK=new Sl("src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-1-sks45b.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-10-sktbhh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-100-slumyn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-101-slumzo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-102-slun0p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-103-slun1q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-104-slun2r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-105-slun3s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-106-slun4t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-107-slun5u.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-108-slun6v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-109-slun7w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-11-sktbii.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-110-slunui.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-111-slunvj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-112-slunwk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-113-slunxl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-114-slunym.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-115-slunzn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-116-sluo0o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-117-sluo1p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-118-sluo2q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-119-sluo3r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-12-sktbjj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-120-sluoqd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-121-sluore.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-122-sluosf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-123-sluotg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-124-sluouh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-125-sluovi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-126-sluowj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-127-sluoxk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-128-sluoyl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-129-sluozm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-13-sktbkk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-130-slupm8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-131-slupn9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-132-slupoa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-133-sluppb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-134-slupqc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-135-sluprd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-136-slupse.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-137-sluptf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-138-slupug.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-139-slupvh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-14-sktbll.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-140-sluqi3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-141-sluqj4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-142-sluqk5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-143-sluql6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-144-sluqm7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-145-sluqn8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-146-sluqo9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-147-sluqpa.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-148-sluqqb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-149-sluqrc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-15-sktbmm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-150-slurdy.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-151-slurez.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-152-slurg0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-153-slurh1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-154-sluri2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-155-slurj3.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-156-slurk4.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-157-slurl5.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-158-slurm6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-159-slurn7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-16-sktbnn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-160-slus9t.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-161-slusau.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-162-slusbv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-163-sluscw.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-164-slusdx.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-165-slusey.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-166-slusfz.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-167-slush0.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-168-slusi1.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-169-slusj2.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-17-sktboo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-170-slut5o.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-171-slut6p.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-172-slut7q.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-173-slut8r.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-174-slut9s.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-175-slutat.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-176-slutbu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-18-sktbpp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-19-sktbqq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-2-sks46c.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-20-sktcdc.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-21-sktced.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-22-sktcfe.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-23-sktcgf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-24-sktchg.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-25-sktcih.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-26-sktcji.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-27-sktckj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-28-sktclk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-29-sktcml.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-3-sks47d.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-30-sktd97.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-31-sktda8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-32-sktdb9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-33-sktdca.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-34-sktddb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-35-sktdec.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-36-sktdfd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-37-sktdge.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-38-sktdhf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-39-sktdig.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-4-sks48e.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-40-skte52.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-41-skte63.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-42-skte74.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-43-skte85.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-44-skte96.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-45-sktea7.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-46-skteb8.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-47-sktec9.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-48-skteda.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-49-skteeb.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-5-sks49f.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-50-sktf0x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-51-sktf1y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-52-sktf2z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-53-sktf40.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-54-sktf51.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-55-sktf62.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-56-sktf73.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-57-sktf84.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-58-sktf95.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-59-sktfa6.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-6-sks4ag.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-60-sktfws.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-61-sktfxt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-62-sktfyu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-63-sktfzv.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-64-sktg0w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-65-sktg1x.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-66-sktg2y.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-67-sktg3z.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-68-sktg50.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-69-sktg61.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-7-sks4bh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-70-sktgsn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-71-sktgto.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-72-sktgup.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-73-sktgvq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-74-sktgwr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-75-sktgxs.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-76-sktgyt.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-77-sktgzu.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-78-skth0v.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-79-skth1w.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-8-sks4ci.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-80-skthoi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-81-skthpj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-82-skthqk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-83-skthrl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-84-skthsm.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-85-skthtn.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-86-skthuo.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-87-skthvp.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-88-skthwq.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-89-skthxr.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-9-sks4dj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-90-sktikd.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-91-sktile.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-92-sktimf.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-93-skting.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-94-sktioh.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-95-sktipi.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-96-sktiqj.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-97-sktirk.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-98-sktisl.dcm src/main/scripts/viewer/xiv/sample-data/scans/Sample3/DICOM/1.3.12.2.1107.5.2.32.35177.30000006121218324675000000034-6-99-sktitm.dcm".split(" "),{"Acq. Type":"3D",
Orientation:"Sagittal","Scan ID":"Sample Scan 3","Total Frames":176,Type:"t2_spc_1mm_p2"},"src/main/scripts/viewer/xiv/sample-data/scans/Sample3/Sample3.png",["Test Project 1","Test Subject 2","Test Experiment 2-1"]);/*
 Copyright 2014 Washington University
 @author sunilk@mokacreativellc.com (Sunil Kumar)
 @author herrickr@mir.wustl.edu (Rick Herrick)
*/
function en(a,b,c,d){uc.call(this);fn();gn();this.fp={f:Wl,KK:Zm};this.Ic=null!=a?a:en.States.dj;this.qI=b;this.dB=d;this.hr=Rg(d);this.rg=this.rg?this.rg:[];a="/"!==c[0]?"/"+c:c;-1===this.rg.indexOf(this.hr+a)&&this.rg.push(-1===a.indexOf(this.hr)?this.hr+a:a);1==this.rg.length&&(this.wd=new Pg(this.rg[0]))}w(en,uc);v("xiv.start",en);en.ModalStates={ie:"fullscreen",Ne:"popup",Rr:"fullscreen-popup",ig:"windowed",dj:"demo",KC:"demp-fullscreen"};en.States={dj:"demo",gM:"live"};
function fn(){Mf.IMA=[Nf,null]}function gn(){document.body.style.overflow="hidden"}f=en.prototype;f.Qr=B();f.Sx=300;f.Wz=1E3;f.tq=!1;f.vq=!1;f.DB=function(){};f.$x=function(){hn(this);this.show();if(this.Ic==en.States.dj){T(this.Ka.Q.Ne);T(this.Ka.Q.Rk);var a=Tf(function(){delete a;jn(this)}.bind(this),this.Wz)}else this.Ka.ac(this.qI),kn(this)};f.BK=function(a){this.rI=a};
function hn(a){a.Ka=new a.rI;a.Ka.pB(serverRoot);G(a.Ka,"g",a.XI.bind(a));window.onresize=function(){null!=this.Ka&&this.Ka.j()}.bind(a)}f.XI=function(){this.Dd.jA(null,function(a){D(a,function(a){ln(this,a);this.Ka.N.Qc()}.bind(this))}.bind(this))};
f.show=function(){this.Ka.a().style.opacity=0;this.Ka.k();this.Ic!==en.States.dj&&this.Ka.px();G(this.Ka.N.ma,"a",this.$u.bind(this));G(this.Ka.Q.Ne,"click",this.TE.bind(this));G(this.Ka.Q.Rk,"click",this.g.bind(this));this.Ka.Qb.Db(!0,0,this.Wz);sk(this.Ka.a(),this.Sx)};
function jn(a){var b=a.Ka.N,c={slicer:(new Ul).hg,scan:(new dn).hg},d;C(c,function(a,b){D(a,function(a){d="scan"==b?new this.fp.f:new this.fp.KK;d.ci(a.files);d.mB(!0);d.EB(a.pI);d.wo(a.Rv);mn(this,d,a.xF)}.bind(this))}.bind(a));b.ma.ak()}
function kn(a){var b=a.Ka.N.ma,c=0;a.Ka.N&&G(a.Ka.N.ma,nn,a.PJ.bind(a));a.Dd=new Vg(a.rg[0]);a.Dd.gA(function(a){var e=ln(this,a);0==c&&(this.JH=a,this.Sz=b.Db(e[0]));1==c&&(this.vq=!0,this.KH=a,this.Ut=b.Db(e[1],this.Sz));2==c&&(this.tq=!0,this.uq=a,this.IH=b.Db(e[2],this.Ut));c++}.bind(a))}function on(a,b){var c=a.Dd.mn(b),d=a.Dd.Uy(b),e=0;C(c,function(a,b){d[e]='<font color="black"><b>'+b.toUpperCase()+":</b></font>&nbsp&nbsp&nbsp&nbsp&nbsp"+d[e];e++});return d}
function ln(a,b){var c=a.Dd.Vy(b),d=on(a,b);pn(a,d,c);return d}function qn(a,b){a.Dd.fA(b.originalUrl,null,function(a){if(b.zh("subjects")==this.wd.zh("subjects")&&this.vq){var d=this.wd.zh("experiments");this.uq=this.Dd.Dl(d);Kb(a,this.uq);Nb(a,0,0,this.uq);this.vq=!1}D(a,function(a){ln(this,a)}.bind(this))}.bind(a))}f.$u=function(a){if(null!=a.Xd[this.Qr])switch(a=new Pg(a.Xd[this.Qr]),a.bq()){case "subjects":qn(this,a);break;case "experiments":rn(this,a.originalUrl)}};
f.Kl=function(a){tk(this.Ka.a(),this.Sx,a)};f.g=function(){this.Kl(this.dF.bind(this))};function rn(a,b){if(null==a.ku)a.ku=[];else if(-1<a.ku.indexOf(b)){window.console.log("don't need to reload",b);return}var c=a.Dd.mn(a.Dd.Dl(b)),c=new Ll(c.projects[gh],c.subjects[gh],c.experiments[gh]);sn(a,b,function(){this.ku.push(b);this.tq&&(this.tq=!1,C(this.Ut.le,function(){}.bind(this)))}.bind(a),c)}f.PJ=function(a){var b=a.Xd.Gd.Ep;a.Xd.Gd.Ep=0;a.Xd.Gd.Ep=b};
f.TE=function(){var a=open(this.dB+"/scripts/viewer/xiv/popup.html?"+this.rg[0],"XImgView","width=1200,height=800");a.focus();var b=this.rg[0];a.onload=function(){a.kO(b,en.ModalStates.Ne,serverRoot)}.bind(this);this.g()};function sn(a,b,c,d){tn(a,b,function(a){var b=a.Ah;un(this,a,b,function(a){mn(this,a)}.bind(this));null!=d&&(this.hb[b].ro(d.bK),this.hb[b].uo(d.OK),this.hb[b].no(d.oF))}.bind(a),c)}
function pn(a,b,c){var d=a.Ka.N.ma;d.$m(b);zippyNodes=d.Ct(b);D(zippyNodes,function(a,b){null==c||null==c[b]||null==a[this.Qr]&&(a[this.Qr]=c[b])}.bind(a))}function mn(a,b,c){var d=a.Ka.N;null!=d&&(null==c&&null!=a.Dd&&(c=on(a,a.Dd.Dl(b.jn))),"Scans"!=b.pg&&c.push(b.pg),b.zi(function(){if(0<b.Vc.length){var a=d.ii(b,c);if("Scans"!=b.pg){var h=d.ma.Ct(c);0<c.length&&1<h.length&&d.Db(c[c.length-1],h[h.length-2])}d.rv(this.Ka.a());a.sv(b.gm);a.cw()}}.bind(a)))}
function un(a,b,c,d){a.hb=a.hb?a.hb:{};null==a.hb[c]&&(a.hb[c]=b,d(b))}
f.dF=function(){en.c.g.call(this);document.body.style.overflow="visible";C(this.hb,function(a,b){a.g();delete this.hb[b]}.bind(this));delete this.hb;this.Dd&&(this.Dd.g(),delete this.Dd);delete this.rg;delete this.dB;delete this.hr;delete this.cO;null!=this.wd&&(this.wd.g(),delete this.wd);delete this.tq;delete this.vq;delete this.JH;delete this.KH;delete this.uq;delete this.Sz;delete this.Ut;delete this.IH;H(this.Ka);this.Ka.g();T(this.Ka.a());delete this.Ka};
function tn(a,b,c,d){var e=mb(a.fp),h=0;C(a.fp,function(a){Rl(b,a,c,function(){h++;h===e&&null!=d&&d()})})}v("xiv.start.States",en.States);v("xiv.start.loadCustomExtensions",fn);v("xiv.start.adjustDocumentStyle",gn);v("xiv.start.ModalStates",en.ModalStates);v("xiv.start.checkForWebGL",en.checkForWebGL);v("xiv.start.isCompatible",en.SH);v("xiv.start.prototype.setServerRoot",en.prototype.DB);v("xiv.start.prototype.setModalType",en.prototype.BK);v("xiv.start.prototype.begin",en.prototype.$x);
v("xiv.start.prototype.show",en.prototype.show);v("xiv.start.prototype.hide",en.prototype.Kl);v("xiv.start.prototype.dispose",en.prototype.g);window["xiv.start.isCompatible"]=en.SH;window["xiv.start.checkForWebGL"]=en.checkForWebGL;window["xiv.start.ModalStates"]=en.ModalStates;en.prototype.setServerRoot=en.prototype.DB;en.prototype.begin=en.prototype.$x;function vn(){Yc.call(this);this.Jn=[];this.Qv=[];this.ko=[]}w(vn,Yc);f=vn.prototype;f.zq=!1;f.Aq=!1;f.Hi=!1;f.Yz=function(){return this.Hi};f.BB=function(a){this.mr=a};f.ja=function(){if(!this.Hi){for(var a,b=0;a=this.Jn[b];b++)wn(this,a);this.Hi=!0}};function wn(a,b){a.zq&&(G(b.element,"mousedown",b.Rf,!1,b),a.Gv&&Vk(b.element,a.Gv));a.Aq&&a.Pv&&Vk(b.element,a.Pv)}
function xn(a){for(var b,c=0;b=a.Jn[c];c++){var d=a;d.zq&&(Sc(b.element,"mousedown",b.Rf,!1,b),d.Gv&&Xk(b.element,d.Gv));d.Aq&&d.Pv&&Xk(b.element,d.Pv);b.g()}a.Jn.length=0}
f.Co=function(a,b){if(!this.Ye)if(this.Ye=b,!1==this.dispatchEvent(new yn("dragstart",0,this.Ye)))this.Ye=null;else{var c=b.ki;this.Xj=this.bt(c);var d=Dh(c);d.body.appendChild(this.Xj);var e=this.Xj,h=Ci(c),c=Vi(c,"margin");h.x-=2*(c.left||0);h.y-=2*(c.top||0);e.style.position="absolute";e.style.left=h.x+"px";e.style.top=h.y+"px";this.Oa=new Yl(e);this.Oa.BB(this.mr);G(this.Oa,"drag",this.tA,!1,this);G(this.Oa,"end",this.si,!1,this);G(d.body,"selectstart",this.$B);this.fm=[];for(e=0;d=this.Qv[e];e++)for(var k,
h=0;k=d.Jn[h];h++)for(var c=d,l=[k.element],n=this.fm,m=0;m<l.length;m++){var p=l[m],q,s=p;q=Ci(s);s=Li(s);q=new nh(q.y,q.x+s.width,q.y+s.height,q.x);n.push(new zn(q,c,k,p));An(this,q)}this.Gh||(this.Gh=new nh(0,0,0,0));for(e=0;d=this.ko[e];e++)d.Ys=[],d.eB=d.l.scrollLeft,d.fB=d.l.scrollTop,h=Ci(d.l),c=Li(d.l),d.hc=new nh(h.y,h.x+c.width,h.y+c.height,h.x);for(e=0;c=this.fm[e];e++)for(h=0;d=this.ko[h];h++)$h(d.l,c.l)&&(d.Ys.push(c),c.jo=d);this.Hj=null;for(e=0;d=this.ko[e];e++)G(d.l,"scroll",this.ky,
!1,this);this.Oa.Co(a);a.preventDefault()}};
f.si=function(a){var b=a.iF?null:this.Hj;if(b&&b.Ik){var c=a.clientX;a=a.clientY;var d=pi(Bh(this.Xj)),e=c+d.x,d=a+d.y,h;this.Ho&&(h=this.Ho(b.rh,b.hc,e,d));this.dispatchEvent(new yn("drag",0,this.Ye,0,b.rh,0,c,a));b.Ik.dispatchEvent(new yn("drop",0,this.Ye,0,b.rh,0,c,a,0,0,h))}this.dispatchEvent(new yn("dragend",0,this.Ye));Sc(this.Oa,"drag",this.tA,!1,this);Sc(this.Oa,"end",this.si,!1,this);Sc(Dh(this.Ye.ki).body,"selectstart",this.$B);for(b=0;c=this.ko[b];b++)Sc(c.l,"scroll",this.ky,!1,this),c.Ys=
[];this.Oa.g();T(this.Xj);delete this.Ye;delete this.Xj;delete this.Oa;delete this.fm;delete this.Hj};
f.tA=function(a){var b,c=pi(Bh(this.Xj));b=new N(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.Hj,h;if(e){this.Ho&&e.Ik&&(h=this.Ho(e.rh,e.hc,c,d));if(e.hc.contains(b)&&h==this.ox)return;e.Ik&&(this.dispatchEvent(new yn("dragout",0,this.Ye,0,e.rh)),e.Ik.dispatchEvent(new yn("dragout",0,this.Ye,0,e.rh,0,void 0,void 0,0,0,this.ox)));this.ox=h;this.Hj=null}if(this.Gh.contains(b)){a:{for(var k=0;e=this.fm[k];k++)if(e.hc.contains(b))if(e.jo){if(e.jo.hc.contains(b)){b=e;break a}}else{b=e;break a}b=
null}if((e=this.Hj=b)&&e.Ik)this.Ho&&(h=this.Ho(e.rh,e.hc,c,d)),c=new yn("dragover",0,this.Ye,0,e.rh),c.PK=h,this.dispatchEvent(c),e.Ik.dispatchEvent(new yn("dragover",0,this.Ye,0,e.rh,0,a.clientX,a.clientY,0,0,h));else if(!e){this.we||(this.we=new zn(this.Gh.clone()));a=this.we.hc;a.top=this.Gh.top;a.right=this.Gh.right;a.bottom=this.Gh.bottom;a.left=this.Gh.left;for(h=0;e=this.fm[h];h++)b=e.hc,e.jo&&(e=e.jo.hc,b=new nh(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,e.bottom),
Math.max(b.left,e.left))),e=null,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),k=null,d>=b.bottom?k=b.bottom>a.top?b.bottom:a.top:d<b.top&&(k=b.top<a.bottom?b.top:a.bottom),null===e||null===k||(Math.abs(e-c)>Math.abs(k-d)?k=null:e=null),null!==e?e<=c?a.left=e:a.right=e:null!==k&&(k<=d?a.top=k:a.bottom=k);this.Hj=10<=(a.right-a.left)*(a.bottom-a.top)?this.we:null}}};f.$B=function(){return!1};
f.ky=function(a){for(var b=0,c;c=this.ko[b];b++)if(a.target==c.l){var d=c.fB-c.l.scrollTop,e=c.eB-c.l.scrollLeft;c.fB=c.l.scrollTop;c.eB=c.l.scrollLeft;this.we&&this.Hj==this.we&&(0<d?this.we.hc.top+=d:this.we.hc.bottom+=d,0<e?this.we.hc.left+=e:this.we.hc.right+=e);for(var h=0,k;k=c.Ys[h];h++)k=k.hc,k.top+=d,k.left+=e,k.bottom+=d,k.right+=e,An(this,k)}this.Oa.Wl(a)};
f.bt=function(a){a:{for(var b=a.cloneNode(!0),c=a.getElementsByTagName("textarea"),d=b.getElementsByTagName("textarea"),e=0;e<c.length;e++)d[e].value=c[e].value;switch(a.tagName.toLowerCase()){case "tr":a=R("table",null,R("tbody",null,b));break a;case "td":case "th":a=R("table",null,R("tbody",null,R("tr",null,b)));break a;case "textarea":b.value=a.value;default:a=b}}this.jF&&Vk(a,this.jF);return a};f.cq=function(){return this.Oa};
function An(a,b){if(1==a.fm.length)a.Gh=new nh(b.top,b.right,b.bottom,b.left);else{var c=a.Gh;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}f.e=function(){vn.c.e.call(this);xn(this)};function yn(a,b,c,d,e,h,k,l,n,m,p){Bc.call(this,a);this.Vp=c;this.vl=e;this.clientX=k;this.clientY=l;this.PK=p}w(yn,Bc);yn.prototype.e=function(){};
function Bn(a,b){Yc.call(this);this.element=Eh(a);this.data=b;this.Ja=null;this.ic=new Zi(this);xc(this,va(yc,this.ic));if(!this.element)throw Error("Invalid argument");}w(Bn,Yc);f=Bn.prototype;f.ki=null;f.Rf=function(a){if(Hc(a)){var b=a.target;b&&(this.ic.r(b,"mousemove",this.rA,!1).r(b,"mouseout",this.rA,!1),this.ic.r(Dh(b),"mouseup",this.sI,!0),this.ki=b,this.Jv=new N(a.clientX,a.clientY),a.preventDefault())}};f.po=function(a){this.Ja=a};
f.rA=function(a){var b=this.ki,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Jv.x)+Math.abs(a.clientY-this.Jv.y)||b)this.ic.Vf(),this.Ja.Co(a,this)};f.sI=function(){this.ic.Vf();delete this.Jv;this.ki=null};function zn(a,b,c,d){this.hc=a;this.Ik=b;this.rh=c;this.l=d}zn.prototype.jo=null;function Cn(a,b){this.type=a;this.currentTarget=this.target=b||null}f=Cn.prototype;f.Tf=!1;f.defaultPrevented=!1;f.ho=!0;f.stopPropagation=function(){this.Tf=!0};f.preventDefault=function(){this.defaultPrevented=!0;this.ho=!1};
function Dn(a){a=new Cn("click",a);a.button=0;var b=void 0;if(!b&&a.target&&1==a.target.nodeType)try{b=Fi(a.target)}catch(c){}a.clientX=b?b.x:0;a.clientY=b?b.y:0;a.screenX=a.clientX;a.screenY=a.clientY;a.ho=!0;for(var b=[],d=a.target;d;d=d.parentNode)b.push(d);for(d=b.length-1;0<=d&&!a.Tf;d--){var e=b[d],h=a.type,k=new Fc(a,b[d]);gb(e)?Zc(e,h,!0,k):Vc(e,h,!0,k)}for(d=0;d<b.length&&!a.Tf;d++)e=b[d],h=a.type,k=new Fc(a,b[d]),gb(e)?Zc(e,h,!1,k):Vc(e,h,!1,k)};function En(a,b){if(!a)throw Error("Invalid class name "+a);if(!ja(b))throw Error("Invalid decorator function "+b);Fn[a]=b}var Gn={},Fn={};function Hn(){}var In;fa(Hn);var Jn={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};f=Hn.prototype;f.vg=function(){};f.p=function(a){var b=a.G().p("div",this.dk(a).join(" "),a.getContent());Kn(this,a,b);return b};f.Aa=function(a){return a};f.$j=function(a,b,c){if(a=a.a?a.a():a){var d=[b];E&&!nc("7")&&(d=Ln(Tk(a),b),d.push(b));(c?Wk:Yk)(a,d)}};f.te=function(){return!0};
f.ob=function(a,b){b.id&&gj(a,b.id);var c=this.Aa(b);c&&c.firstChild?Mn(a,c.firstChild.nextSibling?Mb(c.childNodes):c.firstChild):a.tc=null;var d=0,e=this.P(),h=this.P(),k=!1,l=!1,c=!1,n=Mb(Tk(b));D(n,function(a){k||a!=e?l||a!=h?d|=this.Jt(a):l=!0:(k=!0,h==e&&(l=!0))},this);a.I=d;k||(n.push(e),h==e&&(l=!0));l||n.push(h);var m=a.Kf;m&&n.push.apply(n,m);if(E&&!nc("7")){var p=Ln(n);0<p.length&&(n.push.apply(n,p),c=!0)}if(!k||!l||m||c)b.className=n.join(" ");Kn(this,a,b);return b};
f.Pl=function(a){a.Ae()&&this.am(a.a(),!0);a.isEnabled()&&this.Ri(a,a.ra())};function Nn(a,b,c){if(a=c||a.vg())c=b.getAttribute("role")||null,a!=c&&Qk(b,a)}function Kn(a,b,c){b.ra()||Rk(c,"hidden",!b.ra());b.isEnabled()||a.Qg(c,1,!b.isEnabled());On(b,8)&&a.Qg(c,8,!!(b.I&8));On(b,16)&&a.Qg(c,16,b.Ii());On(b,64)&&a.Qg(c,64,!!(b.I&64))}f.lo=function(a,b){Si(a,!b,!E&&!ec)};f.am=function(a,b){this.$j(a,this.P()+"-rtl",b)};f.qh=function(a){var b;return On(a,32)&&(b=a.Vb())?fi(b)&&gi(b):!1};
f.Ri=function(a,b){var c;if(On(a,32)&&(c=a.Vb())){if(!b&&a.I&32){try{c.blur()}catch(d){}a.I&32&&a.hk(null)}(fi(c)&&gi(c))!=b&&ei(c,b)}};f.R=function(a,b){Pi(a,b);a&&Rk(a,"hidden",!b)};f.ac=function(a,b,c){var d=a.a();if(d){var e=this.nn(b);e&&this.$j(a,e,c);this.Qg(d,b,c)}};f.Qg=function(a,b,c){In||(In={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=In[b];var d=a.getAttribute("role")||null;d&&(d=Jn[d]||b,b="checked"==b||"selected"==b?d:b);b&&Rk(a,b,c)};
f.Fk=function(a,b){var c=this.Aa(a);if(c&&(Th(c),b))if(r(b))bi(c,b);else{var d=function(a){if(a){var b=Dh(c);c.appendChild(r(a)?b.createTextNode(a):a)}};g(b)?D(b,d):!ha(b)||"nodeType"in b?d(b):D(Mb(b),d)}};f.Vb=function(a){return a.a()};f.P=function(){return"goog-control"};f.dk=function(a){var b=this.P(),c=[b],d=this.P();d!=b&&c.push(d);b=a.Fl();for(d=[];b;){var e=b&-b;d.push(this.nn(e));b&=~e}c.push.apply(c,d);(a=a.Kf)&&c.push.apply(c,a);E&&!nc("7")&&c.push.apply(c,Ln(c));return c};
function Ln(a,b){var c=[];b&&(a=a.concat([b]));D([],function(d){!Eb(d,va(Hb,a))||b&&!Hb(d,b)||c.push(d.join("_"))});return c}f.nn=function(a){this.Kp||Pn(this);return this.Kp[a]};f.Jt=function(a){if(!this.YB){this.Kp||Pn(this);var b=this.Kp,c={},d;for(d in b)c[b[d]]=d;this.YB=c}a=parseInt(this.YB[a],10);return isNaN(a)?0:a};function Pn(a){var b=a.P();b.replace(/\xa0|\s/g," ");a.Kp={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Qn(a,b){Yc.call(this);a&&this.pl(a,b)}w(Qn,Yc);f=Qn.prototype;f.l=null;f.Bq=null;f.$t=null;f.Cq=null;f.Be=-1;f.Ji=-1;f.Js=!1;
var Rn={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Sn={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Tn=E||gc&&nc("525"),Un=ac&&fc;f=Qn.prototype;
f.kq=function(a){gc&&(17==this.Be&&!a.ctrlKey||18==this.Be&&!a.altKey||ac&&91==this.Be&&!a.metaKey)&&(this.Ji=this.Be=-1);-1==this.Be&&(a.ctrlKey&&17!=a.keyCode?this.Be=17:a.altKey&&18!=a.keyCode?this.Be=18:a.metaKey&&91!=a.keyCode&&(this.Be=91));Tn&&!al(a.keyCode,this.Be,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Ji=cl(a.keyCode),Un&&(this.Js=a.altKey))};f.tH=function(a){this.Ji=this.Be=-1;this.Js=a.altKey};
f.handleEvent=function(a){var b=a.wc,c,d,e=b.altKey;E&&"keypress"==a.type?(c=this.Ji,d=13!=c&&27!=c?b.keyCode:0):gc&&"keypress"==a.type?(c=this.Ji,d=0<=b.charCode&&63232>b.charCode&&bl(c)?b.charCode:0):ec?(c=this.Ji,d=bl(c)?b.keyCode:0):(c=b.keyCode||this.Ji,d=b.charCode||0,Un&&(e=this.Js),ac&&63==d&&224==c&&(c=191));var h=c=cl(c),k=b.keyIdentifier;c?63232<=c&&c in Rn?h=Rn[c]:25==c&&a.shiftKey&&(h=9):k&&k in Sn&&(h=Sn[k]);a=h==this.Be;this.Be=h;b=new Vn(h,d,a,b);b.altKey=e;this.dispatchEvent(b)};
f.a=function(){return this.l};f.pl=function(a,b){this.Cq&&this.detach();this.l=a;this.Bq=G(this.l,"keypress",this,b);this.$t=G(this.l,"keydown",this.kq,b,this);this.Cq=G(this.l,"keyup",this.tH,b,this)};f.detach=function(){this.Bq&&(Tc(this.Bq),Tc(this.$t),Tc(this.Cq),this.Cq=this.$t=this.Bq=null);this.l=null;this.Ji=this.Be=-1};f.e=function(){Qn.c.e.call(this);this.detach()};function Vn(a,b,c,d){Fc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}w(Vn,Fc);function Wn(a,b,c){cj.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=na(b);if(d=Gn[d])break;b=b.c?b.c.constructor:null}b=d?ja(d.Qd)?d.Qd():new d:null}this.ka=b;this.tc=ca(a)?a:null}w(Wn,cj);f=Wn.prototype;f.tc=null;f.I=0;f.Io=39;f.Rm=255;f.Eo=0;f.nc=!0;f.Kf=null;f.jk=!0;f.Cp=!1;f.hv=null;f.oo=function(a){this.$&&a!=this.jk&&Xn(this,a);this.jk=a};f.Vb=function(){return this.ka.Vb(this)};f.dq=function(){return this.cb||(this.cb=new Qn)};f.Ia=function(){return this.ka};
f.$j=function(a,b){b?a&&(this.Kf?Hb(this.Kf,a)||this.Kf.push(a):this.Kf=[a],this.ka.$j(this,a,!0)):a&&this.Kf&&Kb(this.Kf,a)&&(0==this.Kf.length&&(this.Kf=null),this.ka.$j(this,a,!1))};f.p=function(){var a=this.ka.p(this);this.l=a;Nn(this.ka,a,this.Ai());this.Cp||this.ka.lo(a,!1);this.ra()||this.ka.R(a,!1)};f.Ai=function(){return this.hv};f.Aa=function(){return this.ka.Aa(this.a())};f.te=function(a){return this.ka.te(a)};
f.Md=function(a){this.l=a=this.ka.ob(this,a);Nn(this.ka,a,this.Ai());this.Cp||this.ka.lo(a,!1);this.nc="none"!=a.style.display};f.Ta=function(){Wn.c.Ta.call(this);this.ka.Pl(this);if(this.Io&-2&&(this.jk&&Xn(this,!0),On(this,32))){var a=this.Vb();if(a){var b=this.dq();b.pl(a);this.Ua().r(b,"key",this.yg).r(a,"focus",this.ik).r(a,"blur",this.hk)}}};
function Xn(a,b){var c=a.Ua(),d=a.a();b?(c.r(d,"mouseover",a.kk).r(d,"mousedown",a.zg).r(d,"mouseup",a.Mf).r(d,"mouseout",a.mq),a.vn!=ea&&c.r(d,"contextmenu",a.vn),E&&c.r(d,"dblclick",a.Bz)):(c.eb(d,"mouseover",a.kk).eb(d,"mousedown",a.zg).eb(d,"mouseup",a.Mf).eb(d,"mouseout",a.mq),a.vn!=ea&&c.eb(d,"contextmenu",a.vn),E&&c.eb(d,"dblclick",a.Bz))}f.jc=function(){Wn.c.jc.call(this);this.cb&&this.cb.detach();this.ra()&&this.isEnabled()&&this.ka.Ri(this,!1)};
f.e=function(){Wn.c.e.call(this);this.cb&&(this.cb.g(),delete this.cb);delete this.ka;this.Kf=this.tc=null};f.getContent=function(){return this.tc};f.Fk=function(a){this.ka.Fk(this.a(),a);this.tc=a};function Mn(a,b){a.tc=b}f.aq=function(){var a=this.getContent();if(!a)return"";a=r(a)?a:g(a)?Cb(a,ji).join(""):hi(a);return Ha(a)};f.am=function(a){Wn.c.am.call(this,a);var b=this.a();b&&this.ka.am(b,a)};f.lo=function(a){this.Cp=a;var b=this.a();b&&this.ka.lo(b,a)};f.ra=function(){return this.nc};
f.R=function(a,b){if(b||this.nc!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.a();c&&this.ka.R(c,a);this.isEnabled()&&this.ka.Ri(this,a);this.nc=a;return!0}return!1};f.isEnabled=function(){return!(this.I&1)};f.$b=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Yn(this,1,!a)||(a||(this.setActive(!1),this.Xf(!1)),this.ra()&&this.ka.Ri(this,a),this.ac(1,!a))};f.Xf=function(a){Yn(this,2,a)&&this.ac(2,a)};f.Ag=function(){return!!(this.I&4)};
f.setActive=function(a){Yn(this,4,a)&&this.ac(4,a)};f.so=function(a){Yn(this,8,a)&&this.ac(8,a)};f.Ii=function(){return!!(this.I&16)};f.jf=function(a){Yn(this,16,a)&&this.ac(16,a)};f.Mb=function(a){Yn(this,64,a)&&this.ac(64,a)};f.Fl=function(){return this.I};f.ac=function(a,b){On(this,a)&&b!=!!(this.I&a)&&(this.ka.ac(this,a,b),this.I=b?this.I|a:this.I&~a)};function On(a,b){return!!(a.Io&b)}
f.Tc=function(a,b){if(this.$&&this.I&a&&!b)throw Error("Component already rendered");!b&&this.I&a&&this.ac(a,!1);this.Io=b?this.Io|a:this.Io&~a};function Zn(a,b){return!!(a.Rm&b)&&On(a,b)}function Yn(a,b,c){return On(a,b)&&!!(a.I&b)!=c&&(!(a.Eo&b)||a.dispatchEvent(ej(b,c)))&&!a.Wj}f.kk=function(a){(!a.relatedTarget||!$h(this.a(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&Zn(this,2)&&this.Xf(!0)};
f.mq=function(a){a.relatedTarget&&$h(this.a(),a.relatedTarget)||!this.dispatchEvent("leave")||(Zn(this,4)&&this.setActive(!1),Zn(this,2)&&this.Xf(!1))};f.vn=ea;f.zg=function(a){this.isEnabled()&&(Zn(this,2)&&this.Xf(!0),Hc(a)&&(Zn(this,4)&&this.setActive(!0),this.ka.qh(this)&&this.Vb().focus()));!this.Cp&&Hc(a)&&a.preventDefault()};f.Mf=function(a){this.isEnabled()&&(Zn(this,2)&&this.Xf(!0),this.Ag()&&this.wk(a)&&Zn(this,4)&&this.setActive(!1))};f.Bz=function(a){this.isEnabled()&&this.wk(a)};
f.wk=function(a){Zn(this,16)&&this.jf(!this.Ii());Zn(this,8)&&this.so(!0);Zn(this,64)&&this.Mb(!(this.I&64));var b=new Bc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.ev=a.ev);return this.dispatchEvent(b)};f.ik=function(){Zn(this,32)&&Yn(this,32,!0)&&this.ac(32,!0)};f.hk=function(){Zn(this,4)&&this.setActive(!1);Zn(this,32)&&Yn(this,32,!1)&&this.ac(32,!1)};
f.yg=function(a){return this.ra()&&this.isEnabled()&&this.Lf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};f.Lf=function(a){return 13==a.keyCode&&this.wk(a)};if(!ja(Wn))throw Error("Invalid component class "+Wn);if(!ja(Hn))throw Error("Invalid renderer class "+Hn);var $n=na(Wn);Gn[$n]=Hn;En("goog-control",function(){return new Wn(null)});function ao(){this.gy=[]}w(ao,Hn);fa(ao);function bo(a,b){var c=a.gy[b];if(!c){switch(b){case 0:c=a.P()+"-highlight";break;case 1:c=a.P()+"-checkbox";break;case 2:c=a.P()+"-content"}a.gy[b]=c}return c}f=ao.prototype;f.vg=function(){return"menuitem"};f.p=function(a){var b=a.G().p("div",this.dk(a).join(" "),co(this,a.getContent(),a.G()));eo(this,a,b,On(a,8)||On(a,16));return b};f.Aa=function(a){return a&&a.firstChild};
f.ob=function(a,b){var c=Wh(b),d=bo(this,2);c&&Uk(c,d)||b.appendChild(co(this,b.childNodes,a.G()));Uk(b,"goog-option")&&(a.sr(!0),this.sr(a,b,!0));return ao.c.ob.call(this,a,b)};f.Fk=function(a,b){var c=this.Aa(a),d=fo(this,a)?c.firstChild:null;ao.c.Fk.call(this,a,b);d&&!fo(this,a)&&c.insertBefore(d,c.firstChild||null)};function co(a,b,c){a=bo(a,2);return c.p("div",a,b)}f.CB=function(a,b,c){a&&b&&eo(this,a,b,c)};f.sr=function(a,b,c){a&&b&&eo(this,a,b,c)};
function fo(a,b){var c=a.Aa(b);if(c){var c=c.firstChild,d=bo(a,1);return!!c&&Zh(c)&&Uk(c,d)}return!1}function eo(a,b,c,d){Nn(a,c,b.Ai());Kn(a,b,c);d!=fo(a,c)&&(Zk(c,"goog-option",d),c=a.Aa(c),d?(a=bo(a,1),c.insertBefore(b.G().p("div",a),c.firstChild||null)):c.removeChild(c.firstChild))}f.nn=function(a){switch(a){case 2:return bo(this,0);case 16:case 8:return"goog-option-selected";default:return ao.c.nn.call(this,a)}};
f.Jt=function(a){var b=bo(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return ao.c.Jt.call(this,a)}};f.P=function(){return"goog-menuitem"};function go(a,b,c,d){Wn.call(this,a,d||ao.Qd(),c);this.D(b)}w(go,Wn);f=go.prototype;f.H=function(){var a=this.su;return null!=a?a:this.aq()};f.D=function(a){this.su=a};f.Tc=function(a,b){go.c.Tc.call(this,a,b);switch(a){case 8:this.Ii()&&!b&&this.jf(!1);var c=this.a();c&&this.Ia().CB(this,c,b);break;case 16:(c=this.a())&&this.Ia().sr(this,c,b)}};f.CB=function(a){this.Tc(8,a)};f.sr=function(a){this.Tc(16,a)};
f.aq=function(){var a=this.getContent();return g(a)?(a=Cb(a,function(a){return Zh(a)&&(Uk(a,"goog-menuitem-accel")||Uk(a,"goog-menuitem-mnemonic-separator"))?"":ji(a)}).join(""),Ha(a)):go.c.aq.call(this)};f.Mf=function(a){var b=this.getParent();if(b){var c=b.KA;b.KA=null;if(b=c&&t(a.clientX))b=new N(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}go.c.Mf.call(this,a)};f.Lf=function(a){return a.keyCode==this.qA&&this.wk(a)?!0:go.c.Lf.call(this,a)};f.rG=function(){return this.qA};
En("goog-menuitem",function(){return new go(null)});go.prototype.Ai=function(){return On(this,16)?"menuitemcheckbox":On(this,8)?"menuitemradio":go.c.Ai.call(this)};function ho(a){this.Wx=a}fa(ho);f=ho.prototype;f.vg=function(){return this.Wx};function io(a,b){a&&(a.tabIndex=b?0:-1)}f.p=function(a){return a.G().p("div",this.dk(a).join(" "))};f.Aa=function(a){return a};f.te=function(a){return"DIV"==a.tagName};f.ob=function(a,b){b.id&&gj(a,b.id);var c=this.P(),d=!1,e=Tk(b);e&&D(e,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.$b(!1):b==c+"-horizontal"?a.Dh(jo):b==c+"-vertical"&&a.Dh(ko))},this);d||Vk(b,c);lo(this,a,this.Aa(b));return b};
function lo(a,b,c){if(c)for(var d=c.firstChild,e;d&&d.parentNode==c;){e=d.nextSibling;if(1==d.nodeType){var h=a.At(d);h&&(h.l=d,b.isEnabled()||h.$b(!1),b.Pm(h),h.ob(d))}else d.nodeValue&&""!=Ja(d.nodeValue)||c.removeChild(d);d=e}}f.At=function(a){a:{var b;a=Tk(a);for(var c=0,d=a.length;c<d;c++)if(b=a[c],b=b in Fn?Fn[b]():null){a=b;break a}a=null}return a};f.Pl=function(a){a=a.a();Si(a,!0,fc);E&&(a.hideFocus=!0);var b=this.vg();b&&Qk(a,b)};f.Vb=function(a){return a.a()};f.P=function(){return"goog-container"};
f.dk=function(a){var b=this.P(),c=[b,a.Kb()==jo?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function mo(){}w(mo,Hn);fa(mo);mo.prototype.p=function(a){return a.G().p("div",this.P())};mo.prototype.ob=function(a,b){b.id&&gj(a,b.id);if("HR"==b.tagName){var c=b;b=this.p(a);Uh(b,c);T(c)}else Vk(b,this.P());return b};mo.prototype.Fk=function(){};mo.prototype.P=function(){return"goog-menuseparator"};function no(a,b){Wn.call(this,null,a||mo.Qd(),b);this.Tc(1,!1);this.Tc(2,!1);this.Tc(4,!1);this.Tc(32,!1);this.I=1}w(no,Wn);no.prototype.Ta=function(){no.c.Ta.call(this);Qk(this.a(),"separator")};En("goog-menuseparator",function(){return new no});function oo(a){this.Wx=a||"menu"}w(oo,ho);fa(oo);f=oo.prototype;f.te=function(a){return"UL"==a.tagName||oo.c.te.call(this,a)};f.At=function(a){return"HR"==a.tagName?new no:oo.c.At.call(this,a)};f.Oj=function(a,b){return $h(a.a(),b)};f.P=function(){return"goog-menu"};f.Pl=function(a){oo.c.Pl.call(this,a);Rk(a.a(),"haspopup","true")};function po(a,b,c,d,e,h,k,l,n){var m,p;if(m=c.offsetParent){var q="HTML"==m.tagName||"BODY"==m.tagName;q&&"static"==ui(m)||(p=Ci(m),q||(q=(q=Di(m))&&fc?-m.scrollLeft:!q||E&&nc("8")||"visible"==ti(m,"overflowX")?m.scrollLeft:m.scrollWidth-m.clientWidth-m.scrollLeft,p=mh(p,new N(q,m.scrollTop))))}m=p||new N;p=Ni(a);(q=Bi(a))&&p.Vz(new qh(q.left,q.top,q.right-q.left,q.bottom-q.top));var q=Bh(a),s=Bh(c);if(q.ia!=s.ia){var u=q.ia.body,s=oi(s),z=new N(0,0),y=Oh(Dh(u)),I=u;do{var S=y==s?Ci(I):Gi(I);z.x+=
S.x;z.y+=S.y}while(y&&y!=s&&(I=y.frameElement)&&(y=y.parent));u=mh(z,Ci(u));E&&!ni(q)&&(u=mh(u,pi(q)));p.left+=u.x;p.top+=u.y}a=qo(a,b);b=new N(a&2?p.left+p.width:p.left,a&1?p.top+p.height:p.top);b=mh(b,m);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var O;if(k)if(n)O=n;else if(O=Bi(c))O.top-=m.y,O.right-=m.x,O.bottom-=m.y,O.left-=m.x;return ro(b,c,d,h,O,k,l)}
function ro(a,b,c,d,e,h,k){a=a.clone();var l=0,n=qo(b,c);c=Li(b);k=k?k.clone():c.clone();if(d||0!=n)n&2?a.x-=k.width+(d?d.right:0):d&&(a.x+=d.left),n&1?a.y-=k.height+(d?d.bottom:0):d&&(a.y+=d.top);if(h&&(e?(l=a,d=0,65==(h&65)&&(l.x<e.left||l.x>=e.right)&&(h&=-2),132==(h&132)&&(l.y<e.top||l.y>=e.bottom)&&(h&=-5),l.x<e.left&&h&1&&(l.x=e.left,d|=1),l.x<e.left&&l.x+k.width>e.right&&h&16&&(k.width=Math.max(k.width-(l.x+k.width-e.right),0),d|=4),l.x+k.width>e.right&&h&1&&(l.x=Math.max(e.right-k.width,e.left),
d|=1),h&2&&(d=d|(l.x<e.left?16:0)|(l.x+k.width>e.right?32:0)),l.y<e.top&&h&4&&(l.y=e.top,d|=2),l.y<=e.top&&l.y+k.height<e.bottom&&h&32&&(k.height=Math.max(k.height-(e.top-l.y),0),l.y=e.top,d|=8),l.y>=e.top&&l.y+k.height>e.bottom&&h&32&&(k.height=Math.max(k.height-(l.y+k.height-e.bottom),0),d|=8),l.y+k.height>e.bottom&&h&4&&(l.y=Math.max(e.bottom-k.height,e.top),d|=2),h&8&&(d=d|(l.y<e.top?64:0)|(l.y+k.height>e.bottom?128:0)),l=d):l=256,l&496))return l;vi(b,a);ph(c,k)||(e=ni(Bh(Dh(b))),!E||e&&nc("8")?
(b=b.style,fc?b.MozBoxSizing="border-box":gc?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=Math.max(k.width,0)+"px",b.height=Math.max(k.height,0)+"px"):(a=b.style,e?(e=Vi(b,"padding"),b=Yi(b),a.pixelWidth=k.width-b.left-e.left-e.right-b.right,a.pixelHeight=k.height-b.top-e.top-e.bottom-b.bottom):(a.pixelWidth=k.width,a.pixelHeight=k.height)));return l}function qo(a,b){return(b&4&&Di(a)?b^2:b)&-5};var so,to;to=so=!1;var uo=Sb;uo&&(-1!=uo.indexOf("Firefox")||-1!=uo.indexOf("Camino")||(-1!=uo.indexOf("iPhone")||-1!=uo.indexOf("iPod")?so=!0:-1!=uo.indexOf("iPad")&&(to=!0)));var vo=so,wo=to;En("goog-menuseparator",function(){return new no});function xo(a,b,c){cj.call(this,c);this.ka=b||ho.Qd();this.xa=a||ko}w(xo,cj);var jo="horizontal",ko="vertical";f=xo.prototype;f.au=null;f.cb=null;f.ka=null;f.xa=null;f.nc=!0;f.vc=!0;f.vt=!0;f.ze=-1;f.lc=null;f.uh=!1;f.wE=!1;f.TJ=!0;f.fh=null;f.Vb=function(){return this.au||this.ka.Vb(this)};f.dq=function(){return this.cb||(this.cb=new Qn(this.Vb()))};f.Ia=function(){return this.ka};f.p=function(){this.l=this.ka.p(this)};f.Aa=function(){return this.ka.Aa(this.a())};f.te=function(a){return this.ka.te(a)};
f.Md=function(a){this.l=this.ka.ob(this,a);"none"==a.style.display&&(this.nc=!1)};f.Ta=function(){xo.c.Ta.call(this);ij(this,function(a){a.$&&yo(this,a)},this);var a=this.a();this.ka.Pl(this);this.R(this.nc,!0);this.Ua().r(this,"enter",this.Pt).r(this,"highlight",this.Qt).r(this,"unhighlight",this.Rt).r(this,"open",this.xH).r(this,"close",this.oH).r(a,"mousedown",this.zg).r(Dh(a),"mouseup",this.qH).r(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.nH);this.qh()&&zo(this,!0)};
function zo(a,b){var c=a.Ua(),d=a.Vb();b?c.r(d,"focus",a.ik).r(d,"blur",a.hk).r(a.dq(),"key",a.yg):c.eb(d,"focus",a.ik).eb(d,"blur",a.hk).eb(a.dq(),"key",a.yg)}f.jc=function(){this.Mg(-1);this.lc&&this.lc.Mb(!1);this.uh=!1;xo.c.jc.call(this)};f.e=function(){xo.c.e.call(this);this.cb&&(this.cb.g(),this.cb=null);this.ka=this.lc=this.fh=this.au=null};f.Pt=function(){return!0};
f.Qt=function(a){var b=lj(this,a.target);if(-1<b&&b!=this.ze){var c=Ao(this);c&&c.Xf(!1);this.ze=b;c=Ao(this);this.uh&&c.setActive(!0);this.TJ&&this.lc&&c!=this.lc&&(On(c,64)?c.Mb(!0):this.lc.Mb(!1))}b=this.a();null!=a.target.a()&&Rk(b,"activedescendant",a.target.a().id)};f.Rt=function(a){a.target==Ao(this)&&(this.ze=-1);this.a().removeAttribute("aria-activedescendant")};f.xH=function(a){(a=a.target)&&a!=this.lc&&a.getParent()==this&&(this.lc&&this.lc.Mb(!1),this.lc=a)};
f.oH=function(a){a.target==this.lc&&(this.lc=null)};f.zg=function(a){this.vc&&(this.uh=!0);var b=this.Vb();b&&fi(b)&&gi(b)?b.focus():a.preventDefault()};f.qH=function(){this.uh=!1};f.nH=function(a){var b;a:{b=a.target;if(this.fh)for(var c=this.a();b&&b!==c;){var d=b.id;if(d in this.fh){b=this.fh[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.zg(a);break;case "mouseup":b.Mf(a);break;case "mouseover":b.kk(a);break;case "mouseout":b.mq(a);break;case "contextmenu":b.vn(a)}};
f.ik=function(){};f.hk=function(){this.Mg(-1);this.uh=!1;this.lc&&this.lc.Mb(!1)};f.yg=function(a){return this.isEnabled()&&this.ra()&&(0!=jj(this)||this.au)&&this.Lf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
f.Lf=function(a){var b=Ao(this);if(b&&"function"==typeof b.yg&&b.yg(a)||this.lc&&this.lc!=b&&"function"==typeof this.lc.yg&&this.lc.yg(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.qh())this.Vb().blur();else return!1;break;case 36:Bo(this);break;case 35:Co(this);break;case 38:if(this.xa==ko)Do(this);else return!1;break;case 37:if(this.xa==jo)this.Ae()?Eo(this):Do(this);else return!1;break;case 40:if(this.xa==ko)Eo(this);else return!1;break;case 39:if(this.xa==
jo)this.Ae()?Do(this):Eo(this);else return!1;break;default:return!1}return!0};function yo(a,b){var c=b.a(),c=c.id||(c.id=fj(b));a.fh||(a.fh={});a.fh[c]=b}f.Pm=function(a,b){xo.c.Pm.call(this,a,b)};f.Ds=function(a,b,c){a.Eo|=2;a.Eo|=64;!this.qh()&&this.wE||a.Tc(32,!1);a.oo(!1);xo.c.Ds.call(this,a,b,c);a.$&&this.$&&yo(this,a);b<=this.ze&&this.ze++};
f.removeChild=function(a,b){if(a=r(a)?hj(this,a):a){var c=lj(this,a);-1!=c&&(c==this.ze?(a.Xf(!1),this.ze=-1):c<this.ze&&this.ze--);(c=a.a())&&c.id&&this.fh&&tb(this.fh,c.id)}a=xo.c.removeChild.call(this,a,b);a.oo(!0);return a};f.Kb=function(){return this.xa};f.Dh=function(a){if(this.a())throw Error("Component already rendered");this.xa=a};f.ra=function(){return this.nc};
f.R=function(a,b){if(b||this.nc!=a&&this.dispatchEvent(a?"show":"hide")){this.nc=a;var c=this.a();c&&(Pi(c,a),this.qh()&&io(this.Vb(),this.vc&&this.nc),b||this.dispatchEvent(this.nc?"aftershow":"afterhide"));return!0}return!1};f.isEnabled=function(){return this.vc};
f.$b=function(a){this.vc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.vc=!0,ij(this,function(a){a.rC?delete a.rC:a.$b(!0)})):(ij(this,function(a){a.isEnabled()?a.$b(!1):a.rC=!0}),this.uh=this.vc=!1),this.qh()&&io(this.Vb(),a&&this.nc))};f.qh=function(){return this.vt};f.Ri=function(a){a!=this.vt&&this.$&&zo(this,a);this.vt=a;this.vc&&this.nc&&io(this.Vb(),a)};f.Mg=function(a){(a=kj(this,a))?a.Xf(!0):-1<this.ze&&Ao(this).Xf(!1)};f.Xf=function(a){this.Mg(lj(this,a))};
function Ao(a){return kj(a,a.ze)}function Bo(a){Fo(a,function(a,c){return(a+1)%c},jj(a)-1)}function Co(a){Fo(a,function(a,c){a--;return 0>a?c-1:a},0)}function Eo(a){Fo(a,function(a,c){return(a+1)%c},a.ze)}function Do(a){Fo(a,function(a,c){a--;return 0>a?c-1:a},a.ze)}function Fo(a,b,c){c=0>c?lj(a,a.lc):c;var d=jj(a);c=b.call(a,c,d);for(var e=0;e<=d;){var h=kj(a,c);if(h&&a.ey(h)){a.Mg(c);break}e++;c=b.call(a,c,d)}}f.ey=function(a){return a.ra()&&a.isEnabled()&&On(a,2)};function Go(){}w(Go,Hn);fa(Go);Go.prototype.P=function(){return"goog-menuheader"};function Ho(a,b,c){Wn.call(this,a,c||Go.Qd(),b);this.Tc(1,!1);this.Tc(2,!1);this.Tc(4,!1);this.Tc(32,!1);this.I=1}w(Ho,Wn);En("goog-menuheader",function(){return new Ho(null)});function Io(a,b){xo.call(this,ko,b||oo.Qd(),a);this.Ri(!1)}w(Io,xo);f=Io.prototype;f.Is=!0;f.xE=!1;f.P=function(){return this.Ia().P()};f.Oj=function(a){if(this.Ia().Oj(this,a))return!0;for(var b=0,c=jj(this);b<c;b++){var d=kj(this,b);if("function"==typeof d.Oj&&d.Oj(a))return!0}return!1};f.Ij=function(a){this.Pm(a,!0)};f.wv=function(a,b){var c=this.ra();c||Pi(this.a(),!0);var d=this.a(),e=a,h=b,k=Ci(d);e instanceof N&&(h=e.y,e=e.x);vi(d,d.offsetLeft+(e-k.x),d.offsetTop+(h-k.y));c||Pi(this.a(),!1)};
f.R=function(a,b,c){(b=Io.c.R.call(this,a,b))&&a&&this.$&&this.Is&&this.Vb().focus();this.KA=a&&c&&t(c.clientX)?new N(c.clientX,c.clientY):null;return b};f.Pt=function(a){this.Is&&this.Vb().focus();return Io.c.Pt.call(this,a)};f.ey=function(a){return(this.xE||a.isEnabled())&&a.ra()&&On(a,2)};f.Md=function(a){var b=this.Ia(),c;c=this.G();c=Gh(c.ia,"div",b.P()+"-content",a);for(var d=c.length,e=0;e<d;e++)lo(b,this,c[e]);Io.c.Md.call(this,a)};
f.Lf=function(a){var b=Io.c.Lf.call(this,a);b||ij(this,function(c){!b&&c.rG&&c.qA==a.keyCode&&(this.isEnabled()&&this.Xf(c),b=c.yg(a))},this);return b};f.Mg=function(a){Io.c.Mg.call(this,a);var b=kj(this,a);if(b){a=this.a();var b=b.a(),c=Ci(b),d=Ci(a),e=Yi(a),h=c.x-d.x-e.left,c=c.y-d.y-e.top,d=a.clientHeight-b.offsetHeight,e=a.scrollLeft,k=a.scrollTop,e=e+Math.min(h,Math.max(h-(a.clientWidth-b.offsetWidth),0)),k=k+Math.min(c,Math.max(c-d,0)),b=new N(e,k);a.scrollLeft=b.x;a.scrollTop=b.y}};function Jo(){}Jo.prototype.Yd=function(){};function Ko(a,b,c){this.element=a;this.Zm=b;this.WJ=c}w(Ko,Jo);Ko.prototype.Yd=function(a,b,c){po(this.element,this.Zm,a,b,void 0,c,this.WJ)};function Lo(a,b,c,d){Ko.call(this,a,b);this.Eq=c?5:0;this.av=d||void 0}w(Lo,Ko);Lo.prototype.eG=function(){return this.Eq};Lo.prototype.Yd=function(a,b,c,d){var e=po(this.element,this.Zm,a,b,null,c,10,d,this.av);if(e&496){var h=Mo(e,this.Zm);b=Mo(e,b);e=po(this.element,h,a,b,null,c,10,d,this.av);e&496&&(h=Mo(e,h),b=Mo(e,b),po(this.element,h,a,b,null,c,this.Eq,d,this.av))}};function Mo(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function No(a,b,c,d){Lo.call(this,a,b,c||d);if(c||d)this.Eq=65|(d?32:132)}w(No,Lo);function Oo(){}w(Oo,Hn);fa(Oo);f=Oo.prototype;f.vg=function(){return"button"};f.Qg=function(a,b,c){switch(b){case 8:case 16:Rk(a,"pressed",c);break;default:case 64:case 1:Oo.c.Qg.call(this,a,b,c)}};f.p=function(a){var b=Oo.c.p.call(this,a);this.Ar(b,a.un());var c=a.H();c&&this.D(b,c);On(a,16)&&this.Qg(b,16,a.Ii());return b};f.ob=function(a,b){b=Oo.c.ob.call(this,a,b);var c=this.H(b);a.cg=c;a.Vv=this.un(b);On(a,16)&&this.Qg(b,16,a.Ii());return b};f.H=ea;f.D=ea;f.un=function(a){return a.title};
f.Ar=function(a,b){a&&(b?a.title=b:a.removeAttribute("title"))};f.tr=function(a,b){var c=a.Ae(),d=this.P()+"-collapse-left",e=this.P()+"-collapse-right";a.$j(c?e:d,!!(b&1));a.$j(c?d:e,!!(b&2))};f.P=function(){return"goog-button"};function Po(){}w(Po,Oo);fa(Po);f=Po.prototype;f.vg=function(){};f.p=function(a){a.oo(!1);a.Rm&=-256;a.Tc(32,!1);return a.G().p("button",{"class":this.dk(a).join(" "),disabled:!a.isEnabled(),title:a.un()||"",value:a.H()||""},a.aq()||"")};f.te=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};f.ob=function(a,b){a.oo(!1);a.Rm&=-256;a.Tc(32,!1);if(b.disabled){var c=this.nn(1);Vk(b,c)}return Po.c.ob.call(this,a,b)};
f.Pl=function(a){a.Ua().r(a.a(),"click",a.wk)};f.lo=ea;f.am=ea;f.qh=function(a){return a.isEnabled()};f.Ri=ea;f.ac=function(a,b,c){Po.c.ac.call(this,a,b,c);(a=a.a())&&1==b&&(a.disabled=c)};f.H=function(a){return a.value};f.D=function(a,b){a&&(a.value=b)};f.Qg=ea;function Qo(a,b,c){Wn.call(this,a,b||Po.Qd(),c)}w(Qo,Wn);f=Qo.prototype;f.H=function(){return this.cg};f.D=function(a){this.cg=a;this.Ia().D(this.a(),a)};f.un=function(){return this.Vv};f.Ar=function(a){this.Vv=a;this.Ia().Ar(this.a(),a)};f.tr=function(a){this.Ia().tr(this,a)};f.e=function(){Qo.c.e.call(this);delete this.cg;delete this.Vv};f.Ta=function(){Qo.c.Ta.call(this);if(On(this,32)){var a=this.Vb();a&&this.Ua().r(a,"keyup",this.Lf)}};
f.Lf=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.wk(a):32==a.keyCode};En("goog-button",function(){return new Qo(null)});function Ro(){}w(Ro,Oo);fa(Ro);f=Ro.prototype;f.p=function(a){var b={"class":"goog-inline-block "+this.dk(a).join(" ")},b=a.G().p("div",b,this.Mp(a.getContent(),a.G()));this.Ar(b,a.un());Kn(this,a,b);return b};f.vg=function(){return"button"};f.Aa=function(a){return a&&a.firstChild.firstChild};f.Mp=function(a,b){return b.p("div","goog-inline-block "+(this.P()+"-outer-box"),b.p("div","goog-inline-block "+(this.P()+"-inner-box"),a))};f.te=function(a){return"DIV"==a.tagName};
f.ob=function(a,b){So(b,!0);So(b,!1);var c;a:{c=a.G().bz(b);var d=this.P()+"-outer-box";if(c&&Uk(c,d)&&(c=a.G().bz(c),d=this.P()+"-inner-box",c&&Uk(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.Mp(b.childNodes,a.G()));Wk(b,["goog-inline-block",this.P()]);return Ro.c.ob.call(this,a,b)};f.P=function(){return"goog-custom-button"};
function So(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Ja(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function To(){}w(To,Ro);fa(To);f=To.prototype;f.Aa=function(a){return To.c.Aa.call(this,a&&a.firstChild)};f.ob=function(a,b){var c=Fh("*","goog-menu",b)[0];if(c){Pi(c,!1);Dh(c).body.appendChild(c);var d=new Io;d.ob(c);Uo(a,d)}return To.c.ob.call(this,a,b)};f.Mp=function(a,b){return To.c.Mp.call(this,[this.createCaption(a,b),b.p("div","goog-inline-block "+(this.P()+"-dropdown"),"\u00a0")],b)};f.createCaption=function(a,b){return b.p("div","goog-inline-block "+(this.P()+"-caption"),a)};f.P=function(){return"goog-menu-button"};function Vo(a,b,c,d,e){Qo.call(this,a,c||To.Qd(),d);this.Tc(64,!0);this.Jq=new No(null,5);b&&Uo(this,b);this.mI=null;this.Nb=new Rf(500);!vo&&!wo||nc("533.17.9")||(this.xq=!0);this.nI=e||oo.Qd()}w(Vo,Qo);f=Vo.prototype;f.xq=!1;f.iK=!1;f.Ta=function(){Vo.c.Ta.call(this);Wo(this,!0);this.M&&Xo(this,this.M,!0);Rk(this.l,"haspopup",!!this.M)};f.jc=function(){Vo.c.jc.call(this);Wo(this,!1);if(this.M){this.Mb(!1);this.M.jc();Xo(this,this.M,!1);var a=this.M.a();a&&T(a)}};
f.e=function(){Vo.c.e.call(this);this.M&&(this.M.g(),delete this.M);delete this.aK;this.Nb.g()};f.zg=function(a){Vo.c.zg.call(this,a);this.Ag()&&(this.Mb(!(this.I&64),a),this.M&&(this.M.uh=!!(this.I&64)))};f.Mf=function(a){Vo.c.Mf.call(this,a);this.M&&!this.Ag()&&(this.M.uh=!1)};f.wk=function(){this.setActive(!1);return!0};f.pH=function(a){this.M&&this.M.ra()&&!this.Oj(a.target)&&this.Mb(!1)};f.Oj=function(a){return a&&$h(this.a(),a)||this.M&&this.M.Oj(a)||!1};
f.Lf=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.M&&this.M.ra()){var b=this.M.yg(a);return 27==a.keyCode?(this.Mb(!1),!0):b}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Mb(!0,a),!0):!1};f.uH=function(){this.Mb(!1)};f.vH=function(){this.Ag()||this.Mb(!1)};f.hk=function(a){this.xq||this.Mb(!1);Vo.c.hk.call(this,a)};f.Ht=function(){this.M||Uo(this,new Io(this.G(),this.nI));return this.M||null};
function Uo(a,b){var c=a.M;b!=c&&(c&&(a.Mb(!1),a.$&&Xo(a,c,!1),delete a.M),a.$&&Rk(a.l,"haspopup",!!b),b&&(a.M=b,b.po(a),b.R(!1),c=a.xq,(b.Is=c)&&b.Ri(!0),a.$&&Xo(a,b,!0)))}f.Ij=function(a){this.Ht().Pm(a,!0)};f.R=function(a,b){var c=Vo.c.R.call(this,a,b);c&&!this.ra()&&this.Mb(!1);return c};f.$b=function(a){Vo.c.$b.call(this,a);this.isEnabled()||this.Mb(!1)};f.zv=function(){this.Mb(!0)};f.xn=function(){this.Mb(!1)};
f.Mb=function(a,b){Vo.c.Mb.call(this,a);if(this.M&&!!(this.I&64)==a){if(a){if(!this.M.$)if(this.iK){var c=Yh(this.a());c?this.M.Jg(c.parentNode,c):this.M.k(this.a().parentNode)}else this.M.k();this.oC=Bi(this.a());this.cy=Ni(this.a());Yo(this);this.M.Mg(!b||40!=b.keyCode&&38!=b.keyCode?-1:0)}else{this.setActive(!1);this.M.uh=!1;if(c=this.a())Rk(c,"activedescendant",""),Rk(c,"owns","");null!=this.ar&&(this.ar=void 0,(c=this.M.a())&&Ii(c,"",""))}this.M.R(a,!1,b);if(!this.Wj){var c=this.Ua(),d=a?c.r:
c.eb;d.call(c,mi(this.G()),"mousedown",this.pH,!0);this.xq&&d.call(c,this.M,"blur",this.vH);d.call(c,this.Nb,Sf,this.zJ);a?this.Nb.start():this.Nb.stop()}}};function Yo(a){if(a.M.$){var b=a.Jq;a.Jq.element=a.aK||a.a();var c=a.M.a();a.M.ra()||(c.style.visibility="hidden",Pi(c,!0));!a.ar&&a.Jq.eG&&a.Jq.Eq&32&&(a.ar=Li(c));b.Yd(c,b.Zm^1,a.mI,a.ar);a.M.ra()||(Pi(c,!1),c.style.visibility="visible")}}
f.zJ=function(){var a=Ni(this.a()),b=Bi(this.a()),c=this.cy;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.oC,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.cy=a,this.oC=b,Yo(this))};function Xo(a,b,c){var d=a.Ua();c=c?d.r:d.eb;c.call(d,b,"action",a.uH);c.call(d,b,"highlight",a.Qt);c.call(d,b,"unhighlight",a.Rt)}function Wo(a,b){var c=a.Ua();(b?c.r:c.eb).call(c,a.a(),"keydown",a.sH)}
f.Qt=function(a){var b=this.a();if(a=a.target.a()){var c=Sk(a,"activedescendant");a=Dh(a).getElementById(c)||a;a.id||(c=bj.Qd(),a.id=":"+(c.zA++).toString(36));c="";a&&(c=a.id);Rk(b,"activedescendant",c);Rk(b,"owns",a.id)}};f.sH=function(a){On(this,32)&&this.Vb()&&this.M&&this.M.ra()&&a.stopPropagation()};f.Rt=function(){if(!Ao(this.M)){var a=this.a();Rk(a,"activedescendant","");Rk(a,"owns","")}};En("goog-menu-button",function(){return new Vo(null)});function Zo(){V.call(this);this.Td=R("div",{id:this.constructor.ID_PREFIX+"_Holder_"+B(),"class":Zo.CSS.dD});Sh(this.a(),this.Td);this.lk=R("img",{id:this.constructor.ID_PREFIX+"_Icon_"+B(),"class":Zo.CSS.Za});Sh(this.a(),this.lk);this.M=new Io;this.Fc=new ak;this.td=[];$o(this);this.xn(void 0,0);this.M.k(this.Td);P(this.M.a(),Zo.CSS.cD)}w(Zo,V);v("nrg.ui.SlideInMenu",Zo);Zo.ID_PREFIX="nrg.ui.SlideInMenu";
Zo.CSS_SUFFIX={Za:"icon",RL:"icon-hovered",cD:"menu",dD:"menuholder",eD:"menuitem",Ew:"menuitem-highlight",fD:"menuitem-icon"};var ap={Tr:null,Tg:null,Za:null};function bp(a,b,c,d){d=ca(d)?d:200;return[new Vj(a,d),new Pj(a,b,c,d,ok)]}function cp(a,b,c,d){d=ca(d)?d:200;return[new Uj(a,d),new Pj(a,b,c,d,ok)]}f=Zo.prototype;f.Xb=null;f.NA=null;f.dn=null;f.Vl=!1;f.yn=[-100,-100];f.Bo=[0,0];f.nu=!0;f.ou=!1;f.oB=function(a,b){return this.yn=[a,b]};f.FB=function(a,b){return this.Bo=[a,b]};f.ZF=function(){return this.yn};
f.KG=function(){return this.Bo};f.Ht=function(){return this.M};f.mG=function(){return this.Td};f.nG=function(){return this.lk};f.uB=function(a){this.lk.src=a};f.yK=function(a,b){this.Xb[a].Za.src=b};f.fz=function(a){return ob(this.Xb).indexOf(a)};f.Lt=function(a){return ob(this.Xb)[a]};f.Et=function(a){return this.Xb[ob(this.Xb)[a]]};f.lA=function(a){return this.nu=a};f.kI=function(a){return this.ou=a};f.IG=function(){return this.dn};
function dp(a){null!=a.Fc&&(a.Fc.stop(),D(a.td,function(a){this.Fc.remove(a);a.g()}.bind(a)),Ib(a.td))}function ep(a,b,c){dp(a);D(g(b)?b:[b],function(a){this.Fc.add(a);this.td.push(a)}.bind(a));a.Td.style.visibility="visible";Rc(a.Fc,"end",function(){c&&c()}.bind(a));a.Fc.play()}f.Al=null;f.Rp=null;f.iB=function(a){this.Rp=a;this.a().title=a};function fp(a){null!=a.Al&&(ba.clearTimeout(a.Al),a.Al=null);a.Al=Tf(function(){this.Al=null;this.Vl&&(!this.uu&&this.Vl?this.xn():fp(this))}.bind(a),450)}
f.Mg=function(a){P(this.Xb[this.Lt(a)].Tg,Zo.CSS.Ew);this.nu&&(this.lk.src=this.Xb[this.Lt(a)].Za.src);this.ou?this.a().title=this.Et(a).Tr.getContent():null!=this.Rp&&(this.a().title=this.Rp)};f.Cy=function(){C(this.Xb,function(a){vh(a.Tg,Zo.CSS.Ew)}.bind(this))};
f.wx=function(a,b){null==this.Xb&&(this.Xb={});a=r(a)?[a]:a;b=b||[];b=g(b)?b:[b];var c=null,d=null,e=null;D(a,function(a,k){if(this.Xb[a])throw Error(a+" is already in use!");c=new go(a);this.M.Ij(c);d=c.Aa();P(d,Zo.CSS.eD);d.title=a;e=R("img",{id:Zo.ID_PREFIX+"_MenuItemIcon_"+B(),"class":Zo.CSS.fD});e.src=k<=b.length-1?b[k]:null;Sh(d,e);this.Xb[a]=vb(ap);this.Xb[a].Tr=c;this.Xb[a].Tg=d;this.Xb[a].Za=e}.bind(this))};
f.so=function(a,b){var c=a;if(r(c)){if(!this.Xb[c])throw Error(c+" does not exist!");c=this.fz(c)}this.NA=this.dn?this.dn:a;this.dn=a;ca(b)&&!b||this.Cy();this.Mg(c);this.dispatchEvent({type:"item_selected",index:c,title:this.Et(c).Tr.getContent()})};f.zv=function(a,b){ep(this,bp(this.Td,this.yn,this.Bo,b),function(){this.Vl=!0;null!=a&&a()}.bind(this))};f.xn=function(a,b){ep(this,cp(this.Td,this.Bo,this.yn,b),function(){this.Vl=!1;this.Td.style.visibility="hidden";ca(a)&&a()}.bind(this))};
function $o(a){G(a.a(),"click",function(){this.Vl?this.xn():this.zv()}.bind(a));G(a.M,"action",function(a){this.so(a.target.getContent())}.bind(a));G(a.Td,"mouseover",function(){this.uu=!0}.bind(a));G(a.Td,"mouseout",function(){this.uu=!1;fp(this)}.bind(a))}
f.e=function(){Zo.c.e.call(this);delete this.uu;delete this.Al;dp(this);Ib(this.td);delete this.td;C(this.Xb,function(a,b){H(a);T(a);delete this.Xb[b]}.bind(this));sb(this.Xb);delete this.Xb;T(this.Td);delete this.Td;T(this.lk);delete this.lk;H(this.M);this.M.g();this.Sp(this.Fc);delete this.Fc;delete this.Rp;delete this.NA;delete this.dn;delete this.Vl;delete this.yn;delete this.Bo;delete this.nu;delete this.ou};v("nrg.ui.SlideInMenu.ID_PREFIX",Zo.ID_PREFIX);v("nrg.ui.SlideInMenu.EventType",{WL:"item_selected"});
v("nrg.ui.SlideInMenu.CSS_SUFFIX",Zo.CSS_SUFFIX);v("nrg.ui.SlideInMenu.menuItemCollection",ap);v("nrg.ui.SlideInMenu.FADE_OUT_COUNTDOWN",450);v("nrg.ui.SlideInMenu.ANIM_LEN_IN",200);v("nrg.ui.SlideInMenu.ANIM_LEN_OUT",200);v("nrg.ui.SlideInMenu.MOUSEOUT_HIDE",1E3);v("nrg.ui.SlideInMenu.prototype.setHidePosition",Zo.prototype.oB);v("nrg.ui.SlideInMenu.prototype.setShowPosition",Zo.prototype.FB);v("nrg.ui.SlideInMenu.prototype.getHidePosition",Zo.prototype.ZF);
v("nrg.ui.SlideInMenu.prototype.getShowPosition",Zo.prototype.KG);v("nrg.ui.SlideInMenu.prototype.getMenu",Zo.prototype.Ht);v("nrg.ui.SlideInMenu.prototype.getMenuHolder",Zo.prototype.mG);v("nrg.ui.SlideInMenu.prototype.getMenuIcon",Zo.prototype.nG);v("nrg.ui.SlideInMenu.prototype.setMenuIconSrc",Zo.prototype.uB);v("nrg.ui.SlideInMenu.prototype.setMenuItemIconSrc",Zo.prototype.yK);v("nrg.ui.SlideInMenu.prototype.getIndexFromTitle",Zo.prototype.fz);
v("nrg.ui.SlideInMenu.prototype.getTitleFromIndex",Zo.prototype.Lt);v("nrg.ui.SlideInMenu.prototype.getItemCollectionFromIndex",Zo.prototype.Et);v("nrg.ui.SlideInMenu.prototype.matchMenuIconToSelected",Zo.prototype.lA);v("nrg.ui.SlideInMenu.prototype.matchMenuTitleToSelected",Zo.prototype.kI);v("nrg.ui.SlideInMenu.prototype.getSelectedMenuItem",Zo.prototype.IG);v("nrg.ui.SlideInMenu.prototype.setHighlightedIndex",Zo.prototype.Mg);v("nrg.ui.SlideInMenu.prototype.deselectAll",Zo.prototype.Cy);
v("nrg.ui.SlideInMenu.prototype.addMenuItem",Zo.prototype.wx);v("nrg.ui.SlideInMenu.prototype.setSelected",Zo.prototype.so);v("nrg.ui.SlideInMenu.prototype.showMenu",Zo.prototype.zv);v("nrg.ui.SlideInMenu.prototype.hideMenu",Zo.prototype.xn);v("nrg.ui.SlideInMenu.prototype.setDefaultTitle",Zo.prototype.iB);v("nrg.ui.SlideInMenu.prototype.disposeInternal",Zo.prototype.e);function gp(){V.call(this)}w(gp,V);v("xiv.ui.layouts.interactors.InputController",gp);gp.ID_PREFIX="xiv.ui.layouts.interactors.InputController";gp.CSS_SUFFIX={UC:"inputbox",UL:"inputbox-hovered",ow:"display"};f=gp.prototype;f.Xe=null;f.Ba=null;f.LH=!1;f.H=function(){if(null!=this.Ba)return this.Ba.value};f.D=function(a){null!=this.Ba&&(this.Ba.value=a,this.Sg())};f.fd=function(a){null!=this.Ba&&(this.Ba.max=a,this.Sg())};f.$d=function(a){null!=this.Ba&&(this.Ba.min=a,this.Sg())};f.Sg=function(){};
f.EA=function(a){this.Ba.value=parseInt(a.target.value);this.dispatchEvent({type:"input",value:this.Ba.value});this.Sg()};
f.k=function(a){gp.c.k.call(this,a);this.Xe=R("div");this.a().appendChild(this.Xe);P(this.Xe,gp.CSS.ow);this.Ba=R("input");this.Ba.type="number";this.Ba.step=1;this.Ba.min=0;this.Ba.value=0;this.a().appendChild(this.Ba);P(this.Ba,gp.CSS.UC);G(this.Ba,"mouseenter",function(a){a.stopPropagation();this.Ba.style.opacity=1;this.Xe.style.opacity=0}.bind(this));G(this.Ba,"mouseleave",function(a){a.stopPropagation();this.Ba.style.opacity=0;this.Xe.style.opacity=1}.bind(this));G(this.Ba,"input",this.EA.bind(this));
this.Sg()};f.e=function(){gp.c.e.call(this);delete this.LH;this.Ba&&(H(this.Ba),T(this.Ba),delete this.Ba);this.Xe&&(H(this.Xe),T(this.Xe),delete this.Xe)};v("xiv.ui.layouts.interactors.InputController.EventType",{TL:"input",ow:"display"});v("xiv.ui.layouts.interactors.InputController.ID_PREFIX",gp.ID_PREFIX);v("xiv.ui.layouts.interactors.InputController.CSS_SUFFIX",gp.CSS_SUFFIX);v("xiv.ui.layouts.interactors.InputController.prototype.displayElt",gp.prototype.Xe);
v("xiv.ui.layouts.interactors.InputController.prototype.inputBox",gp.prototype.Ba);v("xiv.ui.layouts.interactors.InputController.prototype.getValue",gp.prototype.H);v("xiv.ui.layouts.interactors.InputController.prototype.setValue",gp.prototype.D);v("xiv.ui.layouts.interactors.InputController.prototype.setMaximum",gp.prototype.fd);v("xiv.ui.layouts.interactors.InputController.prototype.setMinimum",gp.prototype.$d);v("xiv.ui.layouts.interactors.InputController.prototype.updateValue",gp.prototype.Sg);
v("xiv.ui.layouts.interactors.InputController.prototype.onInput",gp.prototype.EA);v("xiv.ui.layouts.interactors.InputController.prototype.render",gp.prototype.k);v("xiv.ui.layouts.interactors.InputController.prototype.disposeInternal",gp.prototype.e);function hp(){V.call(this)}w(hp,gp);v("xiv.ui.layouts.interactors.FrameDisplay",hp);hp.ID_PREFIX="xiv.ui.layouts.interactors.FrameDisplay";hp.prototype.Sg=function(){this.Xe.innerHTML=this.Ba.value+" / "+this.Ba.max};v("xiv.ui.layouts.interactors.FrameDisplay.ID_PREFIX",hp.ID_PREFIX);v("xiv.ui.layouts.interactors.FrameDisplay.prototype.updateValue",hp.prototype.Sg);v("nrg.array",function(){});v("nrg.array.naturalCompare",function(a,b){function c(a){for(var b=[],c=0,d=-1,e=0,h,k;h=(k=a.charAt(c++)).charCodeAt(0);)h=46==h||48<=h&&57>=h,h!==e&&(b[++d]="",e=h),b[d]+=k;return b}var d=c(a),e=c(b);for(x=0;d[x]&&e[x];x++)if(d[x]!==e[x]){var h=Number(d[x]),k=Number(e[x]);return h==d[x]&&k==e[x]?h-k:d[x]>e[x]?1:-1}return d.length-e.length});function ip(a,b,c){this.Le=this.Ke=this.Je=0;3==arguments.length?(this.Je=Number(a),this.Ke=Number(b),this.Le=Number(c)):a instanceof ip?(this.Je=Number(a.x()),this.Ke=Number(a.y()),this.Le=Number(a.z())):(this.Je=Number(a[0]),this.Ke=Number(a[1]),this.Le=Number(a[2]))}
ip.prototype={clone:function(){return new ip(this.Je,this.Ke,this.Le)},ni:function(a){return this.Je*a.x()+this.Ke*a.y()+this.Le*a.z()},Gq:function(a,b){return jp(this,kp(lp(a,this),b))},length:function(){return Math.sqrt(this.ni(this))},Uj:function(a){return new ip(this.Ke*a.z()-this.Le*a.y(),this.Le*a.x()-this.Je*a.z(),this.Je*a.y()-this.Ke*a.x())},x:function(){return this.Je},y:function(){return this.Ke},z:function(){return this.Le}};
function mp(a){var b=a.length();return new ip(a.Je/b,a.Ke/b,a.Le/b)}function kp(a,b){return new ip(a.Je*b,a.Ke*b,a.Le*b)}function lp(a,b){return new ip(a.Je-b.x(),a.Ke-b.y(),a.Le-b.z())}function jp(a,b){return new ip(a.Je+b.x(),a.Ke+b.y(),a.Le+b.z())}function np(a){return new ip(-a.Je,-a.Ke,-a.Le)};function op(a,b){this.fv=new ip(a);this.Sc=new ip(b)}op.prototype={clone:function(){return new op(this.fv.clone(),this.Sc.clone())},ck:function(){this.Sc=np(this.Sc)},Ee:function(){return this.fv}};function pp(a,b){this.Sc=a;this.Vo=b}pp.prototype={clone:function(){return new pp(this.Sc.clone(),this.Vo)},ck:function(){this.Sc=np(this.Sc);this.Vo=-this.Vo}};function qp(a,b){this.Jh=a;this.Br=b;var c=a[0].Ee(),d=a[1].Ee(),e=a[2].Ee(),d=mp(lp(d,c).Uj(lp(e,c)));this.De=new pp(d,d.ni(c))}qp.prototype={clone:function(){var a=this.Jh.map(function(a){return a.clone()});return new qp(a,this.Br)},ck:function(){this.Jh.reverse().map(function(a){a.ck()});this.De.ck()}};
function rp(a,b,c,d,e,h){for(var k=0,l=[],n=0;n<a.Jh.length;n++){var m=b.Sc.ni(a.Jh[n].Ee())-b.Vo,m=-1E-5>m?2:1E-5<m?1:0,k=k|m;l.push(m)}switch(k){case 0:(0<b.Sc.ni(a.De.Sc)?c:d).push(a);break;case 1:e.push(a);break;case 2:h.push(a);break;case 3:c=[];d=[];for(n=0;n<a.Jh.length;n++){var p=(n+1)%a.Jh.length,m=l[n],q=l[p],k=a.Jh[n],p=a.Jh[p];2!=m&&c.push(k);1!=m&&d.push(2!=m?k.clone():k);3==(m|q)&&(m=(b.Vo-b.Sc.ni(k.Ee()))/b.Sc.ni(lp(p.Ee(),k.Ee())),m=new op(k.fv.Gq(p.Ee(),m),k.Sc.Gq(p.Sc,m)),c.push(m),
d.push(m.clone()))}3<=c.length&&e.push(new qp(c,a.Br));3<=d.length&&h.push(new qp(d,a.Br))}};function sp(a){this.Zc=this.ad=this.De=null;this.vb=[];a&&tp(this,a)}sp.prototype={clone:function(){var a=new sp;up(a,this.De&&this.De.clone());vp(a,this.ad&&this.ad.clone());wp(a,this.Zc&&this.Zc.clone());a.yr(this.vb.map(function(a){return a.clone()}));return a},pb:function(){for(var a=0;a<this.vb.length;a++)this.vb[a].ck();this.De.ck();this.ad&&this.ad.pb();this.Zc&&this.Zc.pb();a=this.ad;this.ad=this.Zc;this.Zc=a},yr:function(a){this.vb=a}};function wp(a,b){a.Zc=b}function vp(a,b){a.ad=b}
function up(a,b){a.De=b}function tp(a,b){if(b.length){a.De||(a.De=b[0].De.clone());for(var c=[],d=[],e=0;e<b.length;e++)rp(b[e],a.De,a.vb,a.vb,c,d);c.length&&(a.ad||(a.ad=new sp),tp(a.ad,c));d.length&&(a.Zc||(a.Zc=new sp),tp(a.Zc,d))}}function xp(a){var b=a.vb.slice();a.ad&&(b=b.concat(xp(a.ad)));a.Zc&&(b=b.concat(xp(a.Zc)));return b}function yp(a,b){a.vb=zp(b,a.vb);a.ad&&yp(a.ad,b);a.Zc&&yp(a.Zc,b)}
function zp(a,b){if(!a.De)return b.slice();for(var c=[],d=[],e=0;e<b.length;e++)rp(b[e],a.De,c,d,c,d);a.ad&&(c=zp(a.ad,c));d=a.Zc?zp(a.Zc,d):[];return c.concat(d)};function Ap(){this.vb=[]}function Bp(a){var b=new Ap;b.yr(a);return b}
Ap.prototype={clone:function(){var a=new Ap;a.yr(this.vb.map(function(a){return a.clone()}));return a},$v:function(a){var b=new sp(this.clone().vb);a=new sp(a.clone().vb);yp(b,a);yp(a,b);a.pb();yp(a,b);a.pb();tp(b,xp(a));return Bp(xp(b))},mc:function(a){var b=new sp(this.clone().vb);a=new sp(a.clone().vb);b.pb();yp(b,a);yp(a,b);a.pb();yp(a,b);a.pb();tp(b,xp(a));b.pb();return Bp(xp(b))},Yt:function(a){var b=new sp(this.clone().vb);a=new sp(a.clone().vb);b.pb();yp(a,b);a.pb();yp(b,a);yp(a,b);tp(b,xp(a));
b.pb();return Bp(xp(b))},inverse:function(){var a=this.clone();a.vb.map(function(a){a.ck()});return a},yr:function(a){this.vb=a}};function Cp(){}function Dp(a){for(var b=a.s.count,c=[],d=0,d=0;d<b;d+=3){var e=a.s.get(d),h=a.s.get(d+1),k=a.s.get(d+2),l=a.S.get(d),n=a.S.get(d+1),m=a.S.get(d+2),p=a.ya;a.qc&&0<a.qc.length&&(p=a.qc.get(d));var q=[];q.push(new op(e,l));q.push(new op(h,n));q.push(new op(k,m));c.push(new qp(q,p))}return Bp(c)}
function Ep(a,b){if(!(null!=b&&b instanceof Ap))throw Error("Invalid CSG object.");var c=new bd,d=[];Cb(b.vb,function(a){var b=[],k=a.Br,b=Cb(a.Jh,function(a){a.color=k;return c.add(a)});for(a=a=2;a<b.length;a++)d.push([b[0],b[a-1],b[a]])}.bind(a));a.cE=Cb(c.unique(),function(a){return[a.Ee().x(),a.Ee().y(),a.Ee().z()]});a.bE=Cb(c.unique(),function(a){return[a.Sc.x(),a.Sc.y(),a.Sc.z()]});a.aE=Cb(c.unique(),function(a){return a.color?[a.color[0],a.color[1],a.color[2]]:null});a.s=new ad(9*d.length);
a.S=new ad(9*d.length);a.qc=new ad(9*d.length);Cb(d,function(a){var b=a[0],c=a[1];a=a[2];var d=this.cE,n=this.bE,m=this.aE;this.s.add(d[b][0],d[b][1],d[b][2]);this.s.add(d[c][0],d[c][1],d[c][2]);this.s.add(d[a][0],d[a][1],d[a][2]);this.S.add(n[b][0],n[b][1],n[b][2]);this.S.add(n[c][0],n[c][1],n[c][2]);this.S.add(n[a][0],n[a][1],n[a][2]);m[b]&&this.qc.add(m[b][0],m[b][1],m[b][2]);m[c]&&this.qc.add(m[c][0],m[c][1],m[c][2]);m[a]&&this.qc.add(m[a][0],m[a][1],m[a][2])}.bind(a));0==a.qc.Fa&&(a.qc=null);
a.sd=Qd}Cp.prototype.$v=function(a){if(null==a||!(a instanceof Ap||a instanceof Ud))throw Error("Invalid object.");var b=a;a instanceof Ud&&(b=Dp(b));a=new Ud;ya(a,new Cp);Ep(a,Dp(this).$v(b));return a};Cp.prototype.mc=function(a){if(null==a||!(a instanceof Ap||a instanceof Ud))throw Error("Invalid object.");var b=a;a instanceof Ud&&(b=Dp(b));a=new Ud;ya(a,new Cp);Ep(a,Dp(this).mc(b));return a};
Cp.prototype.Yt=function(a){if(null==a||!(a instanceof Ap||a instanceof Ud))throw Error("Invalid object.");var b=a;a instanceof Ud&&(b=Dp(b));a=new Ud;ya(a,new Cp);Ep(a,Dp(this).Yt(b));return a};Cp.prototype.inverse=function(){var a=new Ud;ya(a,new Cp);Ep(a,Dp(this).inverse());return a};v("X.constructable",Cp);v("X.constructable.prototype.intersect",Cp.prototype.Yt);v("X.constructable.prototype.inverse",Cp.prototype.inverse);v("X.constructable.prototype.subtract",Cp.prototype.mc);
v("X.constructable.prototype.union",Cp.prototype.$v);function Fp(a){function b(a,b){a=2*a*Math.PI;b*=Math.PI;var e=new ip(Math.cos(a)*Math.sin(b),Math.cos(b),Math.sin(a)*Math.sin(b));k.push(new op(jp(c,kp(e,d)),e))}this.vb=[];a=a||{};var c=new ip(a.ue||[0,0,0]),d=a.Hg||1,e=a.ta||16;a=a.MK||8;for(var h=[],k=[],l=0;l<e;l++)for(var n=0;n<a;n++)k=[],b(l/e,n/a),0<n&&b((l+1)/e,n/a),n<a-1&&b((l+1)/e,(n+1)/a),b(l/e,(n+1)/a),h.push(new qp(k));return Bp(h)}w(Fp,Ap);function Gp(){Ud.call(this);this.n="sphere";this.Ea=[0,0,0];this.xj=5;this.Ec=32;this.hE=16;ya(this,new Cp)}w(Gp,Ud);Gp.prototype.__defineGetter__("center",function(){return this.Ea});Gp.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center");this.Ea=a});Gp.prototype.__defineGetter__("radius",function(){return this.xj});Gp.prototype.__defineSetter__("radius",function(a){if(!t(a))throw Error("Invalid radius.");this.xj=a});
Gp.prototype.U=function(){Ep(this,new Fp({ue:this.Ea,Hg:this.xj,ta:this.Ec,MK:this.hE}));Gp.c.U.call(this)};v("X.sphere",Gp);v("X.sphere.prototype.modified",Gp.prototype.U);function Je(a){Ud.call(this);this.n="slice";this.Ea=[0,0,0];this.uj=[0,0,1];this.qb=[0,1,0];this.il=[1,0,0];this.za=this.Na=10;this.Dj=[0,1,0,0,1,1,1,1,1,0,0,0];this.m=this.mg=null;this.Wg=!0;this.sj=[1,1,1];null!=a&&this.Rj(a)}w(Je,Ud);Je.prototype.Rj=function(a){this.Ea=a.Ea.slice();this.uj=a.uj.slice();this.qb=a.qb.slice();this.Na=a.Na;this.za=a.za;this.mg=a.mg;this.m=a.m;this.Wg=a.Wg;this.sj=a.sj;this.eE=a.eE;Je.c.Rj.call(this,a)};Je.prototype.__defineSetter__("height",function(a){this.za=a});
Je.prototype.__defineSetter__("width",function(a){this.Na=a});Je.prototype.__defineGetter__("up",function(){return this.qb});Je.prototype.__defineGetter__("right",function(){return this.il});Je.prototype.create=function(){this.We()};Je.prototype.Jb=function(){Je.c.Jb.call(this);this.Ea.length=0;this.uj.length=0;this.qb.length=0;this.il.length=0;this.Dj.length=0;this.m=this.mg=null;this.sj.length=0};
Je.prototype.We=function(){var a=(new K(this.uj[0],this.uj[1],this.uj[2])).normalize(),b=new K(this.qb[0],this.qb[1],this.qb[2]),c=new K(this.il[0],this.il[1],this.il[2]),d=new K(this.Ea[0],this.Ea[1],this.Ea[2]),e=od(c.clone().pb().scale(this.Na/2),b.clone().pb().scale(this.za/2)),h=new K(e.x+d.x,e.y+d.y,e.z+d.z),e=od(c.clone().pb().scale(this.Na/2),b.clone().scale(this.za/2)),k=new K(e.x+d.x,e.y+d.y,e.z+d.z),e=od(c.clone().scale(this.Na/2),b.clone().pb().scale(this.za/2)),l=new K(e.x+d.x,e.y+d.y,
e.z+d.z),e=od(c.clone().scale(this.Na/2),b.clone().scale(this.za/2)),b=new K(e.x+d.x,e.y+d.y,e.z+d.z);this.s=new ad(18);this.S=new ad(18);this.s.add(h.x,h.y,h.z);this.s.add(k.x,k.y,k.z);this.s.add(l.x,l.y,l.z);this.s.add(l.x,l.y,l.z);this.s.add(b.x,b.y,b.z);this.s.add(k.x,k.y,k.z);this.S.add(a.x,a.y,a.z);this.S.add(a.x,a.y,a.z);this.S.add(a.x,a.y,a.z);this.S.add(a.x,a.y,a.z);this.S.add(a.x,a.y,a.z);this.S.add(a.x,a.y,a.z);this.Wg&&(a=new Ud,a.s=new ad(24),a.S=new ad(24),a.s.add(h.x,h.y,h.z),a.s.add(k.x,
k.y,k.z),a.s.add(k.x,k.y,k.z),a.s.add(b.x,b.y,b.z),a.s.add(b.x,b.y,b.z),a.s.add(l.x,l.y,l.z),a.s.add(l.x,l.y,l.z),a.s.add(h.x,h.y,h.z),a.S.add(0,0,0),a.S.add(0,0,0),a.S.add(0,0,0),a.S.add(0,0,0),a.S.add(0,0,0),a.S.add(0,0,0),a.S.add(0,0,0),a.S.add(0,0,0),a.ya=[this.sj[0],this.sj[1],this.sj[2]],a.sd="LINES",a.gl=2,this.h.push(a))};v("X.slice",Je);v("X.slice.prototype.create",Je.prototype.create);v("X.slice.prototype.destroy",Je.prototype.Jb);function J(a){Ud.call(this);this.n="volume";this.Ea=[0,0,0];this.$a=[10,10,10];this.ec=[1,1,1];this.Jm=[10,10,10];this.Se=[1,1,1];this.Qe=[];this.el=this.$g=this.dl=this.Zg=this.cl=this.Yg=0;this.Aj=new Ud;this.Bj=new Ud;this.Cj=new Ud;this.yp=this.re=!1;this.rb=-1;this.xp=[];this.m=null;this.Wg=!0;this.Ab=Infinity;this.zb=-Infinity;this.lx=!0;this.Hb=0;this._data=null;this.d=[];this.ga=[0,0,0];this.vf=[0,0,0];this.rm=[0,0,0];this.xb=[];this.Tw=[];this.Pe=null;ya(this,new dd);ya(this,new Rd);null!=
a&&this.Rj(a)}w(J,Ud);J.prototype.Rj=function(a){this.Ea=a.Ea.slice();this.$a=a.$a.slice();this.Se=a.Se.slice();this.Yg=a.Yg;this.cl=a.cl;this.Zg=a.Zg;this.dl=a.dl;this.$g=a.$g;this.el=a.el;this.Vw=a.Vw.slice();this.Aj=new Ud(a.Aj);this.Bj=new Ud(a.Bj);this.Cj=new Ud(a.Cj);this.Hb=a.Hb;this._data=a._data;this.re=a.re;this.yp=a.yp;this.rb=a.rb;this.m=a.m;this.Wg=a.Wg;J.c.Rj.call(this,a)};
J.prototype.We=function(a){this.h.length=0;this.Aj.h.length=0;this.Bj.h.length=0;this.Cj.h.length=0;this.h.push(this.Aj);this.h.push(this.Bj);this.h.push(this.Cj);this.pd=a.mj;this.rm=a.nj;this.vf=a.lj;this.Zk=a.je;this.YD=a.me;this.Hb=a.max;this._data=a.data;this.B=!0};
J.prototype.Jb=function(){J.c.Jb.call(this);this.Qe.length=0;this.h.length=0;this.Aj.h.length=0;this.Aj.length=0;this.Bj.h.length=0;this.Bj.length=0;this.Cj.h.length=0;this.Cj.length=0;this._data=null;this.ec.length=0;this.d.length=0;this.ga.length=0;this.vf.length=0;this.rm.length=0;this.xb.length=0;this.Tw.length=0;this.Pe=null};
J.prototype.U=function(a){a="undefined"!==typeof a?a:!0;if(0<this.h.length){this.re!=this.yp&&(this.re||-1==this.rb||(this.h[this.rb].visible=!1),this.B=!0,this.yp=this.re);if(!this.ab)return;for(var b=0,b=0;3>b;b++){var c=this.h[b],d=0,e=0;0==b?(d=this.Yg,e=this.cl,this.cl=this.Yg):1==b?(d=this.Zg,e=this.dl,this.dl=this.Zg):2==b&&(d=this.$g,e=this.el,this.el=this.$g);if(null==this.h[b].h[parseInt(d,10)]){var h=td();h[0]=this.d[b].C[0][0][0]+this.d[b].Ha[0]*parseInt(d,10);h[1]=this.d[b].C[0][0][1]+
this.d[b].Ha[1]*parseInt(d,10);h[2]=this.d[b].C[0][0][2]+this.d[b].Ha[2]*parseInt(d,10);if(this.Va){var k=Ie(h,this.d[b].rd,this.d[b].v,this.d[b].ya,this.ec,this.m.xb,this.m,this.m.Va,this.m.Wc.Hd);this.m.h[b].h[parseInt(d,10)]=k;this.m.h[b].U(!0)}h=Ie(h,this.d[b].rd,this.d[b].v,this.d[b].ya,this.ec,this.xb,this,!0,null);this.Va&&(h.m=h.Ma,h.m=this.m.h[b].h[parseInt(d,10)].Ma);c.h[parseInt(d,10)]=h;this.h[b].U(!0)}e=c.h[parseInt(e,10)];this.re||(e.visible=!1);c=c.h[parseInt(d,10)];c.visible=!0;c.Cc=
1;this.re&&(c.h[0].ab=!1,b!=this.rb&&(c.visible=!1,c.Cc=0))}this.re&&-1!=this.rb&&Hp(this,this.rb)}a&&J.c.U.call(this)};J.prototype.__defineGetter__("dimensions",function(){return this.$a});J.prototype.__defineSetter__("dimensions",function(a){this.$a=a});J.prototype.__defineGetter__("spacing",function(){return this.Se});J.prototype.__defineSetter__("spacing",function(a){this.Se=a});J.prototype.__defineGetter__("bbox",function(){return this.ec});J.prototype.__defineGetter__("range",function(){return this.Jm});
J.prototype.__defineGetter__("dimensionsRAS",function(){return this.Vw});J.prototype.__defineGetter__("volumeRendering",function(){return this.re});J.prototype.__defineSetter__("volumeRendering",function(a){this.re=a;this.U(!1)});J.prototype.__defineGetter__("visible",function(){return this.ab});J.prototype.__defineSetter__("visible",function(a){if(a)this.ab=a,this.U(!1);else{for(var b=this.h,c=b.length,d=0,d=0;d<c;d++)b[d].visible=a;this.ab=a;this.B=!0}});J.prototype.__defineGetter__("center",function(){return this.Ea});
J.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center.");this.Ea=a});J.prototype.__defineGetter__("volumeRenderingCache",function(){return this.xp});J.prototype.__defineSetter__("volumeRenderingCache",function(a){if(!(null!=a&&g(a)&&3>=a.length))throw Error("Invalid volumeRederingCache.");this.xp=a});J.prototype.__defineGetter__("image",function(){return this.Qe});
J.prototype.__defineGetter__("labelmap",function(){this.m||(this.m=new Ip(this));return this.m});J.prototype.__defineGetter__("indexX",function(){return this.Yg});J.prototype.__defineSetter__("indexX",function(a){t(a)&&0<=a&&a<this.Aj.h.length&&(this.Yg=a,this.U(!1))});J.prototype.__defineGetter__("indexY",function(){return this.Zg});J.prototype.__defineSetter__("indexY",function(a){t(a)&&0<=a&&a<this.Bj.h.length&&(this.Zg=a,this.U(!1))});J.prototype.__defineGetter__("indexZ",function(){return this.$g});
J.prototype.__defineSetter__("indexZ",function(a){t(a)&&0<=a&&a<this.Cj.h.length&&(this.$g=a,this.U(!1))});J.prototype.__defineGetter__("windowLow",function(){return this.Ab});J.prototype.__defineSetter__("windowLow",function(a){this.Ab=a});J.prototype.__defineGetter__("windowHigh",function(){return this.zb});J.prototype.__defineSetter__("windowHigh",function(a){this.zb=a});J.prototype.__defineGetter__("borders",function(){return this.Wg});
J.prototype.__defineSetter__("borders",function(a){this.Wg=a});J.prototype.__defineGetter__("reslicing",function(){return this.lx});J.prototype.__defineSetter__("reslicing",function(a){this.lx=a});J.prototype.__defineSetter__("xNormX",function(a){this.d[0].v[0]=a});J.prototype.__defineGetter__("xNormX",function(){return this.d[0].v[0]});J.prototype.__defineSetter__("xNormY",function(a){this.d[0].v[1]=a});J.prototype.__defineGetter__("xNormY",function(){return this.d[0].v[1]});
J.prototype.__defineSetter__("xNormZ",function(a){this.d[0].v[2]=a});J.prototype.__defineGetter__("xNormZ",function(){return this.d[0].v[2]});J.prototype.__defineSetter__("xColor",function(a){this.d[0].ya=a});J.prototype.__defineGetter__("xColor",function(){return this.d[0].ya});J.prototype.__defineSetter__("yNormX",function(a){this.d[1].v[0]=a});J.prototype.__defineGetter__("yNormX",function(){return this.d[1].v[0]});J.prototype.__defineSetter__("yNormY",function(a){this.d[1].v[1]=a});
J.prototype.__defineGetter__("yNormY",function(){return this.d[1].v[1]});J.prototype.__defineSetter__("yNormZ",function(a){this.d[1].v[2]=a});J.prototype.__defineGetter__("yNormZ",function(){return this.d[1].v[2]});J.prototype.__defineSetter__("yColor",function(a){this.d[1].ya=a});J.prototype.__defineGetter__("yColor",function(){return this.d[1].ya});J.prototype.__defineSetter__("zNormX",function(a){this.d[2].v[0]=a});J.prototype.__defineGetter__("zNormX",function(){return this.d[2].v[0]});
J.prototype.__defineSetter__("zNormY",function(a){this.d[2].v[1]=a});J.prototype.__defineGetter__("zNormY",function(){return this.d[2].v[1]});J.prototype.__defineSetter__("zNormZ",function(a){this.d[2].v[2]=a});J.prototype.__defineGetter__("zNormZ",function(){return this.d[2].v[2]});J.prototype.__defineSetter__("zColor",function(a){this.d[2].ya=a});J.prototype.__defineGetter__("zColor",function(){return this.d[2].ya});
J.prototype.FK=function(a){this.h[a].visible=!1;for(var b=0;b<this.h[a].h.length;b++)"undefined"!=typeof this.h[a].h[b]&&(this.Va&&(this.m.h[a].h[b].remove(),this.m.h[a].h[b]=null),this.h[a].h[b].remove(),this.h[a].h[b]=null);vd(this.d[a].v,this.d[a].v);Ke(a,this.d[a].Km,this.d[a].v,this);this.h[a].h=[];this.h[a].h=Array(this.d[a].T);this.Va&&(b=Ie(this.d[a].Km,this.d[a].rd,this.d[a].v,this.d[a].ya,this.ec,this.m.xb,this.m,this.m.Va,this.m.Wc.Hd),this.m.h[a].h=[],this.m.h[a].h=Array(this.d[a].T),
this.m.h[a].h[Math.floor(this.d[a].T/2)]=b,this.m.h[a].U());b=Ie(this.d[a].Km,this.d[a].rd,this.d[a].v,this.d[a].ya,this.ec,this.xb,this,!0,null);window.console.log("modified!");this.Va&&(b.m=b.Ma,b.m=this.m.h[a].h[Math.floor(this.d[a].T/2)].Ma);this.h[a].h[Math.floor(this.d[a].T/2)]=b;0==a?(this.Yg=Math.floor(this.d[a].T/2),this.cl=Math.floor(this.d[a].T/2)):1==a?(this.Zg=Math.floor(this.d[a].T/2),this.dl=Math.floor(this.d[a].T/2)):(this.$g=Math.floor(this.d[a].T/2),this.el=Math.floor(this.d[a].T/
2));this.h[a].U();this.h[a].h[Math.floor(this.d[a].T/2)].ab=!0};
function Hp(a,b){if(!a.jp)if(!a.re||!a.B&&b==a.rb)a.rb=b;else if(-1==a.xp.indexOf(b))a.xp.push(b),a.jp=!0,Jp(a,b),setTimeout(function(){var a=null;0<=this.rb&&(a=this.h[this.rb],a.visible=!1);var a=this.h[b],c=a.h.length,d=Math.floor(c/4),e;for(e=0;e<1*d;e++){if(null==a.h[e]){var m=td();m[0]=this.d[b].C[0][0][0]+this.d[b].Ha[0]*e;m[1]=this.d[b].C[0][0][1]+this.d[b].Ha[1]*e;m[2]=this.d[b].C[0][0][2]+this.d[b].Ha[2]*e;if(this.Va){var p=Ie(m,this.d[b].rd,this.d[b].v,this.d[b].ya,this.ec,this.m.xb,this.m,
this.m.Va,this.m.Wc.Hd);this.m.h[b].h[e]=p;this.m.h[b].U(!0)}m=Ie(m,this.d[b].rd,this.d[b].v,this.d[b].ya,this.ec,this.xb,this,!0,null);m.h[0].ab=!1;this.Va&&(m.m=m.Ma,m.m=this.m.h[b].h[e].Ma);a.h[e]=m}a.h[e].ab=!0}Kp(this,.25);setTimeout(function(){for(;e<2*d;e++){if(null==a.h[e]){var m=td();m[0]=this.d[b].C[0][0][0]+this.d[b].Ha[0]*e;m[1]=this.d[b].C[0][0][1]+this.d[b].Ha[1]*e;m[2]=this.d[b].C[0][0][2]+this.d[b].Ha[2]*e;if(this.Va){var p=Ie(m,this.d[b].rd,this.d[b].v,this.d[b].ya,this.ec,this.m.xb,
this.m,this.m.Va,this.m.Wc.Hd);this.m.h[b].h[e]=p;this.m.h[b].U(!0)}m=Ie(m,this.d[b].rd,this.d[b].v,this.d[b].ya,this.ec,this.xb,this,!0,null);m.h[0].ab=!1;this.Va&&(m.m=m.Ma,m.m=this.m.h[b].h[e].Ma);a.h[e]=m}a.h[e].ab=!0}Kp(this,.5);setTimeout(function(){for(;e<3*d;e++){if(null==a.h[e]){var m=td();m[0]=this.d[b].C[0][0][0]+this.d[b].Ha[0]*e;m[1]=this.d[b].C[0][0][1]+this.d[b].Ha[1]*e;m[2]=this.d[b].C[0][0][2]+this.d[b].Ha[2]*e;if(this.Va){var p=Ie(m,this.d[b].rd,this.d[b].v,this.d[b].ya,this.ec,
this.m.xb,this.m,this.m.Va,this.m.Wc.Hd);this.m.h[b].h[e]=p;this.m.h[b].U(!0)}m=Ie(m,this.d[b].rd,this.d[b].v,this.d[b].ya,this.ec,this.xb,this,!0,null);m.h[0].ab=!1;this.Va&&(m.m=m.Ma,m.m=this.m.h[b].h[e].Ma);a.h[e]=m}a.h[e].ab=!0}Kp(this,.75);setTimeout(function(){for(e=3*d;e<c;e++){if(null==a.h[e]){var m=td();m[0]=this.d[b].C[0][0][0]+this.d[b].Ha[0]*e;m[1]=this.d[b].C[0][0][1]+this.d[b].Ha[1]*e;m[2]=this.d[b].C[0][0][2]+this.d[b].Ha[2]*e;if(this.Va){var p=Ie(m,this.d[b].rd,this.d[b].v,this.d[b].ya,
this.ec,this.m.xb,this.m,this.m.Va,this.m.Wc.Hd);this.m.h[b].h[e]=p;this.m.h[b].U(!0)}m=Ie(m,this.d[b].rd,this.d[b].v,this.d[b].ya,this.ec,this.xb,this,!0,null);m.h[0].ab=!1;this.Va&&(m.m=m.Ma,m.m=this.m.h[b].h[e].Ma);a.h[e]=m}a.h[e].ab=!0}Kp(this,1);setTimeout(function(){this.jp&&this.h[b].U(!0);this.rb=b;this.B=!1;if(this.jp){var a=new Ce;a.Ga=this;this.dispatchEvent(a);this.onComputingEnd(b)}this.jp=!1}.bind(this),10)}.bind(this),10)}.bind(this),10)}.bind(this),10)}.bind(a),10);else{var c=a.h[a.rb];
c.visible=!1;var c=a.h[b],d=c.h.length,e;for(e=0;e<d;e++)c.h[e].ab=!0;a.rb=b;a.B=!1}}function Jp(a,b){var c=new Ae;c.Ga=a;a.dispatchEvent(c);a.onComputing(b)}function Kp(a,b){var c=new Be;c.Fj=b;a.dispatchEvent(c);a.onComputingProgress(100*b)}J.prototype.Fu=function(){};J.prototype.Hu=function(){};J.prototype.Gu=function(){};v("X.volume",J);v("X.volume.prototype.modified",J.prototype.U);v("X.volume.prototype.destroy",J.prototype.Jb);v("X.volume.prototype.sliceInfoChanged",J.prototype.FK);
v("X.volume.prototype.onComputing",J.prototype.Fu);v("X.volume.prototype.onComputingProgress",J.prototype.Hu);v("X.volume.prototype.onComputingEnd",J.prototype.Gu);function Lp(a,b){Yc.call(this);this.l=a;var c=Zh(this.l)?this.l:this.l?this.l.body:null;this.WH=!!c&&Di(c);this.dA=G(this.l,fc?"DOMMouseScroll":"mousewheel",this,b)}w(Lp,Yc);
Lp.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.wc;if("mousewheel"==a.type){c=1;if(E||gc&&(bc||nc("532.0")))c=40;d=Mp(-a.wheelDelta,c);ca(a.wheelDeltaX)?(b=Mp(-a.wheelDeltaX,c),c=Mp(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),ca(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;t(this.mA)&&(b=fd(b,-this.mA,this.mA));t(this.nA)&&(c=fd(c,-this.nA,this.nA));this.WH&&(b=-b);b=new Np(d,a,b,c);this.dispatchEvent(b)};function Mp(a,b){return gc&&(ac||cc)&&0!=a%b?a:a/b}
Lp.prototype.e=function(){Lp.c.e.call(this);Tc(this.dA);this.dA=null};function Np(a,b,c,d){Fc.call(this,b);this.type="mousewheel";this.detail=a;this.hh=c;this.vd=d}w(Np,Fc);function Op(){Yc.call(this)}w(Op,Yc);f=Op.prototype;f.cg=0;f.Qf=0;f.ff=100;f.xe=0;f.Fh=1;f.Ud=!1;f.tk=!1;f.D=function(a){a=Pp(this,a);this.cg!=a&&(this.cg=a+this.xe>this.ff?this.ff-this.xe:a<this.Qf?this.Qf:a,this.Ud||this.tk||this.dispatchEvent("change"))};f.H=function(){return Pp(this,this.cg)};f.Qi=function(a){a=Pp(this,a);this.xe!=a&&(this.xe=0>a?0:this.cg+a>this.ff?this.ff-this.cg:a,this.Ud||this.tk||this.dispatchEvent("change"))};
f.Ze=function(){var a=this.xe;return null==this.Fh?a:Math.round(a/this.Fh)*this.Fh};f.$d=function(a){if(this.Qf!=a){var b=this.Ud;this.Ud=!0;this.Qf=a;a+this.xe>this.ff&&(this.xe=this.ff-this.Qf);a>this.cg&&this.D(a);a>this.ff&&(this.xe=0,this.fd(a),this.D(a));(this.Ud=b)||this.tk||this.dispatchEvent("change")}};f.qa=function(){return Pp(this,this.Qf)};
f.fd=function(a){a=Pp(this,a);if(this.ff!=a){var b=this.Ud;this.Ud=!0;this.ff=a;a<this.cg+this.xe&&this.D(a-this.xe);a<this.Qf&&(this.xe=0,this.$d(a),this.D(this.ff));a<this.Qf+this.xe&&(this.xe=this.ff-this.Qf);(this.Ud=b)||this.tk||this.dispatchEvent("change")}};f.ea=function(){return Pp(this,this.ff)};f.nh=function(){return this.Fh};f.Ng=function(a){this.Fh!=a&&(this.Fh=a,a=this.Ud,this.Ud=!0,this.fd(this.ea()),this.Qi(this.Ze()),this.D(this.H()),(this.Ud=a)||this.tk||this.dispatchEvent("change"))};
function Pp(a,b){return null==a.Fh?b:a.Qf+Math.round((b-a.Qf)/a.Fh)*a.Fh};function Qp(a,b){cj.call(this,a);this.Qx=null;this.Ca=new Op;this.YH=b||ed;G(this.Ca,"change",this.Gz,!1,this)}w(Qp,cj);f=Qp.prototype;f.xa="horizontal";f.Gn=!1;f.tI=!1;f.ng=10;f.Kq=0;f.Xz=!0;f.Nq=0;f.kD=1E3;f.vc=!0;f.ye=!1;f.p=function(){Qp.c.p.call(this);var a=this.G().p("div",this.P(this.xa));this.Md(a)};f.Md=function(a){Qp.c.Md.call(this,a);Vk(a,this.P(this.xa));this.vy();Qk(this.a(),"slider");Rp(this)};
f.Ta=function(){Qp.c.Ta.call(this);this.he=new Yl(this.ha);this.Jf=new Yl(this.kc);this.he.ri(this.ye);this.Jf.ri(this.ye);this.he.jt=this.Jf.jt=ea;this.cb=new Qn(this.a());Sp(this,!0);this.a().tabIndex=0;this.Rg()};
function Sp(a,b){b?(a.Ua().r(a.he,"beforedrag",a.jq).r(a.Jf,"beforedrag",a.jq).r(a.he,["start","end"],a.oq).r(a.Jf,["start","end"],a.oq).r(a.cb,"key",a.kq).r(a.a(),"click",a.lq).r(a.a(),"mousedown",a.lq),a.Xz&&Tp(a,!0)):(a.Ua().eb(a.he,"beforedrag",a.jq).eb(a.Jf,"beforedrag",a.jq).eb(a.he,["start","end"],a.oq).eb(a.Jf,["start","end"],a.oq).eb(a.cb,"key",a.kq).eb(a.a(),"click",a.lq).eb(a.a(),"mousedown",a.lq),a.Xz&&Tp(a,!1))}f.jc=function(){Qp.c.jc.call(this);zc(this.he,this.Jf,this.cb,this.sk)};
f.jq=function(a){var b=a.qt==this.he?this.ha:this.kc,c;"vertical"==this.xa?(c=this.a().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.ea()-this.qa())+this.qa()):c=a.left/(this.a().clientWidth-b.offsetWidth)*(this.ea()-this.qa())+this.qa();c=a.qt==this.he?Math.min(Math.max(c,this.qa()),this.H()+this.Ze()):Math.min(Math.max(c,this.H()),this.ea());Up(this,b,c)};
f.oq=function(a){var b="start"==a.type;Zk(this.a(),"goog-slider-dragging",b);Zk(a.target.handle,"goog-slider-thumb-dragging",b);a=a.qt==this.he;b?(this.dispatchEvent("l"),this.dispatchEvent(a?"h":"j")):(this.dispatchEvent("m"),this.dispatchEvent(a?"i":"k"))};
f.kq=function(a){var b=!0;switch(a.keyCode){case 36:Vp(this,this.qa());break;case 35:Vp(this,this.ea());break;case 33:Wp(this,this.ng);break;case 34:Wp(this,-this.ng);break;case 37:var c=this.ye&&this.Ae()?1:-1;Wp(this,a.shiftKey?c*this.ng:c*this.Qo);break;case 40:Wp(this,a.shiftKey?-this.ng:-this.Qo);break;case 39:c=this.ye&&this.Ae()?-1:1;Wp(this,a.shiftKey?c*this.ng:c*this.Qo);break;case 38:Wp(this,a.shiftKey?this.ng:this.Qo);break;default:b=!1}b&&a.preventDefault()};
f.lq=function(a){this.a().focus&&this.a().focus();var b=a.target;$h(this.ha,b)||$h(this.kc,b)||(b="click"==a.type,b&&xa()<this.Nq+this.kD||(b||(this.Nq=xa()),this.tI?Vp(this,Xp(this,a)):(this.Nv(a),this.mf=Yp(this,Xp(this,a)),this.Rz="vertical"==this.xa?this.Dq<this.mf.offsetTop:this.Dq>Zp(this,this.mf)+this.mf.offsetWidth,a=Dh(this.a()),this.Ua().r(a,"mouseup",this.Mv,!0).r(this.a(),"mousemove",this.Nv),this.Gi||(this.Gi=new Rf(200),this.Ua().r(this.Gi,Sf,this.Hz)),this.Hz(),this.Gi.start())))};
f.Fz=function(a){Wp(this,(0<a.detail?-1:1)*this.Qo);a.preventDefault()};f.Hz=function(){var a;if("vertical"==this.xa){var b=this.Dq,c=this.mf.offsetTop;this.Rz?b<c&&(a=$p(this,this.mf)+this.ng):b>c+this.mf.offsetHeight&&(a=$p(this,this.mf)-this.ng)}else b=this.Dq,c=Zp(this,this.mf),this.Rz?b>c+this.mf.offsetWidth&&(a=$p(this,this.mf)+this.ng):b<c&&(a=$p(this,this.mf)-this.ng);ca(a)&&Up(this,this.mf,a)};
f.Mv=function(){this.Gi&&this.Gi.stop();var a=Dh(this.a());this.Ua().eb(a,"mouseup",this.Mv,!0).eb(this.a(),"mousemove",this.Nv)};function aq(a,b){var c=Ei(b,a.a());return"vertical"==a.xa?c.y:a.ye&&a.Ae()?a.a().clientWidth-c.x:c.x}f.Nv=function(a){this.Dq=aq(this,a)};function Xp(a,b){var c=a.qa(),d=a.ea();if("vertical"==a.xa){var e=a.ha.offsetHeight,h=a.a().clientHeight-e,e=aq(a,b)-e/2;return(d-c)*(h-e)/h+c}e=a.ha.offsetWidth;h=a.a().clientWidth-e;e=aq(a,b)-e/2;return(d-c)*e/h+c}
function $p(a,b){if(b==a.ha)return a.Ca.H();if(b==a.kc)return a.Ca.H()+a.Ca.Ze();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");}f.Of=function(){return this.he.Of()||this.Jf.Of()};function Wp(a,b){Math.abs(b)<a.nh()&&(b=(0==b?0:0>b?-1:1)*a.nh());var c=$p(a,a.ha)+b,d=$p(a,a.kc)+b,c=fd(c,a.qa(),a.ea()-a.Kq),d=fd(d,a.qa()+a.Kq,a.ea());bq(a,c,d-c)}function Up(a,b,c){var d=Pp(a.Ca,c);c=b==a.ha?d:a.Ca.H();b=b==a.kc?d:a.Ca.H()+a.Ca.Ze();c>=a.qa()&&b>=c+a.Kq&&a.ea()>=b&&bq(a,c,b-c)}
function bq(a,b,c){a.qa()<=b&&b<=a.ea()-c&&a.Kq<=c&&c<=a.ea()-b&&(b!=a.H()||c!=a.Ze())&&(a.Ca.tk=!0,a.Ca.Qi(0),a.Ca.D(b),a.Ca.Qi(c),a.Ca.tk=!1,a.Gz())}f.qa=function(){return this.Ca.qa()};f.$d=function(a){this.Ca.$d(a)};f.ea=function(){return this.Ca.ea()};f.fd=function(a){this.Ca.fd(a)};function Yp(a,b){return b<=a.Ca.H()+a.Ca.Ze()/2?a.ha:a.kc}f.Gz=function(){this.Rg();Rp(this);this.dispatchEvent("change")};
f.Rg=function(){if(this.ha&&!this.Gn){var a=cq(this,$p(this,this.ha)),b=cq(this,$p(this,this.kc));if("vertical"==this.xa)this.ha.style.top=a.y+"px",this.kc.style.top=b.y+"px",this.Cb&&(a=dq(b.y,a.y,this.ha.offsetHeight),this.Cb.style.top=a.offset+"px",this.Cb.style.height=a.size+"px");else{var c=this.ye&&this.Ae()?"right":"left";this.ha.style[c]=a.x+"px";this.kc.style[c]=b.x+"px";this.Cb&&(a=dq(a.x,b.x,this.ha.offsetWidth),this.Cb.style[c]=a.offset+"px",this.Cb.style.width=a.size+"px")}}};
function dq(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}}function cq(a,b){var c=new N;if(a.ha){var d=a.qa(),e=a.ea(),e=b==d&&d==e?0:(b-d)/(e-d);"vertical"==a.xa?(d=a.a().clientHeight-a.ha.offsetHeight,e=Math.round(e*d),c.x=Zp(a,a.ha),c.y=d-e):(d=Math.round(e*(a.a().clientWidth-a.ha.offsetWidth)),c.x=d,c.y=a.ha.offsetTop)}return c}
function Vp(a,b){b=fd(b,a.qa(),a.ea());a.Gn&&a.Qp.stop(!0);var c=new ak,d,e=Yp(a,b),h=a.H(),k=a.Ze(),l=$p(a,e),n=cq(a,l);d=a.nh();Math.abs(b-l)<d&&(b=fd(l+(b>l?d:-d),a.qa(),a.ea()));Up(a,e,b);l=cq(a,$p(a,e));d="vertical"==a.xa?[Zp(a,e),l.y]:[l.x,e.offsetTop];n=new Pj(e,[n.x,n.y],d,100);n.ri(a.ye);c.add(n);a.Cb&&eq(a,e,h,k,l,c);a.Qx&&(e=a.Qx.XN(h,b,100),D(e,function(a){c.add(a)}));a.Qp=c;a.Ua().r(c,"end",a.lF);a.Gn=!0;c.play(!1)}f.xd=function(){return this.Gn};
function eq(a,b,c,d,e,h){var k=cq(a,c),l=cq(a,c+d);c=k;d=l;b==a.ha?c=e:d=e;"vertical"==a.xa?(b=dq(l.y,k.y,a.ha.offsetHeight),k=dq(d.y,c.y,a.ha.offsetHeight),e=new Pj(a.Cb,[Zp(a,a.Cb),b.offset],[Zp(a,a.Cb),k.offset],100),b=new Sj(a.Cb,b.size,k.size,100)):(b=dq(k.x,l.x,a.ha.offsetWidth),k=dq(c.x,d.x,a.ha.offsetWidth),e=new Pj(a.Cb,[b.offset,a.Cb.offsetTop],[k.offset,a.Cb.offsetTop],100),b=new Rj(a.Cb,b.size,k.size,100));e.ri(a.ye);b.ri(a.ye);h.add(e);h.add(b)}f.lF=function(){this.Gn=!1};
f.Dh=function(a){if(this.xa!=a){var b=this.P(this.xa),c=this.P(a);this.xa=a;this.a()&&(a=this.a(),Uk(a,b)&&(Xk(a,b),Vk(a,c)),b=this.ye&&this.Ae()?"right":"left",this.ha.style[b]=this.ha.style.top="",this.kc.style[b]=this.kc.style.top="",this.Cb&&(this.Cb.style[b]=this.Cb.style.top="",this.Cb.style.width=this.Cb.style.height=""),this.Rg())}};f.Kb=function(){return this.xa};
f.e=function(){Qp.c.e.call(this);this.Gi&&this.Gi.g();delete this.Gi;this.Qp&&this.Qp.g();delete this.Qp;delete this.ha;delete this.kc;this.Cb&&delete this.Cb;this.Ca.g();delete this.Ca;this.cb&&(this.cb.g(),delete this.cb);this.sk&&(this.sk.g(),delete this.sk);this.he&&(this.he.g(),delete this.he);this.Jf&&(this.Jf.g(),delete this.Jf)};f.Qo=1;f.nh=function(){return this.Ca.nh()};f.Ng=function(a){this.Ca.Ng(a)};f.H=function(){return this.Ca.H()};f.D=function(a){Up(this,this.ha,a)};f.Ze=function(){return this.Ca.Ze()};
f.Qi=function(a){Up(this,this.kc,this.Ca.H()+a)};f.R=function(a){Pi(this.a(),a);a&&this.Rg()};function Rp(a){var b=a.a();b&&(Rk(b,"valuemin",a.qa()),Rk(b,"valuemax",a.ea()),Rk(b,"valuenow",a.H()),Rk(b,"valuetext",a.YH(a.H())||""))}function Tp(a,b){b?(a.sk||(a.sk=new Lp(a.a())),a.Ua().r(a.sk,"mousewheel",a.Fz)):a.Ua().eb(a.sk,"mousewheel",a.Fz)}f.$b=function(a){this.vc!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.vc=a,Sp(this,a),a||this.Mv(),Zk(this.a(),"goog-slider-disabled",!a))};
f.isEnabled=function(){return this.vc};function Zp(a,b){return a.ye?Nj(b):b.offsetLeft};function fq(a){Qp.call(this,a);this.Ca.D(this.qa());this.Ca.Qi(this.ea()-this.qa())}w(fq,Qp);fq.prototype.P=function(a){return"vertical"==a?"goog-twothumbslider-vertical":"goog-twothumbslider-horizontal"};fq.prototype.Sj=function(a){a=this.G().p("div",a);Qk(a,"button");return a};
fq.prototype.vy=function(){var a=Fh(null,"goog-twothumbslider-value-thumb",this.a())[0],b=Fh(null,"goog-twothumbslider-extent-thumb",this.a())[0],c=Fh(null,"goog-twothumbslider-rangehighlight",this.a())[0];a||(a=this.Sj("goog-twothumbslider-value-thumb"),this.a().appendChild(a));b||(b=this.Sj("goog-twothumbslider-extent-thumb"),this.a().appendChild(b));c||(c=this.G().p("div","goog-twothumbslider-rangehighlight"),this.G().Xt(c,a));this.ha=a;this.kc=b;this.Cb=c};function gq(){Ud.call(this);this.n="fibers";ya(this,new dd)}w(gq,Ud);v("X.fibers",gq);function hq(){this.Bk=R("div",{id:this.constructor.ID_PREFIX+"_"+B(),"class":this.constructor.oc});kl.call(this,"",this.Bk,!0);P(this.sb,hq.CSS.wD);this.sb.style.marginTop="0px"}w(hq,kl);v("nrg.ui.ZippyTree",hq);var nn="o",iq={BL:"n",lD:nn};hq.ID_PREFIX="nrg.ui.ZippyTree";hq.CSS_SUFFIX={wD:"rootnode"};f=hq.prototype;f.qk=1;f.ti=!1;f.TH=!0;f.En=1;f.st=0;f.nr=null;f.pf=null;f.pv=function(a){this.Ay=a};f.In=function(){return 0===Vh(this.Pj).length};f.ny=function(){this.No(function(a){a.Gd.Db(!1)},this)};
f.Xm=function(){this.ny()};f.yF=function(){var a=[];this.No(function(b){a.push(b)},this);return a};f.Nt=function(){var a=[];C(this.le,function(b){a.push(b)});return a};f.ak=function(){this.No(function(a){a.Gd.Db(!0)},this)};f.No=function(a,b){C(b.le,function(b){a(b);this.No(a,b)}.bind(this))};f.a=function(){return this.Bk};f.Db=function(a,b){return jq(this,a,b,!0)};
function jq(a,b,c,d){c=null!=c?c:a;if(null!=c.le[b]){var e=c.le[b],h=e.Gd;null!=h.Ue?Rc(h,d?"a":"b",function(){h.lh!=d&&e.Db(d)}):e.Db(d);return e}}f.tr=function(a,b){return jq(this,a,b,!1)};f.Ct=function(a){var b=this,c=[];D(a,function(a){c.push(b.le[a]);b=b.le[a]}.bind(this));return c};f.Te=function(a,b){!g(a)||Zh(a)?kq(this,a,b):D(a,function(a){this.Te(a,b)}.bind(this))};function kq(a,b,c){c?(c&&(c=r(c)?[c]:c,c.length>a.qk&&(a.qk=c.length)),a.$m(c,a,b)):Sh(a.Bk,b)}
f.$m=function(a,b,c,d){d=null!=d?d:1;b=null!=b?b:this;var e=b.Pj;if(0==a.length)lq(this,e,c),null!=c&&mq(this,c,d-2);else{0<a.length&&a.length>this.qk&&(this.qk=a.length);if(b.le[a[0]])e=b.le[a[0]];else{var h=a[0];e.style.opacity=this.En;var k=new kl(h,e,!1);b.sb.parentNode==this.Bk&&2==this.Bk.childNodes.length&&(k.sb.style.marginTop="0px");k.sb.style.left="inherit";k.sb.style.width="inherit";nq(this,k);b.le[h]=k;k.sb.style.opacity=this.En;e.style.opacity=1;this.ti&&oq(this,k.sb);this.dispatchEvent({type:nn,
Xd:k});e=k}mq(this,e.sb,d-1);this.$m(1<a.length?a.slice(1):[],e,c,d+1)}};function mq(a,b,c){null!=b&&b._maxDepth!=a.qk&&(null==b._maxDepth&&(b._maxDepth=a.qk),c=0>c?0:c,null!=b._nodeDepth||(b._nodeDepth=c),b.style.width=(100-5*c).toString()+"%",b.style.left=(5*c).toString()+"%")}function nq(a,b){G(b,"a",function(){this.dispatchEvent({type:"a",Xd:b})}.bind(a));G(b,"c",function(){this.dispatchEvent({type:"c",Xd:b})}.bind(a));G(b,"b",function(){this.dispatchEvent({type:"b",Xd:b})}.bind(a))}
function oq(a,b){(new Vj(b,a.st)).play()}f.ZJ=function(){this.ti&&1!=this.pf.I&&this.pf.play()};f.aL=function(a){this.En=(this.ti=!0===a)?0:1;this.st=this.ti?300:0;this.ti&&(pq(this),this.nr=[],this.pf=new ak,G(this.pf,"end",this.ly.bind(this)))};function lq(a,b,c){c&&(lk(c,{position:"relative"}),c.style.opacity=a.En,null!=a.Ay?a.Ay(b,c):b.appendChild(c),qq(b),a.ti?oq(a,c,function(){this.dispatchEvent({type:"n"})}.bind(a)):a.dispatchEvent({type:"n"}))}
function qq(a){var b=[],c=[],d=Vh(a),e=d.length;D(d,function(a){Uk(a,kl.CSS.Yo)?b.push(a):1==a.childNodes.length&&Uk(a.childNodes[0],kl.CSS.Tg)&&c.push(a)});D(b,function(b,d){a.insertBefore(b,a.childNodes[e]||null);a.insertBefore(c[d],a.childNodes[e+1]||null)})}f.ly=function(){for(this.pf.g();this.nr.length;)this.pf.add(this.nr[0]),zb.splice.call(this.nr,0,1);G(this.pf,"end",this.ly.bind(this));this.pf.play()};
function pq(a){null!=a.gB&&(a.nt(a.gB),delete a.gB);null!=a.pf&&(a.Sp(a.pf),delete a.pf)}f.e=function(){hq.c.e.call(this);T(this.Bk);delete this.Bk;pq(this);delete this.qk;delete this.ti;delete this.TH;delete this.En;delete this.st};v("nrg.ui.ZippyTree.EventType",iq);v("nrg.ui.ZippyTree.INDENT_PCT",5);v("nrg.ui.ZippyTree.ID_PREFIX",hq.ID_PREFIX);v("nrg.ui.ZippyTree.CSS_SUFFIX",hq.CSS_SUFFIX);v("nrg.ui.ZippyTree.FADE_TIME",300);v("nrg.ui.ZippyTree.NODE_DEPTH_KEY","_nodeDepth");
v("nrg.ui.ZippyTree.MAX_DEPTH_KEY","_maxDepth");v("nrg.ui.ZippyTree.folderSorter",function(a,b){if(null!=a.childNodes&&0!=a.childNodes.length)for(var c=Vh(a),d=b[ll].toLowerCase(),e,h,k=c.length,l=0;l<k;l++){if(h=c[l],null!=h[ll]&&(e=h[ll].toLowerCase(),e=La(d,e),0>e)){Uh(b,h);return}}else window.console.log("FOLDER SORTER",a,b);a.appendChild(b)});v("nrg.ui.ZippyTree.prototype.setCustomInsertMethod",hq.prototype.pv);v("nrg.ui.ZippyTree.prototype.isEmpty",hq.prototype.In);
v("nrg.ui.ZippyTree.prototype.contractAll",hq.prototype.ny);v("nrg.ui.ZippyTree.prototype.collapseAll",hq.prototype.Xm);v("nrg.ui.ZippyTree.prototype.getAllNodes",hq.prototype.yF);v("nrg.ui.ZippyTree.prototype.getTopLevelNodes",hq.prototype.Nt);v("nrg.ui.ZippyTree.prototype.expandAll",hq.prototype.ak);v("nrg.ui.ZippyTree.prototype.traverse",hq.prototype.No);v("nrg.ui.ZippyTree.prototype.getElement",hq.prototype.a);v("nrg.ui.ZippyTree.prototype.setExpanded",hq.prototype.Db);
v("nrg.ui.ZippyTree.prototype.setCollapsed",hq.prototype.tr);v("nrg.ui.ZippyTree.prototype.getFolderNodes",hq.prototype.Ct);v("nrg.ui.ZippyTree.prototype.addContents",hq.prototype.Te);v("nrg.ui.ZippyTree.prototype.createBranch",hq.prototype.$m);v("nrg.ui.ZippyTree.prototype.playFx",hq.prototype.ZJ);v("nrg.ui.ZippyTree.prototype.toggleFadeInFx",hq.prototype.aL);v("nrg.ui.ZippyTree.prototype.disposeInternal",hq.prototype.e);function rq(){}w(rq,Hn);fa(rq);rq.prototype.p=function(a){var b=a.G().p("span",this.dk(a).join(" "));sq(this,b,a.fi);return b};rq.prototype.ob=function(a,b){b=rq.c.ob.call(this,a,b);var c=Tk(b),d=tq;Hb(c,uq(this,vq))?d=vq:Hb(c,uq(this,wq))?d=wq:Hb(c,uq(this,tq))&&(d=tq);a.fi=d;Rk(b,"checked",d==vq?"mixed":d==wq?"true":"false");return b};rq.prototype.vg=function(){return"checkbox"};
function sq(a,b,c){if(b){var d=uq(a,c);Uk(b,d)||(C(xq,function(a){a=uq(this,a);Zk(b,a,a==d)},a),Rk(b,"checked",c==vq?"mixed":c==wq?"true":"false"))}}rq.prototype.P=function(){return"goog-checkbox"};function uq(a,b){var c=a.P();if(b==wq)return c+"-checked";if(b==tq)return c+"-unchecked";if(b==vq)return c+"-undetermined";throw Error("Invalid checkbox state: "+b);};function yq(a,b,c){c=c||rq.Qd();Wn.call(this,null,c,b);this.fi=ca(a)?a:tq}w(yq,Wn);var wq=!0,tq=!1,vq=null,xq={uL:wq,gN:tq,hN:vq};f=yq.prototype;f.tb=null;f.Ii=function(){return this.fi==wq};f.jf=function(a){a!=this.fi&&(this.fi=a,sq(this.Ia(),this.a(),this.fi))};f.Yf=function(a){this.$?(this.jc(),this.tb=a,this.Ta()):this.tb=a};f.toggle=function(){this.jf(this.fi?tq:wq)};
f.Ta=function(){yq.c.Ta.call(this);if(this.jk){var a=this.Ua();this.tb&&a.r(this.tb,"click",this.Ot).r(this.tb,"mouseover",this.kk).r(this.tb,"mouseout",this.mq).r(this.tb,"mousedown",this.zg).r(this.tb,"mouseup",this.Mf);a.r(this.a(),"click",this.Ot)}this.tb&&(this.tb.id||(this.tb.id=fj(this)+".lbl"),Rk(this.a(),"labelledby",this.tb.id))};f.$b=function(a){yq.c.$b.call(this,a);if(a=this.a())a.tabIndex=this.isEnabled()?0:-1};
f.Ot=function(a){a.stopPropagation();var b=this.fi?"uncheck":"check";this.isEnabled()&&!a.target.href&&this.dispatchEvent(b)&&(a.preventDefault(),this.toggle(),this.dispatchEvent("change"))};f.Lf=function(a){32==a.keyCode&&this.Ot(a);return!1};En("goog-checkbox",function(){return new yq});function zq(){Ud.call(this);this.n="mesh";ya(this,new dd)}w(zq,Ud);v("X.mesh",zq);function Aq(){V.call(this);this.Eg=[];this.lf=[]}w(Aq,V);v("xiv.ui.ctrl.XtkController",Aq);Aq.ID_PREFIX="xiv.ui.ctrl.XtkController";Aq.CSS_SUFFIX={WC:"label",JC:"component"};var Bq=B();function Cq(){return R("div",{id:"Label_"+B(),"class":Aq.CSS.WC})}function Dq(a){a=g(a.file)?a.file[0]:a.file||a.name;return Gk(a)}function Eq(a,b){b.nB([Dq(a)])}f=Aq.prototype;f.Hi=!1;f.k=function(a){Aq.c.k.call(this,a)};f.Yf=function(a){null==this.tb&&(this.tb=Cq(),Sh(this.a(),this.tb));this.tb.innerHTML=a};
f.cG=function(){return this.tb};f.nB=function(a){r(a)&&(a=[a]);this.Cl=a};f.UF=function(){return this.Cl};f.Si=function(a){this.tC=a};f.dd=function(){return this.tC};f.Dk=function(a){a=this.u=a;this.u instanceof cj?(a=this.u.a(),this.u.$?this.u.a().parentNode!==this.a()&&this.u.a()!==this.a()&&this.a().appendChild(this.u.a()):this.u.k(this.a())):this.a().appendChild(a);null!=a&&P(a,Aq.CSS.JC)};f.Ry=function(){return Lb(this.Eg,this.lf)};f.jG=function(){return this.Eg};f.Yz=function(){return this.Hi};
f.xK=function(a){this.Hi=a};f.MG=function(){return this.lf};f.GF=function(){return this.u};f.Lc=ea;f.ve=function(a,b,c){a=new a;a.k();r(b)&&a.Yf(b);Sh(this.a(),a.a());null!=c&&G(a,"p",c);return a};f.update=function(){this.u==this?this.j():this.u.j&&this.u.j()};f.j=function(){this.u.j&&this.u!=this&&(window.console.log("UPDATE STYLE",this.u),this.u.j())};f.Gs=function(a,b){var c=this.ve(b,"Color",function(b){a.color=b.color}.bind(this));Eq(a,c);this.lf.push(c);c[Bq]=a;c.update()};
f.Mx=function(a,b){var c=this.ve(b,"Opacity",function(b){a.opacity=parseFloat(b.value)});Eq(a,c);this.lf.push(c);c.u.D(1);c.u.j()};f.Hs=function(a,b){var c=this.ve(b,"Visible",function(b){a.visible=b.checked});Eq(a,c);this.lf.push(c);c.u.jf(a.visible)};
f.e=function(){Aq.c.e.call(this);this[Bq]=null;delete this.Hi;delete this.tC;D(this.lf,function(a){H(a);a.g()});Ib(this.lf);delete this.lf;D(this.Eg,function(a){H(a);a.g();controller=null});Ib(this.Eg);delete this.Eg;null!=this.u&&(H(this.u),this.u instanceof cj?this.u.g():T(this.u),delete this.u);null!=this.Cl&&(Ib(this.Cl),delete this.Cl);null!=this.tb&&(T(this.tb),delete this.tb)};v("xiv.ui.ctrl.XtkController.ID_PREFIX",Aq.ID_PREFIX);v("xiv.ui.ctrl.XtkController.CSS_SUFFIX",Aq.CSS_SUFFIX);
v("xiv.ui.ctrl.XtkController.EventType",{tL:"p"});v("xiv.ui.ctrl.XtkController.OBJ_KEY",Bq);v("xiv.ui.ctrl.XtkController.createLabel",Cq);v("xiv.ui.ctrl.XtkController.getXObjLabel",Dq);v("xiv.ui.ctrl.XtkController.getObjectCategory",function(a){if(a instanceof zq)return"Meshes";if(a instanceof J)return"Volumes";if(a instanceof gq)return"Fibers";if(a instanceof Gp)return"Annotations"});v("xiv.ui.ctrl.XtkController.setControllerFolders",Eq);v("xiv.ui.ctrl.XtkController.prototype.render",Aq.prototype.k);
v("xiv.ui.ctrl.XtkController.prototype.setLabel",Aq.prototype.Yf);v("xiv.ui.ctrl.XtkController.prototype.getLabel",Aq.prototype.cG);v("xiv.ui.ctrl.XtkController.prototype.setFolders",Aq.prototype.nB);v("xiv.ui.ctrl.XtkController.prototype.getFolders",Aq.prototype.UF);v("xiv.ui.ctrl.XtkController.prototype.setXObj",Aq.prototype.Si);v("xiv.ui.ctrl.XtkController.prototype.getXObj",Aq.prototype.dd);v("xiv.ui.ctrl.XtkController.prototype.setComponent",Aq.prototype.Dk);
v("xiv.ui.ctrl.XtkController.prototype.getAllControllers",Aq.prototype.Ry);v("xiv.ui.ctrl.XtkController.prototype.getMasterControllers",Aq.prototype.jG);v("xiv.ui.ctrl.XtkController.prototype.isInitialized",Aq.prototype.Yz);v("xiv.ui.ctrl.XtkController.prototype.setInitialized",Aq.prototype.xK);v("xiv.ui.ctrl.XtkController.prototype.getSubControllers",Aq.prototype.MG);v("xiv.ui.ctrl.XtkController.prototype.getComponent",Aq.prototype.GF);
v("xiv.ui.ctrl.XtkController.prototype.dispatchComponentEvent",Aq.prototype.Lc);v("xiv.ui.ctrl.XtkController.prototype.createController",Aq.prototype.ve);v("xiv.ui.ctrl.XtkController.prototype.update",Aq.prototype.update);v("xiv.ui.ctrl.XtkController.prototype.updateStyle",Aq.prototype.j);v("xiv.ui.ctrl.XtkController.prototype.add_colorPalette",Aq.prototype.Gs);v("xiv.ui.ctrl.XtkController.prototype.add_opacity",Aq.prototype.Mx);v("xiv.ui.ctrl.XtkController.prototype.add_visible",Aq.prototype.Hs);
v("xiv.ui.ctrl.XtkController.prototype.disposeInternal",Aq.prototype.e);function Fq(){Aq.call(this)}w(Fq,Aq);v("xiv.ui.ctrl.Histogram",Fq);Fq.ID_PREFIX="xiv.ui.ctrl.Histogram";Fq.CSS_SUFFIX={DC:"canvas",$C:"linecanvas",bD:"max",iD:"min"};Fq.LEVEL_CUTOFF=.999;f=Fq.prototype;f.zH=.95;f.Vd=null;f.Ni=null;f.Hr=null;f.Tn=null;f.Nr=null;f.Wo=null;f.QE="rgb(40,40,40)";
f.k=function(a){Fq.c.k.call(this,a);this.Dk(this);this.ei=R("canvas",{id:this.constructor.ID_PREFIX+"_Canvas_"+B(),"class":this.constructor.CSS.DC});this.a().appendChild(this.ei);this.Qj=this.ei.getContext("2d");this.Qj.fillStyle=this.QE;this.th=R("canvas",{id:this.constructor.ID_PREFIX+"_LineCanvas_"+B(),"class":this.constructor.CSS.$C});this.a().appendChild(this.th);this.Dg=this.th.getContext("2d");this.Sn=R("div",{id:this.constructor.ID_PREFIX+"_Max_"+B(),"class":this.constructor.CSS.bD},"1000");
this.a().appendChild(this.Sn);this.Un=R("div",{id:this.constructor.ID_PREFIX+"_Min_"+B(),"class":this.constructor.CSS.iD},"-1000");this.a().appendChild(this.Un)};f.dd=function(){return Fq.c.dd.call(this)};
function Gq(a){if(null==a.Vd){var b=a.dd(),c=0,d=b.max;D(b.image,function(a){D(a,function(a){D(a,function(a){if(null==this.Vd)for(this.Vd=[];c<=d;c++)this.Vd.push(0);this.Vd[parseInt(a)]++;this.Hr++}.bind(this))}.bind(this))}.bind(a));if(null!=a.Vd){var e;null==a.Ni&&(a.Ni=[],a.Tn=0,D(a.Vd,function(a){e=a/this.Hr;this.Ni.push(e);this.Tn=Math.max(this.Tn,e)}.bind(a)))}}}
f.Iy=function(){if(null!=this.dd()){var a=Li(this.ei),b=a.width,a=a.height;this.ei.height=a;this.ei.width=b;this.th.height=a;this.th.width=b;Gq(this);if(null!=this.Vd)for(var b=Math.round(b/this.dd().sC),b=0<b?b:1,c=this.zH/this.Tn,d,e=0,h=this.Ni.length;e<h;e++)d=this.Ni[e]*c*a,this.Qj.fillRect(b*e,a,b,-Math.round(d))}};f.jz=function(a){if(null!=this.Vd)for(var b=0,c=0,d=this.Vd.length;c<d;c++)if(b+=this.Vd[c],b/this.Hr>=a)return c};
f.Jy=function(){if(null!=this.dd()){var a=Li(this.th),b=a.width,a=a.height;this.th.width=b;var c;c=0==this.Wi&&0<this.Eh?Math.round(this.Wo/this.Eh*b):Math.round(this.Wo/this.Wi*b);b=0==this.Eh?0:Math.round(this.Nr/this.Eh*b);this.Dg.strokeStyle="gray";this.Dg.moveTo(c,a);this.Dg.lineTo(b,0);this.Dg.lineWidth=.5;this.Dg.stroke();b=c+(b-c)/2;this.Dg.moveTo(b,a);this.Dg.lineTo(b,a-20);this.Dg.lineWidth=.5;this.Dg.stroke()}};f.update=function(){this.Iy();this.lC();this.Jy()};
f.lC=function(){null!=this.dd()&&(null==this.Wi&&(this.Wi=parseInt(this.dd().iL),this.Eh=parseInt(this.dd().sC),this.Wi=isNaN(this.Wi)?null:this.Wi,this.Eh=isNaN(this.Eh)?null:this.Eh,this.Wo=this.Wi,this.Nr=this.Eh),this.Wo=parseInt(this.dd().iL),this.Nr=parseInt(this.dd().sC),this.Un.innerHTML=this.Wo,this.Sn.innerHTML=this.Nr)};
f.e=function(){Fq.c.e.call(this);null!=this.Sn&&(T(this.Sn),delete this.Sn);null!=this.Un&&(T(this.Un),delete this.Un);null!=this.ei&&(T(this.ei),delete this.ei);null!=this.th&&(T(this.th),delete this.th);null!=this.Vd&&(Ib(this.Vd),delete this.Vd);null!=this.Ni&&(Ib(this.Ni),delete this.Ni);delete this.Hr;delete this.Tn;delete this.Qj;delete this.Dg;delete this.Wi;delete this.Eh};v("xiv.ui.ctrl.Histogram.EventType",{});v("xiv.ui.ctrl.Histogram.ID_PREFIX",Fq.ID_PREFIX);
v("xiv.ui.ctrl.Histogram.CSS_SUFFIX",Fq.CSS_SUFFIX);v("xiv.ui.ctrl.Histogram.LEVEL_CUTOFF",Fq.LEVEL_CUTOFF);v("xiv.ui.ctrl.Histogram.prototype.render",Fq.prototype.k);v("xiv.ui.ctrl.Histogram.prototype.draw",Fq.prototype.Iy);v("xiv.ui.ctrl.Histogram.prototype.getLevelByPixelThreshold",Fq.prototype.jz);v("xiv.ui.ctrl.Histogram.prototype.drawLine",Fq.prototype.Jy);v("xiv.ui.ctrl.Histogram.prototype.update",Fq.prototype.update);v("xiv.ui.ctrl.Histogram.prototype.updateMaxMin",Fq.prototype.lC);
v("xiv.ui.ctrl.Histogram.prototype.disposeInternal",Fq.prototype.e);function Hq(a,b){if(null==a)throw Error("Invalid direction for ResizeDragger: "+a);V.call(this);this.Gy=a;this.Pi=b;this.Um=null;this.Ya=new Yl(this.a());this.xr()}w(Hq,V);v("nrg.ui.ResizeDragger",Hq);Hq.ID_PREFIX="nrg.ui.ResizeDragger";Hq.CSS_SUFFIX={};f=Hq.prototype;f.dg=null;f.ph=null;f.ul=null;f.hn=null;f.tg=null;f.jh=null;f.Xp=null;f.gn=null;f.offsetX=0;f.yB=function(a){this.offsetX=a};f.offsetY=0;f.CK=function(a){this.offsetY=a};f.Pa=null;f.oh=null;f.sa=null;f.zd=null;f.oa=null;f.Tb=null;
f.xd=!1;f.Wd=new oh(10,10);f.bd=function(){return this.Um};f.Bh=function(a){this.Um=a};f.cq=function(){return this.Ya};f.Zy=function(){return this.Gy};f.cd=function(){return this.a()};
f.Zi=function(){this.oh=Li(this.a());this.Pa=xi(this.a());this.dg=-1*this.oh.height/2+this.offsetY;this.ph=-1*this.oh.width/2+this.offsetX;this.Ya.Of()||this.xd||(this.sa=vb(xi(this.Pi)),this.zd=vb(Li(this.Pi)),this.sa.left=this.sa.x,this.sa.top=this.sa.y,this.sa.right=this.sa.x+this.zd.width,this.sa.bottom=this.sa.y+this.zd.height,this.oa=vb(xi(this.Um)),this.Tb=vb(Li(this.Um)),this.oa.left=this.oa.x,this.oa.top=this.oa.y,this.oa.right=this.oa.x+this.Tb.width,this.oa.bottom=this.oa.y+this.Tb.height,
this.og&&this.og(this))};f.wB=function(a){return this.Wd=a};f.xr=function(){G(this.Ya,"start",this.Uu.bind(this));G(this.Ya,"drag",this.Sf.bind(this));G(this.Ya,"end",this.Tu.bind(this))};f.Uu=function(){this.dispatchEvent({type:"start_resize"})};f.Sf=function(){this.Zi();this.dispatchEvent({type:"resize",kK:this.sa,zd:this.zd,KE:this.oa,Tb:this.Tb});null!=this.Fe&&this.Fe()};f.Tu=function(){this.dispatchEvent({type:"end_resize"})};f.update=function(){this.Ya.Of()||this.xd||this.Zi()};f.af=function(){};
f.kf=function(a,b,c){this.Zi();a=this.af(a);t(c)&&0===c?qi(this.a(),a.end):Iq(this,a.start,a.end,b,c)};function Iq(a,b,c,d,e){a.Vi=new Pj(a.a(),[b.x,b.y],[c.x,c.y],t(e)?e:500,ok);G(a.Vi,"begin",function(){this.xd=!0;this.Uu()}.bind(a));G(a.Vi,"animate",a.Sf.bind(a));G(a.Vi,"end",function(){this.xd=!1;this.Vi.g();H(this.Vi);this.Vi.Jb();this.Vi=null;vi(this.a(),c);this.Tu();d&&d()}.bind(a));a.Vi.play()}
f.e=function(){delete this.uO;delete this.vO;delete this.ph;delete this.ul;delete this.hn;delete this.tg;delete this.jh;delete this.Xp;delete this.gn;delete this.xd;sb(this.Wd);delete this.Wd;delete this.Pi;delete this.Um;sb(this.Pa);delete this.Pa;sb(this.oh);delete this.oh;sb(this.sa);delete this.sa;sb(this.zd);delete this.zd;sb(this.oa);delete this.oa;sb(this.Tb);delete this.Tb;T(this.Ya.handle);this.Ya.handle=null;H(this.Ya);this.Ya.g();delete this.Ya;delete this.Gy};
v("nrg.ui.ResizeDragger.EventType",{Wr:"resize",uD:"start_resize",tD:"end_resize"});v("nrg.ui.ResizeDragger.ID_PREFIX",Hq.ID_PREFIX);v("nrg.ui.ResizeDragger.CSS_SUFFIX",Hq.CSS_SUFFIX);v("nrg.ui.ResizeDragger.ANIM_MED",500);v("nrg.ui.ResizeDragger.prototype.vertDraggerOffset",Hq.prototype.dg);v("nrg.ui.ResizeDragger.prototype.horizDraggerOffset",Hq.prototype.ph);v("nrg.ui.ResizeDragger.prototype.draggerLimitLeft",Hq.prototype.ul);v("nrg.ui.ResizeDragger.prototype.draggerLimitRight",Hq.prototype.hn);
v("nrg.ui.ResizeDragger.prototype.draggerLimitTop",Hq.prototype.tg);v("nrg.ui.ResizeDragger.prototype.draggerLimitBottom",Hq.prototype.jh);v("nrg.ui.ResizeDragger.prototype.draggerLimitWidth",Hq.prototype.Xp);v("nrg.ui.ResizeDragger.prototype.draggerLimitHeight",Hq.prototype.gn);v("nrg.ui.ResizeDragger.prototype.offsetX",Hq.prototype.offsetX);v("nrg.ui.ResizeDragger.prototype.setOffsetX",Hq.prototype.yB);v("nrg.ui.ResizeDragger.prototype.offsetY",Hq.prototype.offsetY);
v("nrg.ui.ResizeDragger.prototype.setOffsetY",Hq.prototype.CK);v("nrg.ui.ResizeDragger.prototype.handlePos",Hq.prototype.Pa);v("nrg.ui.ResizeDragger.prototype.handleSize",Hq.prototype.oh);v("nrg.ui.ResizeDragger.prototype.resizeePos",Hq.prototype.sa);v("nrg.ui.ResizeDragger.prototype.resizeeSize",Hq.prototype.zd);v("nrg.ui.ResizeDragger.prototype.boundaryPos",Hq.prototype.oa);v("nrg.ui.ResizeDragger.prototype.boundarySize",Hq.prototype.Tb);v("nrg.ui.ResizeDragger.prototype.isAnimating",Hq.prototype.xd);
v("nrg.ui.ResizeDragger.prototype.minSize",Hq.prototype.Wd);v("nrg.ui.ResizeDragger.prototype.getBoundaryElement",Hq.prototype.bd);v("nrg.ui.ResizeDragger.prototype.setBoundaryElement",Hq.prototype.Bh);v("nrg.ui.ResizeDragger.prototype.getDragger",Hq.prototype.cq);v("nrg.ui.ResizeDragger.prototype.getDirection",Hq.prototype.Zy);v("nrg.ui.ResizeDragger.prototype.getHandle",Hq.prototype.cd);v("nrg.ui.ResizeDragger.prototype.updateTrackingValues",Hq.prototype.Zi);
v("nrg.ui.ResizeDragger.prototype.setMinSize",Hq.prototype.wB);v("nrg.ui.ResizeDragger.prototype.onResizeStart",Hq.prototype.Uu);v("nrg.ui.ResizeDragger.prototype.onResize",Hq.prototype.Sf);v("nrg.ui.ResizeDragger.prototype.onResizeEnd",Hq.prototype.Tu);v("nrg.ui.ResizeDragger.prototype.update",Hq.prototype.update);v("nrg.ui.ResizeDragger.prototype.getSlideTrajectory",Hq.prototype.af);v("nrg.ui.ResizeDragger.prototype.slideToLimits",Hq.prototype.kf);
v("nrg.ui.ResizeDragger.prototype.disposeInternal",Hq.prototype.e);function Jq(a){Hq.call(this,"right",a)}w(Jq,Hq);v("nrg.ui.ResizeDraggerRight",Jq);Jq.ID_PREFIX="nrg.ui.ResizeDraggerRight";Jq.CSS_SUFFIX={};Jq.prototype.og=function(){this.ul=this.sa.left+this.Wd.width+this.ph;this.hn=this.oa.right+this.ph;this.Xp=this.hn-this.ul};v("nrg.ui.ResizeDraggerRight.prototype.calculateDraggerLimits",Jq.prototype.og);Jq.prototype.Fe=function(){Ji(this.Pi,Math.min(Math.max(this.zd.width+(this.xd?this.Pa.x-this.sa.right+this.ph:this.Ya.clientX-this.Ya.Kv),this.Wd.width),this.Tb.width))};
v("nrg.ui.ResizeDraggerRight.prototype.resizeMethod",Jq.prototype.Fe);Jq.prototype.update=function(a){this.Ya.Of()||this.xd||(Jq.c.update.call(this,a),$l(this.Ya,new qh(this.ul,this.sa.y,this.Xp,0)),vi(this.a(),this.sa.right+this.ph,this.sa.y),Ki(this.a(),this.zd.height))};Jq.prototype.af=function(a){return{start:new N(this.Pa.x,this.Pa.y),end:"MIN"==a?new N(this.ul,this.Pa.y):new N(this.hn,this.Pa.y)}};v("nrg.ui.ResizeDraggerRight.ID_PREFIX",Jq.ID_PREFIX);
v("nrg.ui.ResizeDraggerRight.CSS_SUFFIX",Jq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerRight.prototype.update",Jq.prototype.update);v("nrg.ui.ResizeDraggerRight.prototype.getSlideTrajectory",Jq.prototype.af);function Kq(a){Hq.call(this,"right",a)}w(Kq,Hq);v("nrg.ui.ResizeDraggerBottom",Kq);Kq.ID_PREFIX="nrg.ui.ResizeDraggerBottom";Kq.CSS_SUFFIX={};Kq.prototype.og=function(){this.tg=this.sa.top+this.Wd.height+this.dg;this.jh=this.oa.bottom+this.dg;this.gn=this.jh-this.tg};v("nrg.ui.ResizeDraggerBottom.prototype.calculateDraggerLimits",Kq.prototype.og);Kq.prototype.Fe=function(){Ki(this.Pi,Math.max(this.zd.height+(this.Pa.y-this.sa.bottom),this.Wd.height))};
v("nrg.ui.ResizeDraggerBottom.prototype.resizeMethod",Kq.prototype.Fe);Kq.prototype.update=function(){this.Ya.Of()||this.xd||(Kq.c.update.call(this),$l(this.Ya,new qh(this.oa.x,this.tg,0,this.jh)),vi(this.a(),this.sa.x,this.sa.bottom+this.dg))};Kq.prototype.af=function(a){return{start:new N(this.Pa.x,this.Pa.y),end:"MIN"==a?new N(this.Pa.x,this.tg):new N(this.Pa.x,this.jh)}};v("nrg.ui.ResizeDraggerBottom.ID_PREFIX",Kq.ID_PREFIX);v("nrg.ui.ResizeDraggerBottom.CSS_SUFFIX",Kq.CSS_SUFFIX);
v("nrg.ui.ResizeDraggerBottom.prototype.update",Kq.prototype.update);v("nrg.ui.ResizeDraggerBottom.prototype.getSlideTrajectory",Kq.prototype.af);function Lq(a){Hq.call(this,"right",a)}w(Lq,Hq);v("nrg.ui.ResizeDraggerTop",Lq);Lq.ID_PREFIX="nrg.ui.ResizeDraggerTop";Lq.CSS_SUFFIX={};Lq.prototype.og=function(){this.tg=this.oa.top-this.dg;this.jh=this.sa.bottom-this.Wd.height+this.dg;this.gn=this.jh-this.tg};v("nrg.ui.ResizeDraggerTop.calculateDraggerLimits",Lq.og);Lq.prototype.Fe=function(){var a=this.Pa.y-this.dg,b=this.zd.height+(this.xd?this.sa.y-a:this.Ya.Lv-this.Ya.clientY);this.Pi.style.top=a.toString()+"px";Ki(this.Pi,Math.max(b,this.Wd.height))};
Lq.prototype.update=function(){this.Ya.Of()||this.xd||(Lq.c.update.call(this),$l(this.Ya,new qh(this.oa.x,this.tg,0,this.gn)),vi(this.a(),this.sa.x,this.sa.y+this.dg))};Lq.prototype.af=function(a){return{start:new N(this.Pa.x,this.Pa.y),end:"MIN"==a?new N(this.Pa.x,this.jh):new N(this.Pa.x,this.tg)}};v("nrg.ui.ResizeDraggerTop.ID_PREFIX",Lq.ID_PREFIX);v("nrg.ui.ResizeDraggerTop.CSS_SUFFIX",Lq.CSS_SUFFIX);v("nrg.ui.ResizeDraggerTop.prototype.calculateDraggerLimits",Lq.prototype.og);
v("nrg.ui.ResizeDraggerTop.prototype.resizeMethod",Lq.prototype.Fe);v("nrg.ui.ResizeDraggerTop.resizeMethod",Lq.Fe);v("nrg.ui.ResizeDraggerTop.prototype.update",Lq.prototype.update);v("nrg.ui.ResizeDraggerTop.prototype.getSlideTrajectory",Lq.prototype.af);function Mq(a){Hq.call(this,"right",a)}w(Mq,Hq);v("nrg.ui.ResizeDraggerTopRight",Mq);Mq.ID_PREFIX="nrg.ui.ResizeDraggerTopRight";Mq.CSS_SUFFIX={};Mq.prototype.Zi=function(){Mq.c.Zi.call(this);this.Ya.Of()||this.xd||(Jq.prototype.og.bind(this)(),Lq.prototype.og.bind(this)())};Mq.prototype.Sf=function(){Mq.c.Sf.call(this);Jq.prototype.Fe.bind(this)();Lq.prototype.Fe.bind(this)()};
Mq.prototype.update=function(a){this.Ya.Of()||this.xd||(Mq.c.update.call(this,a),$l(this.Ya,new qh(this.oa.x+this.ph,this.oa.y+this.dg,this.Tb.width,this.Tb.height)),vi(this.a(),this.sa.right+this.ph,this.sa.y+this.dg))};
Mq.prototype.af=function(a){var b=new N(this.Pa.x,this.Pa.y),c;"TOP_LEFT"==a?c=new N(this.oa.x,this.oa.y):"TOP_RIGHT"==a?c=new N(this.oa.x+this.Tb.width,this.oa.y):"BOTTOM_RIGHT"==a?c=new N(this.oa.x+this.Tb.width,this.oa.y+this.Tb.height):"BOTTOM_LEFT"==a&&(c=new N(this.oa.x,this.oa.y+this.Tb.height));return{start:b,end:c}};v("nrg.ui.ResizeDraggerTopRight.ID_PREFIX",Mq.ID_PREFIX);v("nrg.ui.ResizeDraggerTopRight.CSS_SUFFIX",Mq.CSS_SUFFIX);
v("nrg.ui.ResizeDraggerTopRight.prototype.updateTrackingValues",Mq.prototype.Zi);v("nrg.ui.ResizeDraggerTopRight.prototype.onResize",Mq.prototype.Sf);v("nrg.ui.ResizeDraggerTopRight.prototype.update",Mq.prototype.update);v("nrg.ui.ResizeDraggerTopRight.prototype.getSlideTrajectory",Mq.prototype.af);function Nq(a){Hq.call(this,"right",a)}w(Nq,Hq);v("nrg.ui.ResizeDraggerLeft",Nq);Nq.ID_PREFIX="nrg.ui.ResizeDraggerLeft";Nq.CSS_SUFFIX={};Nq.prototype.Fe=function(){Ji(this.Pi,Math.min(Math.max(this.zd.width+(this.sa.x-this.Pa.x),this.Wd.width),this.Tb.width));vi(this.a(),this.Pa.x,this.sa.y)};v("nrg.ui.ResizeDraggerLeft.prototype.resizeMethod",Nq.prototype.Fe);
Nq.prototype.update=function(a){this.Ya.Of()||this.xd||(Nq.c.update.call(this,a),$l(this.Ya,new qh(this.oa.x-this.oh.width,this.oa.y,this.Tb.width-this.Wd.width-this.oh.width,0)),vi(this.a(),this.sa.x-this.oh.width,this.sa.y))};Nq.prototype.af=function(a){return{start:new N(this.Pa.x,this.Pa.y),end:"MIN"==a?new N(this.oa.x+this.Wd.width,this.Pa.y):new N(this.oa.x+this.Tb.width-this.Wd.width,this.Pa.y)}};v("nrg.ui.ResizeDraggerLeft.ID_PREFIX",Nq.ID_PREFIX);v("nrg.ui.ResizeDraggerLeft.CSS_SUFFIX",Nq.CSS_SUFFIX);
v("nrg.ui.ResizeDraggerLeft.resizeMethod",Nq.Fe);v("nrg.ui.ResizeDraggerLeft.prototype.update",Nq.prototype.update);v("nrg.ui.ResizeDraggerLeft.prototype.getSlideTrajectory",Nq.prototype.af);function Oq(a,b){V.call(this);this.l=Eh(a);this.Ed={};this.Lq=this.Mq=20;this.$l(b||Oq.YN)}w(Oq,V);v("nrg.ui.Resizable",Oq);Oq.ID_PREFIX="nrg.ui.Resizable";Oq.CSS_SUFFIX={qL:"boundary"};var Pq="TOP RIGHT BOTTOM LEFT TOP_LEFT TOP_RIGHT BOTTOM_RIGHT BOTTOM_LEFT".split(" "),Qq=["RIGHT","BOTTOM"],Rq=new qh(0,0,600,600);f=Oq.prototype;f.vK=function(a,b){this.UN(a);if(0>b)throw Error("Threshold must be greater than zero!");this.QN[a]=b};f.cd=function(a){return this.Ed[a].cd()};f.El=function(a){return this.Ed[a]};
f.WF=function(){var a=[];D(nb(this.Ed),function(b){a.push(b.cd())});return a};f.bd=function(){return this.Ff};f.Bh=function(a){this.Ff=a;if(this.Ff.parentNode!==this.l.parentNode)throw Error("Boundary element parentNode must be same as resizable  element's parentNode.");this.update()};f.vB=function(a){this.Lq=a};f.xB=function(a){this.Mq=a};f.pG=function(){return this.Lq};f.qG=function(){return this.Mq};
f.$l=function(a){a=a||"DEFAULT";r(a)&&(a="ALL"==a.toUpperCase()?Pq:"DEFAULT"==a.toUpperCase()?Qq:[a]);Sq(this);D(a,function(a){if(!r(a))throw Error("String required!");if(!Hb(Pq,a))throw Error("Invalid direction: ",a);this.xx(a)}.bind(this))};f.Ts=function(a){if(!Hb(Pq,a))throw Error("Invalid draggerDir '"+a);};f.yH=function(a){this.Ts(a);if(!this.Ed[a])throw Error("No ResizeDragger for "+a);};f.kf=function(a,b,c,d){a=a.toUpperCase();this.Ts(a);this.update();this.Ed[a].kf(b,c,d)};
function Tq(a,b){switch(a){case "TOP":return new Lq(b);case "BOTTOM":return new Kq(b);case "LEFT":return new Nq(b);case "RIGHT":return new Jq(b);case "TOP_RIGHT":return new Mq(b);case "TOP_LEFT":window.console.log("ToDo: need to implement resize dragger for top left.");break;case "BOTTOM_LEFT":window.console.log("ToDo: need to implement resize dragger for bottom left.");break;case "BOTTOM_RIGHT":window.console.log("ToDo: need to implement resize dragger for bottom right.")}}
f.xx=function(a){if(a in this.Ed)throw Error("Resize direction "+a+" already in use.");this.Ed[a]=Tq(a,this.l);G(this.Ed[a],"start_resize",this.nJ.bind(this));G(this.Ed[a],"resize",this.Ki.bind(this));G(this.Ed[a],"end_resize",this.mJ.bind(this));this.update()};f.update=function(){if(null!=this.Ff){var a=new oh(this.Mq,this.Lq);C(this.Ed,function(b){this.Ff&&this.Ff.parentNode&&Sh(this.Ff.parentNode,b.cd());b.bd()!==this.Ff&&b.Bh(this.Ff);b.wB(a);b.Zi();b.update()}.bind(this))}};f.nJ=function(){this.dispatchEvent({type:"resize_start"})};
f.Ki=function(a){this.dispatchEvent({type:"resize",kK:a.sa,zd:a.zd,KE:a.oa,Tb:a.Tb})};f.mJ=function(){this.update();this.dispatchEvent({type:"resize_end"})};function Sq(a){C(a.Ed,function(a){a&&(H(a),a.g())});sb(a.Ed)}f.e=function(){Oq.c.e.call(this);Sq(this);delete this.Ed;this.Ff&&(T(this.Ff.parentNode),delete this.Ff)};v("nrg.ui.Resizable.EventType",{Wr:"resize",uD:"resize_start",tD:"resize_end"});v("nrg.ui.Resizable.ID_PREFIX",Oq.ID_PREFIX);v("nrg.ui.Resizable.CSS_SUFFIX",Oq.CSS_SUFFIX);
v("nrg.ui.Resizable.DIRECTIONS",Pq);v("nrg.ui.Resizable.DEFAULT_DIRECTIONS",Qq);v("nrg.ui.Resizable.DEFAULT_LIMITS",Rq);v("nrg.ui.Resizable.DEFAULT_MIN_HEIGHT",20);v("nrg.ui.Resizable.DEFAULT_MIN_WIDTH",20);v("nrg.ui.Resizable.createResizeDragger",Tq);v("nrg.ui.Resizable.prototype.setBoundThreshold",Oq.prototype.vK);v("nrg.ui.Resizable.prototype.getHandle",Oq.prototype.cd);v("nrg.ui.Resizable.prototype.getResizeDragger",Oq.prototype.El);v("nrg.ui.Resizable.prototype.getHandles",Oq.prototype.WF);
v("nrg.ui.Resizable.prototype.getBoundaryElement",Oq.prototype.bd);v("nrg.ui.Resizable.prototype.setBoundaryElement",Oq.prototype.Bh);v("nrg.ui.Resizable.prototype.setMinHeight",Oq.prototype.vB);v("nrg.ui.Resizable.prototype.setMinWidth",Oq.prototype.xB);v("nrg.ui.Resizable.prototype.getMinHeight",Oq.prototype.pG);v("nrg.ui.Resizable.prototype.getMinWidth",Oq.prototype.qG);v("nrg.ui.Resizable.prototype.setResizeDirections",Oq.prototype.$l);v("nrg.ui.Resizable.prototype.checkDirectionValid",Oq.prototype.Ts);
v("nrg.ui.Resizable.prototype.hasDragger",Oq.prototype.yH);v("nrg.ui.Resizable.prototype.slideToLimits",Oq.prototype.kf);v("nrg.ui.Resizable.prototype.addResizeDirection",Oq.prototype.xx);v("nrg.ui.Resizable.prototype.update",Oq.prototype.update);v("nrg.ui.Resizable.prototype.disposeInternal",Oq.prototype.e);function Uq(a){V.call(this);this.wb=a}w(Uq,V);v("xiv.ui.layouts.LayoutFrame",Uq);Uq.ID_PREFIX="xiv.ui.layouts.LayoutFrame";Uq.CSS_SUFFIX={};f=Uq.prototype;f.Rd=function(){return this.wb};f.pc=null;f.L=function(){return this.bp};f.$l=function(a){this.bp=this.bp?this.bp:new Oq(this.a());this.bp.$l(a)};f.e=function(){Uq.c.e.call(this);delete this.wb};v("xiv.ui.layouts.LayoutFrame.EventType",{});v("xiv.ui.layouts.LayoutFrame.ID_PREFIX",Uq.ID_PREFIX);v("xiv.ui.layouts.LayoutFrame.CSS_SUFFIX",Uq.CSS_SUFFIX);
v("xiv.ui.layouts.LayoutFrame.prototype.getTitle",Uq.prototype.Rd);v("xiv.ui.layouts.LayoutFrame.prototype.getResizable",Uq.prototype.L);v("xiv.ui.layouts.LayoutFrame.prototype.setResizeDirections",Uq.prototype.$l);v("xiv.ui.layouts.LayoutFrame.prototype.disposeInternal",Uq.prototype.e);function Vq(){V.call(this);if(null==this.constructor.TITLE)throw window.console.log("\n\n\n\nThis is the class attempting to inherit from it:"),window.console.log(this,this.constructor,this.constructor.TITLE,this.constructor.ID_PREFIX),Error("Sublcasses of xiv.ui.layouts.Layout must have  the TITLE defined as a constructor property!");this.i={}}w(Vq,V);v("xiv.ui.layouts.Layout",Vq);var Wq="Slider_"+B(),Xq="FrameDisplay_"+B(),Yq="ZoomDisplay_"+B(),Zq="Crosshairs_"+B(),$q={la:Wq,Cd:Xq,uf:Yq,Uc:Zq};
Vq.ID_PREFIX="xiv.ui.layouts.Layout";Vq.CSS_SUFFIX={};f=Vq.prototype;f.Lb=20;f.Rc=20;f.zK=function(a){this.Rc=a};f.AK=function(a){this.Lb=a};f.gG=function(){return this.i};f.Ft=function(a){return this.i[a]};f.fG=function(a){window.console.log(a,this.i[a]);var b={};C($q,function(c){b[c]=this.i[a][c]}.bind(this));window.console.log("INTERACTORS!",b);return b};f.Rd=function(){return this.constructor.TITLE};f.vx=function(a){this.i=this.i?this.i:{};this.i[a.Rd()]=a};f.sg=function(){this.dispatchEvent({type:"q"})};
f.kv=function(){C(this.qn(),function(a){null!=a.la&&(a.la.g(),delete a.la);null!=a.Uc&&(a.Uc.g(),delete a.Uc);null!=a.Cd&&(a.Cd.g(),delete a.Cd);null!=a.uf&&(a.uf.g(),delete a.uf)})};f.So=function(){C(this.qn(),function(a){null!=a.la&&(a.la.j(),a.la.D(a.la.H()));null!=a.Uc&&a.Uc.j();null!=a.Cd&&a.Cd.j();null!=a.uf&&a.uf.j()})};f.j=function(){Vq.c.j.call(this);this.sg()};f.e=function(){Vq.c.e.call(this);delete this.Rc;delete this.Lb;this.fn(this.aD);delete this.aD};
v("xiv.ui.layouts.Layout.EventType",{Wr:"q"});v("xiv.ui.layouts.Layout.INTERACTORS",$q);v("xiv.ui.layouts.Layout.ID_PREFIX",Vq.ID_PREFIX);v("xiv.ui.layouts.Layout.CSS_SUFFIX",Vq.CSS_SUFFIX);v("xiv.ui.layouts.Layout.prototype.setMinLayoutFrameHeight",Vq.prototype.zK);v("xiv.ui.layouts.Layout.prototype.setMinLayoutFrameWidth",Vq.prototype.AK);v("xiv.ui.layouts.Layout.prototype.getLayoutFrames",Vq.prototype.gG);v("xiv.ui.layouts.Layout.prototype.getLayoutFrameByTitle",Vq.prototype.Ft);
v("xiv.ui.layouts.Layout.prototype.getLayoutFrameInteractors",Vq.prototype.fG);v("xiv.ui.layouts.Layout.prototype.getTitle",Vq.prototype.Rd);v("xiv.ui.layouts.Layout.prototype.addLayoutFrame",Vq.prototype.vx);v("xiv.ui.layouts.Layout.prototype.dispatchResize",Vq.prototype.sg);v("xiv.ui.layouts.Layout.prototype.removeAllInteractors",Vq.prototype.kv);v("xiv.ui.layouts.Layout.prototype.updateInteractors",Vq.prototype.So);v("xiv.ui.layouts.Layout.prototype.updateStyle",Vq.prototype.j);
v("xiv.ui.layouts.Layout.prototype.disposeInternal",Vq.prototype.e);function ar(a){$c.call(this);this.n="interactor";this.pe=a;this.ns=this.ex=this.dx=this.fx=this.cx=this.gx=null;this.rp=!0;this.ai=this.Vh=this.lg=!1;this.Bc=[0,0];this.is=new A.K(0,0,0);this.wm=new A.K(0,0,0);this.aA=0;this.mx=this.np=null;this.xs=!1;this.ib={MOUSEWHEEL_ENABLED:!0,MOUSECLICKS_ENABLED:!0,KEYBOARD_ENABLED:!0,HOVERING_ENABLED:!0,CONTEXTMENU_ENABLED:!1,TOUCH_ENABLED:!0,TOUCH_BOUNCING_ENABLED:!1}}w(ar,$c);ar.prototype.__defineGetter__("config",function(){return this.ib});
ar.prototype.__defineGetter__("leftButtonDown",function(){return this.lg});ar.prototype.__defineGetter__("middleButtonDown",function(){return this.Vh});ar.prototype.__defineGetter__("rightButtonDown",function(){return this.ai});
ar.prototype.ja=function(){this.ib.MOUSEWHEEL_ENABLED?(this.ns=new Lp(this.pe),this.gx=G(this.ns,"mousewheel",this.ao.bind(this))):(Tc(this.gx),this.ns=null);this.ib.MOUSECLICKS_ENABLED?(this.cx=G(this.pe,"mousedown",this.Qu.bind(this)),this.fx=G(this.pe,"mouseup",this.Ru.bind(this))):(Tc(this.cx),Tc(this.fx));this.pe.oncontextmenu=this.ib.CONTEXTMENU_ENABLED?null:function(){return!1};window.onkeydown=this.ib.KEYBOARD_ENABLED?this.xh.bind(this):null;this.ib.TOUCH_ENABLED?(this.ib.TOUCH_BOUNCING_ENABLED||
document.body.addEventListener("touchmove",function(a){a.preventDefault()},!1),this.kE=G(this.pe,"touchstart",this.IJ.bind(this)),this.jE=G(this.pe,"touchmove",this.GJ.bind(this)),this.iE=G(this.pe,"touchend",this.CJ.bind(this))):(Tc(this.kE),Tc(this.jE),Tc(this.iE));Tc(this.dx);Tc(this.ex);this.dx=G(this.pe,"mousemove",this.bJ.bind(this));this.ex=G(this.pe,"mouseout",this.cJ.bind(this))};
ar.prototype.Qu=function(a){0==a.button?this.lg=!0:1==a.button?this.Vh=!0:2==a.button&&(this.ai=!0);eval("this.onMouseDown("+this.lg+","+this.Vh+","+this.ai+")");br(this);a.preventDefault()};ar.prototype.$I=function(){};ar.prototype.Ru=function(a){0==a.button?this.lg=!1:1==a.button?this.Vh=!1:2==a.button&&(this.ai=!1);eval("this.onMouseUp("+this.lg+","+this.Vh+","+this.ai+")");br(this);a.preventDefault()};ar.prototype.__defineGetter__("mousePosition",function(){return this.Bc});f=ar.prototype;
f.fJ=function(){};f.cJ=function(a){this.rp=!1;this.ib.KEYBOARD_ENABLED&&(window.onkeydown=null);this.ai=this.Vh=this.lg=!1;br(this);this.is=new A.K(0,0,0);a.preventDefault()};f.aJ=function(){};f.IJ=function(a){a.preventDefault();a.ja(a.wc.targetTouches[0],a.currentTarget);eval("this.onTouchStart("+a.clientX+","+a.clientY+")");this.wm=new A.K(a.clientX,a.clientY,0);this.mx=setTimeout(this.EJ.bind(this,a),500)};f.HJ=function(){};
f.EJ=function(a){eval("this.onTouchHover("+a.clientX+","+a.clientY+")");a=new ue;a.kg=!0;a.wf=this instanceof cr;this.dispatchEvent(a);this.vp=!0};f.DJ=function(){};function dr(a){clearTimeout(a.mx);if(a.vp){var b=new ue;b.kg=!1;b.wf=a instanceof cr;a.dispatchEvent(b)}a.vp=!1}f.CJ=function(a){a.preventDefault();eval("this.onTouchEnd()");dr(this)};f.BJ=function(){};
f.GJ=function(a){a.preventDefault();this.vp||dr(this);this.touchmoveEvent=a=a.wc;eval("this.onTouchMove(this['touchmoveEvent'])");var b=a.targetTouches;if(1==b.length){a=b[0];var c=[a.clientX,a.clientY];a=new A.K(c[0],c[1],0);var b=c[0]>3*this.pe.clientWidth/4,d=c[0]<this.pe.clientWidth/4,e=c[1]<this.pe.clientHeight/4,c=c[1]>3*this.pe.clientHeight/4,c=!b&&!d&&!e&&!c,e=this.wm.mc(a);this.wm=a.clone();if(this.vp)a=new pe,5<e.x?e.x=1:-5>e.x&&(e.x=-1),5<e.y?e.y=1:-5>e.y&&(e.y=-1),a.Xc=e,this.dispatchEvent(a);
else if(this instanceof er&&(b||d))a=new ve,a.qb=0>e.y,this.dispatchEvent(a);else if(this instanceof cr||c)e.scale(3),a=new qe,a.Xc=e,this.dispatchEvent(a)}else 2==b.length&&(a=b[0],b=b[1],a=[a.clientX,a.clientY],b=[b.clientX,b.clientY],a=new A.K(a[0],a[1],0),b=new A.K(b[0],b[1],0),e=nd(a,b),b=e-this.aA,this.aA=e,this.wm.mc(a),this.wm=a.clone(),10<Math.abs(b)&&(a=new ue,a.kg=0<b,a.wf=this instanceof cr,this.dispatchEvent(a)))};f.FJ=function(){};
f.bJ=function(a){this.mousemoveEvent=a;eval("this.onMouseMove(this['mousemoveEvent'])");this.rp=!0;this.ib.KEYBOARD_ENABLED&&null==window.onkeydown&&(window.onkeydown=this.xh.bind(this));a.preventDefault();var b=a.shiftKey;this.xs=b;this.Bc=[a.offsetX,a.offsetY];var c=new A.K(this.Bc[0],this.Bc[1],0);a=this.is.mc(c);this.is=c.clone();this.ib.HOVERING_ENABLED&&((0<Math.abs(a.x)||0<Math.abs(a.y)||this.Vh||this.lg||this.ai)&&br(this),this.np=setTimeout(function(){br(this);var a=new we;a.zp=c.x;a.Ap=
c.y;this.dispatchEvent(a);this.np=null}.bind(this),300));0!=a.Pf()&&(this.lg&&!b?(b=new qe,a.scale(3),b.Xc=a,this.dispatchEvent(b)):this.Vh||this.lg&&b?(b=new pe,b.Xc=a,this.dispatchEvent(b)):this.ai&&(b=new ue,b.kg=0<a.y,b.wf=!1,this.dispatchEvent(b)))};function br(a){a.np&&clearTimeout(a.np);a.dispatchEvent(new xe)}f.gJ=function(){};f.ao=function(a){this.mouseWheelEvent=a;eval("this.onMouseWheel(this['mouseWheelEvent'])");br(this);a.preventDefault()};f.TI=function(){};
f.xh=function(a){if(this.rp){this.keyEvent=a;eval("this.onKey(this['keyEvent'])");br(this);var b=a.altKey,c=a.ctrlKey,d=a.metaKey,e=a.shiftKey,h=a.keyCode;82!=h||b||c||d||e?37<=h&&40>=h&&(a.preventDefault(),e?a=new pe:b?a=new ue:(a=new qe,this instanceof er&&(a=new ve)),a&&(c=new A.K(0,0,0),37==h?(c.x=5,a.qb=!1,b&&(a.qb=!0,a.kg=!0,a.wf=!1)):39==h?(c.x=-5,a.qb=!0,b&&(a.kg=!1,a.wf=!1)):38==h?(c.y=5,a.qb=!0,b&&(a.kg=!0,a.wf=!0)):40==h&&(c.y=-5,a.qb=!1,b&&(a.kg=!1,a.wf=!0)),a.Xc=c,this.dispatchEvent(a))):
(a.preventDefault(),a=new ye,this.dispatchEvent(a))}};v("X.interactor",ar);v("X.interactor.prototype.init",ar.prototype.ja);v("X.interactor.prototype.onMouseDown",ar.prototype.$I);v("X.interactor.prototype.onMouseUp",ar.prototype.fJ);v("X.interactor.prototype.onMouseMove",ar.prototype.aJ);v("X.interactor.prototype.onMouseWheel",ar.prototype.gJ);v("X.interactor.prototype.onKey",ar.prototype.TI);v("X.interactor.prototype.onTouchStart",ar.prototype.HJ);v("X.interactor.prototype.onTouchMove",ar.prototype.FJ);
v("X.interactor.prototype.onTouchEnd",ar.prototype.BJ);v("X.interactor.prototype.onTouchHover",ar.prototype.DJ);function er(a){ar.call(this,a);this.n="interactor2D"}w(er,ar);er.prototype.ao=function(a){er.c.ao.call(this,a);var b=new ve;null==a.vd&&(a.vd=0);b.qb=0>a.vd;this.dispatchEvent(b)};function fr(a,b){if(!t(a)||!t(b))throw Error("A camera needs valid width and height values.");$c.call(this);this.n="camera";this.wj=new A.K(0,100,0);this.bl=new A.K(0,0,0);this.qb=new A.K(0,0,1);this.Na=a;this.za=b;this.J=this.Hq(this.wj,this.bl)}w(fr,$c);fr.prototype.observe=function(a){if(!(null!=a&&a instanceof ar))throw Error("Could not observe the interactor.");G(a,$d,this.oJ.bind(this));G(a,Zd,this.iJ.bind(this));G(a,ae,this.SJ.bind(this))};
fr.prototype.oJ=function(a){if(!(a instanceof qe))throw Error("Received no valid rotate event.");this.rotate(a.Xc)};fr.prototype.SJ=function(a){if(!(a instanceof ue))throw Error("Received no valid zoom event.");a.kg?this.lm(a.wf):this.mm(a.wf)};fr.prototype.iJ=function(a){if(!(a instanceof pe))throw Error("Received no valid pan event.");this.br(a.Xc)};fr.prototype.__defineGetter__("view",function(){return this.J});
fr.prototype.__defineSetter__("view",function(a){if(!(null!=a&&a instanceof Float32Array))throw Error("Invalid view matrix.");this.J=a});fr.prototype.__defineGetter__("position",function(){return[this.wj.x,this.wj.y,this.wj.z]});fr.prototype.__defineSetter__("position",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid position.");this.wj=new A.K(a[0],a[1],a[2]);this.reset()});fr.prototype.__defineGetter__("focus",function(){return[this.bl.x,this.bl.y,this.bl.z]});
fr.prototype.__defineSetter__("focus",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid focus");this.bl=new A.K(a[0],a[1],a[2]);this.reset()});fr.prototype.__defineGetter__("up",function(){return[this.qb.x,this.qb.y,this.qb.z]});fr.prototype.__defineSetter__("up",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid up vector.");this.qb=new A.K(a[0],a[1],a[2]);this.reset()});f=fr.prototype;f.reset=function(){this.J=this.Hq(this.wj,this.bl)};
f.rotate=function(a){if(g(a)&&2==a.length)a=new A.K(a[0],a[1],0);else if(!(a instanceof A.K))throw Error("Invalid distance vector for rotate operation.");return a};f.br=function(a){if(g(a)&&2==a.length)a=new A.K(a[0],a[1],0);else if(!(a instanceof A.K))throw Error("Invalid distance vector for pan operation.");this.J[12]-=a.x;this.J[13]+=a.y};f.lm=function(a){var b=20;null!=a&&!a&&(b=1);this.J[14]+=b};f.mm=function(a){var b=20;null!=a&&!a&&(b=1);this.J[14]-=b};
f.Hq=function(a,b){if(!(a instanceof A.K&&b instanceof A.K))throw Error("3D vectors required for calculating the view.");return A.o.Bn()};v("X.camera",fr);v("X.camera.prototype.pan",fr.prototype.br);v("X.camera.prototype.rotate",fr.prototype.rotate);v("X.camera.prototype.zoomIn",fr.prototype.lm);v("X.camera.prototype.zoomOut",fr.prototype.mm);function gr(a){function b(a,b,d){b=b*Math.PI*2;b=jp(kp(n,Math.cos(b)),kp(m,Math.sin(b)));a=jp(jp(c,kp(e,a)),kp(b,h));d=jp(kp(b,1-Math.abs(d)),kp(k,d));return new op(a,d)}this.vb=[];a=a||{};var c=new ip(a.start||[0,-1,0]),d=new ip(a.end||[0,1,0]),e=lp(d,c),h=a.Hg||1;a=a.ta||16;for(var k=mp(e),l=.5<Math.abs(k.y()),n=mp((new ip(l,!l,0)).Uj(k)),m=mp(n.Uj(k)),l=new op(c,np(k)),d=new op(d,mp(k)),p=[],q=0;q<a;q++){var s=q/a,u=(q+1)/a;p.push(new qp([l,b(0,s,-1),b(0,u,-1)]));p.push(new qp([b(0,u,0),b(0,s,
0),b(1,s,0),b(1,u,0)]));p.push(new qp([d,b(1,u,1),b(1,s,1)]))}return Bp(p)}w(gr,Ap);function hr(){Ud.call(this);this.n="cylinder";this.zs=[-10,-10,-10];this.gs=[10,10,10];this.xj=10;this.Ec=32;ya(this,new Cp)}w(hr,Ud);hr.prototype.__defineGetter__("start",function(){return this.zs});hr.prototype.__defineSetter__("start",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid start");this.zs=a});hr.prototype.__defineGetter__("end",function(){return this.gs});hr.prototype.__defineSetter__("end",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid end");this.gs=a});
hr.prototype.__defineGetter__("radius",function(){return this.xj});hr.prototype.__defineSetter__("radius",function(a){if(!t(a))throw Error("Invalid radius.");this.xj=a});hr.prototype.U=function(){Ep(this,new gr({start:this.zs,end:this.gs,Hg:this.xj,ta:this.Ec}));hr.c.U.call(this)};v("X.cylinder",hr);v("X.cylinder.prototype.modified",hr.prototype.U);function Ip(a){J.call(this);this.n="labelmap";this.mg=a;this.ys=new Float32Array([-255,-255,-255,-255])}w(Ip,J);Ip.prototype.U=function(){var a=new Vd;a.Ga=this;this.dispatchEvent(a);this.mg.U()};Ip.prototype.__defineSetter__("showOnly",function(a){var b=[-1,-1,-1,-1];if(null!=a)if(g(a)&&4==a.length)b=a;else{if(!this.Wc)throw Error("No colortable assigned.");b=this.Wc.Hd.get(a).slice(1,5)}this.ys=new Float32Array([Math.floor(255*b[0]),Math.floor(255*b[1]),Math.floor(255*b[2]),Math.floor(255*b[3])])});
v("X.labelmap",Ip);function ir(a){this.vb=[];a=a||{};var b=new ip(a.ue||[0,0,0]),c=a.Hg?a.Hg.length?a.Hg:[a.Hg,a.Hg,a.Hg]:[1,1,1];return Bp([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(a){return new qp(a[0].map(function(e){e=new ip(b.x()+c[0]*(2*!!(e&1)-1),b.y()+c[1]*(2*!!(e&2)-1),b.z()+c[2]*(2*!!(e&4)-1));return new op(e,new ip(a[1]))}))}))}w(ir,Ap);function jr(){Ud.call(this);this.n="cube";this.Ea=[0,0,0];this.ls=this.ks=this.js=20;this.Dj=[0,1,1,1,1,0,0,1,1,0,0,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0];ya(this,new Cp)}w(jr,Ud);jr.prototype.__defineGetter__("center",function(){return this.Ea});jr.prototype.__defineSetter__("center",function(a){if(null==a||!g(a)||3!=a.length)throw Error("Invalid center");this.Ea=a});jr.prototype.__defineGetter__("lengthX",function(){return this.js});
jr.prototype.__defineSetter__("lengthX",function(a){if(!t(a))throw Error("Invalid lengthX.");this.js=a});jr.prototype.__defineGetter__("lengthY",function(){return this.ks});jr.prototype.__defineSetter__("lengthY",function(a){if(!t(a))throw Error("Invalid lengthY.");this.ks=a});jr.prototype.__defineGetter__("lengthZ",function(){return this.ls});jr.prototype.__defineSetter__("lengthZ",function(a){if(!t(a))throw Error("Invalid lengthZ.");this.ls=a});
jr.prototype.U=function(){Ep(this,new ir({ue:this.Ea,Hg:[this.js/2,this.ks/2,this.ls/2]}));jr.c.U.call(this)};v("X.cube",jr);v("X.cube.prototype.modified",jr.prototype.U);function cr(a){ar.call(this,a);this.n="interactor3D"}w(cr,ar);cr.prototype.ao=function(a){cr.c.ao.call(this,a);var b=new ue;null==a.vd&&(a.vd=0);b.kg=0>a.vd;b.wf=!0;this.dispatchEvent(b)};function kr(a){$c.call(this);this.n="array";this.Sa=[];this.Uw=a}w(kr,$c);function lr(a,b,c){for(var d=0;4>d;d++)if(a[d+0]!==b[d+c])return!1;return!0}kr.prototype.add=function(a){this.Sa.push(a);return!0};kr.prototype.remove=function(a){a=this.Sa.indexOf(a);-1<a&&this.Sa.splice(a,1);return!0};kr.prototype.clear=function(){this.Sa.length=0};
function mr(a,b,c){var d=c-b;if(!(2>d))for(d=b+Math.floor(d/2),mr(a,b,d),mr(a,d,c);b<d;++b)if(0<a.Uw(a.Sa[b],a.Sa[d])){var e=a.Sa[b];a.Sa[b]=a.Sa[d];for(var h=a,k=d,l=c;k+1<l&&0>h.Uw(h.Sa[k+1],e);){var n=h,m=k+1,p=n.Sa[k];n.Sa[k]=n.Sa[m];n.Sa[m]=p;++k}h.Sa[k]=e}}kr.prototype.sort=function(){mr(this,0,this.Sa.length)};function nr(a,b){fr.call(this,a,b);this.n="camera2D"}w(nr,fr);nr.prototype.rotate=function(a){a=nr.c.rotate.call(this,a);var b=new oe;0<a.x?b.Bs--:0>a.x&&b.Bs++;0<a.y?b.ms++:0>a.y&&b.ms--;this.dispatchEvent(b)};nr.prototype.lm=function(a){var b=20;null!=a&&!a&&(b=.02);this.J[14]+=b};nr.prototype.mm=function(a){var b=20;null!=a&&!a&&(b=.02);this.J[14]-=b};
nr.prototype.br=function(a){if(g(a)&&2==a.length)a=new A.K(a[0],a[1],0);else if(!(a instanceof A.K))throw Error("Invalid distance vector for pan operation.");this.J[12]-=a.x/this.J[14];this.J[13]+=a.y/this.J[14]};function or(a,b){fr.call(this,a,b);this.n="camera3D";this.Ww=45;this.ss=A.o.mu(A.o.Bn(),this.Ww,a/b,1,1E4)}w(or,fr);or.prototype.rotate=function(a){a=or.c.rotate.call(this,a);var b=-a.x/5*Math.PI/180;a=-a.y/5*Math.PI/180;var c=new A.K(this.J[1],this.J[5],this.J[9]),d=new A.K(this.J[0],this.J[4],this.J[8]);c.normalize();d.normalize();A.o.rotate(this.J,b,c.x,c.y,c.z);A.o.rotate(this.J,a,d.x,d.y,d.z)};or.prototype.Hq=function(a,b){var c=or.c.Hq.call(this,a,b);A.o.kA(c,a,b,this.qb);return c};
function pr(a,b,c,d){var e=new Float32Array(4),h=new Float32Array(4),k=new Float32Array(16),l=new Float32Array(16);new Float32Array(16);A.o.multiply(a.ss,a.J,l);A.o.pb(l,k);e[0]=b;e[1]=c;e[2]=2*d-1;e[3]=1;A.o.uA(k,e,h);h[3]=1/h[3];h[0]*=h[3];h[1]*=h[3];h[2]*=h[3];return h}v("X.camera3D",or);function qr(a){cj.call(this,a);this.Ig=new Op;G(this.Ig,"change",this.mH,!1,this)}w(qr,cj);var rr={vertical:"progress-bar-vertical",horizontal:"progress-bar-horizontal"};f=qr.prototype;f.p=function(){this.He=this.Sj();var a=rr[this.xa];this.l=this.G().p("div",a,this.He);sr(this);tr(this);ur(this)};f.Ta=function(){qr.c.Ta.call(this);E&&7>lc&&G(this.a(),"resize",this.Rg,!1,this);this.Rg();var a=this.a();Qk(a,"progressbar");Rk(a,"live","polite")};f.jc=function(){qr.c.jc.call(this);vr(this)};
f.Sj=function(){return this.G().p("div","progress-bar-thumb")};function vr(a){E&&7>lc&&Sc(a.a(),"resize",a.Rg,!1,a)}f.Md=function(a){qr.c.Md.call(this,a);Vk(this.a(),rr[this.xa]);a=Fh(null,"progress-bar-thumb",this.a())[0];a||(a=this.Sj(),this.a().appendChild(a));this.He=a};f.H=function(){return this.Ig.H()};f.D=function(a){this.Ig.D(a);this.a()&&sr(this)};function sr(a){Rk(a.a(),"valuenow",a.H())}f.qa=function(){return this.Ig.qa()};f.$d=function(a){this.Ig.$d(a);this.a()&&tr(this)};
function tr(a){Rk(a.a(),"valuemin",a.qa())}f.ea=function(){return this.Ig.ea()};f.fd=function(a){this.Ig.fd(a);this.a()&&ur(this)};function ur(a){Rk(a.a(),"valuemax",a.ea())}f.xa="horizontal";f.mH=function(){this.Rg();this.dispatchEvent("change")};
f.Rg=function(){if(this.He){var a=this.qa(),b=this.ea(),a=(this.H()-a)/(b-a),b=Math.round(100*a);"vertical"==this.xa?E&&7>lc?(this.He.style.top=0,this.He.style.height="100%",b=this.He.offsetHeight,a=Math.round(a*b),this.He.style.top=b-a+"px",this.He.style.height=a+"px"):(this.He.style.top=100-b+"%",this.He.style.height=b+"%"):this.He.style.width=b+"%"}};
f.Dh=function(a){if(this.xa!=a){var b=rr[this.xa],c=rr[a];this.xa=a;if(a=this.a())Uk(a,b)&&(Xk(a,b),Vk(a,c)),b=this.He.style,"vertical"==this.xa?(b.left=0,b.width="100%"):(b.top=b.left=0,b.height="100%"),this.Rg()}};f.Kb=function(){return this.xa};f.e=function(){vr(this);qr.c.e.call(this);this.He=null;this.Ig.g()};f.nh=function(){return this.Ig.nh()};f.Ng=function(a){this.Ig.Ng(a)};function wr(a,b){if(null==a)throw Error("No valid parent element.");if(null==b)throw Error("Invalid initial value.");qr.call(this);this.n="progressbar";this.Re=a;this.rs="";this.kp=this.ah=null;this.tj=[];var c;c=".progress-bar-horizontal {\n  position: relative;\n  border: 1px solid #949dad;\n";c+="  background: white;\n";c+="  padding: 1px;\n";c+="  overflow: hidden;\n";c+="  margin: 2px;\n";c+="  width: 100px;\n";c+="  height: 5px;\n";c+="}";var d;d=".progress-bar-thumb {\n  position: relative;\n  background: #F62217;\n";
d+="  overflow: hidden;\n";d+="  width: 0%;\n";d+="  height: 100%;\n";d+="}";var e;e=".progress-bar-thumb-done {\n  background: #57E964;\n}";this.tj=[c,d,e];this.D(b);this.Vt()}w(wr,qr);
wr.prototype.Vt=function(){var a=si(this.Re,"position");if("static"==a||""==a)this.rs=this.Re.style.position,this.Re.style.position="relative";var a=document.getElementsByTagName("head")[0],b=R("style");b.type="text/css";b.media="screen";var c=document.createTextNode(String(this.tj[0])),d=document.createTextNode(String(this.tj[1])),e=document.createTextNode(String(this.tj[2]));a.appendChild(b);b.appendChild(c);b.appendChild(d);b.appendChild(e);this.ah=b;this.k(this.Re);a=this.a();a.style.position=
"absolute";a.style.top=(this.Re.clientHeight-5)/2+"px";a.style.left=(this.Re.clientWidth-100)/2+"px";a.classList.add("xtk-progress-bar")};wr.prototype.done=function(){var a=this.a().style.top,b=this.a().style.left;T(this.a());var c=new wr(this.Re,100),d=c.a();d.style.position="absolute";d.style.top=a;d.style.left=b;d.classList.add("xtk-progress-bar");Wh(d).classList.add("progress-bar-thumb-done");this.kp=c};
wr.prototype.Ln=function(){this.ah&&T(this.ah);this.a()&&T(this.a());this.kp&&T(this.kp.a());this.kp=this.ah=null;this.rs&&(this.Re.style.position=this.rs)};function xr(){$c.call(this);this.n="renderer";this.na=window.document.body;this.Na=this.na.clientWidth;this.za=this.na.clientHeight;this.wa=this.aa=this.fc=null;this.Df=new kr(Xd);this.gc=[];this.yb=null;this.sp=this.xm=this.qp=!1;this.b=this.Zh=this.Kd=null;this.ib={PROGRESSBAR_ENABLED:!0,INTERMEDIATE_RENDERING:!1,SLICENAVIGATORS:!0};this.ds=-1;window.console.log("XTK release 10 -- ###TIMESTAMP### -- http://www.goXTK.com -- @goXTK")}w(xr,$c);f=xr.prototype;
f.Fu=function(){window.cancelAnimationFrame(this.ds);this.ib.PROGRESSBAR_ENABLED&&(this.Zh=new wr(this.na,3))};f.Gu=function(){this.ib.PROGRESSBAR_ENABLED&&this.Zh&&(this.Zh.done(),this.hp=Tf(function(){this.hp=null;this.Zh&&(this.Zh.Ln(),this.Zh=null);this.xm=this.sp=!0;this.k()}.bind(this),700))};f.Hu=function(a){this.Zh&&this.Zh.D(100*a.Fj)};f.vk=function(a){this.Kd&&this.Kd.D(100*a.Fj)};f.ZI=function(a){null!=a&&a instanceof Vd&&a.Ga&&this.bg(a.Ga)};
f.kJ=function(a){null!=a&&a instanceof Wd&&a.Ga&&this.remove(a.Ga)};f.Mu=function(a){if(!(null!=a&&a instanceof we))throw Error("Invalid hover event.");};f.Ki=function(){var a=Eh(this.na);this.Na=a.clientWidth;this.za=a.clientHeight;a=Eh(this.fc);a.width=this.Na;a.height=this.za;"renderer3D"==this.n&&(this.b.viewport(0,0,this.Na,this.za),this.aa.ss=A.o.mu(A.o.Bn(),this.aa.Ww,this.fc.width/this.fc.height,1,1E4))};
f.Wl=function(a){if(!(null!=a&&a instanceof ve))throw Error("Invalid scroll event.");};xr.prototype.__defineGetter__("config",function(){return this.ib});xr.prototype.__defineGetter__("interactor",function(){return this.wa});xr.prototype.__defineGetter__("camera",function(){return this.aa});xr.prototype.__defineGetter__("loadingCompleted",function(){return this.xm});xr.prototype.__defineGetter__("container",function(){return this.na});
xr.prototype.__defineSetter__("container",function(a){if(null==a)throw Error("An ID to a valid container (<div>..) is required.");var b=a;r(b)&&(b=Eh(a));if(!Zh(b))throw Error("Could not find the given container.");this.na=b});f=xr.prototype;f.fo=function(){this.aa.reset()};function yr(a){a.ib.PROGRESSBAR_ENABLED&&a.Kd&&!a.hp&&(a.Kd.done(),a.hp=Tf(function(){this.hp=null;this.Kd&&(this.Kd.Ln(),this.Kd=null);this.k()}.bind(a),700))}
f.ja=function(a){var b=R("canvas");this.na.appendChild(b);this.Na=this.na.clientWidth;this.za=this.na.clientHeight;b.width=this.Na;b.height=this.za;try{var c=b.getContext(a);if(!c)throw Error();}catch(d){throw a="Sorry, "+a+' context is <strong>not supported</strong> on this machine! See <a href="http://crash.goXTK.com" target="_blank">http://crash.goXTK.com</a> for requirements..',this.na.innerHTML='<h3 style="color:red;font-family:sans-serif;">Oooops..</h3><p style="color:red;font-family:sans-serif;">'+
a+"</p>",Error(a);}this.yb=new Jf;G(this.yb,ge,this.vk.bind(this));this.fc=b;this.b=c;b=new cr(this.fc);"2d"==a&&(b=new er(this.fc));b.ja();G(b,ce,this.fo.bind(this));G(b,he,this.Mu.bind(this));G(b,be,this.Wl.bind(this));this.wa=b;b=new or(this.Na,this.za);"2d"==a&&(b=new nr(this.Na,this.za));b.observe(this.wa);this.aa=b;G(window,"resize",this.Ki,!1,this)};f.add=function(a){(a instanceof jr||a instanceof Gp||a instanceof hr)&&a.U();this.gc.push(a);this.bg(a)};
f.remove=function(a){if(!this.fc||!this.b)throw Error("The renderer was not initialized properly.");if(null!=a){H(a);var b=this.gc.length,c;for(c=0;c<b;c++)if(this.gc[c].rc==a.rc)return this.gc[c]=null,this.gc.splice(c,1),!0}return!1};
f.bg=function(a){if(!this.fc||!this.b)throw Error("The renderer was not initialized properly.");null!=a&&(Uc(a,ee)||G(a,ee,this.ZI.bind(this)),Uc(a,fe)||G(a,fe,this.kJ.bind(this)),Uc(a,le)||G(a,le,this.Fu.bind(this)),Uc(a,ne)||G(a,ne,this.Hu.bind(this)),Uc(a,me)||G(a,me,this.Gu.bind(this)))};f.get=function(a){if(null==a)throw Error("Invalid object id.");for(var b=this.Df.Sa,c=b.length,d=0,d=0;d<c;d++)if(b[d].rc==a)return b[d];return null};
f.k=function(){if(!this.fc||!this.b)throw Error("The renderer was not initialized properly.");if(null==this.jx){if(this.yb.fl.Zs(!1)){if(this.ib.PROGRESSBAR_ENABLED&&!this.Kd&&(this.Kd=new wr(this.na,3)),this.sp=this.xm=!1,this.jx=Tf(function(){this.jx=null;this.k()}.bind(this),100),!this.ib.INTERMEDIATE_RENDERING)return}else if(this.xm||this.sp||(this.sp=!0,eval("this.onShowtime()"),this.xm=!0),this.Kd){yr(this);return}this.ds=window.requestAnimationFrame(this.k.bind(this));eval("this.onRender()");
this.Jg(!1,!0)}};f.JA=function(){};f.HA=function(){};f.Jg=function(){};f.Jb=function(){H(this);Sc(window,"resize",this.Ki,!1,this);window.cancelAnimationFrame(this.ds);this.yb&&(delete this.yb,this.yb=null);this.Kd&&(this.Kd.Ln(),delete this.Kd,this.Kd=null);this.Df.clear();delete this.Df;this.gc.length=0;delete this.gc;delete this.yb;this.yb=null;delete this.aa;this.aa=null;delete this.wa;this.wa=null;delete this.b;this.b=null;T(this.fc);delete this.fc;this.fc=null};function zr(){xr.call(this);this.n="renderer2D";this.Dc=null;this.qd=-1;this.Jd=[];this.ax=this.op=this.Xw=this.mp=null;this.kl=this.ml=this.yj=this.zj=0;this.zb=this.Ab=this.mb=this.kb=this.fs=-1;this.bx=new Float32Array([-255,-255,-255,-255]);this.ix=!0}w(zr,xr);f=zr.prototype;f.remove=function(a){zr.c.remove.call(this,a);this.Df.remove(a);return!0};f.Vu=function(){};f.MJ=function(){};
f.Wl=function(a){zr.c.Wl.call(this,a);var b=this.gc[0];if(b){var c="",c=0==this.qd?"indexX":1==this.qd?"indexY":"indexZ";b[c]=a.qb?b[c]+1:b[c]-1;eval("this.onScroll();")}};f.NJ=function(a){var b=this.gc[0];if(b){var c=b.zb-b.Ab,d=c/2,e=parseInt(c+c/15*-a.Bs,10);a=parseInt(d+d/15*a.ms,10);c==e&&e++;d==a&&a++;b.Ab-=parseInt(d-a,10);b.Ab-=parseInt(c-e,10);b.Ab=Math.max(b.Ab,b.Id);b.zb-=parseInt(d-a,10);b.zb+=parseInt(c-e,10);b.zb=Math.min(b.zb,b.Hb);eval("this.onWindowLevel();")}};
zr.prototype.__defineGetter__("orientation",function(){return this.Dc});zr.prototype.__defineSetter__("orientation",function(a){a=a.toUpperCase();"AXIAL"==a?(a="Z",this.qd=2):"SAGITTAL"==a?(a="X",this.qd=0):"CORONAL"==a&&(a="Y",this.qd=1);if("X"!=a&&"Y"!=a&&"Z"!=a)throw Error("Invalid orientation.");this.Dc=a});zr.prototype.__defineGetter__("radiological",function(){return this.ix});zr.prototype.__defineSetter__("radiological",function(a){this.ix=a});f=zr.prototype;
f.ja=function(){if(!this.Dc)throw Error("No 2D orientation set.");zr.c.ja.call(this,"2d");this.b.fillStyle="rgba(50,50,50,0)";this.b.fillRect(0,0,this.fc.width,this.fc.height);this.mp=R("canvas");this.op=R("canvas");G(this.aa,de,this.NJ.bind(this))};f.Ki=function(){zr.c.Ki.call(this);Ar(this)};f.fo=function(){zr.c.fo.call(this);Ar(this);var a=this.gc[0];a&&(a.zb=a.Hb,a.Ab=a.Id)};f.update=function(a){this.bg(a);this.fs=-1};
f.bg=function(a){zr.c.bg.call(this,a);var b=!1;this.get(a.rc)&&(b=!0);if(a instanceof J){var c=a.W,d=a.m,e=a.Wc;if(null!=d&&null!=d.W&&d.W.B)this.bg(d);else if(null!=e&&null!=e.W&&e.W.B)this.yb.load(e,a);else{if(null!=c&&g(c)){if(null==a.Ug){b=0;d=c.length;for(b=0;b<d;b++)this.yb.load(c[b],a);return}if(a.Ug.Rn!=c.length)return}else if(null!=c&&c.B){this.yb.load(a,a);return}c=this.Dc;this.qd="X"==c?0:"Y"==c?1:2;this.Ec=a.h[this.qd].h;e=null;e=0==this.qd?a.indexX:1==this.qd?a.indexY:a.indexZ;c=a.h[this.qd].h[e].$w;
d=a.h[this.qd].h[e].Zw;this.ml=a.h[this.qd].h[e].bh;this.kl=a.h[this.qd].h[e].Xg;this.zj=c;this.yj=d;e=this.mp;e.width=c;e.height=d;var h=this.op;h.width=c;h.height=d;this.Xw=e.getContext("2d");this.ax=h.getContext("2d");b||(this.Df.add(a),Ar(this))}}};function Ar(a){var b=Math.min(a.Na/(a.zj*a.ml),a.za/(a.yj*a.kl));a.aa.J[14]=b}f.$q=function(){};
f.uC=function(a,b){var c=this.gc[0],d=this.aa.J,e=null,h=this.zj,k=this.yj,l=null,n=null;if("Y"==this.Dc)e=this.Ec[parseInt(c.indexY,10)],l=e.bh,n=e.Xg,this.Jd[0]="red",this.Jd[1]="blue";else if("Z"==this.Dc)e=this.Ec[parseInt(c.indexZ,10)],l=e.bh,n=e.Xg,this.Jd[0]="red",this.Jd[1]="green";else{e=this.Ec[parseInt(c.indexX,10)];l=e.Xg;n=e.bh;this.Jd[0]="green";this.Jd[1]="blue";var m=h,h=k,k=m}var p=1*d[12],q=-1*d[13],m=Math.max(d[14],.6),d=[this.Na/2,this.za/2],l=h*l*m,n=k*n*m,s=d[0]-l/2,d=d[1]-n/
2,s=s+p*m,d=d+q*m;return a>s&&a<s+l&&b>d&&b<d+n?(p=(a-s)/l*h,q=(b-d)/n*k,n=e.mE[4],"X"==this.Dc?(m=h-p,p=q,q=m):"Y"==this.Dc?p=h-p:"Z"==this.Dc&&(p=h-p,q=k-q),p=e.lE+p*e.bh,q=e.fE+q*e.Xg,p=xd(p,q,n,1),h=yd(),Jd(e.ZD,p,h),k=yd(),Jd(e.$D,p,k),e=Math.round((c.d[0].v[0]*k[0]+c.d[0].v[1]*k[1]+c.d[0].v[2]*k[2]+c.d[0].qs)/c.d[0].ll),e>=c.d[0].T?e=c.d[0].T-1:0>e&&(e=0),p=Math.round((c.d[1].v[0]*k[0]+c.d[1].v[1]*k[1]+c.d[1].v[2]*k[2]+c.d[1].qs)/c.d[1].ll),p>=c.d[1].T?p=c.d[1].T-1:0>p&&(p=0),q=Math.round((c.d[2].v[0]*
k[0]+c.d[2].v[1]*k[1]+c.d[2].v[2]*k[2]+c.d[2].qs)/c.d[2].ll),q>=c.d[2].T?q=c.d[2].T-1:0>q&&(q=0),[[e,p,q],[h[0],h[1],h[2]],[k[0],k[1],k[2]]]):null};
f.Jg=function(a,b){zr.c.Jg.call(this,a,b);if(0!=this.Df.Sa.length){var c=this.gc[0],d=null,d=0==this.qd?c.indexX:1==this.qd?c.indexY:c.indexZ,e=this.Ec[parseInt(d,10)].$w,h=this.Ec[parseInt(d,10)].Zw;this.ml=this.Ec[parseInt(d,10)].bh;this.kl=this.Ec[parseInt(d,10)].Xg;this.zj=e;this.yj=h;var k=this.Na,l=this.za,n=this.aa.J;this.b.save();this.b.clearRect(-k,-l,2*k,2*l);this.b.restore();var m=Math.max(n[14],.1);this.b.setTransform(m,0,0,m,0,0);var p=1*n[12],n=-1*n[13],q=null;c.m&&(q=c.m.ys);var s=
this.Ec[parseInt(d,10)],u=s.Ma.$h,s=s.m,z=null;s&&(z=s.$h);var y=this.zj,I=this.yj,S=this.Xw,O=this.ax,F=S.getImageData(0,0,y,I),Q=O.getImageData(0,0,y,I),Y=F.data,U=Q.data,ua=Y.length,ka=c.Hb,wa=c.kb,Ma=c.mb,Fa=c.Ab/ka,Ia=c.zb/ka;if(this.fs!=d||this.kb!=wa||this.mb!=Ma||this.Ab!=Fa||this.zb!=Ia||q&&!lr(q,this.bx,0)){var la=this.mp;la.width=e;la.height=h;la=this.op;la.width=e;la.height=h;e=0;do{var la=[0,0,0,0],h=[0,0,0,0],za=u[e]/255*ka,qa=u[e],qa=(qa/255-Fa)/(Ia-Fa),qa=255*qa;za>=wa&&za<=Ma&&(la=
new K(c.Wh[0],c.Wh[1],c.Wh[2]),la=(new K(c.Uh[0],c.Uh[1],c.Uh[2])).scale(qa).add(la.scale(255-qa)),la=[Math.floor(la.x),Math.floor(la.y),Math.floor(la.z),255],s&&(-255==q[3]?h=[z[e],z[e+1],z[e+2],z[e+3]]:lr(q,z,e)&&(h=[z[e],z[e+1],z[e+2],z[e+3]])));"X"==this.Dc?(Y[e]=la[0],Y[e+1]=la[1],Y[e+2]=la[2],Y[e+3]=la[3],U[e]=h[0],U[e+1]=h[1],U[e+2]=h[2],U[e+3]=h[3]):"Y"==this.Dc?(qa=Math.floor(e/(4*y)),qa=qa*y*4+(4*(y-1)-(e-qa*y*4)),Y[qa]=la[0],Y[qa+1]=la[1],Y[qa+2]=la[2],Y[qa+3]=la[3],U[qa]=h[0],U[qa+1]=
h[1],U[qa+2]=h[2],U[qa+3]=h[3]):(qa=ua-1-e,Y[qa-3]=la[0],Y[qa-2]=la[1],Y[qa-1]=la[2],Y[qa]=la[3],U[qa-3]=h[0],U[qa-2]=h[1],U[qa-1]=h[2],U[qa]=h[3]);e+=4}while(e<ua);S.putImageData(F,0,0);O.putImageData(Q,0,0);this.fs=d;this.kb=wa;this.mb=Ma;this.Ab=Fa;this.zb=Ia;s&&(this.bx=q)}this.b.globalAlpha=1;this.b.translate(k/2/m,l/2/m);"X"==this.Dc&&(this.b.rotate(.5*Math.PI),d=p,p=n,n=-d);p=-y*this.ml/2+p;n=-I*this.kl/2+n;this.b.drawImage(this.mp,p,n,y*this.ml,I*this.kl);s&&c.m.ab&&(this.b.globalAlpha=c.m.Cc,
this.b.drawImage(this.op,p,n,y*this.ml,I*this.kl));this.ib.SLICENAVIGATORS&&this.wa.rp&&this.wa.xs&&!this.wa.lg&&(p=this.wa.Bc,p=this.uC(p[0],p[1]))&&(c.Yg=p[0][0],c.Zg=p[0][1],c.$g=p[0][2],c.U(!1),this.onSliceNavigation(),this.b.setTransform(1,0,0,1,0,0),this.b.lineWidth=1,this.b.beginPath(),this.b.moveTo(this.wa.Bc[0],0),this.b.lineTo(this.wa.Bc[0],this.wa.Bc[1]-10),this.b.moveTo(this.wa.Bc[0],this.wa.Bc[1]+10),this.b.lineTo(this.wa.Bc[0],this.za),this.b.strokeStyle=this.Jd[0],this.b.stroke(),this.b.closePath(),
this.b.beginPath(),this.b.moveTo(0,this.wa.Bc[1]),this.b.lineTo(this.wa.Bc[0]-10,this.wa.Bc[1]),this.b.moveTo(this.wa.Bc[0]+10,this.wa.Bc[1]+.5),this.b.lineTo(this.Na,this.wa.Bc[1]),this.b.strokeStyle=this.Jd[1],this.b.stroke(),this.b.closePath(),this.b.font="10pt Arial",this.b.textAlign="left",this.b.textBaseline="top",this.b.fillStyle="white",this.b.fillText("RAS: "+p[2][0].toFixed(2)+", "+p[2][1].toFixed(2)+", "+p[2][2].toFixed(2),0,0),y=s=n="undefined","undefined"!=typeof c.xb[p[1][2].toFixed(0)]&&
"undefined"!=typeof c.xb[p[1][2].toFixed(0)][p[1][1].toFixed(0)]&&(n=c.xb[p[1][2].toFixed(0)][p[1][1].toFixed(0)][p[1][0].toFixed(0)],c.Va&&(s=c.m.xb[p[1][2].toFixed(0)][p[1][1].toFixed(0)][p[1][0].toFixed(0)],c.m.tm&&(y=c.m.tm.get(s),"undefined"!=typeof y&&(y=y[0])))),this.b.fillText("Background:  "+n+" ("+p[1][0].toFixed(0)+", "+p[1][1].toFixed(0)+", "+p[1][2].toFixed(0)+")",0,15),c.Va&&this.b.fillText("Labelmap:  "+y+" ("+s+")",0,30))}};v("X.renderer2D",zr);v("X.renderer2D.prototype.init",zr.prototype.ja);
v("X.renderer2D.prototype.add",zr.prototype.add);v("X.renderer2D.prototype.onShowtime",zr.prototype.JA);v("X.renderer2D.prototype.onRender",zr.prototype.HA);v("X.renderer2D.prototype.onScroll",zr.prototype.Vu);v("X.renderer2D.prototype.onWindowLevel",zr.prototype.MJ);v("X.renderer2D.prototype.get",zr.prototype.get);v("X.renderer2D.prototype.resetViewAndRender",zr.prototype.fo);v("X.renderer2D.prototype.xy2ijk",zr.prototype.uC);v("X.renderer2D.prototype.render",zr.prototype.k);
v("X.renderer2D.prototype.destroy",zr.prototype.Jb);v("X.renderer2D.prototype.onSliceNavigation",zr.prototype.$q);function Br(){Yc.call(this)}w(Br,Yc);v("xiv.vis.RenderEngine",Br);Br.prototype.ID_PREFIX="xiv.vis.RenderEngine";var Cr="isSelectedVolume"+B();v("xiv.vis.RenderEngine.EventType",{wM:"r",tM:"s",uM:"t"});v("xiv.vis.RenderEngine.SELECTED_VOL_KEY",Cr);v("xiv.vis.RenderEngine.prototype.ID_PREFIX",Br.prototype.ID_PREFIX);function Dr(){zr.call(this)}w(Dr,zr);v("xiv.vis.XtkRenderer2D",Dr);f=Dr.prototype;f.Sf=function(){this.Ki()};f.Vu=function(){this.$q()};f.vk=function(a){Dr.c.vk.call(this,a);this.dispatchEvent({type:"s",value:a.Fj})};f.ja=function(){this.config.PROGRESSBAR_ENABLED=!1;this.config.SLICENAVIGATORS=!1;Dr.c.ja.call(this);this.wa.onMouseMove=this.SI.bind(this);this.wa.config.MOUSEWHEEL_ENABLED=!1;this.wa.config.MOUSECLICKS_ENABLED=!1;this.wa.config.KEYBOARD_ENABLED=!1;this.wa.ja()};f.Kb=function(){return this.Dc};
f.CF=function(){return this.aa};f.sG=function(){return this.wa.mousePosition};f.UH=function(){};f.SI=function(){this.dispatchEvent({type:"mouseover",sA:this.wa.sA,OB:this.wa.shiftDown})};f.$q=function(){this.dispatchEvent({type:"u",volume:this.gc[0],TN:this.gc[0]["index"+this.Dc],SN:this.Dc,OB:this.wa.xs})};f.k=function(){this.fc&&this.b?(Dr.c.k.call(this),this.dispatchEvent({type:"t"})):(window.console.log("init"),this.ja(),window.console.log(this.Gl().visible))};f.DF=function(){return this.fc};
f.Gl=function(){return this.gc[0]};f.oz=function(){if(null!=this.Ec)return this.Ec.length};f.Az=function(){return this.aa.J[14]};f.MB=function(a){this.aa.J[14]=a};function Er(a){.01>a.aa.J[14]&&(a.aa.J[14]=.01)}f.lm=function(){this.aa.J[14]+=.03;Er(this)};f.mm=function(){this.aa.J[14]+=-.03;Er(this)};
function Fr(a,b,c,d){var e=a.gc[0],h=a.aa.J,k=null,l=a.zj,n=a.yj,m=null,p=null;if(null!=e){"Y"==a.Dc?(k=a.Ec[parseInt(e.indexY,10)],m=k.bh,p=k.Xg,a.Jd[0]="red",a.Jd[1]="blue"):"Z"==a.Dc?(k=a.Ec[parseInt(e.indexZ,10)],m=k.bh,p=k.Xg,a.Jd[0]="red",a.Jd[1]="green"):(k=a.Ec[parseInt(e.indexX,10)],m=k.Xg,p=k.bh,a.Jd[0]="green",a.Jd[1]="blue",e=l,l=n,n=e);var e=1*h[12],k=-1*h[13],h=Math.max(h[14],.6),q=[a.Na/2,a.za/2],m=l*m*h,p=n*p*h,s=q[0]-m/2,q=q[1]-p/2,s=s+e*h,q=q+k*h;if("vertical"===c)return b=Math.max(0,
b),b=Math.min(b,l),d?s+(a.zj-b)/l*m:s+b/l*m;b=Math.max(0,b);b=Math.min(b,n);return d?q+(a.yj-b)/n*p:q+b/n*p}}f.wz=function(a,b){return Fr(this,a,"vertical",b)};f.ez=function(a,b){return Fr(this,a,"horizontal",b)};f.Jb=function(){Dr.c.Jb.call(this)};v("xiv.vis.XtkRenderer2D.ZOOM_MINIMUM",.01);v("xiv.vis.XtkRenderer2D.prototype.onResize",Dr.prototype.Sf);v("xiv.vis.XtkRenderer2D.prototype.onScroll",Dr.prototype.Vu);v("xiv.vis.XtkRenderer2D.prototype.onProgress",Dr.prototype.vk);
v("xiv.vis.XtkRenderer2D.prototype.init",Dr.prototype.ja);v("xiv.vis.XtkRenderer2D.prototype.getOrientation",Dr.prototype.Kb);v("xiv.vis.XtkRenderer2D.prototype.getCamera",Dr.prototype.CF);v("xiv.vis.XtkRenderer2D.prototype.getMousePosition",Dr.prototype.sG);v("xiv.vis.XtkRenderer2D.prototype.isMouseOver",Dr.prototype.UH);v("xiv.vis.XtkRenderer2D.prototype.onSliceNavigation",Dr.prototype.$q);v("xiv.vis.XtkRenderer2D.prototype.render",Dr.prototype.k);v("xiv.vis.XtkRenderer2D.prototype.getCanvas",Dr.prototype.DF);
v("xiv.vis.XtkRenderer2D.prototype.getVolume",Dr.prototype.Gl);v("xiv.vis.XtkRenderer2D.prototype.getNumberSlices",Dr.prototype.oz);v("xiv.vis.XtkRenderer2D.prototype.getZoom",Dr.prototype.Az);v("xiv.vis.XtkRenderer2D.prototype.setZoom",Dr.prototype.MB);v("xiv.vis.XtkRenderer2D.prototype.zoomIn",Dr.prototype.lm);v("xiv.vis.XtkRenderer2D.prototype.zoomOut",Dr.prototype.mm);v("xiv.vis.XtkRenderer2D.prototype.getVerticalSliceX",Dr.prototype.wz);
v("xiv.vis.XtkRenderer2D.prototype.getHorizontalSliceY",Dr.prototype.ez);v("xiv.vis.XtkRenderer2D.prototype.destroy",Dr.prototype.Jb);function Gr(){V.call(this)}w(Gr,gp);v("xiv.ui.layouts.interactors.ZoomDisplay",Gr);Gr.ID_PREFIX="xiv.ui.layouts.interactors.ZoomDisplay";Gr.prototype.k=function(a){Gr.c.k.call(this,a);this.Ba.min=1};Gr.prototype.Sg=function(){this.Xe.innerHTML="Zoom level:&nbsp"+this.Ba.value+"%"};v("xiv.ui.layouts.interactors.ZoomDisplay.ID_PREFIX",Gr.ID_PREFIX);v("xiv.ui.layouts.interactors.ZoomDisplay.prototype.updateValue",Gr.prototype.Sg);function Hr(a,b){Qp.call(this,a,b);this.Ca.Qi(0)}w(Hr,Qp);Hr.prototype.P=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};Hr.prototype.vy=function(){var a=this.a(),b=Fh(null,"goog-slider-thumb",a)[0];b||(b=this.Sj(),a.appendChild(b));this.ha=this.kc=b};Hr.prototype.Sj=function(){var a=this.G().p("div","goog-slider-thumb");Qk(a,"button");return a};function Ir(a){Hr.call(this);this.constructor.nm=this.constructor.ID_PREFIX.toLowerCase().replace(/\./g,"-");this.constructor.oc=this.constructor.nm;V.prototype.Np.bind(this)();null!=a&&this.Dh(a)}w(Ir,Hr);v("nrg.ui.Slider",Ir);Ir.ID_PREFIX="nrg.ui.Slider";Ir.CSS_SUFFIX={HD:"track",Ow:"track-hovered",Yr:"thumb",Mw:"thumb-hovered"};f=Ir.prototype;f.Sl=!1;f.Jo=!1;f.RK=function(a){this.Jo=a};f.QK=function(a){this.Jo=a};
f.k=function(a){this.l=R("div",{id:Ir.ID_PREFIX+"_Widget_"+B()});this.ob(this.l);a=null!=a?a:document.body;a.appendChild(this.l);this.jd=R("div",{id:Ir.ID_PREFIX+"_Track_"+B()});this.l.appendChild(this.jd);this.zc=Ih("goog-slider-thumb",this.l);G(this,"change",this.GI.bind(this));G(this.zc,"mouseover",this.qJ.bind(this));G(this.zc,"mouseout",this.pJ.bind(this));G(this.jd,"mouseover",this.KJ.bind(this));G(this.jd,"mouseout",this.JJ.bind(this));G(this,"l",this.vJ.bind(this));G(this,"m",this.sJ.bind(this));
this.Dh(this.Kb().toLowerCase())};f.a=function(){return this.l};f.XG=function(){return this.jd};f.RG=function(){return this.zc};f.Sm=function(a){null==this.ij&&(this.ij={});if(null==this.ij[a.id]){var b=new Lp(a);b.addEventListener("mousewheel",this.hJ,!1,this);this.ij[a.id]=b}};f.HE=function(a){null==this.fj&&(this.fj={});if(null==this.fj[a.id]){var b=new Qn(a);G(b,"key",this.xh.bind(this));this.fj[a.id]=b}};f.xh=function(a){window.console.log("KEY",a)};
f.j=function(){var a=this.H(),a=cq(this,a);"horizontal"==this.Kb().toLowerCase()?this.zc.style.left=a.x.toString()+"px":"vertical"==this.Kb().toLowerCase()&&(this.zc.style.left=a.y.toString()+"px")};f.Dh=function(a){Ir.c.Dh.call(this,a);this.$&&Jr(this,this.Kb().toLowerCase())};function Jr(a,b){function c(a,c){xh(a,[qj(c,"horizontal"),qj(c,"vertical")],[c,qj(c,b)])}c(a.l,a.constructor.oc);c(a.jd,Ir.CSS.HD);c(a.zc,Ir.CSS.Yr)}f.fw=!1;f.lt=1;f.IB=function(a,b){this.fw=a;t(b)&&(this.lt=b)};
f.hJ=function(a){var b=Math.abs(a.vd)<Math.abs(a.hh)?a.hh:a.vd;this.fw?this.D(Math.round(this.H()-b*this.lt)):this.D(Math.round(this.H()-(0>b?-1:1)));this.dispatchEvent({type:"w"});a.preventDefault()};f.Bp=function(a){this.Og=this.Og?this.Og:[];this.Og.push(a);Kr(this)};f.Fs=function(a){this.Pg=this.Pg?this.Pg:[];this.Pg.push(a);Lr(this)};f.GI=function(a){a.stopPropagation();this.Sl&&(Mr(this),Nr(this));this.Jo||this.dispatchEvent({type:"v",value:this.H(),qu:this.qa(),pu:this.ea()});this.Jo=!1};
function Mr(a){P(a.zc,Ir.CSS.Mw);null!=a.Og&&D(a.Og,function(a){P(this.zc,a)}.bind(a))}function Nr(a){P(a.jd,Ir.CSS.Ow);null!=a.Pg&&D(a.Pg,function(a){P(this.jd,a)}.bind(a))}function Kr(a){vh(a.zc,Ir.CSS.Mw);null!=a.Og&&D(a.Og,function(a){vh(this.zc,a)}.bind(a))}function Lr(a){vh(a.jd,Ir.CSS.Ow);null!=a.Pg&&D(a.Pg,function(a){vh(this.jd,a)}.bind(a))}f.qJ=function(a){a.stopPropagation();Mr(this);Nr(this)};f.KJ=function(){Nr(this)};f.pJ=function(){this.Sl||(Kr(this),Lr(this))};
f.JJ=function(){this.Sl||Lr(this)};f.vJ=function(){this.Sl=!0};f.sJ=function(){this.Sl=!1;Kr(this);Lr(this)};
f.e=function(){Ir.c.e.call(this);delete this.Jo;null!=this.l&&(H(this),T(this.l),delete this.l);null!=this.zc&&(H(this.zc),T(this.zc),delete this.zc);null!=this.jd&&(H(this.jd),T(this.jd),delete this.jd);null!=this.fj&&(C(this.fj,function(a){H(a);a.g()}),sb(this.fj),delete this.fj);null!=this.ij&&(C(this.ij,function(a){H(a);a.g()}),sb(this.ij),delete this.ij);null!=this.Og&&(Ib(this.Og),delete this.Og);null!=this.Pg&&(Ib(this.Pg),delete this.Pg);delete this.fw;delete this.lt;delete this.Sl};
v("nrg.ui.Slider.EventType",{OM:"v",jM:"w"});v("nrg.ui.Slider.ID_PREFIX",Ir.ID_PREFIX);v("nrg.ui.Slider.CSS_SUFFIX",Ir.CSS_SUFFIX);v("nrg.ui.Slider.prototype.suspendSlideEvent",Ir.prototype.RK);v("nrg.ui.Slider.prototype.suspendChangeEvent",Ir.prototype.QK);v("nrg.ui.Slider.prototype.render",Ir.prototype.k);v("nrg.ui.Slider.prototype.getElement",Ir.prototype.a);v("nrg.ui.Slider.prototype.getTrack",Ir.prototype.XG);v("nrg.ui.Slider.prototype.getThumb",Ir.prototype.RG);
v("nrg.ui.Slider.prototype.bindToMouseWheel",Ir.prototype.Sm);v("nrg.ui.Slider.prototype.bindToArrowKeys",Ir.prototype.HE);v("nrg.ui.Slider.prototype.updateStyle",Ir.prototype.j);v("nrg.ui.Slider.prototype.setOrientation",Ir.prototype.Dh);v("nrg.ui.Slider.prototype.setUseDeltaToScroll",Ir.prototype.IB);v("nrg.ui.Slider.prototype.addThumbHoverClass",Ir.prototype.Bp);v("nrg.ui.Slider.prototype.addTrackHoverClass",Ir.prototype.Fs);v("nrg.ui.Slider.prototype.disposeInternal",Ir.prototype.e);function Or(){Ir.call(this)}w(Or,Ir);v("xiv.ui.layouts.interactors.Slider",Or);Or.ID_PREFIX="xiv.ui.layouts.interactors.Slider";Or.CSS_SUFFIX={};Or.prototype.k=function(){Or.c.k.call(this)};Or.prototype.e=function(){Or.c.e.call(this)};v("xiv.ui.layouts.interactors.Slider.EventType",{});v("xiv.ui.layouts.interactors.Slider.ID_PREFIX",Or.ID_PREFIX);v("xiv.ui.layouts.interactors.Slider.CSS_SUFFIX",Or.CSS_SUFFIX);v("xiv.ui.layouts.interactors.Slider.prototype.render",Or.prototype.k);
v("xiv.ui.layouts.interactors.Slider.prototype.disposeInternal",Or.prototype.e);function Pr(){V.call(this)}w(Pr,V);v("xiv.ui.layouts.interactors.Crosshairs",Pr);Pr.ID_PREFIX="xiv.ui.layouts.interactors.Crosshairs";Pr.CSS_SUFFIX={QL:"horizontal",tN:"vertical"};f=Pr.prototype;f.eg=null;f.Nf=null;f.KB=function(a){null!=a&&(this.eg.style.left=a.toString()+"px")};f.LB=function(a){null!=a&&(this.Nf.style.top=a.toString()+"px")};f.k=function(a){this.eg=Qr(this,"vertical");this.Nf=Qr(this,"horizontal");a.appendChild(this.Nf);a.appendChild(this.eg)};
f.Mo=function(a){a=!1===a?"hidden":"visible";this.eg.style.visibility=a;this.Nf.style.visibility=a};function Qr(a,b){b=b.toLowerCase();if(!pb(Pr.CSS_SUFFIX,b))throw Error("Invalid orientation: "+b);return R("div",{id:a.constructor.ID_PREFIX+"_"+b+"_"+B(),"class":a.constructor.oc+"-"+b.toLowerCase()})}f.e=function(){Pr.c.e.call(this);T(this.eg);delete this.eg;T(this.Nf);delete this.Nf};v("xiv.ui.layouts.interactors.Crosshairs.EventType",{});v("xiv.ui.layouts.interactors.Crosshairs.ID_PREFIX",Pr.ID_PREFIX);
v("xiv.ui.layouts.interactors.Crosshairs.CSS_SUFFIX",Pr.CSS_SUFFIX);v("xiv.ui.layouts.interactors.Crosshairs.prototype.vertical",Pr.prototype.eg);v("xiv.ui.layouts.interactors.Crosshairs.prototype.horizontal",Pr.prototype.Nf);v("xiv.ui.layouts.interactors.Crosshairs.prototype.setX",Pr.prototype.KB);v("xiv.ui.layouts.interactors.Crosshairs.prototype.setY",Pr.prototype.LB);v("xiv.ui.layouts.interactors.Crosshairs.prototype.render",Pr.prototype.k);
v("xiv.ui.layouts.interactors.Crosshairs.prototype.toggleVisible",Pr.prototype.Mo);v("xiv.ui.layouts.interactors.Crosshairs.prototype.disposeInternal",Pr.prototype.e);function W(a){Vq.call(this);a=null!=a?a:nb(Rr);a=g(a)?a:[a];D(a,function(b,c){a[c]=b.toUpperCase()});Sr(this,a);Tr(this,a);null!=this.i.X&&this.be();null!=this.i.Y&&this.Zf();null!=this.i.Z&&this.Ti();null!=this.i.V&&this.zo();this.j()}w(W,Vq);v("xiv.ui.layouts.XyzvLayout",W);W.TITLE="XyzvLayout";W.ID_PREFIX="xiv.ui.layouts.XyzvLayout";var Rr={jg:"X",oe:"Y",Yk:"Z",dp:"V"};
W.CSS_SUFFIX={jg:"x",oe:"y",Yk:"z",dp:"v",la:"slider",Nh:"slider-thumb",Xr:"slider-thumb-hovered",Oh:"slider-track",PM:"slider-track-x",QM:"slider-track-y",RM:"slider-track-z",ML:"framenumber"};function Ur(a,b,c,d){this.la=a;this.Cd=b;this.Uc=c;this.uf=d}f=W.prototype;f.bB=0;f.Ch=function(a,b){this.i[a].$l(b);var c=this.sy(a);Sh(this.a(),c);c.style.position="absolute";this.i[a].L().Bh(c);this.i[a].L().update()};
f.sy=function(a){return R("div",{id:this.constructor.ID_PREFIX+"_ResizeBoundary_"+a+"_"+B(),"class":qj(this.constructor.oc,a.toLowerCase()+"-resizeboundary")})};function Sr(a,b){if(b.length>mb(Rr))throw Error("Invalid amount of frames "+b+". Must be "+Rr);D(b,function(a){if(!pb(Rr,a))throw Error("Invalid frame title ",a);}.bind(a))}function Tr(a,b){var c="";D(b,function(a,b){c=a.toUpperCase();this.vx(new Uq(c));Sh(this.a(),this.i[c].a());P(this.i[c].a(),W.CSS[b])}.bind(a))}f.bL=function(a){a.tv(this.qn())};
f.tv=function(a){this.ef(function(b,c){null!=a[c]&&(b[Wq]=a[c].la,T(a[c].la.a()),b.a().appendChild(a[c].la.a()),b[Xq]=a[c].Cd,T(a[c].Cd.a()),b.a().appendChild(a[c].Cd.a()),b[Zq]=a[c].Uc,b.a().appendChild(a[c].Uc.eg),b.a().appendChild(a[c].Uc.Nf))})};f.tx=function(){this.kv();Vr(this);Wr(this);Xr(this);Yr(this)};f.qn=function(){var a={};this.ef(function(b,c){a[c]=new Ur(b[Wq],b[Xq],b[Zq],b[Yq])});return a};f.hz=function(a){a=this.i[a];return new Ur(a[Wq],a[Xq],a[Zq])};f.gz=function(a,b){return this.i[a][b]};
f.dz=function(a){return this.i[a]};function Vr(a){var b;a.ef(function(a,d){b=new Ir("horizontal");b.k(a.a());b.a().id=d+"_LayoutFrameSlider_"+B();a[Wq]=b;xh(b.a(),null,[W.CSS.la]);xh(b.zc,null,[W.CSS.Nh]);xh(b.jd,null,[W.CSS.Oh,qj(W.CSS.Oh,d.toLowerCase())]);b.Bp(W.CSS.Xr)}.bind(a))}function Wr(a){var b;a.ef(function(a){b=new hp;b.k(a.a());a[Xq]=b}.bind(a))}function Xr(a){var b;a.ef(function(a){b=new Gr;b.k(a.a());a[Yq]=b}.bind(a))}
function Yr(a){var b;a.ef(function(a){b=new Pr;a[Zq]=b;b.k(a.a());a.a().appendChild(b.Nf);a.a().appendChild(b.eg)}.bind(a))}f.ef=function(a){C(Rr,function(b){b=b.toUpperCase();null!=this.i[b]&&"V"!=b&&a(this.i[b],b)}.bind(this))};f.loop=function(a){C(Rr,function(b){b=b.toUpperCase();a(this.i[b],b)}.bind(this))};f.be=function(){null!=this.constructor.CSS&&P(this.i.X.a(),this.constructor.CSS.jg)};f.Zf=function(){null!=this.constructor.CSS&&P(this.i.Y.a(),this.constructor.CSS.oe)};
f.Mi=function(a){this.eh();var b=Li(this.i.X.a()),c=Li(this.i.Y.a()),d=Li(this.i.Z.a());a(b,c,d,b.width+c.width+d.width-this.q.width)};f.Ti=function(){null!=this.constructor.CSS&&P(this.i.Z.a(),this.constructor.CSS.Yk)};f.zo=function(){null!=this.constructor.CSS&&P(this.i.V.a(),this.constructor.CSS.dp)};f.Ce=ea;f.Fg=ea;f.VI=ea;f.Uq=ea;f.fe=ea;f.Ie=ea;f.ge=ea;f.Lk=ea;f.e=function(){W.c.e.call(this);delete this.bB};v("xiv.ui.layouts.XyzvLayout.TITLE",W.TITLE);
v("xiv.ui.layouts.XyzvLayout.EventType",{});v("xiv.ui.layouts.XyzvLayout.ID_PREFIX",W.ID_PREFIX);v("xiv.ui.layouts.XyzvLayout.FRAMES",Rr);v("xiv.ui.layouts.XyzvLayout.CSS_SUFFIX",W.CSS_SUFFIX);v("xiv.ui.layouts.XyzvLayout.InteractorSet",Ur);v("xiv.ui.layouts.XyzvLayout.prototype.resizeMargin",W.prototype.bB);v("xiv.ui.layouts.XyzvLayout.prototype.setLayoutFrameResizable",W.prototype.Ch);v("xiv.ui.layouts.XyzvLayout.prototype.createResizeBoundary",W.prototype.sy);
v("xiv.ui.layouts.XyzvLayout.prototype.transferInteractors",W.prototype.bL);v("xiv.ui.layouts.XyzvLayout.prototype.setInteractors",W.prototype.tv);v("xiv.ui.layouts.XyzvLayout.prototype.addInteractors",W.prototype.tx);v("xiv.ui.layouts.XyzvLayout.prototype.getInteractors",W.prototype.qn);v("xiv.ui.layouts.XyzvLayout.prototype.getInteractorsByPlane",W.prototype.hz);v("xiv.ui.layouts.XyzvLayout.prototype.getInteractorByPlane",W.prototype.gz);v("xiv.ui.layouts.XyzvLayout.prototype.getFrameByPlane",W.prototype.dz);
v("xiv.ui.layouts.XyzvLayout.prototype.loopXyz",W.prototype.ef);v("xiv.ui.layouts.XyzvLayout.prototype.loop",W.prototype.loop);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_X",W.prototype.be);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_Y",W.prototype.Zf);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_Z",W.prototype.Ti);v("xiv.ui.layouts.XyzvLayout.prototype.setupLayoutFrame_V",W.prototype.zo);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_X",W.prototype.Ce);
v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_Y",W.prototype.Fg);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_Z",W.prototype.VI);v("xiv.ui.layouts.XyzvLayout.prototype.onLayoutFrameResize_V",W.prototype.Uq);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_X",W.prototype.fe);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_Z",W.prototype.Ie);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_Y",W.prototype.ge);v("xiv.ui.layouts.XyzvLayout.prototype.updateStyle_V",W.prototype.Lk);
v("xiv.ui.layouts.XyzvLayout.prototype.disposeInternal",W.prototype.e);function Zr(){W.call(this,["X","Y","Z"])}w(Zr,W);v("xiv.ui.layouts.TwoDWidescreen",Zr);Zr.TITLE="TwoDWidescreen";Zr.ID_PREFIX="xiv.ui.layouts.TwoDWidescreen";Zr.CSS_SUFFIX={jg:"x",oe:"y",Yk:"z"};f=Zr.prototype;f.be=function(){Zr.c.be.call(this);this.Ch("X",["RIGHT"]);G(this.i.X.L(),"resize",this.Ce.bind(this));G(this.i.X.L(),"resize_end",this.j.bind(this))};f.Zf=function(){Zr.c.Zf.call(this);this.Ch("Y",["BOTTOM"]);G(this.i.Y.L(),"resize",this.Fg.bind(this));G(this.i.Y.L(),"resize_end",this.j.bind(this))};
f.Ce=function(){this.Mi(function(a){var b=a.width,c=Math.max(this.q.width-a.width,this.Lb);D(["Y","Z"],function(a){this.i[a].a().style.left=b+"px";this.i[a].a().style.width=c+"px"}.bind(this))}.bind(this));this.sg()};f.Fg=function(){this.Mi(function(a,b){window.console.log("Y SIZE",b.height);var c=b.height,d=this.q.height-c;this.i.Z.a().style.top=c+"px";this.i.Z.a().style.height=d+"px"}.bind(this));this.sg()};f.j=function(){Zr.c.j.call(this);this.io();this.fe();this.ge();this.Ie()};
f.io=function(){if(this.ba.width!==this.q.width||this.ba.height!==this.q.height){var a=1-(this.ba.height-this.q.height)/this.ba.height,b=1-(this.ba.width-this.q.width)/this.ba.width;this.ef(function(c){frameSize=Li(c.a());c.a().style.width=Math.max(frameSize.width*b,this.Lb).toString()+"px";c.a().style.height=Math.max(frameSize.height*a,this.Rc).toString()+"px"}.bind(this))}};
f.fe=function(){var a=this.i.X;a.a().style.height=this.q.height.toString()+"px";lk(a.L().bd(),{left:this.Lb,width:this.q.width-2*this.Lb});var b=a.L().cd("RIGHT");b.style.left=a.a().style.width;Ki(b,this.q.height);a.L().update()};f.ge=function(){var a=this.i.Y;a.a().style.left=this.i.X.a().style.width;lk(a.L().bd(),{top:this.Rc,height:this.q.height-2*this.Rc});var b=a.L().cd("BOTTOM");b.style.top=a.a().style.height;Ji(b,parseInt(a.a().style.width));a.L().update()};
f.Ie=function(){var a=this.i.Z;a.a().style.left=this.i.X.a().style.width;a.a().style.top=this.i.Y.a().style.height;a.a().style.height=this.q.height-parseInt(this.i.Y.a().style.height)+NaN};v("xiv.ui.layouts.TwoDWidescreen.TITLE",Zr.TITLE);v("xiv.ui.layouts.TwoDWidescreen.EventType",{});v("xiv.ui.layouts.TwoDWidescreen.ID_PREFIX",Zr.ID_PREFIX);v("xiv.ui.layouts.TwoDWidescreen.CSS_SUFFIX",Zr.CSS_SUFFIX);v("xiv.ui.layouts.TwoDWidescreen.prototype.setupLayoutFrame_X",Zr.prototype.be);
v("xiv.ui.layouts.TwoDWidescreen.prototype.setupLayoutFrame_Y",Zr.prototype.Zf);v("xiv.ui.layouts.TwoDWidescreen.prototype.onLayoutFrameResize_X",Zr.prototype.Ce);v("xiv.ui.layouts.TwoDWidescreen.prototype.onLayoutFrameResize_Y",Zr.prototype.Fg);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle",Zr.prototype.j);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_X",Zr.prototype.fe);v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_Y",Zr.prototype.ge);
v("xiv.ui.layouts.TwoDWidescreen.prototype.updateStyle_Z",Zr.prototype.Ie);function $r(a){W.call(this,a)}w($r,W);v("xiv.ui.layouts.SingleFrameLayout",$r);$r.TITLE="SingleFrameLayout";$r.ID_PREFIX="xiv.ui.layouts.SingleFrameLayout";$r.prototype.io=function(){if(this.ba.width!==this.q.width||this.ba.height!==this.q.height){var a=this.ba.height*(1-(this.ba.height-this.q.height)/this.ba.height),b=this.ba.width*(1-(this.ba.width-this.q.width)/this.ba.width);this.loop(function(c){null!=c&&Ii(c.a(),Math.max(b,this.Lb),Math.max(a,this.Rc))}.bind(this))}};
$r.prototype.j=function(){$r.c.j.call(this);this.io()};v("xiv.ui.layouts.SingleFrameLayout.TITLE",$r.TITLE);v("xiv.ui.layouts.SingleFrameLayout.ID_PREFIX",$r.ID_PREFIX);v("xiv.ui.layouts.SingleFrameLayout.prototype.updateStyle",$r.prototype.j);function as(){W.call(this,"V");P(this.i.V.a(),qj(Uq.oc,this.constructor.TITLE))}w(as,$r);v("xiv.ui.layouts.ThreeD",as);as.TITLE="ThreeD";as.ID_PREFIX="xiv.ui.layouts.ThreeD";v("xiv.ui.layouts.ThreeD.TITLE",as.TITLE);v("xiv.ui.layouts.ThreeD.ID_PREFIX",as.ID_PREFIX);function cs(){W.call(this,"X");P(this.i.X.a(),qj(Uq.oc,this.constructor.TITLE.toLowerCase()))}w(cs,$r);v("xiv.ui.layouts.Sagittal",cs);cs.TITLE="Sagittal";cs.ID_PREFIX="xiv.ui.layouts.Sagittal";v("xiv.ui.layouts.Sagittal.TITLE",cs.TITLE);v("xiv.ui.layouts.Sagittal.ID_PREFIX",cs.ID_PREFIX);function ds(){W.call(this)}w(ds,W);v("xiv.ui.layouts.Conventional",ds);ds.TITLE="Conventional";ds.ID_PREFIX="xiv.ui.layouts.Conventional";ds.CSS_SUFFIX={jg:"x",oe:"y",Yk:"z",dp:"v",IN:"v-boundary"};f=ds.prototype;f.be=function(){ds.c.be.call(this);this.Ch("X",["RIGHT","TOP_RIGHT"]);G(this.i.X.L(),"resize",this.Ce.bind(this));G(this.i.X.L(),"resize_end",this.j.bind(this))};
f.Zf=function(){ds.c.Zf.call(this);this.Ch("Y",["RIGHT","TOP_RIGHT"]);G(this.i.Y.L(),"resize",this.Fg.bind(this));G(this.i.Y.L(),"resize_end",this.j.bind(this))};f.Ti=function(){ds.c.Ti.call(this)};f.zo=function(){ds.c.zo.call(this);this.Ch("V","BOTTOM");G(this.i.V.L(),"resize",this.Uq.bind(this));G(this.i.V.L(),"resize_end",this.j.bind(this))};f.Mi=function(a){this.eh();var b=Li(this.i.X.a()),c=Li(this.i.Y.a()),d=Li(this.i.Z.a());a(b,c,d,b.width+c.width+d.width-this.q.width)};
f.Ce=function(){this.Mi(function(a,b,c){b=Math.max(this.q.width-a.width-c.width,this.Lb);var d=this.q.height-a.height;vi(this.i.Y.a(),a.width,d);Ii(this.i.Y.a(),b,a.height);vi(this.i.Z.a(),a.width+b,d);Ii(this.i.Z.a(),c.width,a.height);Ii(this.i.V.a(),this.q.width,this.q.height-a.height)}.bind(this));this.sg()};
f.Fg=function(){this.Mi(function(a,b){var c=this.q.height-b.height;vi(this.i.X.a(),0,c);Ii(this.i.X.a(),a.width,b.height);vi(this.i.Z.a(),a.width+b.width,c);Ii(this.i.Z.a(),this.q.width-a.width-b.width,b.height);Ii(this.i.V.a(),this.q.width,this.q.height-b.height)}.bind(this));this.sg()};f.Uq=function(){this.eh();var a=parseInt(this.i.V.a().style.height),b=this.q.height-a;C(this.i,function(c){c!==this.i.V&&lk(c.a(),{top:a,height:b})}.bind(this));this.fe();this.ge();this.sg()};
f.j=function(){ds.c.j.call(this);this.Lk();this.dw();this.ew();this.fe();this.ge();this.Ie()};f.dw=function(){var a=parseInt(this.i.V.a().style.height),b=Math.max(this.q.height-a,this.Rc);this.ef(function(c){c.a().style.top=a+"px";c.a().style.height=b+"px"})};f.ew=function(){var a,b=1-(this.ba.width-this.q.width)/this.ba.width;this.ba.width!==this.q.width&&this.ef(function(c){a=Li(c.a());c.a().style.width=Math.max(a.width*b,this.Lb).toString()+"px"}.bind(this))};
f.To=function(a){var b=this.i.V.L().El("BOTTOM"),c=this.i[a].L().bd(),d=xi(this.i[a].a()),e=Li(this.i[a].a());vi(c,parseInt(c.style.left),this.Rc);Ii(c,this.q.width-3*this.Lb,this.q.height-2*this.Rc);c=this.i[a].L().cd("RIGHT");vi(c,d.x+e.width,d.y);Ki(c,this.q.height-b.Pa.y);vi(this.i[a].L().cd("TOP_RIGHT"),d.x+e.width,d.y);this.i[a].L().update()};f.fe=function(){lk(this.i.X.L().bd(),{left:this.Lb});this.To("X")};
f.ge=function(){this.i.Y.a().style.left=this.i.X.a().style.width;lk(this.i.Y.L().bd(),{left:2*this.Lb});this.To("Y")};f.Ie=function(){this.i.Z.a().style.left=(parseInt(this.i.X.a().style.width)+parseInt(this.i.Y.a().style.width)).toString()+"px"};
f.Lk=function(){if(this.ba.width!==this.q.width||this.ba.height!==this.q.height){var a=Li(this.i.V.a());Ii(this.i.V.a(),this.q.width,Math.max(a.height*(1-(this.ba.height-this.q.height)/this.ba.height),this.Rc))}vi(this.i.V.L().bd(),this.q.width,this.Rc);Ii(this.i.V.L().bd(),this.q.width-3*this.Lb,this.q.height-2*this.Rc);a=this.i.V.L().cd("BOTTOM");vi(a,0,Li(this.i.V.a()).height);Ji(a,this.q.width);this.i.V.L().update()};v("xiv.ui.layouts.Conventional.TITLE",ds.TITLE);
v("xiv.ui.layouts.Conventional.EventType",{});v("xiv.ui.layouts.Conventional.ID_PREFIX",ds.ID_PREFIX);v("xiv.ui.layouts.Conventional.CSS_SUFFIX",ds.CSS_SUFFIX);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_X",ds.prototype.be);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_Y",ds.prototype.Zf);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_Z",ds.prototype.Ti);v("xiv.ui.layouts.Conventional.prototype.setupLayoutFrame_V",ds.prototype.zo);
v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_X",ds.prototype.Ce);v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_Y",ds.prototype.Fg);v("xiv.ui.layouts.Conventional.prototype.onLayoutFrameResize_V",ds.prototype.Uq);v("xiv.ui.layouts.Conventional.prototype.updateStyle",ds.prototype.j);v("xiv.ui.layouts.Conventional.prototype.updateStyle_X",ds.prototype.fe);v("xiv.ui.layouts.Conventional.prototype.updateStyle_Y",ds.prototype.ge);
v("xiv.ui.layouts.Conventional.prototype.updateStyle_Z",ds.prototype.Ie);v("xiv.ui.layouts.Conventional.prototype.updateStyle_V",ds.prototype.Lk);function es(){W.call(this,"Z");P(this.i.Z.a(),qj(Uq.oc,this.constructor.TITLE))}w(es,$r);v("xiv.ui.layouts.Transverse",es);es.TITLE="Transverse";es.ID_PREFIX="xiv.ui.layouts.Transverse";v("xiv.ui.layouts.Transverse.TITLE",es.TITLE);v("xiv.ui.layouts.Transverse.ID_PREFIX",es.ID_PREFIX);function fs(){W.call(this)}w(fs,W);v("xiv.ui.layouts.FourUp",fs);fs.TITLE="Four-Up";fs.ID_PREFIX="xiv.ui.layouts.FourUp";fs.CSS_SUFFIX={jg:"x",oe:"y",Yk:"z",dp:"v"};f=fs.prototype;f.be=function(){fs.c.be.call(this);this.Ch("X",["RIGHT","TOP","TOP_RIGHT"]);G(this.i.X.L(),"resize",this.Ce.bind(this));G(this.i.X.L(),"resize_end",this.j.bind(this))};
f.Ce=function(){var a=xi(this.i.X.a()),b=Li(this.i.X.a());vi(this.i.Y.a(),b.width,a.y);Ii(this.i.Y.a(),this.q.width-b.width,b.height);vi(this.i.Z.a(),0,0);Ii(this.i.Z.a(),b.width,a.y);vi(this.i.V.a(),b.width,0);Ii(this.i.V.a(),this.q.width-b.width,a.y);a=this.i.X.L().El("RIGHT").cd();a.style.top="0px";a.style.height=this.q.height.toString()+"px";this.sg()};f.j=function(){fs.c.j.call(this);this.io();this.Ie();this.Lk();this.fe();this.ge()};
f.io=function(){if(this.ba.width!==this.q.width||this.ba.height!==this.q.height){var a=this.ba.height*(1-(this.ba.height-this.q.height)/this.ba.height)/2,b=this.ba.width*(1-(this.ba.width-this.q.width)/this.ba.width)/2;this.loop(function(c){Ii(c.a(),Math.max(b,this.Lb),Math.max(a,this.Rc))}.bind(this))}};
f.fe=function(){this.i.X.a().style.top=this.i.Z.a().style.height;vi(this.i.X.L().bd(),this.Lb,this.Rc);Ii(this.i.X.L().bd(),this.q.width-2*this.Lb,this.q.height-2*this.Rc);var a=this.i.X.L().El("TOP").cd();a.style.left="0px";a.style.width=this.q.width.toString()+"px";this.i.X.L().update();a=this.i.X.L().El("RIGHT").cd();a.style.top="0px";a.style.height=this.q.height.toString()+"px"};f.ge=function(){this.i.Y.a().style.left=this.i.Z.a().style.width;this.i.Y.a().style.top=this.i.Z.a().style.height};
f.Ie=function(){};f.Lk=function(){this.i.V.a().style.left=this.i.Z.a().style.width};f.e=function(){fs.c.e.call(this)};v("xiv.ui.layouts.FourUp.TITLE",fs.TITLE);v("xiv.ui.layouts.FourUp.EventType",{});v("xiv.ui.layouts.FourUp.ID_PREFIX",fs.ID_PREFIX);v("xiv.ui.layouts.FourUp.CSS_SUFFIX",fs.CSS_SUFFIX);v("xiv.ui.layouts.FourUp.prototype.setupLayoutFrame_X",fs.prototype.be);v("xiv.ui.layouts.FourUp.prototype.onLayoutFrameResize_X",fs.prototype.Ce);v("xiv.ui.layouts.FourUp.prototype.updateStyle",fs.prototype.j);
v("xiv.ui.layouts.FourUp.prototype.updateStyle_X",fs.prototype.fe);v("xiv.ui.layouts.FourUp.prototype.updateStyle_Y",fs.prototype.ge);v("xiv.ui.layouts.FourUp.prototype.updateStyle_Z",fs.prototype.Ie);v("xiv.ui.layouts.FourUp.prototype.updateStyle_V",fs.prototype.Lk);v("xiv.ui.layouts.FourUp.prototype.disposeInternal",fs.prototype.e);function gs(){W.call(this,["X","Y","Z"])}w(gs,W);v("xiv.ui.layouts.TwoDRow",gs);gs.TITLE="TwoDRow";gs.ID_PREFIX="xiv.ui.layouts.TwoDRow";gs.CSS_SUFFIX={jg:"x",oe:"y",Yk:"z"};f=gs.prototype;f.be=function(){gs.c.be.call(this);this.Ch("X",["RIGHT"]);G(this.i.X.L(),"resize",this.Ce.bind(this));G(this.i.X.L(),"resize_end",this.j.bind(this))};f.Zf=function(){gs.c.Zf.call(this);this.Ch("Y",["RIGHT"]);G(this.i.Y.L(),"resize",this.Fg.bind(this));G(this.i.Y.L(),"resize_end",this.j.bind(this))};f.Ti=function(){gs.c.Ti.call(this)};
f.Mi=function(a){this.eh();var b=Li(this.i.X.a()),c=Li(this.i.Y.a()),d=Li(this.i.Z.a());a(b,c,d,b.width+c.width+d.width-this.q.width)};f.Ce=function(){this.Mi(function(a,b,c){b=Math.max(this.q.width-a.width-c.width,this.Lb);var d=this.q.height-a.height;vi(this.i.Y.a(),a.width,d);Ii(this.i.Y.a(),b,a.height);vi(this.i.Z.a(),a.width+b,d);Ii(this.i.Z.a(),c.width,a.height)}.bind(this));this.sg()};
f.Fg=function(){this.Mi(function(a,b){var c=this.q.height-b.height;vi(this.i.X.a(),0,c);Ii(this.i.X.a(),a.width,b.height);vi(this.i.Z.a(),a.width+b.width,c);Ii(this.i.Z.a(),this.q.width-a.width-b.width,b.height)}.bind(this));this.sg()};f.j=function(){gs.c.j.call(this);this.ew();this.dw();this.fe();this.ge();this.Ie()};f.dw=function(){var a=this.q.height.toString()+"px";this.ef(function(b){b.a().style.height=a})};
f.ew=function(){var a,b=1-(this.ba.width-this.q.width)/this.ba.width;this.ba.width!==this.q.width&&this.ef(function(c){a=Li(c.a());newWidth=c.a().style.width=Math.max(a.width*b,this.Lb).toString()+"px"}.bind(this))};f.To=function(a){var b=this.i[a].L().bd(),c=xi(this.i[a].a()),d=Li(this.i[a].a());vi(b,parseInt(b.style.left),this.Rc);Ii(b,this.q.width-3*this.Lb,this.q.height-2*this.Rc);b=this.i[a].L().cd("RIGHT");vi(b,c.x+d.width,c.y);Ki(b,this.q.height);this.i[a].L().update()};
f.fe=function(){lk(this.i.X.L().bd(),{left:this.Lb});this.To("X")};f.ge=function(){this.i.Y.a().style.left=this.i.X.a().style.width;lk(this.i.Y.L().bd(),{left:2*this.Lb});this.To("Y")};f.Ie=function(){this.i.Z.a().style.left=(parseInt(this.i.X.a().style.width)+parseInt(this.i.Y.a().style.width)).toString()+"px"};v("xiv.ui.layouts.TwoDRow.TITLE",gs.TITLE);v("xiv.ui.layouts.TwoDRow.EventType",{});v("xiv.ui.layouts.TwoDRow.ID_PREFIX",gs.ID_PREFIX);v("xiv.ui.layouts.TwoDRow.CSS_SUFFIX",gs.CSS_SUFFIX);
v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_X",gs.prototype.be);v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_Y",gs.prototype.Zf);v("xiv.ui.layouts.TwoDRow.prototype.setupLayoutFrame_Z",gs.prototype.Ti);v("xiv.ui.layouts.TwoDRow.prototype.onLayoutFrameResize_X",gs.prototype.Ce);v("xiv.ui.layouts.TwoDRow.prototype.onLayoutFrameResize_Y",gs.prototype.Fg);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle",gs.prototype.j);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_X",gs.prototype.fe);
v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_Y",gs.prototype.ge);v("xiv.ui.layouts.TwoDRow.prototype.updateStyle_Z",gs.prototype.Ie);function hs(){W.call(this,"Y");P(this.i.Y.a(),qj(Uq.oc,this.constructor.TITLE.toLowerCase()))}w(hs,$r);v("xiv.ui.layouts.Coronal",hs);hs.TITLE="Coronal";hs.ID_PREFIX="xiv.ui.layouts.Coronal";v("xiv.ui.layouts.Coronal.TITLE",hs.TITLE);v("xiv.ui.layouts.Coronal.ID_PREFIX",hs.ID_PREFIX);function is(){V.call(this);this.constructor.Bw={};this.constructor.Bw[fs.TITLE]=fs;this.constructor.Bw[ds.TITLE]=ds;this.Uk={};this.Oi={};this.Ih={}}w(is,V);v("xiv.ui.layouts.LayoutHandler",is);is.ID_PREFIX="xiv.ui.layouts.LayoutHandler";is.CSS_SUFFIX={};f=is.prototype;f.gb=null;f.yd=null;f.du=!1;f.di=null;f.ee=null;f.Tx=!0;f.aI=function(){return this.du};f.zE=function(a){this.Tx=a};f.Xy=function(){return this.gb[this.Hc]};f.Yy=function(a){return this.gb[this.Hc].Ft(a)};
f.So=function(){null!=this.yd&&this.yd.So()};f.Gt=function(){return null!=this.yd?this.yd.qn():null};f.lG=function(a){return null!=this.yd?this.yd.hz(a):null};f.kG=function(a){return null!=this.yd?this.yd.dz(a):null};f.lz=function(a,b){return null!=this.yd?this.yd.gz(a,b):null};f.tB=function(a){this.Gk(a);null!=this.yd&&this.yd.kv();this.gb[a].tx();this.yd=this.gb[a]};f.ux=function(a,b){if(void 0 in this.Uk)throw Error(a+" is an already used layout title!");b&&(this.Uk[a]=b)};
f.Gk=function(a,b){if(!(a in this.Uk))throw Error("Invalid layout: "+a+"!");null==this.gb&&(this.gb={});a in this.gb||(this.gb[a]=new this.Uk[a],G(this.gb[a],"q",this.Vq.bind(this)),js(this.gb[a]),Sh(this.a(),this.gb[a].a()));this.dr=this.Hc;this.Hc=a;this.aC(!1===b?0:500)};function ks(a){var b;C(a.gb[a.Hc].i,function(a,d){b=this.lz(d,Wq);null!=b&&null==a[ls]&&(b.Sm(a.a()),a[ls]=!0)}.bind(a))}f.Vq=function(){this.dispatchEvent({type:"A"})};
f.aC=function(a){a=t(a)&&0<=a?a:500;this.dr==this.Hc?ks(this):this.dr?this.Tx?ms(this,a):ms(this,0):(ns(this,this.Hc),os(this,this.Hc))};function ps(a,b,c){D(Vh(b.a()),function(a){null!=this.Oi[c]||(this.Oi[c]=[]);this.Oi[c].push(a)}.bind(a))}function qs(a){C(a.Ih,function(a){Sh(this.a().parentNode,a)}.bind(a))}function rs(a,b){var c=[];C(a.Ih,function(a,e){c=Lb(c,Dk(a,this.di[e],this.ee[e],b))}.bind(a));return c}
function ms(a,b){var c=a.gb[a.Hc].i,d;ns(a,a.Hc);os(a,a.Hc);null!=a.di&&sb(a.di);null!=a.ee&&sb(a.ee);a.di={};a.ee={};C(a.gb[a.dr].i,function(a,b){d=a.a().cloneNode(!1);this.Ih[b]=d;ps(this,a,b);C(this.Oi,function(a,b){D(a,function(a){T(a);null!=this.Ih[b]&&this.Ih[b].appendChild(a)}.bind(this))}.bind(this));if(b in c){var k=Ck(a.a(),c[b].a());this.di[b]=k.DE;this.ee[b]=k.ZK}else this.di[b]={"z-index":0},this.ee[b]={opacity:0}}.bind(a));qs(a);Ek(rs(a,b),a.Ou.bind(a),a.Pu.bind(a),a.Nu.bind(a))}
f.Ou=function(){this.Mz();this.du=!0;this.dispatchEvent({type:"x",Xv:this.Ih})};var ls=B();f=is.prototype;f.Pu=function(){this.dispatchEvent({type:"z",Xv:this.Ih})};
f.Nu=function(){var a=this.gb[this.Hc].i;C(a,function(a,c){null!=this.Oi[c]&&D(this.Oi[c],function(c){a.a().appendChild(c)})}.bind(this));C(a,function(a,c){null!=this.ee[c]&&lk(a.a(),this.ee[c])}.bind(this));this.gb[this.Hc]!==this.yd&&this.gb[this.Hc].tv(this.Gt());ss(this);this.du=!1;ns(this,this.Hc);os(this,this.Hc);ts(this);this.dispatchEvent({type:"y",frames:a});ks(this);this.j()};function os(a,b){a.gb[b].a().style.opacity=1;a.gb[b].j()}
function ns(a,b){a.gb[b].a().style.visibility="visible";a.gb[b].j()}f.Mz=function(){C(this.gb,function(a){a.a().style.visibility="hidden";a.j()}.bind(this))};function ss(a){C(a.Ih,function(a){T(a);delete a})}function js(a){C(a.i,function(a){G(a.a(),"dblclick",function(){})})}f.UI=function(a){this.xO.push(a)};f.j=function(){is.c.j.call(this);this.gb[this.Hc].j()};
function ts(a){null!=a.di&&(C(a.di,function(a){sb(a)}),sb(a.ee),delete a.ee);null!=a.ee&&(C(a.ee,function(a){sb(a)}),sb(a.ee),delete a.ee)}f.e=function(){is.c.e.call(this);ts(this);delete this.Ih;sb(this.Oi);delete this.Oi;delete this.yd;this.fn(this.gb);delete this.gb;sb(this.Uk);delete this.Uk;delete this.Hc;delete this.dr};v("xiv.ui.layouts.LayoutHandler.EventType",{$L:"x",ZL:"y",aM:"z",Wr:"A"});v("xiv.ui.layouts.LayoutHandler.ID_PREFIX",is.ID_PREFIX);
v("xiv.ui.layouts.LayoutHandler.CSS_SUFFIX",is.CSS_SUFFIX);v("xiv.ui.layouts.LayoutHandler.ANIM_TIME",500);v("xiv.ui.layouts.LayoutHandler.SLIDER_BOUND",ls);v("xiv.ui.layouts.LayoutHandler.prototype.layoutChanging",is.prototype.aI);v("xiv.ui.layouts.LayoutHandler.prototype.animateLayoutChange",is.prototype.zE);v("xiv.ui.layouts.LayoutHandler.prototype.getCurrentLayout",is.prototype.Xy);v("xiv.ui.layouts.LayoutHandler.prototype.getCurrentLayoutFrame",is.prototype.Yy);
v("xiv.ui.layouts.LayoutHandler.prototype.updateInteractors",is.prototype.So);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractors",is.prototype.Gt);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorsByPlane",is.prototype.lG);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterFrameByPlane",is.prototype.kG);v("xiv.ui.layouts.LayoutHandler.prototype.getMasterInteractorByPlane",is.prototype.lz);v("xiv.ui.layouts.LayoutHandler.prototype.setMasterLayout",is.prototype.tB);
v("xiv.ui.layouts.LayoutHandler.prototype.addLayout",is.prototype.ux);v("xiv.ui.layouts.LayoutHandler.prototype.setLayout",is.prototype.Gk);v("xiv.ui.layouts.LayoutHandler.prototype.switchLayout",is.prototype.aC);v("xiv.ui.layouts.LayoutHandler.prototype.hideAllLayouts",is.prototype.Mz);v("xiv.ui.layouts.LayoutHandler.prototype.onLayoutFrameDoubleClicked",is.prototype.UI);v("xiv.ui.layouts.LayoutHandler.prototype.updateStyle",is.prototype.j);
v("xiv.ui.layouts.LayoutHandler.prototype.disposeInternal",is.prototype.e);function us(a,b){this.x=a;this.y=b}w(us,N);f=us.prototype;f.clone=function(){return new us(this.x,this.y)};f.Pf=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};f.scale=N.prototype.scale;f.pb=function(){this.x=-this.x;this.y=-this.y;return this};f.normalize=function(){return this.scale(1/this.Pf())};f.add=function(a){this.x+=a.x;this.y+=a.y;return this};f.mc=function(a){this.x-=a.x;this.y-=a.y;return this};
f.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};f.xl=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y};function vs(){Aq.call(this);this.Yf("Display All");this.Jp=R("div",{id:"CheckboxHodler_"+B()});P(this.Jp,vs.CSS.EC);this.Nj=new yq(!0);this.Nj.ob(this.Jp);this.Dk(this.Nj);G(this.Nj,"change",this.Lc.bind(this))}w(vs,Aq);v("xiv.ui.ctrl.CheckboxController",vs);vs.ID_PREFIX="xiv.ui.ctrl.CheckboxController";vs.CSS_SUFFIX={EC:"checkboxholder"};vs.prototype.jf=function(a){this.u.jf(a);this.Lc()};vs.prototype.Lc=function(){this.dispatchEvent({type:"p",checked:this.Nj.Ii()})};
vs.prototype.e=function(){vs.c.e.call(this);T(this.Jp);delete this.Jp;H(this.Nj);this.Nj.g();delete this.Nj};v("xiv.ui.ctrl.CheckboxController.ID_PREFIX",vs.ID_PREFIX);v("xiv.ui.ctrl.CheckboxController.CSS_SUFFIX",vs.CSS_SUFFIX);v("xiv.ui.ctrl.CheckboxController.prototype.setChecked",vs.prototype.jf);v("xiv.ui.ctrl.CheckboxController.prototype.dispatchComponentEvent",vs.prototype.Lc);v("xiv.ui.ctrl.CheckboxController.prototype.disposeInternal",vs.prototype.e);function ws(){V.call(this);this.Pc=R("img",{id:"nrg.ui.Thumbnail_"+B()});Sh(this.a(),this.Pc);this.Ge=R("div",{id:"DisplayText_"+B()});Sh(this.a(),this.Ge);this.xr();this.a().className=ws.oc;this.Pc.className=ws.CSS.Tk;this.Ge.className=ws.CSS.Vk;xs(this,!0);this.$n()}w(ws,V);v("nrg.ui.Thumbnail",ws);ws.ID_PREFIX="nrg.ui.Thumbnail";
ws.CSS_SUFFIX={Tk:"image",Vk:"text",JM:"selected",Zo:"mouseover",Aw:"image-mouseover",Kw:"text-mouseover",yw:"highlight",bj:"active",zw:"image-active",Jw:"text-active",QC:"hoverclone"};f=ws.prototype;f.by=null;f.Wb=null;f.wq=!1;f.aG=function(){return this.Pc};f.hB=function(a,b){this.by=a;this.Pc.onerror=function(){this.Pc.onerror="";this.Pc.src=this.by;null!=b&&b()}.bind(this)};f.PG=function(){return this.Ge};f.Kt=function(){for(var a=this.Ge;a.childNodes[0];)a=a.childNodes[0];return a.parentNode.innerHTML};
f.$e=function(){return this.Wb=this.Wb?this.Wb:this.a()};f.Ag=function(){return this.wq};f.sv=function(a){this.Pc.src=a;this.Pc.className=ws.CSS.Tk};f.vo=function(a){this.Ge.innerHTML=a};f.XA=function(){this.Wb&&(this.Wb.parentNode&&(this.Wb=this.Wb.parentNode.removeChild(this.Wb)),delete this.Wb,this.Wb=null)};
f.bn=function(a,b){this.XA();xs(this,!1);this.Wb=b?b:this.a().cloneNode(!0);this.Wb.setAttribute("id","HOVERABLE_"+this.a().getAttribute("id"));this.Wb.style.visibility="hidden";P(this.Wb,ws.CSS.QC);xs(this,!0);a&&a.appendChild(this.Wb);this.xr()};f.setActive=function(a,b){var c=this.a();(this.wq=a)?(b&&P(c,ws.CSS.yw),P(c,ws.CSS.bj),P(this.Ge,ws.CSS.Jw),P(this.Pc,ws.CSS.zw)):(vh(c,ws.CSS.yw),vh(c,ws.CSS.bj),vh(this.Ge,ws.CSS.Jw),vh(this.Pc,ws.CSS.zw))};f.j=function(a){a&&this.a()&&lk(this.a(),a)};
f.lv=function(){var a=this.a(),b=this.$e();if(b!==a){var c=ai(a,b),c=Ei(a,c),d=0,d=b.getElementsByTagName("img")[0].scrollWidth+b.getElementsByTagName("div")[0].scrollWidth+25,d=d>a.clientWidth?d:a.clientWidth;lk(b,{position:"absolute",left:c.x,top:c.y,width:d,visibility:"visible"})}};f.Wq=function(){var a=this.$e();P(a,ws.CSS.Zo);P(a.childNodes[1],ws.CSS.Kw);P(a.childNodes[0],ws.CSS.Aw);a!==this.a()&&this.lv();this.dispatchEvent("B")};
f.$n=function(){var a=this.$e();a&&1<a.childNodes.length&&(vh(a,ws.CSS.Zo),vh(a.childNodes[1],ws.CSS.Kw),vh(a.childNodes[0],ws.CSS.Aw),a.style.visibility=a!==this.a()?"hidden":"visible");this.dispatchEvent("C")};function xs(a,b){var c=a.$e();b?(G(c,"mouseover",a.Wq.bind(a)),G(c,"mouseout",a.$n.bind(a))):(Sc(c,"mouseover",a.Wq.bind(a)),Sc(c,"mouseout",a.$n.bind(a)))}f.xr=function(){Uc(this.$e(),"D")&&Tc("D");G(this.$e(),"click",function(){this.dispatchEvent({type:"D"})}.bind(this))};
f.e=function(){ws.c.e.call(this);H(this);H(this.a());null!=this.Wb&&(H(this.Wb),T(this.Wb),delete this.Wb);T(this.Pc);delete this.Pc;T(this.Ge);delete this.Ge;delete this.RN;delete this.wq};v("nrg.ui.Thumbnail.EventType",{Zo:"B",jD:"C",vL:"D"});v("nrg.ui.Thumbnail.ID_PREFIX",ws.ID_PREFIX);v("nrg.ui.Thumbnail.CSS_SUFFIX",ws.CSS_SUFFIX);v("nrg.ui.Thumbnail.HOVERABLE_PREFIX","HOVERABLE_");v("nrg.ui.Thumbnail.prototype.getImage",ws.prototype.aG);v("nrg.ui.Thumbnail.prototype.setBrokenThumbnailUrl",ws.prototype.hB);
v("nrg.ui.Thumbnail.prototype.getTextElement",ws.prototype.PG);v("nrg.ui.Thumbnail.prototype.getText",ws.prototype.Kt);v("nrg.ui.Thumbnail.prototype.getHoverable",ws.prototype.$e);v("nrg.ui.Thumbnail.prototype.isActive",ws.prototype.Ag);v("nrg.ui.Thumbnail.prototype.setImage",ws.prototype.sv);v("nrg.ui.Thumbnail.prototype.setText",ws.prototype.vo);v("nrg.ui.Thumbnail.prototype.removeHoverable",ws.prototype.XA);v("nrg.ui.Thumbnail.prototype.createHoverable",ws.prototype.bn);
v("nrg.ui.Thumbnail.prototype.setActive",ws.prototype.setActive);v("nrg.ui.Thumbnail.prototype.updateStyle",ws.prototype.j);v("nrg.ui.Thumbnail.prototype.repositionHoverable",ws.prototype.lv);v("nrg.ui.Thumbnail.prototype.onMouseOver",ws.prototype.Wq);v("nrg.ui.Thumbnail.prototype.onMouseOut",ws.prototype.$n);v("nrg.ui.Thumbnail.prototype.disposeInternal",ws.prototype.e);function ys(){V.call(this)}w(ys,V);v("nrg.ui.ScrollableContainer",ys);ys.ID_PREFIX="nrg.ui.ScrollableContainer";ys.CSS_SUFFIX={zD:"scrollarea",la:"slider",Nh:"slider-thumb",Oh:"slider-track",Xr:"slider-thumb-hovered",CD:"slider-track-hovered"};f=ys.prototype;
f.k=function(a){ys.c.k.call(this,a);null==this.Wf&&(this.Wf=R("div",{id:this.constructor.ID_PREFIX+"_ScrollArea_"+B(),"class":ys.CSS.zD}),this.a().appendChild(this.Wf));this.Ra=new Ir("vertical");this.Ra.k(this.a());G(this.Ra,"v",this.Qc.bind(this));this.Ra.Sm(this.a());P(this.Ra.a(),ys.CSS.la);P(this.Ra.zc,ys.CSS.Nh);P(this.Ra.jd,ys.CSS.Oh);this.Ra.Bp(ys.CSS.Xr);this.Ra.Fs(ys.CSS.CD);this.j();this.Qc()};f.Te=function(a){this.$||this.k();Sh(this.Wf,a);this.Qc()};f.a=function(){return this.l};
f.LG=function(){return this.Ra};f.HG=function(){return this.Wf};f.j=function(a){a&&lk(this.l,a)};f.Qc=function(){var a=Li(this.l).height,b=Li(this.Wf).height,c=[this.Ra.qa(),this.Ra.ea()],d=[0,b-a];a<b?(this.Ra.a().style.opacity=1,lk(this.Ra.zc,{height:a/b*a}),this.Ra.$b(!0),a=this.Ra.ea()-this.Ra.H(),c=dk(a,c,d).remappedVal,lk(this.Wf,{top:-c})):(this.Ra.a().style.opacity=0,this.Ra.$b(!1),this.Ra.D(100))};
f.e=function(){ys.c.e.call(this);null!=this.Ra&&(H(this.Ra),this.Ra.g(),delete this.Ra);null!=this.Wf&&(T(this.Wf),delete this.Wf)};v("nrg.ui.ScrollableContainer.ID_PREFIX",ys.ID_PREFIX);v("nrg.ui.ScrollableContainer.CSS_SUFFIX",ys.CSS_SUFFIX);v("nrg.ui.ScrollableContainer.MAX_LABEL_LENGTH",30);v("nrg.ui.ScrollableContainer.prototype.render",ys.prototype.k);v("nrg.ui.ScrollableContainer.prototype.addContents",ys.prototype.Te);v("nrg.ui.ScrollableContainer.prototype.getElement",ys.prototype.a);
v("nrg.ui.ScrollableContainer.prototype.getSlider",ys.prototype.LG);v("nrg.ui.ScrollableContainer.prototype.getScrollArea",ys.prototype.HG);v("nrg.ui.ScrollableContainer.prototype.updateStyle",ys.prototype.j);v("nrg.ui.ScrollableContainer.prototype.mapSliderToContents",ys.prototype.Qc);v("nrg.ui.ScrollableContainer.prototype.disposeInternal",ys.prototype.e);function zs(){V.call(this)}w(zs,ys);v("nrg.ui.ScrollableZippyTree",zs);zs.ID_PREFIX="nrg.ui.ScrollableZippyTree";zs.CSS_SUFFIX={WD:"zippytree"};f=zs.prototype;f.k=function(a){zs.c.k.call(this,a);this.ma=new hq;P(this.ma.a(),zs.CSS.WD);this.Wf.appendChild(this.ma.a());this.yo();this.Ra.IB(!0,.3)};f.Te=function(a,b){this.ma.Te(a,b);a=g(a)?a:[a];D(a,function(){}.bind(this));this.Ra.Sm(this.ma.a())};f.ak=function(){this.ma.ak()};f.Xm=function(){this.ma.Xm()};f.Db=function(a,b){this.ma.Db(a,b)};f.jH=function(){return this.ma};
f.sE=function(a){this.ma.$m(a);this.Qc()};f.yo=function(){G(this.ma,"n",this.Qc.bind(this));G(this.ma,"a",this.Qc.bind(this));G(this.ma,"b",this.Qc.bind(this));G(this.ma,nl.lD,this.Qc.bind(this))};f.j=function(a){a&&lk(this.a(),a)};f.e=function(){zs.c.e.call(this);null!=this.ma&&(H(this.ma),this.ma.g(),delete this.ma)};v("nrg.ui.ScrollableZippyTree.EventType",{});v("nrg.ui.ScrollableZippyTree.ID_PREFIX",zs.ID_PREFIX);v("nrg.ui.ScrollableZippyTree.CSS_SUFFIX",zs.CSS_SUFFIX);
v("nrg.ui.ScrollableZippyTree.prototype.render",zs.prototype.k);v("nrg.ui.ScrollableZippyTree.prototype.addContents",zs.prototype.Te);v("nrg.ui.ScrollableZippyTree.prototype.expandAll",zs.prototype.ak);v("nrg.ui.ScrollableZippyTree.prototype.collapseAll",zs.prototype.Xm);v("nrg.ui.ScrollableZippyTree.prototype.setExpanded",zs.prototype.Db);v("nrg.ui.ScrollableZippyTree.prototype.getZippyTree",zs.prototype.jH);v("nrg.ui.ScrollableZippyTree.prototype.addFolders",zs.prototype.sE);
v("nrg.ui.ScrollableZippyTree.prototype.setZippyTreeEvents",zs.prototype.yo);v("nrg.ui.ScrollableZippyTree.prototype.updateStyle",zs.prototype.j);v("nrg.ui.ScrollableZippyTree.prototype.disposeInternal",zs.prototype.e);function As(){$c.call(this);this.n="shaders";this.wp="";var a;a="precision mediump float;\n\n";a+="attribute vec3 vertexPosition;\n";a+="attribute vec3 vertexNormal;\n";a+="attribute vec3 vertexColor;\n";a+="attribute vec2 vertexTexturePos;\n";a+="attribute float vertexScalar;\n";a+="\n";a+="uniform mat4 view;\n";a+="uniform mat4 perspective;\n";a+="uniform vec3 center;\n";a+="uniform mat4 objectTransform;\n";a+="uniform bool useObjectColor;\n";a+="uniform bool useScalars;\n";a+="uniform bool scalarsReplaceMode;\n";
a+="uniform float scalarsMin;\n";a+="uniform float scalarsMax;\n";a+="uniform vec3 scalarsMinColor;\n";a+="uniform vec3 scalarsMaxColor;\n";a+="uniform float scalarsMinThreshold;\n";a+="uniform float scalarsMaxThreshold;\n";a+="uniform int scalarsInterpolation;\n";a+="uniform vec3 objectColor;\n";a+="uniform float pointSize;\n";a+="\n";a+="varying float fDiscardNow;\n";a+="varying vec4 fVertexPosition;\n";a+="varying vec3 fragmentColor;\n";a+="varying vec2 fragmentTexturePos;\n";a+="varying vec3 fVertexNormal;\n";
a+="varying vec3 fTransformedVertexNormal;\n";a+="\n";a+="void main(void) {\n";a+="  fTransformedVertexNormal = mat3(view[0].xyz,view[1].xyz,view[2].xyz) * ";a+="mat3(objectTransform[0].xyz,objectTransform[1].xyz,objectTransform[2].xyz) * ";a+="vertexNormal;\n";a+="  fVertexNormal = vertexNormal;\n";a+="  fDiscardNow = 0.0;\n";a+="  vec3 vertexPosition2 = vertexPosition - center;\n";a+="  fVertexPosition = view * objectTransform * vec4(vertexPosition2, 1.0);\n";a+="  fragmentTexturePos = vertexTexturePos;\n";
a+="  if (useScalars) {\n";a+="    float scalarValue = vertexScalar;\n";a+="    if (scalarValue < scalarsMinThreshold || scalarValue > scalarsMaxThreshold) {\n";a+="      if (scalarsReplaceMode) {\n";a+="        fragmentColor = objectColor;\n";a+="      } else {\n";a+="        fDiscardNow = 1.0;\n";a+="      }\n";a+="    } else {\n";a+="      if (scalarsReplaceMode) {\n";a+="        if (scalarsInterpolation == 1) {\n";a+="            vec3 zeroMaxColor;\n";a+="            vec3 zeroMinColor;\n";a+=
"            zeroMaxColor[0] = scalarsMaxColor[0]*0.33;\n";a+="            zeroMaxColor[1] = scalarsMaxColor[1]*0.33;\n";a+="            zeroMaxColor[2] = scalarsMaxColor[2]*0.33;\n";a+="            zeroMinColor[0] = scalarsMinColor[0]*0.33;\n";a+="            zeroMinColor[1] = scalarsMinColor[1]*0.33;\n";a+="            zeroMinColor[2] = scalarsMinColor[2]*0.33;\n";a+="            if(scalarValue < 0.0) {fragmentColor = scalarValue/(scalarsMin) * scalarsMinColor + (1.0 - scalarValue/(scalarsMin)) * (zeroMinColor);}\n";
a+="            else {fragmentColor = scalarValue/(scalarsMax) * scalarsMaxColor + (1.0 - scalarValue/(scalarsMax)) * (zeroMaxColor);}\n";a+="        } else {\n";a+="            fragmentColor = scalarValue * scalarsMaxColor + (1.0 - scalarValue) * scalarsMinColor;\n";a+="          }\n";a+="      } else {\n";a+="        fragmentColor = vertexColor;\n";a+="      }\n";a+="    }\n";a+="  } else if (useObjectColor) {\n";a+="    fragmentColor = objectColor;\n";a+="  } else {\n";a+="    fragmentColor = vertexColor;\n";
a+="  }\n";a+="  gl_PointSize = pointSize;\n";a+="  gl_Position = perspective * fVertexPosition;\n";this.wp=a+="}\n";this.lp="";a="precision mediump float;\n\n";a+="uniform bool usePicking;\n";a+="uniform bool useTexture;\n";a+="uniform bool volumeTexture;\n";a+="uniform bool useLabelMapTexture;\n";a+="uniform sampler2D textureSampler;\n";a+="uniform sampler2D textureSampler2;\n";a+="uniform float objectOpacity;\n";a+="uniform float labelmapOpacity;\n";a+="uniform vec4 labelmapColor;\n";a+="uniform float volumeLowerThreshold;\n";
a+="uniform float volumeUpperThreshold;\n";a+="uniform float volumeScalarMin;\n";a+="uniform float volumeScalarMax;\n";a+="uniform vec3 volumeScalarMinColor;\n";a+="uniform vec3 volumeScalarMaxColor;\n";a+="uniform float volumeWindowLow;\n";a+="uniform float volumeWindowHigh;\n";a+="\n";a+="varying float fDiscardNow;\n";a+="varying vec4 fVertexPosition;\n";a+="varying vec3 fragmentColor;\n";a+="varying vec2 fragmentTexturePos;\n";a+="varying vec3 fVertexNormal;\n";a+="varying vec3 fTransformedVertexNormal;\n";
a+="\n";a+="void main(void) {\n";a+=" if (fDiscardNow > 0.0) {\n";a+="   discard;\n";a+=" }\n";a+=" if (usePicking) {\n";a+="   gl_FragColor = vec4(fragmentColor, 1.0);\n";a+=" } else if (useTexture) {\n";a+="   vec4 texture1 = texture2D(textureSampler,fragmentTexturePos);\n";a+="   vec4 textureSum = texture1;\n";a+="   if (volumeTexture) {\n";a+="     float _windowLow = (volumeWindowLow / volumeScalarMax);\n";a+="     float _windowHigh = (volumeWindowHigh / volumeScalarMax);\n";a+="     vec3 _minrange = vec3(_windowLow,_windowLow,_windowLow);\n";
a+="     vec3 _maxrange = vec3(_windowHigh,_windowHigh,_windowHigh);\n";a+="     vec3 fac = _maxrange - _minrange;\n";a+="     textureSum = vec4((textureSum.r - _minrange)/fac,1);\n";a+="     textureSum = textureSum.r * vec4(volumeScalarMaxColor,1) + (1.0 - textureSum.r) * vec4(volumeScalarMinColor,1);\n";a+="   }\n";a+="   if (useLabelMapTexture) {\n";a+="     vec4 texture2 = texture2D(textureSampler2,fragmentTexturePos);\n";a+="     if (texture2.a > 0.0) {\n";a+="         if (labelmapColor.a != -255.0) {\n";
a+="           if (all(equal(floor(texture2 * vec4(255)), labelmapColor))) {\n";a+="             if (labelmapOpacity < 1.0) {\n";a+="               textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n";a+="             } else {\n";a+="               textureSum = texture2;\n";a+="             }\n";a+="           }\n";a+="         } else {\n";a+="           if (labelmapOpacity < 1.0) {\n";a+="             textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n";a+="           } else {\n";
a+="             textureSum = texture2;\n";a+="           }\n";a+="         }\n";a+="     }\n";a+="   }\n";a+="   if (volumeTexture) {\n";a+="     float _volumeLowerThreshold = (volumeLowerThreshold / volumeScalarMax);\n";a+="     float _volumeUpperThreshold = (volumeUpperThreshold / volumeScalarMax);\n";a+="     if (texture1.r < _volumeLowerThreshold ||\n";a+="         texture1.r > _volumeUpperThreshold ||\n";a+="         texture1.a == 0.0 ) {\n";a+="       discard;\n";a+="     };\n";a+="   };\n";
a+="   gl_FragColor = textureSum;\n";a+="   gl_FragColor.a = objectOpacity;\n";a+=" } else {\n";a+="   vec3 nNormal = normalize(fTransformedVertexNormal);\n";a+="   if (fVertexNormal == vec3(0.0,0.0,0.0)) {\n";a+="     gl_FragColor = vec4(fragmentColor,1.0);\n";a+="     return;\n";a+="   }\n";a+="   vec3 light = vec3(0.0, 0.0, 1.0);\n";a+="   vec3 lightDirection = vec3(0,0,-10);\n";a+="   lightDirection = normalize(lightDirection);\n";a+="   vec3 eyeDirection = normalize(-fVertexPosition.xyz);\n";
a+="   vec3 reflectionDirection = reflect(-lightDirection, nNormal);\n";a+="   float specular = pow(max(dot(reflectionDirection, eyeDirection), 0.0), 10.0);\n";a+="   float diffuse = 0.8 * max(dot(nNormal, light), 0.0);\n";a+="   float ambient = 0.3;\n";a+="   gl_FragColor = vec4(fragmentColor * ambient +\n";a+="                       fragmentColor * diffuse +\n";a+="                       vec3(0.2, 0.2, 0.2) * specular,\n";a+="                       objectOpacity);\n";a+=" }\n";this.lp=a+="}\n"}
w(As,$c);
var Bs={qN:"vertexPosition",pN:"vertexNormal",oN:"vertexColor",sN:"vertexTexturePos",rN:"vertexScalar"},Cs={uN:"view",rM:"perspective",sL:"center",oM:"objectTransform",kN:"useObjectColor",mM:"objectColor",mN:"useScalars",HM:"scalarsReplaceMode",EM:"scalarsMin",BM:"scalarsMax",FM:"scalarsMinColor",CM:"scalarsMaxColor",GM:"scalarsMinThreshold",DM:"scalarsMaxThreshold",AM:"scalarsInterpolation",sM:"pointSize",nM:"objectOpacity",lM:"normal",lN:"usePicking",nN:"useTexture",jN:"useLabelMapTexture",YL:"labelmapOpacity",
XL:"labelmapColor",XM:"textureSampler",YM:"textureSampler2",yN:"volumeLowerThreshold",FN:"volumeUpperThreshold",CN:"volumeScalarMin",AN:"volumeScalarMax",DN:"volumeScalarMinColor",BN:"volumeScalarMaxColor",HN:"volumeWindowLow",GN:"volumeWindowHigh",EN:"volumeTexture"};
function Ds(a){var b=Object.keys(Cs);if(!Object.keys(Bs).every(function(a){a=Bs[a];return-1!=this.wp.search(a)||-1!=this.lp.search(a)}.bind(a)))throw Error("Could not find all attributes in the shader sources.");if(!b.every(function(a){a=Cs[a];return-1!=this.wp.search(a)||-1!=this.lp.search(a)}.bind(a)))throw Error("Could not find all uniforms in the shader sources.");};function Es(a,b,c){if(null==a)throw Error("Invalid GL Buffer.");if(null==b)throw Error("Invalid number of items.");if(null==c)throw Error("Invalid item size.");$c.call(this);this.n="buffer";this.jb=a;this.vm=b;this.Th=c}w(Es,$c);function Fs(a,b){this.$s=a instanceof N?a:new N(a,b)}w(Fs,Jo);Fs.prototype.Yd=function(a,b,c,d){po(yi(a),0,a,b,this.$s,c,null,d)};function Gs(a,b){this.$J=4;this.gv=b||void 0;mm.call(this,a)}w(Gs,mm);Gs.prototype.wv=function(a){this.gv=a||void 0;this.ra()&&this.Yd()};Gs.prototype.Yd=function(){if(this.gv){var a=!this.ra()&&"move_offscreen"!=this.jm,b=this.a();a&&(b.style.visibility="hidden",Pi(b,!0));this.gv.Yd(b,this.$J,this.mO);a&&Pi(b,!1)}};function Hs(a,b,c){this.bb=c||(a?Bh(Eh(a)):Bh());Gs.call(this,this.bb.p("div",{style:"position:absolute;display:none;"}));this.ft=new N(1,1);this.Zj=new fg;a&&this.pl(a);null!=b&&this.vo(b)}w(Hs,Gs);var Is=[];f=Hs.prototype;f.Ld=null;f.className="goog-tooltip";f.QB=500;f.AH=0;f.G=function(){return this.bb};f.pl=function(a){a=Eh(a);this.Zj.add(a);G(a,"mouseover",this.kk,!1,this);G(a,"mouseout",this.nq,!1,this);G(a,"mousemove",this.Cz,!1,this);G(a,"focus",this.ik,!1,this);G(a,"blur",this.nq,!1,this)};
f.detach=function(a){if(a)a=Eh(a),Js(this,a),this.Zj.remove(a);else{for(var b=this.Zj.fk(),c=0;a=b[c];c++)Js(this,a);this.Zj.clear()}};function Js(a,b){Sc(b,"mouseover",a.kk,!1,a);Sc(b,"mouseout",a.nq,!1,a);Sc(b,"mousemove",a.Cz,!1,a);Sc(b,"focus",a.ik,!1,a);Sc(b,"blur",a.nq,!1,a)}f.vo=function(a){bi(this.a(),a)};f.qv=function(a){var b=this.a();b&&T(b);Hs.c.qv.call(this,a);a&&(b=this.bb.ia.body,b.insertBefore(a,b.lastChild))};f.Kt=function(){return hi(this.a())};
f.Fl=function(){return this.Ui?this.ra()?4:1:this.zn?3:this.ra()?2:0};f.Eu=function(){if(!mm.prototype.Eu.call(this))return!1;if(this.anchor)for(var a,b=0;a=Is[b];b++)$h(a.a(),this.anchor)||a.R(!1);Jb(Is,this);a=this.a();a.className=this.className;Ks(this);G(a,"mouseover",this.Jz,!1,this);G(a,"mouseout",this.Iz,!1,this);Ls(this);return!0};
f.Lu=function(){Kb(Is,this);for(var a=this.a(),b,c=0;b=Is[c];c++)b.anchor&&$h(a,b.anchor)&&b.R(!1);this.MA&&Ms(this.MA);Sc(a,"mouseover",this.Jz,!1,this);Sc(a,"mouseout",this.Iz,!1,this);this.anchor=void 0;0==this.Fl()&&(this.or=!1);mm.prototype.Lu.call(this)};f.oA=function(a,b){this.anchor==a&&this.Zj.contains(this.anchor)&&(this.or||!this.CO?(this.R(!1),this.ra()||(this.anchor=a,this.wv(b||Ns(this,0)),this.R(!0))):this.anchor=void 0);this.Ui=void 0};
f.lI=function(a){this.zn=void 0;a==this.anchor&&(null!=this.Ld&&(this.Ld==this.a()||this.Zj.contains(this.Ld))||this.fy&&this.fy.Ld||this.R(!1))};function Os(a,b){var c=pi(a.bb);a.ft.x=b.clientX+c.x;a.ft.y=b.clientY+c.y}f.kk=function(a){var b=Ps(this,a.target);this.Ld=b;Ks(this);b!=this.anchor&&(this.anchor=b,this.Ui||(this.Ui=Tf(ta(this.oA,this,b,void 0),this.QB)),Qs(this),Os(this,a))};function Ps(a,b){try{for(;b&&!a.Zj.contains(b);)b=b.parentNode;return b}catch(c){return null}}
f.Cz=function(a){Os(this,a);this.or=!0};f.ik=function(a){this.Ld=a=Ps(this,a.target);this.or=!0;if(this.anchor!=a){this.anchor=a;var b=Ns(this,1);Ks(this);this.Ui||(this.Ui=Tf(ta(this.oA,this,a,b),this.QB));Qs(this)}};function Ns(a,b){if(0==b){var c=a.ft.clone();return new Rs(c)}return new Ss(a.Ld)}function Qs(a){if(a.anchor)for(var b,c=0;b=Is[c];c++)$h(b.a(),a.anchor)&&(b.fy=a,a.MA=b)}
f.nq=function(a){var b=Ps(this,a.target),c=Ps(this,a.relatedTarget);b!=c&&(b==this.Ld&&(this.Ld=null),Ls(this),this.or=!1,!this.ra()||a.relatedTarget&&$h(this.a(),a.relatedTarget)?this.anchor=void 0:Ms(this))};f.Jz=function(){var a=this.a();this.Ld!=a&&(Ks(this),this.Ld=a)};f.Iz=function(a){var b=this.a();this.Ld!=b||a.relatedTarget&&$h(b,a.relatedTarget)||(this.Ld=null,Ms(this))};function Ls(a){a.Ui&&(ba.clearTimeout(a.Ui),a.Ui=void 0)}
function Ms(a){2==a.Fl()&&(a.zn=Tf(ta(a.lI,a,a.anchor),a.AH))}function Ks(a){a.zn&&(ba.clearTimeout(a.zn),a.zn=void 0)}f.e=function(){this.R(!1);Ls(this);this.detach();this.a()&&T(this.a());this.Ld=null;delete this.bb;Hs.c.e.call(this)};function Rs(a,b){Fs.call(this,a,b)}w(Rs,Fs);Rs.prototype.Yd=function(a,b,c){b=yi(a);b=Bi(b);c=c?new nh(c.top+10,c.right,c.bottom,c.left+10):new nh(10,0,0,10);ro(this.$s,a,4,c,b,9)&496&&ro(this.$s,a,4,c,b,5)};function Ss(a){Ko.call(this,a,3)}w(Ss,Ko);
Ss.prototype.Yd=function(a,b,c){var d=new N(10,0);po(this.element,this.Zm,a,b,d,c,9)&496&&po(this.element,2,a,1,d,c,5)};function Ts(a,b,c,d){if(null==a)throw Error("No valid parent element.");if(!t(b)||!t(c))throw Error("Invalid coordinates.");if(!(null!=d&&d instanceof ar))throw Error("Invalid interactor.");Hs.call(this);this.n="caption";this.Re=a;this.zp=b;this.Ap=c;this.wa=d;this.ah=null;this.tj=[];a=".x-tooltip {\n  background: #C0C0FF;\n  color: #000000;\n";a+="  border: 1px solid infotext;\n";a+="  padding: 1px;\n";a+="  font-family: sans-serif;\n";a+="}";this.tj=[a];Rc(d,ke,this.Ln.bind(this));this.Vt()}
w(Ts,Hs);Ts.prototype.Vt=function(){var a=si(this.Re,"position");if("static"==a||""==a)this.Re.style.position="relative";var a=document.getElementsByTagName("head")[0],b=R("style");b.type="text/css";b.media="screen";var c=document.createTextNode(String(this.tj[0]));a.appendChild(b);b.appendChild(c);this.ah=b;this.wv(new Fs(this.zp,this.Ap));this.R(!0);this.pl(this.Re);this.a().classList.add("x-tooltip")};Ts.prototype.Ln=function(){this.R(!1);this.ah&&T(this.ah);this.a()&&T(this.a());this.ah=null};function Us(){xr.call(this);this.n="renderer3D";this.Bm=this.Em=this.Am=this.Dm=this.zm=this.Cm=this.vs=this.ws=null;this.Ea=[0,0,0];this.sm=[0,0,0];this.hx=null;this.es=new gd;this.Mm=new gd;this.Gj=new gd;this.Fm=new gd;this.al=new gd;this.jl=new gd;this.Ej=new gd;this.Lm=new gd;this.ib={PROGRESSBAR_ENABLED:!0,PICKING_ENABLED:!0,ORDERING_ENABLED:!0,STATISTICS_ENABLED:!1,INTERMEDIATE_RENDERING:!1}}w(Us,xr);Us.prototype.__defineGetter__("config",function(){return this.ib});f=Us.prototype;
f.jK=function(){this.Bm=this.Em=this.Am=this.Dm=this.zm=this.Cm=null;this.Ea=[0,0,0]};f.Mu=function(a){Us.c.Mu.call(this,a);var b=a.zp;a=a.Ap;var c=this.dv(b,a);if(c=this.get(c))if(c=c.$k){var d=Fi(this.na),b=new Ts(this.na,d.x+b+10,d.y+a+10,this.wa);a=km(c,null);if(b=b.a())b.innerHTML=jm(a)}};
f.ja=function(){Us.c.ja.call(this,"experimental-webgl");try{if(this.b.viewport(0,0,this.Na,this.za),this.b.clearColor(this.sm[0],this.sm[1],this.sm[2],0),this.b.enable(this.b.BLEND),this.b.blendEquation(this.b.FUNC_ADD),this.b.blendFunc(this.b.SRC_ALPHA,this.b.ONE_MINUS_SRC_ALPHA),this.b.enable(this.b.DEPTH_TEST),this.b.depthFunc(this.b.LEQUAL),this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT),this.ib.PICKING_ENABLED){var a=this.b.createFramebuffer(),b=this.b.createRenderbuffer(),c=this.b.createTexture();
this.b.bindTexture(this.b.TEXTURE_2D,c);this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGB,this.Na,this.za,0,this.b.RGB,this.b.UNSIGNED_BYTE,null);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.NEAREST);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.NEAREST);this.b.bindFramebuffer(this.b.FRAMEBUFFER,
a);this.b.bindRenderbuffer(this.b.RENDERBUFFER,b);this.b.renderbufferStorage(this.b.RENDERBUFFER,this.b.DEPTH_COMPONENT16,this.Na,this.za);this.b.bindRenderbuffer(this.b.RENDERBUFFER,null);this.b.framebufferTexture2D(this.b.FRAMEBUFFER,this.b.COLOR_ATTACHMENT0,this.b.TEXTURE_2D,c,0);this.b.framebufferRenderbuffer(this.b.FRAMEBUFFER,this.b.DEPTH_ATTACHMENT,this.b.RENDERBUFFER,b);this.b.bindFramebuffer(this.b.FRAMEBUFFER,null);this.hx=a}}catch(d){throw Error("Exception while accessing GL Context!\n"+
d);}a=new As;Vs(this,a)};
function Vs(a,b){if(null==a.fc||null==a.b||null==a.aa)throw Error("Renderer was not initialized properly.");if(!(null!=b&&b instanceof As))throw Error("Could not add shaders.");Ds(b);var c=a.b.createShader(a.b.FRAGMENT_SHADER),d=a.b.createShader(a.b.VERTEX_SHADER);a.b.shaderSource(c,b.lp);a.b.shaderSource(d,b.wp);a.b.compileShader(c);a.b.compileShader(d);if(!a.b.getShaderParameter(c,a.b.COMPILE_STATUS))throw Error("Fragement Shader compilation failed!\n"+a.b.getShaderInfoLog(c));if(!a.b.getShaderParameter(d,
a.b.COMPILE_STATUS))throw Error("Vertex Shader compilation failed!\n"+a.b.getShaderInfoLog(d));var e=a.b.createProgram();a.b.attachShader(e,d);a.b.attachShader(e,c);a.b.linkProgram(e);if(!a.b.getProgramParameter(e,a.b.LINK_STATUS))throw Error("Could not create shader program!\n"+a.b.getShaderInfoLog(c)+"\n"+a.b.getShaderInfoLog(d)+"\n"+a.b.getProgramInfoLog(e));a.b.useProgram(e);a.vs=e;Object.keys(Bs).forEach(function(a){a=Bs[a];this.es.set(a,this.b.getAttribLocation(this.vs,a));this.b.enableVertexAttribArray(this.es.get(a))}.bind(a));
Object.keys(Cs).forEach(function(a){a=Cs[a];this.Mm.set(a,this.b.getUniformLocation(this.vs,a))}.bind(a));a.ws=b}
f.bg=function(a){Us.c.bg.call(this,a);var b=!1;if(null!=a){this.get(a.rc)&&(b=!0);var c=a.rc,d=a.s,e=a.S,h=a.qc,k=a.Ma,l=a.W,n=a.Sb,m=a.Wc,p=a.m,q=a.La;if(null!=p&&null!=p.W&&p.W.B)this.bg(p);else if(null!=p&&p.B&&this.bg(p),null!=m&&null!=m.W&&m.W.B)this.yb.load(m,a);else if(null!=k&&null!=k.W&&k.W.B)this.yb.load(k,a);else{if(null!=l&&g(l))if(null!=a.Ug){if(a.Ug.Rn!=l.length||!a.B)return}else{b=0;c=l.length;for(b=0;b<c;b++)this.yb.load(l[b],a);return}else{if(null!=l&&l.B){this.yb.load(a,a);return}if(null!=
q&&null!=q.W&&q.W.B){this.yb.load(q,a);return}}if(0<a.h.length)for(l=a.h,m=l.length,p=p=0;p<m;p++)this.bg(l[p]);if(d){for(l=0;this.qp;)l++,window.console.log("Possible thread lock avoided: "+l);this.qp=!0;m=a instanceof Je&&a.mg instanceof Ip;b&&null!=k&&k.B&&(l=this.Ej.get(c),null!=l&&this.b.isBuffer(l.jb)&&this.b.deleteBuffer(l.jb));l=null;if(null!=k)if(!b||k.B){l=a.Dj;if(null==l)throw Error("Can not add an object and texture without valid coordinate mapping! Set the textureCoordinateMap!");p=!1;
k.$h&&(p=!0);this.b.pixelStorei(this.b.UNPACK_FLIP_Y_WEBGL,p);p=this.b.createTexture();p.GH=k.Qe;this.Lm.set(k.rc,p);this.b.bindTexture(this.b.TEXTURE_2D,p);k.$h?(p=this.b.RGBA,k.Yw&&(p=this.b.LUMINANCE,this.b.pixelStorei(this.b.UNPACK_ALIGNMENT,1)),this.b.texImage2D(this.b.TEXTURE_2D,0,p,k.us,k.ts,0,p,this.b.UNSIGNED_BYTE,k.$h)):this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGBA,this.b.RGBA,this.b.UNSIGNED_BYTE,p.GH);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);
this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);m?(this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.NEAREST),this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.NEAREST)):(this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.LINEAR),this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.LINEAR));this.b.bindTexture(this.b.TEXTURE_2D,null);p=this.b.createBuffer();this.b.bindBuffer(this.b.ARRAY_BUFFER,
p);this.b.bufferData(this.b.ARRAY_BUFFER,new Float32Array(l),this.b.STATIC_DRAW);l=new Es(p,l.length,2);this.Ej.set(c,l);k.B=!1}else l=this.Ej.get(c);Kf(this.yb,.1);if(m)this.qp=!1,A.md(this.n+".update"),Kf(this.yb,.9);else{if(!b||d.B||n.B){m=n.lb;k=A.o.Bb(m,d.Af,d.Bf,d.Cf);m=A.o.Bb(m,d.xf,d.yf,d.zf);if(null===this.Cm||k.x<this.Cm)this.Cm=k.x;if(null===this.zm||m.x>this.zm)this.zm=m.x;if(null===this.Dm||k.y<this.Dm)this.Dm=k.y;if(null===this.Am||m.y>this.Am)this.Am=m.y;if(null===this.Em||k.z<this.Em)this.Em=
k.z;if(null===this.Bm||m.z>this.Bm)this.Bm=m.z;this.Ea=[(this.Cm+this.zm)/2,(this.Dm+this.Am)/2,(this.Em+this.Bm)/2];n.B=!1}b&&d.B&&(n=this.Gj.get(c),null!=n&&this.b.isBuffer(n.jb)&&this.b.deleteBuffer(n.jb));n=null;!b||d.B?(n=this.b.createBuffer(),d.resize(),this.b.bindBuffer(this.b.ARRAY_BUFFER,n),this.b.bufferData(this.b.ARRAY_BUFFER,d.Ib,this.b.STATIC_DRAW),n=new Es(n,d.count,3),d.B=!1):n=this.Gj.get(c);Kf(this.yb,.3);b&&e.B&&(k=this.Gj.get(c),null!=k&&this.b.isBuffer(k.jb)&&this.b.deleteBuffer(k.jb));
k=null;!b||e.B?(k=this.b.createBuffer(),e.resize(),this.b.bindBuffer(this.b.ARRAY_BUFFER,k),this.b.bufferData(this.b.ARRAY_BUFFER,e.Ib,this.b.STATIC_DRAW),k=new Es(k,e.count,3),e.B=!1):k=this.Fm.get(c);Kf(this.yb,.3);b&&h&&h.B&&(e=this.al.get(c),null!=e&&this.b.isBuffer(e.jb)&&this.b.deleteBuffer(e.jb));e=null;if(h)if(!b||h.B){if(h.length!=d.length)throw Error("Mismatch between points and point colors.");e=this.b.createBuffer();h.resize();this.b.bindBuffer(this.b.ARRAY_BUFFER,e);this.b.bufferData(this.b.ARRAY_BUFFER,
h.Ib,this.b.STATIC_DRAW);e=new Es(e,h.count,3);h.B=!1}else e=this.al.get(c);Kf(this.yb,.2);b&&q&&q.B&&(h=this.jl.get(c),null!=h&&this.b.isBuffer(h.jb)&&this.b.deleteBuffer(h.jb));h=null;if(q)if(h=q.um,!b||q.B){if(h.length!=d.length)throw Error("Mismatch between points and scalars.");d=this.b.createBuffer();this.b.bindBuffer(this.b.ARRAY_BUFFER,d);this.b.bufferData(this.b.ARRAY_BUFFER,h,this.b.STATIC_DRAW);h=new Es(d,h.length,3);q.B=!1}else h=this.jl.get(c);Kf(this.yb,.1);b||this.Df.add(a);this.Gj.set(c,
n);this.Fm.set(c,k);this.al.set(c,e);this.Ej.set(c,l);this.jl.set(c,h);this.qp=a.B=!1}}else a.B=!1}}};f.dv=function(a,b){if(this.ib.PICKING_ENABLED){this.Jg(!0,!1);var c=new Uint8Array(4);this.b.readPixels(a,this.za-b,1,1,this.b.RGBA,this.b.UNSIGNED_BYTE,c);return c[0]+255*c[1]+65025*c[2]}return-1};
f.Jg=function(a,b){Us.c.Jg.call(this,a,b);this.b.viewport(0,0,this.Na,this.za);this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT);var c=this.Df.Sa,d=c.length;if(0!=d){a?this.b.bindFramebuffer(this.b.FRAMEBUFFER,this.hx):this.b.bindFramebuffer(this.b.FRAMEBUFFER,null);var e=this.aa.ss,h=this.aa.J;this.b.uniformMatrix4fv(this.Mm.get("perspective"),!1,e);this.b.uniformMatrix4fv(this.Mm.get("view"),!1,h);e=this.Ea;this.b.uniform3f(this.Mm.get("center"),parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]));
h=this.gc.length;for(e=0;e<h;++e){var k=this.gc[e];if(k instanceof J){var l=A.o.Bb(this.aa.J,k.ga[0]+k.d[0].v[0],k.ga[1]+k.d[0].v[1],k.ga[2]+k.d[0].v[2]),n=A.o.Bb(this.aa.J,k.ga[0]-k.d[0].v[0],k.ga[1]-k.d[0].v[1],k.ga[2]-k.d[0].v[2]),m=Math.abs(l.z-n.z),l=A.o.Bb(this.aa.J,k.ga[0]+k.d[1].v[0],k.ga[1]+k.d[1].v[1],k.ga[2]+k.d[1].v[2]),n=A.o.Bb(this.aa.J,k.ga[0]-k.d[1].v[0],k.ga[1]-k.d[1].v[1],k.ga[2]+-k.d[1].v[2]),p=Math.abs(l.z-n.z),l=A.o.Bb(this.aa.J,k.ga[0]+k.d[2].v[0],k.ga[1]+k.d[2].v[1],k.ga[2]+
k.d[2].v[2]),n=A.o.Bb(this.aa.J,k.ga[0]-k.d[2].v[0],k.ga[1]-k.d[2].v[1],k.ga[2]-k.d[2].v[2]),l=Math.max(m,p,Math.abs(l.z-n.z));l==m?Hp(k,0):l==p?Hp(k,1):Hp(k,2)}}if(this.ib.ORDERING_ENABLED){m=!1;h=this.gc;k=h.length-1;do if(e=h[k],e instanceof J&&e.re&&-1!=e.rb){var m=e.h[e.rb].h,p=e.rb,l=A.o.Bb(this.aa.J,e.ga[0]+e.d[p].Ha[0],e.ga[1]+e.d[p].Ha[1],e.ga[2]+e.d[p].Ha[2]),n=A.o.Bb(this.aa.J,e.ga[0]-e.d[p].Ha[0],e.ga[1]-e.d[p].Ha[1],e.ga[2]-e.d[p].Ha[2]),l=l.z-n.z,n=Math.max(e.Zk[e.rb],Math.max(e.Zk[e.rb+
4],e.Zk[e.rb+8])),q=Math.min(e.Zk[e.rb],Math.min(e.Zk[e.rb+4],e.Zk[e.rb+8]));if(0>l*(n+q))for(l=l=0;l<e.Jm[p]-1;l++)m[l]&&(m[l].Cc=e.Cc,m[l].Xc=e.d[p].ll*l);else for(l=e.Jm[p]-1;0<=l;l--)m[l]&&(m[l].Cc=e.Cc,m[l].Xc=(e.Jm[p]-1)*e.d[p].ll-e.d[p].ll*l);m=!0}while(k--);h=this.Df.Sa;k=h.length-1;do e=h[k],!e.ab||1==e.Cc||e instanceof Je||(m=e,p=e.s.ip,e=A.o.Bb(e.Sb.lb,p[0],p[1],p[2]),e=A.o.Bb(this.aa.J,e.x,e.y,e.z),e=A.K.ot(this.aa.wj,e),e=Math.round(1E3*e)/1E3,m.Xc=e,m=!0);while(k--);m&&this.Df.sort()}if(h=
!a&&null!=b&&b&&this.ib.STATISTICS_ENABLED)var s=0;var e=this.es,k=e.get("vertexPosition"),m=e.get("vertexNormal"),p=e.get("vertexColor"),l=e.get("vertexTexturePos"),n=e.get("vertexScalar"),e=this.Mm,q=e.get("usePicking"),u=e.get("useObjectColor"),z=e.get("objectColor"),y=e.get("useScalars"),I=e.get("scalarsReplaceMode"),S=e.get("scalarsMin"),O=e.get("scalarsMax"),F=e.get("scalarsMinColor"),Q=e.get("scalarsMaxColor"),Y=e.get("scalarsInterpolation"),U=e.get("scalarsMinThreshold"),ua=e.get("scalarsMaxThreshold"),
ka=e.get("objectOpacity"),wa=e.get("labelmapOpacity"),Ma=e.get("labelmapColor"),Fa=e.get("useTexture"),Ia=e.get("useLabelMapTexture"),la=e.get("textureSampler"),za=e.get("textureSampler2"),qa=e.get("volumeLowerThreshold"),Cc=e.get("volumeUpperThreshold"),re=e.get("volumeScalarMin"),se=e.get("volumeScalarMax"),te=e.get("volumeWindowLow"),Td=e.get("volumeWindowHigh"),Jh=e.get("volumeScalarMinColor"),yv=e.get("volumeScalarMaxColor"),bs=e.get("volumeTexture"),zv=e.get("objectTransform"),Av=e.get("pointSize"),
e=d;do{var Na=c[d-e];if(Na){var hb=null;Na instanceof Je&&Na.mg&&(hb=Na.mg);if(Na.ab&&(!hb||hb.ab)&&(!a||Na.Gm)){var Ac=Na.rc,Ld=Na.ym,ie=this.Gj.get(Ac),je=this.Fm.get(Ac),$m=this.al.get(Ac),hf=this.jl.get(Ac),an=this.Ej.get(Ac);this.b.bindBuffer(this.b.ARRAY_BUFFER,ie.jb);this.b.vertexAttribPointer(k,ie.Th,this.b.FLOAT,!1,0,0);this.b.bindBuffer(this.b.ARRAY_BUFFER,je.jb);this.b.vertexAttribPointer(m,je.Th,this.b.FLOAT,!1,0,0);a?this.b.uniform1i(q,!0):this.b.uniform1i(q,!1);!$m||a||Ld?(je=1,Ld&&
!a&&(je=0),this.b.uniform1i(u,je),je=Na.ya,a&&(je=[Math.floor(Ac%65025%255)/255,Math.floor(Ac%65025/255)/255,Math.floor(Ac/65025)/255]),this.b.uniform3f(z,parseFloat(je[0]),parseFloat(je[1]),parseFloat(je[2])),this.b.vertexAttribPointer(p,ie.Th,this.b.FLOAT,!1,0,0)):(this.b.uniform1i(u,!1),this.b.bindBuffer(this.b.ARRAY_BUFFER,$m.jb),this.b.vertexAttribPointer(p,$m.Th,this.b.FLOAT,!1,0,0));!hf||a||Ld?(this.b.uniform1i(y,!1),this.b.vertexAttribPointer(n,ie.Th,this.b.FLOAT,!1,0,0)):(this.b.uniform1i(y,
!0),this.b.uniform1i(I,Na.La.kx),Ac=Na.La.Wh,Ld=Na.La.Uh,this.b.uniform3f(F,parseFloat(Ac[0]),parseFloat(Ac[1]),parseFloat(Ac[2])),this.b.uniform3f(Q,parseFloat(Ld[0]),parseFloat(Ld[1]),parseFloat(Ld[2])),this.b.uniform1f(U,parseFloat(Na.La.kb)),this.b.uniform1f(ua,parseFloat(Na.La.mb)),this.b.uniform1f(S,parseFloat(Na.La.Id)),this.b.uniform1f(O,parseFloat(Na.La.Hb)),this.b.uniform1i(Y,parseInt(Na.La.hs,10)),this.b.bindBuffer(this.b.ARRAY_BUFFER,hf.jb),this.b.vertexAttribPointer(n,hf.Th,this.b.FLOAT,
!1,0,0));this.b.uniform1f(ka,parseFloat(Na.Cc));Na.Ma&&an&&!a?(this.b.uniform1i(Fa,!0),this.b.activeTexture(this.b.TEXTURE0),this.b.bindTexture(this.b.TEXTURE_2D,this.Lm.get(Na.Ma.rc)),this.b.uniform1i(la,0),this.b.bindBuffer(this.b.ARRAY_BUFFER,an.jb),this.b.vertexAttribPointer(l,an.Th,this.b.FLOAT,!1,0,0),this.b.uniform1i(bs,!1)):(this.b.uniform1i(Fa,!1),this.b.vertexAttribPointer(l,ie.Th,this.b.FLOAT,!1,0,0));hb&&(this.b.uniform1i(bs,!0),this.b.uniform1f(qa,hb.kb),this.b.uniform1f(Cc,hb.mb),this.b.uniform1f(re,
hb.Id),this.b.uniform1f(se,hb.Hb),Ac=hb.Wh,Ld=hb.Uh,this.b.uniform3f(Jh,parseFloat(Ac[0]),parseFloat(Ac[1]),parseFloat(Ac[2])),this.b.uniform3f(yv,parseFloat(Ld[0]),parseFloat(Ld[1]),parseFloat(Ld[2])),this.b.uniform1f(te,hb.Ab),this.b.uniform1f(Td,hb.zb),hf=hb.m,this.b.uniform1i(Ia,!1),hb.re?this.b.uniform1f(ka,parseFloat(hb.Cc)):hf&&hf.ab&&(hb=Na.m.rc,this.b.uniform1i(Ia,!0),this.b.activeTexture(this.b.TEXTURE1),this.b.bindTexture(this.b.TEXTURE_2D,this.Lm.get(hb)),this.b.uniform1i(za,1),this.b.uniform1f(wa,
hf.Cc),this.b.uniform4fv(Ma,hf.ys)));this.b.uniformMatrix4fv(zv,!1,Na.Sb.lb);hb=1;"POINTS"==Na.sd&&(hb=Na.Hm);this.b.uniform1f(Av,hb);hb=-1;Na.sd==Qd?(hb=this.b.TRIANGLES,h&&(s+=ie.vm/3)):"LINES"==Na.sd?(this.b.lineWidth(Na.gl),hb=this.b.LINES):"POINTS"==Na.sd?hb=this.b.POINTS:"TRIANGLE_STRIPS"==Na.sd?(hb=this.b.TRIANGLE_STRIP,h&&(s+=ie.vm/3)):"POLYGONS"==Na.sd&&(hb=0==ie.vm%3?this.b.TRIANGLES:this.b.TRIANGLE_FAN,h&&(s+=ie.vm/3));this.b.drawArrays(hb,0,ie.vm)}}}while(--e);h&&Math.round(s)}};
f.remove=function(a){Us.c.remove.call(this,a);if(0<a.h.length)for(var b=a.h,c=b.length,d=0,d=0;d<c;d++)"undefined"!=typeof b[d]&&this.remove(b[d]);b=a.rc;c=this.Ej.get(b);null!=c&&this.b.isBuffer(c.jb)&&this.b.deleteBuffer(c.jb);a.Ma&&(c=this.Lm.get(a.Ma.rc))&&(this.b.deleteTexture(c),this.Lm.remove(a.Ma.rc));c=this.Gj.get(b);null!=c&&this.b.isBuffer(c.jb)&&this.b.deleteBuffer(c.jb);c=this.Fm.get(b);null!=c&&this.b.isBuffer(c.jb)&&this.b.deleteBuffer(c.jb);c=this.al.get(b);null!=c&&this.b.isBuffer(c.jb)&&
this.b.deleteBuffer(c.jb);c=this.jl.get(b);null!=c&&this.b.isBuffer(c.jb)&&this.b.deleteBuffer(c.jb);this.Gj.remove(b);this.Fm.remove(b);this.al.remove(b);this.Ej.remove(b);this.jl.remove(b);this.Df.remove(a);return!0};f.Jb=function(){this.ws=null;delete this.ws;this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT);Us.c.Jb.call(this)};Us.prototype.__defineGetter__("bgColor",function(){return this.sm});Us.prototype.__defineSetter__("bgColor",function(a){this.sm=a});
Us.prototype.YJ=function(a,b,c,d,e){null!=c||(c=4);null!=d||(d=2);if(null==e){e=this.dv(a,b);if(-1==e)return null;e=this.get(e);if(!e)return null}var h=pr(this.aa,a/this.Na*2-1,(this.za-b)/this.za*2-1,0);a=pr(this.aa,a/this.Na*2-1,(this.za-b)/this.za*2-1,1);h[0]+=this.Ea[0];h[1]+=this.Ea[1];h[2]+=this.Ea[2];a[0]+=this.Ea[0];a[1]+=this.Ea[1];a[2]+=this.Ea[2];b=[e.s.Af,e.s.Bf,e.s.Cf];var k=[e.s.xf,e.s.Bf,e.s.Cf],l=[e.s.xf,e.s.yf,e.s.Cf],n=[e.s.Af,e.s.yf,e.s.Cf],m=[e.s.Af,e.s.yf,e.s.zf],p=[e.s.Af,e.s.Bf,
e.s.zf],q=[e.s.xf,e.s.yf,e.s.zf],s=[e.s.xf,e.s.Bf,e.s.zf];b=[A.o.Bb(e.Sb.lb,b[0],b[1],b[2]),A.o.Bb(e.Sb.lb,k[0],k[1],k[2]),A.o.Bb(e.Sb.lb,l[0],l[1],l[2]),A.o.Bb(e.Sb.lb,n[0],n[1],n[2]),A.o.Bb(e.Sb.lb,m[0],m[1],m[2]),A.o.Bb(e.Sb.lb,p[0],p[1],p[2]),A.o.Bb(e.Sb.lb,q[0],q[1],q[2]),A.o.Bb(e.Sb.lb,s[0],s[1],s[2])];var k=[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity],u;for(u in b)u=b[u],k=[Math.min(k[0],u.x),Math.max(k[1],u.x),Math.min(k[2],u.y),Math.max(k[3],u.y),Math.min(k[4],u.z),Math.max(k[5],
u.z)];u=k;b=[];k=[];for(l=0;6>l;l++){var n=Math.floor(l/2),m=(n+1)%3,p=(n+2)%3,s=(2+2*n)%6,z=(4+2*n)%6,y=1/a[n]*(u[l]-h[n]);Infinity!=y&&-Infinity!=y&&(q=h[m]+a[m]*y,y=h[p]+a[p]*y,q>=u[s]&&q<=u[s+1]&&y>=u[z]&&y<=u[z+1]?(s=[],s[n]=u[l],s[m]=q,s[p]=y,b.push(s)):(s=[],s[n]=u[l],s[m]=q,s[p]=y,k.push(s)))}a=[b,k];a=a[0];if(0==a.length)return null;k=Array(2);for(u=0;2>u;u++)b=a[u],k[u]=Math.sqrt((b[0]-h[0])*(b[0]-h[0])+(b[1]-h[1])*(b[1]-h[1])+(b[2]-h[2])*(b[2]-h[2]));h=b=u=null;k[0]<k[1]?(u=a[0],b=a[1]):
(u=a[1],b=a[0]);h=Math.sqrt((u[0]-b[0])*(u[0]-b[0])+(u[1]-b[1])*(u[1]-b[1])+(u[2]-b[2])*(u[2]-b[2]));h/=c;a=u;u=[b[0]-u[0],b[1]-u[1],b[2]-u[2]];b=Math.sqrt(u[0]*u[0]+u[1]*u[1]+u[2]*u[2]);k=[u[0]/b,u[1]/b,u[2]/b];l=e.s.Ib;n=l.length;for(u=0;u<h;u+=c)for(a=[a[0]+c*k[0],a[1]+c*k[1],a[2]+c*k[2]],b=0;b<n;b+=3)if(m=l[b],p=l[b+1],q=l[b+2],s=new A.K(m,p,q),s=A.o.Bb(e.Sb.lb,m,p,q),Math.sqrt((a[0]-s.x)*(a[0]-s.x)+(a[1]-s.y)*(a[1]-s.y)+(a[2]-s.z)*(a[2]-s.z))<=d)return[s.x,s.y,s.z];return null};
v("X.renderer3D",Us);v("X.renderer3D.prototype.init",Us.prototype.ja);v("X.renderer3D.prototype.add",Us.prototype.add);v("X.renderer3D.prototype.onShowtime",Us.prototype.JA);v("X.renderer3D.prototype.onRender",Us.prototype.HA);v("X.renderer3D.prototype.get",Us.prototype.get);v("X.renderer3D.prototype.render",Us.prototype.k);v("X.renderer3D.prototype.destroy",Us.prototype.Jb);v("X.renderer3D.prototype.remove",Us.prototype.remove);v("X.renderer3D.prototype.resetBoundingBox",Us.prototype.jK);
v("X.renderer3D.prototype.resetViewAndRender",Us.prototype.fo);v("X.renderer3D.prototype.pick",Us.prototype.dv);v("X.renderer3D.prototype.pick3d",Us.prototype.YJ);function Ws(){Us.call(this)}w(Ws,Us);v("xiv.vis.XtkRenderer3D",Ws);Ws.prototype.Sf=function(){this.Ki()};Ws.prototype.vk=function(a){Ws.c.vk.call(this,a);this.dispatchEvent({type:"s",value:a.Fj})};Ws.prototype.k=function(){this.fc&&this.b?(Ws.c.k.call(this),this.dispatchEvent({type:"t"})):(this.ib.PROGRESSBAR_ENABLED=!1,this.ja())};Ws.prototype.remove=function(a){null!=a&&Ws.c.remove.call(this,a)};v("xiv.vis.XtkRenderer3D.prototype.onResize",Ws.prototype.Sf);
v("xiv.vis.XtkRenderer3D.prototype.onProgress",Ws.prototype.vk);v("xiv.vis.XtkRenderer3D.prototype.render",Ws.prototype.k);v("xiv.vis.XtkRenderer3D.prototype.remove",Ws.prototype.remove);function Xs(){Yc.call(this);this.Qk=[]}w(Xs,Yc);v("xiv.vis.XtkPlane",Xs);var Ys=[-300,300,300];f=Xs.prototype;f.Rl=!0;f.Xk=null;f.orientation=null;f.eo=null;f.va=null;f.hi=null;f.Ia=function(){return this.va};f.Kb=function(){return this.orientation};f.qr=function(a){null!=this.va&&(null!=a?(this.Ip=a,this.va.camera.focus=a.focus,this.va.camera.position=a.position,this.va.camera.up=a.bw,a instanceof fr&&(this.va.camera.view=a.view)):this.va.camera.position=Ys)};
f.pr=function(a){this.hi.style.background=null!=a?r(a)?a:null!=a.Zx?"-webkit-linear-gradient(top, "+a.Zx+", "+a.backgroundColor+")":a.backgroundColor:"black"};f.KF=function(){return this.Pp};f.HF=function(){return this.hi};f.Ek=function(a){this.hi=a;null!=this.va||this.ja(a);this.va.container=a};f.Wu=function(a){this.dispatchEvent(a)};
f.ja=function(a){null!=this.va&&(H(this.va),this.va.Jb(),this.va=null);if(null==this.Xk)throw Error('XtkPlane subclass must have the property "XRenderer" defined.');this.va=new this.Xk;this.va.orientation=this.orientation;this.Ek(a||this.hi||document.body);this.va.ja();G(this.va,"s",function(a){this.dispatchEvent({type:"s",value:a.value})}.bind(this));G(this.va,"E",this.Wu.bind(this))};f.add=function(a){this.Rl&&(!0==a.isSelectedVolume&&(this.Pp=a),this.Qk.push(a),this.va.add(a))};f.isEnabled=function(){return this.Rl};
function Zs(a){null!=a.qf&&(T(a.qf),delete a.qf)}function $s(a){a.qf=R("div",{id:"DisabledOverlay_"+B()});a.qf.className="xiv-vis-xtkplane-disabledoverlay";var b=a.orientation;"V"==a.orientation&&(b="3D");var c=R("div",{id:"DisabledOverlay_"+B()});c.style.display="table-cell";c.style.verticalAlign="middle";c.innerHTML=b+" render plane disabled.";a.qf.appendChild(c);a.hi.appendChild(a.qf)}
f.$b=function(a){(this.Rl=!1!==a)?tk(this.qf,200,function(){this.qf.style.visibility="hidden";Zs(this)}.bind(this)):(null!=this.qf||$s(this),this.qf.style.visibility="visible",qk(this.qf,200,function(){}.bind(this)))};f.restore=function(){this.ja();at(this);null!=this.Ip&&this.qr(this.Ip);null!=this.Ve&&this.pr(this.Ve);this.k()};f.gK=function(){D(this.Qk,function(a){null!=a&&this.va.remove(a)}.bind(this))};function at(a){D(a.Qk,function(a){this.va.add(a)}.bind(a))}f.k=function(){this.Rl&&this.va.k()};
f.j=function(){null!=this.va&&this.va.Sf()};f.g=function(){Xs.c.g.call(this);null!=this.va&&(this.va.Jb(),delete this.va);Zs(this);null!=this.Ve&&delete this.Ve;null!=this.Ip&&delete this.Ip;null!=this.eo&&(null!=this.eo.g&&(this.eo.stop(),this.eo.g()),delete this.eo);delete this.Rl;delete this.Xk;delete this.hi;delete this.orientation;delete this.Qk;delete this.Pp;delete this.BO};v("xiv.vis.XtkPlane.DEFAULT_CAMERA_POSITION",Ys);v("xiv.vis.XtkPlane.DEFAULT_BACKGROUND","black");
v("xiv.vis.XtkPlane.prototype.XRenderer",Xs.prototype.Xk);v("xiv.vis.XtkPlane.prototype.orientation",Xs.prototype.orientation);v("xiv.vis.XtkPlane.prototype.Renderer",Xs.prototype.va);v("xiv.vis.XtkPlane.prototype.container",Xs.prototype.hi);v("xiv.vis.XtkPlane.prototype.getRenderer",Xs.prototype.Ia);v("xiv.vis.XtkPlane.prototype.getOrientation",Xs.prototype.Kb);v("xiv.vis.XtkPlane.prototype.setCamera",Xs.prototype.qr);v("xiv.vis.XtkPlane.prototype.setBackground",Xs.prototype.pr);
v("xiv.vis.XtkPlane.prototype.getCurrentVolume",Xs.prototype.KF);v("xiv.vis.XtkPlane.prototype.getContainer",Xs.prototype.HF);v("xiv.vis.XtkPlane.prototype.setContainer",Xs.prototype.Ek);v("xiv.vis.XtkPlane.prototype.init",Xs.prototype.ja);v("xiv.vis.XtkPlane.prototype.add",Xs.prototype.add);v("xiv.vis.XtkPlane.prototype.isEnabled",Xs.prototype.isEnabled);v("xiv.vis.XtkPlane.prototype.setEnabled",Xs.prototype.$b);v("xiv.vis.XtkPlane.prototype.restore",Xs.prototype.restore);
v("xiv.vis.XtkPlane.prototype.removeXObjectsFromRenderer",Xs.prototype.gK);v("xiv.vis.XtkPlane.prototype.render",Xs.prototype.k);v("xiv.vis.XtkPlane.prototype.updateStyle",Xs.prototype.j);v("xiv.vis.XtkPlane.prototype.dispose",Xs.prototype.g);function bt(){Xs.call(this);this.orientation="V";this.Xk=Ws}w(bt,Xs);v("xiv.vis.XtkPlane3D",bt);v("xiv.vis.XtkPlane3D.DEFAULT_CAMERA_POSITION",[-300,300,300]);function ct(a){Xs.call(this);this.orientation=a;this.Xk=Dr;this.Pp=null}w(ct,Xs);v("xiv.vis.XtkPlane2D",ct);f=ct.prototype;f.rz=function(){return this.va.rz()};f.sz=function(){return this.va.sz()};f.Gl=function(){return null!=this.va?this.va.Gl():null};f.Ek=function(a){ct.c.Ek.call(this,a)};f.g=function(){ct.c.g.call(this);delete this.Pp;delete this.hO;delete this.iO};v("xiv.vis.XtkPlane2D.prototype.getSliceRelativeToContainerX",ct.prototype.rz);
v("xiv.vis.XtkPlane2D.prototype.getSliceRelativeToContainerY",ct.prototype.sz);v("xiv.vis.XtkPlane2D.prototype.getVolume",ct.prototype.Gl);v("xiv.vis.XtkPlane2D.prototype.setContainer",ct.prototype.Ek);v("xiv.vis.XtkPlane2D.prototype.dispose",ct.prototype.g);function dt(){Aq.call(this);this.Dk(R("input",{id:this.constructor.ID_PREFIX+"_RadioButtonHolder_"+B(),type:"radio"}));P(this.u,dt.CSS.sD);G(this.u,"change",this.Lc.bind(this))}w(dt,Aq);v("xiv.ui.ctrl.RadioButtonController",dt);dt.ID_PREFIX="xiv.ui.ctrl.RadioButtonController";dt.CSS_SUFFIX={sD:"radiobutton"};dt.prototype.Lc=function(){this.dispatchEvent({type:"p",checked:this.u.checked})};dt.prototype.e=function(){dt.c.e.call(this)};v("xiv.ui.ctrl.RadioButtonController.ID_PREFIX",dt.ID_PREFIX);
v("xiv.ui.ctrl.RadioButtonController.CSS_SUFFIX",dt.CSS_SUFFIX);v("xiv.ui.ctrl.RadioButtonController.prototype.dispatchComponentEvent",dt.prototype.Lc);v("xiv.ui.ctrl.RadioButtonController.prototype.disposeInternal",dt.prototype.e);function et(){Aq.call(this);this.Qk=[]}w(et,Aq);v("xiv.ui.ctrl.MasterController2D",et);et.ID_PREFIX="xiv.ui.ctrl.MasterController2D";et.CSS_SUFFIX={};et.prototype.add=function(){};et.prototype.e=function(){et.c.e.call(this);Ib(this.Qk);delete this.Qk};v("xiv.ui.ctrl.MasterController2D.ID_PREFIX",et.ID_PREFIX);v("xiv.ui.ctrl.MasterController2D.CSS_SUFFIX",et.CSS_SUFFIX);v("xiv.ui.ctrl.MasterController2D.prototype.add",et.prototype.add);v("xiv.ui.ctrl.MasterController2D.prototype.disposeInternal",et.prototype.e);function ft(){Aq.call(this);this.Yf("Master Opacity")}w(ft,Aq);v("xiv.ui.ctrl.SliderController",ft);ft.ID_PREFIX="xiv.ui.ctrl.SliderController";ft.CSS_SUFFIX={la:"slider",Nh:"slider-thumb",cp:"slider-thumb-hover",Oh:"slider-track",Iw:"slider-track-hover",bs:"value-input"};f=ft.prototype;f.hw=2;f.xo=function(a){this.hw=a};f.k=function(a){ft.c.k.call(this,a);this.dt();this.et()};
f.dt=function(){var a=new Ir;this.Dk(a);a.$d(0);a.fd(1);a.Ng(.01);a.D(1);P(a.a(),ft.CSS.la);P(a.zc,ft.CSS.Nh);P(a.jd,ft.CSS.Oh);a.Bp(ft.CSS.cp);a.Fs(ft.CSS.Iw);G(this.u,"change",this.Lc.bind(this));a.a().style.zIndex=0};f.et=function(){this.da=R("input");this.da.type="number";P(this.da,ft.CSS.bs);Sh(this.a(),this.da);G(this.da,"input",this.Zu.bind(this));this.update()};
f.Zu=function(){window.console.log("on value input");var a=this.u,b=parseFloat(this.da.value),b=fd(b,a.qa(),a.ea());this.da.value=b;a.D(b)};f.YG=function(){return this.da};f.Lc=function(){var a=this.u,b=a.H().toFixed(this.hw),c=parseInt(this.da.value);this.da.value=b;this.dispatchEvent({type:"p",value:b,qu:a.qa(),pu:a.ea(),OA:c})};
f.update=function(){var a=this.u,b=a.H();a.j();a.D(0);a.D(b);a.nh()!==this.da.step&&(this.da.step=a.nh());a.qa()!==this.da.min&&(this.da.min=a.qa());a.ea()!==this.da.max&&(this.da.max=a.ea());a.H()!==this.da.value&&(this.da.value=b)};f.e=function(){ft.c.e.call(this);delete this.hw;null!=this.da&&(H(this.da),T(this.da),delete this.da)};v("xiv.ui.ctrl.SliderController.ID_PREFIX",ft.ID_PREFIX);v("xiv.ui.ctrl.SliderController.CSS_SUFFIX",ft.CSS_SUFFIX);
v("xiv.ui.ctrl.SliderController.prototype.setValueDecimals",ft.prototype.xo);v("xiv.ui.ctrl.SliderController.prototype.render",ft.prototype.k);v("xiv.ui.ctrl.SliderController.prototype.getValueInput",ft.prototype.YG);v("xiv.ui.ctrl.SliderController.prototype.dispatchComponentEvent",ft.prototype.Lc);v("xiv.ui.ctrl.SliderController.prototype.update",ft.prototype.update);v("xiv.ui.ctrl.SliderController.prototype.disposeInternal",ft.prototype.e);function gt(){Aq.call(this);this.Yf("TwoThumb");this.dt();this.et();this.Pd=R("input");this.Pd.type="number";P(this.Pd,gt.CSS.NC);Sh(this.a(),this.Pd);G(this.Pd,"input",this.NI.bind(this));ht(this)}w(gt,Aq);v("xiv.ui.ctrl.TwoThumbSliderController",gt);gt.ID_PREFIX="xiv.ui.ctrl.TwoThumbSliderController";gt.CSS_SUFFIX={la:"slider",Nh:"slider-thumb",AD:"slider-thumb-extent",BD:"slider-thumb-value",cp:"slider-thumb-hover",Oh:"slider-track",Iw:"slider-track-hover",bs:"value-input",NC:"extent-input"};
f=gt.prototype;f.dt=function(){this.ca=new fq;this.ca.p();var a=this.ca.a();a.setAttribute("id","ThresholdSlider_"+B());P(a,gt.CSS.la);var b=R("div",{id:"ThwoThumbSlider_track_"+B(),"class":gt.CSS.Oh});a.appendChild(b);this.Dk(this.ca);P(this.ca.ha,gt.CSS.Nh);P(this.ca.ha,gt.CSS.BD);nk(this.ca.ha,gt.CSS.cp);P(this.ca.kc,gt.CSS.Nh);P(this.ca.kc,gt.CSS.AD);nk(this.ca.kc,gt.CSS.cp);G(this.ca,"change",this.Lc.bind(this))};
f.update=function(){var a=Li(this.ca.ha).width,b=this.ca.ea()-this.ca.qa(),c=Li(this.ca.a()).width-a,a=c*((this.ca.H()-this.ca.qa())/b),b=c*(this.ca.Ze()/b);this.ca.ha.style.left=a.toString()+"px";this.ca.kc.style.left=b.toString()+"px";it(this);ht(this)};function it(a){a.da.step=1;a.da.min=a.ca.qa();a.da.max=a.ca.ea();a.da.value=a.ca.H()}function ht(a){a.Pd.step=1;a.Pd.min=a.ca.qa();a.Pd.max=a.ca.ea();a.Pd.value=a.ca.Ze()+a.ca.H()}
f.et=function(){this.da=R("input");this.da.type="number";P(this.da,gt.CSS.bs);Sh(this.a(),this.da);G(this.da,"input",this.Zu.bind(this));it(this)};f.Zu=function(a){window.console.log(a,this.da);this.ca.D(parseInt(this.da.value))};f.NI=function(){this.ca.Qi(parseInt(this.Pd.value)-this.ca.H())};f.Lc=function(){var a=this.ca.H(),b=this.ca.Ze()+a;this.da.value=a;this.Pd.value=b;this.dispatchEvent({type:"p",lower:a,upper:b})};
f.e=function(){gt.c.e.call(this);null!=this.ca&&(H(this.ca),null==this.ca.Ca&&(this.ca.Ca=new Op),this.ca.g(),delete this.ca);null!=this.da&&(H(this.da),T(this.da),delete this.da);null!=this.Pd&&(H(this.Pd),T(this.Pd),delete this.Pd)};v("xiv.ui.ctrl.TwoThumbSliderController.ID_PREFIX",gt.ID_PREFIX);v("xiv.ui.ctrl.TwoThumbSliderController.CSS_SUFFIX",gt.CSS_SUFFIX);v("xiv.ui.ctrl.TwoThumbSliderController.prototype.update",gt.prototype.update);
v("xiv.ui.ctrl.TwoThumbSliderController.prototype.dispatchComponentEvent",gt.prototype.Lc);v("xiv.ui.ctrl.TwoThumbSliderController.prototype.disposeInternal",gt.prototype.e);function jt(){Aq.call(this);this.aj=[]}w(jt,Aq);v("xiv.ui.ctrl.MasterController3D",jt);jt.ID_PREFIX="xiv.ui.ctrl.MasterController3D";jt.CSS_SUFFIX={};jt.prototype.add=function(a){this.aj.push(a);this.Mx(a,ft);1==this.aj.length&&Sh(document.body,this.a())};jt.prototype.e=function(){jt.c.e.call(this);Ib(this.aj);delete this.aj};v("xiv.ui.ctrl.MasterController3D.ID_PREFIX",jt.ID_PREFIX);v("xiv.ui.ctrl.MasterController3D.CSS_SUFFIX",jt.CSS_SUFFIX);
v("xiv.ui.ctrl.MasterController3D.CONTROLLERS",{xN:"Visible",pM:"Opacity"});v("xiv.ui.ctrl.MasterController3D.prototype.add",jt.prototype.add);v("xiv.ui.ctrl.MasterController3D.prototype.disposeInternal",jt.prototype.e);function kt(){jt.call(this)}w(kt,jt);v("xiv.ui.ctrl.VolumeController3D",kt);kt.ID_PREFIX="xiv.ui.ctrl.VolumeController3D";kt.CSS_SUFFIX={};kt.prototype.Px=function(a){var b=this.ve(vs,"Volume Rendering",function(b){a.Kr=b.checked});Eq(a,b);this.lf.push(b);b.u.jf(!1)};var lt=B();
kt.prototype.Nx=function(a){var b=this.ve(gt,"Threshold",this.constructor.wO);b[lt]=a;Eq(a,b);this.lf.push(b);var c=a.pk,d=a.$i;-Infinity==c&&(c=-1E3,a.pk=c);Infinity==a.$i&&(d=1E3,a.$i=d);b=b.u;b.$d(c);b.fd(d);bq(b,d-c);b.D(c);b.Ng(10);b.Qi(d-c);a.$i=d;a.pk=c};kt.prototype.add=function(a){kt.c.add.call(this,a);this.Px(a);this.Nx(a)};kt.prototype.j=function(){kt.c.j.call(this)};v("xiv.ui.ctrl.VolumeController3D.ID_PREFIX",kt.ID_PREFIX);v("xiv.ui.ctrl.VolumeController3D.DEFAULT_THRESHOLD",1E3);
v("xiv.ui.ctrl.VolumeController3D.CSS_SUFFIX",kt.CSS_SUFFIX);v("xiv.ui.ctrl.VolumeController3D.VOLUME_ID",lt);v("xiv.ui.ctrl.VolumeController3D.prototype.add_volumeRendering",kt.prototype.Px);v("xiv.ui.ctrl.VolumeController3D.prototype.add_threshold",kt.prototype.Nx);v("xiv.ui.ctrl.VolumeController3D.prototype.add",kt.prototype.add);v("xiv.ui.ctrl.VolumeController3D.prototype.updateStyle",kt.prototype.j);function mt(){Aq.call(this);this.aj=[]}w(mt,Aq);v("xiv.ui.ctrl.MasterController",mt);mt.ID_PREFIX="xiv.ui.ctrl.MasterController";mt.CSS_SUFFIX={};mt.prototype.add=function(a){this.aj.push(a)};mt.prototype.e=function(){mt.c.e.call(this);Ib(this.aj);delete this.aj};v("xiv.ui.ctrl.MasterController.ID_PREFIX",mt.ID_PREFIX);v("xiv.ui.ctrl.MasterController.CSS_SUFFIX",mt.CSS_SUFFIX);v("xiv.ui.ctrl.MasterController.CONTROLLERS",{});v("xiv.ui.ctrl.MasterController.prototype.add",mt.prototype.add);
v("xiv.ui.ctrl.MasterController.prototype.disposeInternal",mt.prototype.e);function nt(){mt.call(this)}w(nt,mt);v("xiv.ui.ctrl.LevelsController",nt);nt.ID_PREFIX="xiv.ui.ctrl.LevelsController";nt.CSS_SUFFIX={};f=nt.prototype;f.add=function(a){nt.c.add.call(this,a);var b=this.Ix(a),c=this.Lx(a),d=this.Kx(a),e=this.Gx(a,c,d);a=this.Hx(a,c,d);D([c,d,e,a],function(a){G(a.u,"v",function(){b.update()}.bind(this))}.bind(this))};f.Ix=function(a){var b=this.ve(Fq,null,function(){}.bind(this));b.Si(a);Eq(a,b);this.Eg.push(b);b.update();return b};
f.Lx=function(a){var b=this.ve(ft,"Window Min.",function(b){a.windowLow=b.value}.bind(this));b.Si(a);Eq(a,b);this.Eg.push(b);b.u.fd(1E3);b.u.$d(0);b.u.D(0);b.u.Ng(1);b.xo(0);b.update();return b};f.Kx=function(a){var b=this.ve(ft,"Window Max.");b.Si(a);G(b,"p",function(b){a.windowHigh=b.value}.bind(this));Eq(a,b);this.Eg.push(b);b.u.fd(1E3);b.u.$d(0);b.u.D(1E3);b.u.Ng(1);b.xo(0);b.update();return b};
f.Gx=function(a,b,c){var d=this.ve(ft,"Brightness");d.Si(a);G(d,"p",function(d){d=(d.value-d.OA)/(d.pu-d.qu);var h=a.windowHigh-a.windowLow;a.windowLow=Math.round(parseInt(a.windowLow)-h*d);a.windowHigh=Math.round(parseInt(a.windowHigh)-h*d);b.u.D(a.windowLow);c.u.D(a.windowHigh)}.bind(this));Eq(a,d);this.Eg.push(d);d.u.fd(150);d.u.$d(-150);d.u.D(0);d.u.Ng(1);d.xo(0);d.update();return d};
f.Hx=function(a,b,c){var d=this.ve(ft,"Contrast");d.Si(a);G(d,"p",function(d){d=(d.value-d.OA)/(d.pu-d.qu);var h=parseInt(a.windowHigh)-parseInt(a.windowLow),k=parseInt(a.windowHigh)-h*d;a.windowLow=Math.round(parseInt(a.windowLow)+h*d);a.windowHigh=Math.round(k);b.u.D(a.windowLow);c.u.D(a.windowHigh)}.bind(this));Eq(a,d);this.Eg.push(d);d.u.fd(150);d.u.$d(-150);d.u.D(0);d.u.Ng(1);d.xo(0);d.update();return d};f.e=function(){nt.c.e.call(this)};v("xiv.ui.ctrl.LevelsController.ID_PREFIX",nt.ID_PREFIX);
v("xiv.ui.ctrl.LevelsController.CSS_SUFFIX",nt.CSS_SUFFIX);v("xiv.ui.ctrl.LevelsController.CONTROLLERS",{rL:"Brightness",CL:"Contrast",fM:"Window Min.",eM:"Window Max.",PL:"Histogram"});v("xiv.ui.ctrl.LevelsController.LEVEL_MAX",1E3);v("xiv.ui.ctrl.LevelsController.LEVEL_MIN",0);v("xiv.ui.ctrl.LevelsController.prototype.add",nt.prototype.add);v("xiv.ui.ctrl.LevelsController.prototype.add_histogram",nt.prototype.Ix);v("xiv.ui.ctrl.LevelsController.prototype.add_levelMin",nt.prototype.Lx);
v("xiv.ui.ctrl.LevelsController.prototype.add_levelMax",nt.prototype.Kx);v("xiv.ui.ctrl.LevelsController.prototype.add_brightness",nt.prototype.Gx);v("xiv.ui.ctrl.LevelsController.prototype.add_contrast",nt.prototype.Hx);v("xiv.ui.ctrl.LevelsController.prototype.disposeInternal",nt.prototype.e);function ot(a){Yc.call(this);this.Nb=null;this.l=a;a=E||gc&&!nc("531")&&"TEXTAREA"==a.tagName;this.ic=new Zi(this);this.ic.r(this.l,a?["keydown","paste","cut","drop","input"]:"input",this)}w(ot,Yc);
ot.prototype.handleEvent=function(a){if("input"==a.type)E&&nc(10)&&0==a.keyCode&&0==a.charCode||(pt(this),ec&&this.l!=Dh(this.l).activeElement||this.dispatchEvent(qt(a)));else if("keydown"!=a.type||$k(a)){var b="keydown"==a.type?this.l.value:null;E&&229==a.keyCode&&(b=null);var c=qt(a);pt(this);this.Nb=Tf(function(){this.Nb=null;this.l.value!=b&&this.dispatchEvent(c)},0,this)}};function pt(a){null!=a.Nb&&(ba.clearTimeout(a.Nb),a.Nb=null)}function qt(a){a=new Fc(a.wc);a.type="input";return a}
ot.prototype.e=function(){ot.c.e.call(this);this.ic.g();pt(this);delete this.l};function rt(a,b,c){cj.call(this,a);st(this,b||"#f00");this.className=c||"goog-hsv-palette";this.ia=mi(this.G())}w(rt,cj);f=rt.prototype;f.ur=function(a){a!=this.sl&&(st(this,a),tt(this),this.dispatchEvent("action"))};function st(a,b){var c=Ej(b).Il,d=Kj(c),e=d[0],h=d[1],k=d[2],d=Math.max(Math.max(e,h),k),l=Math.min(Math.min(e,h),k);if(l==d)l=e=0;else{var n=d-l,l=n/d,e=60*(e==d?(h-k)/n:h==d?2+(k-e)/n:4+(e-h)/n);0>e&&(e+=360);360<e&&(e-=360)}a.Oc=[e,l,d];a.Oc[0]/=360;a.sl=c}
function ut(a,b,c,d){if(null!=b||null!=c||null!=d)a.Oc[0]=null!=b?b:a.Oc[0],a.Oc[1]=null!=c?c:a.Oc[1],a.Oc[2]=null!=d?d:a.Oc[2],b=[360*a.Oc[0],a.Oc[1],a.Oc[2]],b=Mj(b[0],b[1],b[2]),a.sl=b,tt(a),a.dispatchEvent("action")}f.te=function(){return!1};
f.p=function(){var a=this.G(),b=E&&!nc("7")?" "+(this.className+"-noalpha"):"",c=a.p("DIV",this.className+"-hs-backdrop");this.Ol=a.p("DIV",this.className+"-hs-handle");this.Ei=a.p("DIV",this.className+"-hs-image",this.Ol);this.Ok=a.p("DIV",this.className+"-v-image");this.Uo=a.p("DIV",this.className+"-v-handle");this.Dr=a.p("DIV",this.className+"-swatch");this.nk=a.p("input",{"class":this.className+"-input",type:"text",dir:"ltr"});var d=a.p("label",null,this.nk);this.l=a.p("DIV",this.className+b,
c,this.Ei,this.Ok,this.Uo,this.Dr,d)};f.Ta=function(){rt.c.Ta.call(this);tt(this);var a=this.Ua();a.r(this.a(),"mousedown",this.zg);this.Fn||(this.Fn=new ot(this.nk));a.r(this.Fn,"input",this.rH)};f.e=function(){rt.c.e.call(this);delete this.Ei;delete this.Ol;delete this.Ok;delete this.Uo;delete this.Dr;delete this.nk;this.Fn&&(this.Fn.g(),delete this.Fn);Tc(this.vu);Tc(this.wu)};
function tt(a){if(a.$){var b=a.Oc[1],c=a.Oc[2],d=a.Ei.offsetWidth*a.Oc[0];a.Ae()&&(d=a.Ei.offsetWidth-d);var e=Math.ceil(a.Ol.offsetWidth/2),d=d-e,b=a.Ei.offsetHeight*(1-b),b=b-Math.ceil(a.Ol.offsetHeight/2),e=a.Ol,h=a.Ae();null!==b&&(e.style.top=b+"px");h?(e.style.right=d+"px",e.style.left=""):(e.style.left=d+"px",e.style.right="");b=a.Ok.offsetTop-Math.floor(a.Uo.offsetHeight/2)+(255-c)/255*a.Ok.offsetHeight;a.Uo.style.top=b+"px";Oi(a.Ei,c/255);qi(a.Ok,"background-color",Mj(360*a.Oc[0],a.Oc[1],
255));qi(a.Dr,"background-color",a.sl);qi(a.Dr,"color",127.5<a.Oc[2]?"#000":"#fff");var k;try{k=Ej(a.nk.value).Il}catch(l){}a.sl!=k&&(a.nk.value=a.sl)}}f.zg=function(a){if(a.target==this.Ok||a.target==this.Uo){var b=Ni(this.Ok);this.Ez(b,a);this.vu=G(this.ia,"mousemove",ta(this.Ez,this,b));this.wu=G(this.ia,"mouseup",this.Mf,!1,this)}else if(a.target==this.Ei||a.target==this.Ol)b=Ni(this.Ei),this.Dz(b,a),this.vu=G(this.ia,"mousemove",ta(this.Dz,this,b)),this.wu=G(this.ia,"mouseup",this.Mf,!1,this)};
f.Ez=function(a,b){b.preventDefault();var c=pi(this.G()),c=Math.min(Math.max(c.y+b.clientY,a.top),a.top+a.height),c=Math.round(255*(a.top+a.height-c)/a.height);ut(this,null,null,c)};f.Dz=function(a,b){b.preventDefault();var c=pi(this.G()),d=(Math.min(Math.max(c.x+b.clientX,a.left),a.left+a.width)-a.left)/a.width,c=(-Math.min(Math.max(c.y+b.clientY,a.top),a.top+a.height)+a.top+a.height)/a.height;ut(this,d,c,null)};f.Mf=function(){Tc(this.vu);Tc(this.wu)};
f.rH=function(){/^#?[0-9a-f]{6}$/i.test(this.nk.value)&&this.ur(this.nk.value)};function vt(){Aq.call(this);this.Yf("Color");this.gi=new rt;this.gi.k();G(this.gi,"action",this.Lc.bind(this));P(this.gi.a(),this.constructor.CSS.HC);this.Ym=R("div",{id:this.constructor.ID_PREFIX+"_ColorPaletteHolder_"+B(),"class":vt.CSS.IC});Sh(this.Ym,this.gi.a());R("div",{id:this.constructor.ID_PREFIX+"_ColorPalette_"+B(),"class":vt.CSS.HL});this.a().appendChild(this.Ym);this.Dk(this.Ym)}w(vt,Aq);v("xiv.ui.ctrl.ColorPaletteController",vt);vt.ID_PREFIX="xiv.ui.ctrl.ColorPaletteController";
vt.CSS_SUFFIX={yL:"colorsquare",IC:"colorpaletteholder",HC:"colorpalette",cj:"closebutton"};vt.prototype.update=function(){var a=Math.floor(255*this[Bq].color[0]),b=Math.floor(255*this[Bq].color[1]),c=Math.floor(255*this[Bq].color[2]),a=Math.min(255,Math.max(0,a)),b=Math.min(255,Math.max(0,b)),c=Math.min(255,Math.max(0,c));this.gi.ur(Ij([a,b,c]))};vt.prototype.Lc=function(a){this.dispatchEvent({type:"p",color:Kj(a.target.sl).map(function(a){return a/255})})};
vt.prototype.e=function(){vt.c.e.call(this);H(this.gi);this.gi.g();delete this.gi;T(this.Ym);delete this.Ym};v("xiv.ui.ctrl.ColorPaletteController.ID_PREFIX",vt.ID_PREFIX);v("xiv.ui.ctrl.ColorPaletteController.CSS_SUFFIX",vt.CSS_SUFFIX);v("xiv.ui.ctrl.ColorPaletteController.PANEL_MARGIN_X",20);v("xiv.ui.ctrl.ColorPaletteController.PANEL_MARGIN_Y",20);v("xiv.ui.ctrl.ColorPaletteController.prototype.update",vt.prototype.update);
v("xiv.ui.ctrl.ColorPaletteController.prototype.dispatchComponentEvent",vt.prototype.Lc);v("xiv.ui.ctrl.ColorPaletteController.prototype.disposeInternal",vt.prototype.e);function wt(){jt.call(this)}w(wt,jt);v("xiv.ui.ctrl.MeshController3D",wt);wt.ID_PREFIX="xiv.ui.ctrl.MeshController3D";wt.CSS_SUFFIX={};wt.prototype.add=function(a){wt.c.add.call(this,a);this.Hs(a,vs);this.Gs(a,vt)};v("xiv.ui.ctrl.MeshController3D.ID_PREFIX",wt.ID_PREFIX);v("xiv.ui.ctrl.MeshController3D.CSS_SUFFIX",wt.CSS_SUFFIX);v("xiv.ui.ctrl.MeshController3D.prototype.add",wt.prototype.add);v("xiv.ui.ctrl.MeshController3D.prototype.disposeInternal",wt.prototype.e);function xt(){jt.call(this)}w(xt,jt);v("xiv.ui.ctrl.AnnotationsController3D",xt);xt.ID_PREFIX="xiv.ui.ctrl.AnnotationsController3D";xt.CSS_SUFFIX={};xt.prototype.add=function(a){xt.c.add.call(this,a);this.Hs(a,vs);this.Gs(a,vt)};v("xiv.ui.ctrl.AnnotationsController3D.ID_PREFIX",xt.ID_PREFIX);v("xiv.ui.ctrl.AnnotationsController3D.CSS_SUFFIX",xt.CSS_SUFFIX);v("xiv.ui.ctrl.AnnotationsController3D.prototype.add",xt.prototype.add);function yt(){mt.call(this)}w(yt,mt);v("xiv.ui.ctrl.VolumeController",yt);yt.ID_PREFIX="xiv.ui.ctrl.VolumeController";yt.CSS_SUFFIX={};yt.prototype.add=function(a){yt.c.add.call(this,a);this.Ox(a);this.Jx(a)};yt.prototype.Ox=function(a){var b=this.ve(dt,"Visible",function(){});Eq(a,b);this.lf.push(b);b.Si(a);b.u.checked=a[Cr]||!1};yt.prototype.Jx=function(a){var b=this.ve(vs,"Show Label Map",function(b){a.$H.visible=b.checked});Eq(a,b);this.lf.push(b);b.Si(a);b.u.jf(!1)};yt.prototype.e=function(){yt.c.e.call(this)};
v("xiv.ui.ctrl.VolumeController.ID_PREFIX",yt.ID_PREFIX);v("xiv.ui.ctrl.VolumeController.CSS_SUFFIX",yt.CSS_SUFFIX);v("xiv.ui.ctrl.VolumeController.prototype.add",yt.prototype.add);v("xiv.ui.ctrl.VolumeController.prototype.add_visibleRadio",yt.prototype.Ox);v("xiv.ui.ctrl.VolumeController.prototype.add_labelMapToggle",yt.prototype.Jx);v("xiv.ui.ctrl.VolumeController.prototype.disposeInternal",yt.prototype.e);function zt(){V.call(this);C(At(),function(a,b){this[b]=null})}w(zt,V);v("xiv.ui.ctrl.XtkControllerTree",zt);function Bt(a,b,c){this["2D"]=a;this["3D"]=b;this.all=null!=c?c:null}v("xiv.ui.ctrl.XtkControllerTree.ControlSet",Bt);zt.ID_PREFIX="xiv.ui.ctrl.XtkControllerTree";zt.CSS_SUFFIX={};function At(){return{volumes:null,annotations:null,meshes:null,levels:null}}f=zt.prototype;f.Cw=function(){};f.zC=function(){return this.wg([this.Kh])};f.Cw=function(){return this.wg([this.gj])};f.VD=function(){return this.wg([this.pj])};
f.$F=function(){};f.wg=function(a){var b=[];D(g(a)?a:[a],function(a){null!=a&&(b=Lb(b,a.Ry()))});return b};f.Ro=function(){var a=this.wg([this.gj,this.qj,this.pj,this.hj,this.Kh,this.Sr]);D(a,function(a){a.update()}.bind(this))};
f.at=function(a,b){a instanceof J?(null==this.qj&&(this.gj=new nt,this.qj=new yt,this.pj=new kt),this.gj.add(a,b),this.qj.add(a,b),this.pj.add(a,b)):a instanceof zq?(null==this.hj&&(this.hj=new wt),this.hj.add(a,b)):a instanceof Gp&&(null==this.Kh&&(this.Kh=new xt),this.Kh.add(a));this.volumes=new Bt(null,this.wg([this.pj]),this.wg([this.qj]));this.annotations=new Bt(null,this.wg([this.Kh]));this.meshes=new Bt(null,this.wg([this.hj]));this.levels=new Bt(null,null,this.wg([this.gj]))};
f.e=function(){zt.c.e.call(this);null!=this.gj&&(this.gj.g(),delete this.gj);null!=this.qj&&(this.qj.g(),delete this.qj);null!=this.Pw&&(this.Pw.g(),delete this.Pw);null!=this.pj&&(this.pj.g(),delete this.pj);null!=this.hj&&(this.hj.g(),delete this.hj);null!=this.Kh&&(this.Kh.g(),delete this.Kh);null!=this.Sr&&(this.Sr.g(),delete this.Sr)};v("xiv.ui.ctrl.XtkControllerTree.ControlSet",Bt);v("xiv.ui.ctrl.XtkControllerTree.ID_PREFIX",zt.ID_PREFIX);v("xiv.ui.ctrl.XtkControllerTree.CSS_SUFFIX",zt.CSS_SUFFIX);
v("xiv.ui.ctrl.XtkControllerTree.getEmptyPropertiesObject",At);v("xiv.ui.ctrl.XtkControllerTree.prototype.Levels",zt.prototype.Cw);v("xiv.ui.ctrl.XtkControllerTree.prototype.Annotations",zt.prototype.zC);v("xiv.ui.ctrl.XtkControllerTree.prototype.Volumes3D",zt.prototype.VD);v("xiv.ui.ctrl.XtkControllerTree.prototype.getHistograms",zt.prototype.$F);v("xiv.ui.ctrl.XtkControllerTree.prototype.getControllers",zt.prototype.wg);v("xiv.ui.ctrl.XtkControllerTree.prototype.updateControllers",zt.prototype.Ro);
v("xiv.ui.ctrl.XtkControllerTree.prototype.createControllers",zt.prototype.at);v("xiv.ui.ctrl.XtkControllerTree.prototype.disposeInternal",zt.prototype.e);function Ct(){Yc.call(this);this.Me=null;this.Jc={volumes:[],meshes:[],fibers:[],spheres:[]};this.Lh=new ct("X");this.jj=new ct("Y");this.kj=new ct("Z");this.Pb=new bt;this.cc={};this.cc[this.Lh.Kb()]=this.Lh;this.cc[this.jj.Kb()]=this.jj;this.cc[this.kj.Kb()]=this.kj;this.cc[this.Pb.Kb()]=this.Pb;this.Gg=null;this.zr(this.Pb);Dt(this)}w(Ct,Br);v("xiv.vis.XtkEngine",Ct);Ct.ID_PREFIX="xiv.vis.XtkEngine";Ct.SLICE_TO_RAS_KEY="sliceToRAS"+B();Ct.HAS_LABEL_MAP_KEY="hasLabelMap";f=Ct.prototype;f.ir=!1;
f.zt=function(){return this.Jc.volumes};f.yt=function(){return this.Jc.meshes};f.xt=function(){return this.Jc.spheres};function Et(a,b){null!=b.ne.Qm&&D(b.ne.Qm,function(a){this.Jc.spheres.push(Ft(a))}.bind(a))}f.AB=function(a,b){switch(a.toLowerCase()){case "x":this.Lh.$b(b);break;case "y":this.jj.$b(b);break;case "z":this.kj.$b(b);break;case "v":this.Pb.$b(b)}};f.zr=function(a){this.Gg=a;this.Gg.ja();this.hK=G(this.Gg,"s",this.Su.bind(this))};f.CG=function(){return this.Gg};f.Wu=function(a){this.dispatchEvent(a)};
function Dt(a){C(a.cc,function(a){G(a,"F",this.Wu.bind(this));G(a,"H",function(){}.bind(this))}.bind(a))}f.Ro=function(){this.Me.Ro()};f.JF=function(){return this.Me};
function Gt(a,b){null!=a.Me&&(a.Me.g(),a.Me=null);a.Me=new zt;null!=(b.ne&&null!=b.ne.Qm)&&(Et(a,b),D(a.Jc.spheres,function(a){this.Me.at(a)}.bind(a)));var c;D(b.Oe,function(a){c=a.xg();if(null!=c&&(currXObj=Ht(c,a.ui),renderProps=a.ne,currXObj))if(this.Me.at(currXObj,renderProps),currXObj instanceof J){"scans"==b.pg.toLowerCase()&&(window.console.log("Turning off reslicing for scan"),currXObj.reslicing=!1);a=currXObj;var e=renderProps;null!=e||(e={origin:[0,0,0],$i:1E4,pk:-1E4,yq:!0,Kr:!1});a.origin=
e.origin;a.upperThreshold=e.$i;a.lowerThreshold=e.pk;a.volumeRendering=e.Kr;a[Cr]=e.yq;a[Ct.SLICE_TO_RAS_KEY]=e.Ev;null!=e.$z?(a.labelmap.file=e.$z,a.labelmap.colortable.file=e.ZH,a[Ct.HAS_LABEL_MAP_KEY]=!0):a[Ct.HAS_LABEL_MAP_KEY]=!1;this.Jc.volumes.push(currXObj)}else currXObj instanceof zq?(a=currXObj,e=renderProps,a.color=e.color||[.5,.5,.5],a.opacity=e.opacity||1,this.Jc.meshes.push(currXObj)):currXObj instanceof gq&&(Ct.DO(currXObj,renderProps),this.Jc.fibers.push(currXObj))}.bind(a))}
f.ZA=function(){this.zr(this.Pb);this.Pb.ja();C(this.Jc,function(a,b){"volumes"!==b&&D(a,function(a){this.Pb.add(a)}.bind(this))}.bind(this));Rc(this.Pb.Ia(),"t",function(){this.Xq();this.Lh.k()}.bind(this));this.Pb.k()};f.YA=function(a){var b=null!=a?a:this.fq();C(this.cc,function(a,d){"v"!=d.toLowerCase()&&(a.ja(),a.add(b),a.k())})};function It(a){var b=a.fq();C(a.Jc.volumes,function(a){a!==b&&(a.visible=!1)})}
f.$A=function(){var a=this.fq(),b=[],c=[],d=["x","y","z","v"];C(this.Jc,function(a,d){currArr="volumes"==d?c:b;D(a,function(a){currArr.push(a)})}.bind(this));D(b,function(a){this.Pb.add(a)}.bind(this));D(c,function(b){b!==a&&(b.visible=!0,this.Pb.add(b))}.bind(this));this.Gg.Ia().onShowtime=function(){Kb(d,this.Gg.Kb().toLowerCase());Jt(this,a)}.bind(this);this.Gg.add(a);this.Gg.k()};
f.k=function(a){this.ir=!1;Gt(this,a);var b=a.ne;null!=b?(null!=b.backgroundColor&&this.Pb.pr(a.ne.backgroundColor),null!=b.Hp&&this.Pb.qr(a.ne.Hp)):(this.Pb.pr(),this.Pb.qr());if(0<this.Jc.volumes.length){a=this.cc;b="";for(b in a)if(a[b].isEnabled()){this.zr(a[b]);break}this.$A()}else this.Pb.isEnabled()&&this.ZA()};function Jt(a,b){var c=mb(a.cc)-1;C(a.cc,function(a){a!=this.Gg&&a.isEnabled()&&(a.add(b),Rc(a.Ia(),"t",function(){c--;0==c&&this.Xq()}.bind(this)),a.k())}.bind(a))}
f.fq=function(){if(0!=this.Jc.volumes.length){for(var a=0,b=this.Jc.volumes.length;a<b;a++){var c=this.Jc.volumes[a];if(c[Cr])return c}this.Jc.volumes[0][Cr]=!0;return this.Jc.volumes[0]}};f.j=function(){C(this.cc,function(a){a.j()}.bind(this))};f.Su=function(a){this.ir||this.dispatchEvent({type:"s",value:a.value})};f.Xq=function(a){It(this);Tc(this.hK);this.ir=!0;this.dispatchEvent({type:"t",value:null!=a?a.value:1})};f.wG=function(){return this.Lh};f.xG=function(){return this.jj};f.yG=function(){return this.kj};
f.vG=function(){return this.Pb};f.eq=function(a){return this.cc[a]};f.zG=function(){return this.cc};f.g=function(){Ct.c.g.call(this);null!=this.Me&&(this.Me.g(),delete this.Me);H(this.Lh);H(this.jj);H(this.kj);H(this.Pb);delete this.Gg;sb(this.cc);delete this.cc;this.Lh.g();delete this.Lh;this.jj.g();delete this.jj;this.kj.g();delete this.kj;this.Pb.g();delete this.Pb;delete this.ir};
var Kt=["nrrd","nii","nii.gz","mgh","mgz"],Lt=["dicom","dcm","ima"],Mt=["hdr","img"],Nt=["nii","nii.gz"],Ot=["jpeg","jpg","gif","png","img"],Pt="stl vtk obj fsm inflated smoothwm pial orig".split(" "),Qt=["trk"];function Rt(a){var b=void 0;St(a)?b=new zq:Tt(a)||Ut(a)||Vt(a)?b=new J:Wt(a)&&(b=new gq);return b}function Ft(a){var b=new Gp;b.center=a.position;b.caption=a.name;b.name=a.name;b.radius=3;b.color=[.85,0,0];return b}function Tt(a){return-1<Kt.indexOf(a)?!0:!1}
function Vt(a){return-1<Ot.indexOf(a)?!0:!1}function Ut(a){return-1<Lt.indexOf(a)?!0:!1}function St(a){return-1<Pt.indexOf(a)?!0:!1}function Wt(a){return-1<Qt.indexOf(a)?!0:!1}function Ht(a,b){function c(a){var b=nj(a);a=mj(a);return b+"/"+a}var d=g(a)?oj(a[0]):oj(a),d=Rt(d);if(null==d)throw Error("No renderable files in the set :(<br>");if(g(a)){var e=[];D(a,function(a){e.push(c(a))});a=e}else a=c(a);null!=b?(d.file=ob(b),d.filedata=nb(b)):d.file=a;return d}
v("xiv.vis.XtkEngine.EventType",{NM:"F",LM:"G",MM:"H",ERROR:"I",KN:"J",bM:"K",cM:"L"});v("xiv.vis.XtkEngine.ID_PREFIX",Ct.ID_PREFIX);v("xiv.vis.XtkEngine.ANATOMICAL_TO_CARTESIAN",{SAGITTAL:"X",CORONAL:"Y",AXIAL:"Z",TRANSVERSE:"Z"});v("xiv.vis.XtkEngine.SLICE_TO_RAS_KEY",Ct.SLICE_TO_RAS_KEY);v("xiv.vis.XtkEngine.HAS_LABEL_MAP_KEY",Ct.HAS_LABEL_MAP_KEY);v("xiv.vis.XtkEngine.isVolume",Tt);v("xiv.vis.XtkEngine.isImage",Vt);v("xiv.vis.XtkEngine.isDicom",Ut);
v("xiv.vis.XtkEngine.isAnalyze",function(a){return-1<Mt.indexOf(a)?!0:!1});v("xiv.vis.XtkEngine.isNifti",function(a){return-1<Nt.indexOf(a)?!0:!1});v("xiv.vis.XtkEngine.isMesh",St);v("xiv.vis.XtkEngine.isFiber",Wt);v("xiv.vis.XtkEngine.prototype.getCurrentMeshes",Ct.prototype.yt);v("xiv.vis.XtkEngine.prototype.getCurrentAnnotations",Ct.prototype.xt);v("xiv.vis.XtkEngine.prototype.getCurrentVolumes",Ct.prototype.zt);v("xiv.vis.XtkEngine.prototype.setPlaneEnabled",Ct.prototype.AB);
v("xiv.vis.XtkEngine.prototype.setPrimaryRenderPlane",Ct.prototype.zr);v("xiv.vis.XtkEngine.prototype.getPrimaryRenderPlane",Ct.prototype.CG);v("xiv.vis.XtkEngine.prototype.updateControllers",Ct.prototype.Ro);v("xiv.vis.XtkEngine.prototype.getControllerTree",Ct.prototype.JF);v("xiv.vis.XtkEngine.prototype.render3dPlane",Ct.prototype.ZA);v("xiv.vis.XtkEngine.prototype.render2D",Ct.prototype.YA);v("xiv.vis.XtkEngine.prototype.renderAllPlanes",Ct.prototype.$A);
v("xiv.vis.XtkEngine.prototype.render",Ct.prototype.k);v("xiv.vis.XtkEngine.prototype.getSelectedVolume",Ct.prototype.fq);v("xiv.vis.XtkEngine.prototype.updateStyle",Ct.prototype.j);v("xiv.vis.XtkEngine.prototype.getPlaneX",Ct.prototype.wG);v("xiv.vis.XtkEngine.prototype.getPlaneY",Ct.prototype.xG);v("xiv.vis.XtkEngine.prototype.getPlaneZ",Ct.prototype.yG);v("xiv.vis.XtkEngine.prototype.getPlaneV",Ct.prototype.vG);v("xiv.vis.XtkEngine.prototype.getPlaneByOrientation",Ct.prototype.eq);
v("xiv.vis.XtkEngine.prototype.getPlanes",Ct.prototype.zG);v("xiv.vis.XtkEngine.prototype.dispose",Ct.prototype.g);function Xt(a,b,c){Qm.call(this);this.TB=!0===a;this.SB=!0===b;this.PB=!0===c}w(Xt,Qm);v("xiv.ui.HelpDialog",Xt);Xt.ID_PREFIX="xiv.ui.HelpDialog";Xt.CSS={LC:"nrg-ui-helpdialog-dialog",Vk:"nrg-ui-helpdialog-text",yD:"xiv-ui-helpdialog-scrollablezippytree",TITLE:"xiv-ui-helpdialog-title",cj:"xiv-ui-helpdialog-closebutton"};Xt.LAYOUT_IMAGE_ID=Xt.ID_PREFIX+".LayoutImage";
Xt.prototype.k=function(a){Xt.c.k.call(this,a);P(this.a(),"xiv-ui-helpdialog");this.pm=new zs;P(this.pm.a(),Xt.CSS.yD);this.pm.k(this.a());Yt(this);this.Ex(Xt.CSS.TITLE);this.qx(Xt.CSS.cj)};Xt.prototype.rB=function(a){null!=document.getElementById(Xt.LAYOUT_IMAGE_ID)&&(document.getElementById(Xt.LAYOUT_IMAGE_ID).src=a)};
function Yt(a){var b=[["Close ViewBox",'<img style="height:10px;width:10px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/close.png"></img>'],["Add ViewBox Column",'<img style="height:12px;width:6px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/insertcolumn.png"></img>'],["Add ViewBox Row",'<img style="height:6px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/insertrow.png"></img>'],["Drag/Swap ViewBox",'<img style="height:17px;width:7px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBoxManager/handle.png"></img>']],
c=[["Change Layouts","<img height=15 width=15 id="+Xt.LAYOUT_IMAGE_ID+"></img>"],["Help","keystroke: ?",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Help.png"></img>'],["Info. Metadata","keystroke: I",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Info.png"></img>'],["Settings","keystroke: S",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Settings.png"></img>'],
["Levels","keystroke: B or L",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Levels.png"></img>'],["2D Pan","keystroke: H or P",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-2DPan.png"></img>'],["2D Zoom","keystroke: Z",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-2DZoom.png"></img>'],["2D Crosshairs","keystroke: C",'<img style="height:15px;width:15px" src="'+
serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Crosshairs.png"></img>']];a.TB&&c.push(["Volumes","keystroke: V",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Volumes.png"></img>']);a.SB&&c.push(["Meshes","keystroke: M",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Meshes.png"></img>']);a.PB&&c.push(["Annotations","keystroke: A",'<img style="height:15px;width:15px" src="'+serverRoot+'/images/viewer/xiv/ui/ViewBox/Toggle-Annotations.png"></img>']);
var d=[["Close XImgView",'<img style="height:10px;width:10px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/close.png"></img>'],["Full-screen view",'<img style="height:12px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/fullscreen.png"></img>'],["Pop-up view",'<img style="height:12px;width:12px" src="'+serverRoot+'/images/viewer/xiv/ui/Modal/popup.png"></img>']];a.ae("Help");D([[["Resize","left-click + drag","panel borders"]],b,c,d],function(a,b){var c='<table style="width:100%;color:white;" RULES=ROWS FRAME=HSIDES  BORDERCOLOR="gray">';
D(a,function(a){c+="<tr>";D(a,function(a,b){switch(b){case 0:a='<b><font size="2">'+a+"</font></b>";break;case 1:a='<i><font size="1">'+a+"</font></i>";break;default:a='<font size="1">'+a+"</font>"}c+="<td height=25>"+a+"</td>"});c+="</tr>"});var c=c+"</table>",d;currText=b+1;switch(currText){case 1:d="Images";break;case 2:d="ViewBox Manipulation";break;case 3:d="ViewBox Toggles";break;case 4:d="Modal"}T(c);var n=R("div");n.innerHTML=c;this.pm.Te(n,[d])}.bind(a))}
Xt.prototype.e=function(){Xt.c.e.call(this);delete this.TB;delete this.SB;delete this.PB;null!=this.pm&&this.pm.g()};v("xiv.ui.HelpDialog.EventType",{});v("xiv.ui.HelpDialog.ID_PREFIX",Xt.ID_PREFIX);v("xiv.ui.HelpDialog.LAYOUT_IMAGE_ID",Xt.LAYOUT_IMAGE_ID);v("xiv.ui.HelpDialog.CSS_SUFFIX",Xt.CSS_SUFFIX);v("xiv.ui.HelpDialog.prototype.render",Xt.prototype.k);v("xiv.ui.HelpDialog.prototype.setLayoutButton",Xt.prototype.rB);v("xiv.ui.HelpDialog.prototype.disposeInternal",Xt.prototype.e);function Zt(a,b,c){Qo.call(this,a,b||Ro.Qd(),c);this.Tc(16,!0)}w(Zt,Qo);En("goog-toggle-button",function(){return new Zt(null)});function $t(a){V.call(this);this.A={};this.O=a}w($t,V);v("xiv.ui.ViewBoxDialogs",$t);$t.ID_PREFIX="xiv.ui.ViewBoxDialogs";$t.CSS_SUFFIX={fg:"generic-toggle",SC:"infodialog",TC:"infodialog-text",VC:"inusedialog"};var au="Info_"+B(),bu="Help_"+B(),cu="InUse_"+B(),du={SL:au,NL:bu,VL:cu},eu="ToggleClass_"+B();f=$t.prototype;f.MF=function(){return this.A};f.LF=function(a){return this.A[a]};
f.an=function(a,b,c,d,e,h,k,l){e=null!=e?e:"";var n=this.O.Tj("LEFT",c,a,e,function(b){b="true"==b.getAttribute("checked");this.A[a].R(b);this.dispatchEvent({type:b?"M":"N",Dy:this.A[a],Ey:a})}.bind(this),d);null!=this.A[a]&&this.A[a].g();c=new Qm;this.A[a]=c;Am(c,null!=k?k:!1);Hm(c,null!=l?l:null);c.k(this.O.Eb);zm(c,0);this.A[a].ue();c.ae(e);P(c.a(),b);G(c,"f",function(){this.O.Xl(n)}.bind(this));G(c,Dm,function(){}.bind(this));this.A[a].R(!0);this.A[a].ue();this.A[a].ue(!1);!1===h&&Dn(this.O.Bd[a])};
f.SE=function(){this.an(du.iM,"xiv-ui-viewboxdialogs-meshes-dialog",$t.CSS.fg,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Mesh.png","Volume Controls",!1,!1)};f.UE=function(){this.an(du.zN,"xiv-ui-viewboxdialogs-volumes-dialog",$t.CSS.fg,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Volume.png","Volume Controls",!1,!1)};f.qy=function(){this.A[cu]=new Qm;Hm(this.A[cu],Km);this.A[cu].k(this.O.Eb);this.A[cu].Fk("ViewBox in use.&nbspProceed anyway?");fu(this);gu(this)};
f.qB=function(a,b){Rc(this.A[cu],Im,function(c){"yes"===c.key&&null!=a&&a(this);"no"===c.key&&null!=b&&b(this)}.bind(this))};f.Ao=function(){P(this.A[cu].a(),$t.CSS.VC);Am(this.A[cu],!0);this.A[cu].R(!0);this.A[cu].ue()};f.update=function(){C(this.A,function(a){a.kC()})};f.Mo=function(a,b){var c=!1===b?0:1;window.console.log(a,this.A[a]);null!=this.A[a].a()&&rk(this.A[a].a(),200,c)};f.Dt=function(){return this.A[bu]};
function fu(a){null!=a.A[bu]&&a.A[bu].g();var b=new Xt(0<a.O.Ia().zt().length,0<a.O.Ia().yt().length,0<a.O.Ia().xt().length);Am(b,!1);Hm(b,null);b.k(a.O.Eb);b.R(!1);b.ue();var c=a.O.Tj("LEFT",$t.CSS.fg,bu,"Help",function(a){a="true"==a.getAttribute("checked");b.R(a);b.ue();this.dispatchEvent({type:a?"M":"N",Dy:b})}.bind(a),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Help.png");G(b,"f",function(){this.O.Xl(c)}.bind(a));a.O.Xl(c);a.A[bu]=new Xt}
function gu(a){null!=a.A[au]&&a.A[au].g();currDialog=new Qm;var b="";0<a.O.hb.length?C(a.O.hb[0].Zd,function(a,c){null!=a&&0<a.length&&(b+=c+": "+a+"<br>")}):b=Gk(a.O.hb[0].Ah);Am(currDialog,!1);currDialog.Jj(b);Hm(currDialog,null);currDialog.k(a.O.Eb);currDialog.R(!0);currDialog.Oq("left","top",0,-15);currDialog.ae("Info. Display");currDialog.uv("xiv-ui-viewboxdialogs-infodialog-hovered");P(currDialog.a(),$t.CSS.SC);P(currDialog.Xi[0],$t.CSS.TC);var c=a.O.Tj("LEFT",$t.CSS.fg,au,"Info. Display",function(a){a=
"true"==a.getAttribute("checked");currDialog.R(a);currDialog.Oq("left","top",0,-15);this.dispatchEvent({type:a?"M":"N",Dy:currDialog})}.bind(a),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Info.png");G(currDialog,"f",function(){this.O.Xl(c)}.bind(a));currDialog.nv();a.A[au]=currDialog}f.e=function(){delete this.O;null!=this.A&&(C(this.A,function(a){H(a);a.e();a.g()}.bind(this)),sb(this.A))};v("xiv.ui.ViewBoxDialogs.EventType",{FL:"M",EL:"N"});v("xiv.ui.ViewBoxDialogs.ID_PREFIX",$t.ID_PREFIX);
v("xiv.ui.ViewBoxDialogs.CSS_SUFFIX",$t.CSS_SUFFIX);v("xiv.ui.ViewBoxDialogs.DIALOG_KEYS",du);v("xiv.ui.ViewBoxDialogs.TOGGLED_CLASS",eu);v("xiv.ui.ViewBoxDialogs.prototype.getDialogs",$t.prototype.MF);v("xiv.ui.ViewBoxDialogs.prototype.getDialog",$t.prototype.LF);v("xiv.ui.ViewBoxDialogs.prototype.createGenericToggleableDialog",$t.prototype.an);v("xiv.ui.ViewBoxDialogs.prototype.createMeshesDialog",$t.prototype.SE);v("xiv.ui.ViewBoxDialogs.prototype.createVolumesDialog",$t.prototype.UE);
v("xiv.ui.ViewBoxDialogs.prototype.createDialogs",$t.prototype.qy);v("xiv.ui.ViewBoxDialogs.prototype.setInUseSelect",$t.prototype.qB);v("xiv.ui.ViewBoxDialogs.prototype.showInUseDialog",$t.prototype.Ao);v("xiv.ui.ViewBoxDialogs.prototype.update",$t.prototype.update);v("xiv.ui.ViewBoxDialogs.prototype.toggleVisible",$t.prototype.Mo);v("xiv.ui.ViewBoxDialogs.prototype.getHelpDialog",$t.prototype.Dt);v("xiv.ui.ViewBoxDialogs.prototype.disposeInternal",$t.prototype.e);function hu(a,b,c,d){Yc.call(this);this.O=a;this.fa=b;this.Qa=c;this.A=d;this.ed={prev:null,ji:null};this.Rf={left:!1,pA:!1,right:!1};this.rk={bw:{},hF:{},UJ:{},VJ:{}};G(this.A,"M",this.BA.bind(this));a=document.body;this.cb=new Qn;this.cb.pl(a);G(this.cb,"key",this.xh.bind(this));this.Nk=!1}w(hu,Yc);v("xiv.ui.ViewBoxInteractorHandler",hu);var iu="Crosshairs_"+B(),ju="Settings_"+B(),ku="TwoDPan_"+B(),lu="TwoDZoom_"+B(),mu={Uc:iu,KM:ju,eN:ku,fN:lu};
hu.CSS={fg:"xiv-ui-viewboxinteractorhandler-generic-toggle",rw:"xiv-ui-viewboxinteractorhandler-generic-dialog",sw:"xiv-ui-viewboxinteractorhandler-generic-zippytree",YC:"xiv-ui-viewboxinteractorhandler-levelsdialog",ZC:"xiv-ui-viewboxinteractorhandler-levelsdialog-hovered"};
hu.CURSOR_CSS={XD:"xiv-ui-viewboxinteractorhandler-zoom-follower",tw:"xiv-ui-viewboxinteractorhandler-viewframe-grab",ww:"xiv-ui-viewboxinteractorhandler-viewframe-grab-custom",uw:"xiv-ui-viewboxinteractorhandler-viewframe-grabbing",vw:"xiv-ui-viewboxinteractorhandler-viewframe-grabbing-custom",Rw:"xiv-ui-viewboxinteractorhandler-viewframe-zoom-in",Sw:"xiv-ui-viewboxinteractorhandler-viewframe-zoom-out"};var nu="Orientation_"+B();f=hu.prototype;f.cb=null;f.Pk=null;f.fb=null;f.iw=!1;f.cv=!1;f.uc={};
f.ry=function(){this.yy();ou(this);pu(this);this.uy();this.py(!1);this.wy();this.xy();qu(this)};function ru(a){var b=a.O.Eb;C(hu.CURSOR_CSS,function(a){vh(b,a)})}function su(a,b,c,d){b=b?P:vh;b(a.O.Eb,c);null!=d&&(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Chrome/i))&&b(a.O.Eb,d)}function tu(a){su(a,!0,hu.CURSOR_CSS.tw,hu.CURSOR_CSS.ww);su(a,!1,hu.CURSOR_CSS.uw,hu.CURSOR_CSS.vw)}function uu(a){su(a,!1,hu.CURSOR_CSS.Sw);su(a,!0,hu.CURSOR_CSS.Rw)}
f.eJ=function(a){this.tl=a.target;this.ed.prev=this.ed.ji;this.ed.ji=a.sA;if(null!=this.ed.prev){if(a.OB){if(!this.yv){this.yv=!0;this.Nz();vu(this);return}}else this.yv&&(this.RB(),vu(this),this.Hk(),this.yv=!1);(new us(this.ed.ji[0],this.ed.ji[1])).add(new us(this.ed.prev[0],this.ed.prev[1]));a=this.ed.ji[0]-this.ed.prev[0];var b=this.ed.ji[1]-this.ed.prev[1];this.Nk&&(this.of.style.visibility="hidden");this.iw?(this.Nk&&this.Nk&&(T(this.of),Sh(this.tl.hi,this.of),this.of.style.visibility="visible",
this.of.style.left=this.ed.ji[0]+20+"px",this.of.style.top=this.ed.ji[1]+"px"),uu(this),this.Rf.left&&wu(this,a,b)):this.cv&&(tu(this),this.Rf.left&&(su(this,!1,hu.CURSOR_CSS.tw,hu.CURSOR_CSS.ww),su(this,!0,hu.CURSOR_CSS.uw,hu.CURSOR_CSS.vw),this.tl.aa.br([-1*a,-1*b]),this.Hk()))}};f.dJ=function(){ru(this);this.tl=null;this.Nk&&(this.of.style.visibility="hidden")};f.Qu=function(a){0==a.button?this.Rf.left=!0:1==a.button?this.WK.Rf.pA=!0:2==a.button&&(this.Rf.right=!0)};
f.Ru=function(a){0==a.button?this.Rf.left=!1:1==a.button?this.WK.Rf.pA=!1:2==a.button&&(this.Rf.right=!1)};
f.xh=function(a){if(-3<=a.keyCode-40&&0>=a.keyCode-40)a=a.keyCode,xu(this,this.tl,40==a||37==a?-1:1);else switch(a.keyCode){case 27:a=this.O.Mt(ku);window.console.log("escape","pan",a,a.getAttribute("checked"));"true"==a.getAttribute("checked").toString()&&this.O.Mc(ku);"true"==this.O.Mt(lu).getAttribute("checked").toString()&&this.O.Mc(lu);break;case 90:this.O.Mc(lu);break;case 72:case 80:window.console.log("\n\nfire pan");this.O.Mc(ku);break;case 66:case 76:this.O.Mc(this.uc.levels);break;case 86:this.O.Mc(this.uc.volumes);
break;case 77:this.O.Mc(this.uc.meshes);break;case 65:this.O.Mc(this.uc.annotations);break;case 67:this.O.Mc(iu);break;case 83:this.O.Mc(this.uc[ju]);break;case 191:a.shiftKey&&this.O.Mc(bu);break;case 73:this.O.Mc(au)}};function wu(a,b,c){ru(a);var d=function(){uu(this);this.tl.lm()}.bind(a),e=function(){su(this,!0,hu.CURSOR_CSS.Sw);su(this,!1,hu.CURSOR_CSS.Rw);this.tl.mm()}.bind(a);Math.abs(b)>Math.abs(c)?1<b?d():e():0>c?d():e();yu(a);a.Hk()}f.Fw=0;f.Gw=0;
f.ZB=function(a){this.Fw=a.clientX;this.Gw=a.clientY;window.console.log("store mouse coords",this.Fw,this.Gw)};function qu(a){zu(a,function(a,c){this.rk.VJ[c]=G(a.Ia(),"mouseover",this.eJ.bind(this));var d=a.Ia().fc;this.rk.UJ[c]=G(d,"mouseout",this.dJ.bind(this));this.rk.hF[c]=G(d,"mousedown",this.Qu.bind(this));this.rk.bw[c]=G(d,"mouseup",this.Ru.bind(this))}.bind(a))}function xu(a,b,c){zu(a,function(a,b,h){h.la.D(h.la.H()+c)}.bind(a),b.Kb())}
function zu(a,b,c){if(null!=a.fa){var d=a.Qa.Gt(),e=function(a,c){null!=d&&null!=d[c]&&b(a,c,d[c],a.Gl())};if(r(c)){var h=a.fa.eq(c);if(null==h)throw Error("Invalid plane: ",h);e(a.fa.eq(c),c)}else C(a.fa.cc,function(a,b){e(a,b)}.bind(a))}}f.xy=function(){this.O.Tj("LEFT",hu.CSS.fg,lu,"2D Zoom",function(a){ru(this);if(this.iw=a="true"==a.getAttribute("checked").toString())this.O.aw(ku),uu(this)}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-2DZoom.png");this.O.Mc(lu)};
f.wy=function(){this.O.Tj("LEFT",hu.CSS.fg,ku,"2D Pan",function(a){ru(this);if(this.cv=a="true"==a.getAttribute("checked").toString())tu(this),this.O.aw(lu)}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-2DPan.png");this.O.Mc(ku)};f.py=function(a){this.O.Tj("LEFT",hu.CSS.fg,iu,"Toggle Crosshairs",function(a){this.fC("true"==a.getAttribute("checked"))}.bind(this),serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Crosshairs.png");!1===a&&this.O.Mc(iu)};
f.uy=function(){this.uc[ju]=ju+"_"+B();this.A.an(this.uc[ju],hu.CSS.rw,hu.CSS.fg,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-Settings.png","Settings",!1,!1);this.fb[ju]=new zs;this.fb[ju].k();var a=this.fb[ju].a();P(a,hu.CSS.sw);this.A.A[this.uc[ju]].a().appendChild(a);this.fb[ju].ak();a=new vs;a.k();a.Yf("Enable 3D Rendering");a.u.jf(!0);this.fb[ju].Te(a.a(),"3D Rendering");G(a,"p",function(a){this.fa.AB("V",a.checked)}.bind(this));return a};
f.Hk=function(){zu(this,function(a,b,c,d){Au(this,b,d)}.bind(this))};
function Bu(a){null!=a.fa&&(zu(a,function(a,c,d,e){var h=d.la,k=d.Cd,l=d.uf;d=d.Uc;h[nu]=c;k[nu]=c;l[nu]=c;d[nu]=c;vu(this,!0);Cu(h,e);Au(this,h[nu],e);Du(this,h);null!=a.Ia()&&(G(a.Ia(),"J",function(){yu(this)}.bind(this)),G(h,"v",function(a){Cu(a.target,e);Au(this,a.target[nu],e);Du(this,a.target)}.bind(this)),G(k,"input",function(a){Eu(this,a.target,e);this.Hk()}.bind(this)),G(l,"input",function(){a.Ia().MB(l.H()/100);this.Hk()}.bind(this)))}.bind(a)),a.fa.Ro())}
function Fu(a,b){var c=b.split("_")[0];a.fb[c].Qc();C(a.Pk[c],function(a){null!=a&&D(a,function(a){switch(c){case "levels":a instanceof Fq?a.update():a.u.j();break;case "volumes":var d=b.split("_")[0];a instanceof dt?(a.u.checked=a.dd()[Cr]||!1,null==this.Lr&&(this.Lr=[]),-1==this.Lr.indexOf(a)&&this.Lr.push(a)):"Show Label Map"==a.tb.innerHTML&&(a.dd()[Ct.HAS_LABEL_MAP_KEY]?a.dd().$H.visible&&!a.u.Ii()&&a.u.jf(!0):(T(a.a()),a.a().style.visibility="hidden",a.a().style.height="0px"),this.fb[d].Qc());
a.update()}}.bind(this))}.bind(a))}f.BA=function(a,b){null==a.Ey&&null==b||Fu(this,null!=b?b:a.Ey)};f.Vx=function(){window.console.log("Applying auto window/level");var a,b={};D(this.Pk.levels.all,function(c){levelMax=hist=null;a=c.Cl;folderStr="";D(a,function(a){folderStr+=a});null!=b[folderStr]||(b[folderStr]={});c instanceof Fq?b[folderStr].CH=c:-1<c.tb.innerHTML.indexOf("Window Max")&&(b[folderStr].bI=c)}.bind(this));C(b,function(a){a.bI.u.D(a.CH.jz(Fq.LEVEL_CUTOFF))})};
function Cu(a,b){if(null!=b){var c=a[nu],c="Y"==c||"Z"==c?a.ea()-a.H()-1:a.H()-1;b["index"+a[nu]]=c}}function Gu(a,b,c,d,e){var h=a.fa.eq(b).Ia();a=a.Qa.Xy().Ft(b);b=null;null!=a&&(b=a[Zq]);null!=b&&("vertical"==c?b.KB(h.wz(d,e)):"horizontal"==c&&b.LB(h.ez(d,e)))}
function Au(a,b,c){if(null!=c)switch(b){case "X":b=c.indexX;Gu(a,"Y","vertical",b,!0);Gu(a,"Z","vertical",b,!0);break;case "Y":b=c.indexY;Gu(a,"X","vertical",b,!1);Gu(a,"Z","horizontal",b,!1);break;case "Z":b=c.indexZ,Gu(a,"X","horizontal",b,!1),Gu(a,"Y","horizontal",b,!1)}}function Du(a,b){zu(a,function(a,b,e){a=e.Cd;e=e.la;a.fd(e.ea());a.D(e.H())}.bind(a),b[nu])}function yu(a){zu(a,function(a,c,d){d.uf&&a.Ia()&&(a=a.Ia().Az(),d.uf.H(),d.uf.D(Math.round(100*a)))}.bind(a))}
function Eu(a,b,c){null!=c&&zu(a,function(a,c,h){h.la.D(b.H())}.bind(a),b[nu])}function ou(a){zu(a,function(a,c,d){null!=d.la&&d.la.D(d.la.ea()/2)}.bind(a))}
function pu(a){zu(a,function(a,c,d,e){if(null!=e[Ct.SLICE_TO_RAS_KEY]&&null!=d.la){slider=d.la;orientation=slider[nu];a=e.bbox;e=e[Ct.SLICE_TO_RAS_KEY];var h;"X"==orientation?(h=a[1]-a[0],h=(e.nK[0]-a[0])/h):"Y"==orientation?(h=a[3]-a[2],h=(e.RE[1]-a[2])/h):"Z"==orientation&&(h=a[5]-a[4],h=(e.GE[2]-a[4])/h);slider.D(Math.round(slider.ea()*h)+1)}}.bind(a))}
function vu(a,b){var c,d;zu(a,function(a,h,k,l){null!=k.la&&(d=k.la,c=d[nu],null!=l&&(!0===b&&(d.fd(a.Ia().oz()),d.$d(1)),null!=c&&d.D(l["index"+c]+1)))})}f.FA=function(){zu(this,function(a,b,c,d){Eu(this,c.Cd,d);yu(this)}.bind(this));this.Hk()};f.Uv=function(a){var b=!1===a?0:1;zu(this,function(a,d,e){rk(e.la.a(),200,b);rk(e.Cd.a(),200,b);rk(e.Uc.eg,200,b);rk(e.Uc.Nf,200,b);rk(e.uf.a(),200,b)}.bind(this))};f.Nz=function(){this.Uv(!1);this.A.Mo(au,!1)};f.RB=function(){this.Uv(!0);this.A.Mo(au,!0)};
f.update=function(){this.Qa.So()};f.fC=function(a){var b=!0==a?"visible":"hidden";zu(this,function(a,d,e){null!=e.Uc&&(e.Uc.eg.style.visibility=b,e.Uc.Nf.style.visibility=b)}.bind(this))};f.jC=function(){null!=this.Qa&&null!=this.fa&&zu(this,function(a,b,c,d){if(null!=c){var e=c.la;c=c.Cd;e[nu]=b;c[nu]=b;null!=a.Ia()&&(Eu(this,c,d),e.j())}}.bind(this))};
f.bC=function(a){a.uB(serverRoot+"/images/viewer/xiv/ui/LayoutMenu/menu.png");C({Sagittal:{Vg:cs,Za:serverRoot+"/images/viewer/xiv/ui/Layouts/sagittal.png"},Coronal:{Vg:hs,Za:serverRoot+"/images/viewer/xiv/ui/Layouts/coronal.png"},Transverse:{Vg:es,Za:serverRoot+"/images/viewer/xiv/ui/Layouts/transverse.png"},"3D":{Vg:as,Za:serverRoot+"/images/viewer/xiv/ui/Layouts/3d.png"},Conventional:{Vg:ds,Za:serverRoot+"/images/viewer/xiv/ui/Layouts/conventional.png"},"Four-Up":{Vg:fs,Za:serverRoot+"/images/viewer/xiv/ui/Layouts/four-up.png"},
"2D Row":{Vg:gs,Za:serverRoot+"/images/viewer/xiv/ui/Layouts/2drow.png"},"2D Widescreen":{Vg:Zr,Za:serverRoot+"/images/viewer/xiv/ui/Layouts/2dwidescreen.png"}},function(b,c){a.wx(c,b.Za);this.Qa.ux(c,b.Vg);"Four-Up"==c&&this.Qa.tB(c)}.bind(this));G(a,"item_selected",this.WI.bind(this))};f.WI=function(a){this.Qa.Gk(a.title);null!=this.A&&null!=this.A.Dt()&&this.A.Dt().rB(a.target.lk.src)};function Hu(a,b){G(a.fb[b].ma,"c",function(a){this.BA(a,this.uc[b])}.bind(a))}
function Iu(a,b){G(b,"p",function(a){D(this.Lr,function(b){var e=b.dd();b!==a.target?(b.u.checked=!1,e.visible=!1):(e.visible=!0,this.fa.YA(e))}.bind(this))}.bind(a))}function Ju(a,b){C(a.Pk[b],function(a,d){g(a)&&D(a,function(a){var c=a.Cl||[];"all"!==d&&0<c.length&&c.push(d);this.fb[b].Te(a.a(),c);a instanceof dt&&Iu(this,a)}.bind(this))}.bind(a))}
function Ku(a){a.fb=At();a.uc=vb(a.fb);C(a.fb,function(a,c){var d=!1;switch(c){case "volumes":0==this.fa.zt().length&&(d=!0);break;case "meshes":0==this.fa.yt().length&&(d=!0);break;case "annotations":0==this.fa.xt().length&&(d=!0)}d?tb(this.fb,c):(this.fb[c]=new zs,this.fb[c].k(),this.uc[c]=c+"_"+B(),Ju(this,c),Hu(this,c))}.bind(a))}f.yy=function(){this.Pk=this.fa.Me;Ku(this);Lu(this);Bu(this)};
function Lu(a){C(a.fb,function(a,c){var d=!1;C(this.Pk[c],function(a){null!=a&&g(a)&&0<a.length&&(d=!0)}.bind(this));if(d){this.A.an(this.uc[c],hu.CSS.rw,hu.CSS.fg,serverRoot+"/images/viewer/xiv/ui/ViewBox/Toggle-"+cb(c)+".png",cb(c),!1,!1);var e=this.fb[c].a();P(e,hu.CSS.sw);this.A.A[this.uc[c]].a().appendChild(e);1<this.fb[c].ma.Nt().length?this.fb[c].Xm():(this.fb[c].ak(),this.fb[c].Qc());"levels"==c&&Mu(this)}}.bind(a))}
function Mu(a){var b=a.A.A[a.uc.levels];P(b.a(),hu.CSS.YC);b.uv(hu.CSS.ZC);a.O.Mc(a.uc.levels);D(a.Pk.levels.all,function(a){a instanceof Fq||(a.tb.style.fontSize="9px",a.a().style.height="45px",a.u.a().style.top="28px",a.u.a().style.width="115px",a.u.j())}.bind(a));b.Oq("right","top",4,50);D(a.fb.levels.ma.Nt(),function(a){a.Zv(10)})}
f.g=function(){hu.c.g.call(this);null!=this.cb&&(this.cb.g(),delete this.cb);null!=this.uc&&sb(this.uc);delete this.uc;null!=this.fb&&(C(this.fb,function(a){a.g()}),sb(this.fb));delete this.fb;sb(this.ed);delete this.ed;C(this.rk,function(a){C(a,function(a){Tc(a);delete a});sb(a)});sb(this.rk);delete this.rk;this.Nk&&(T(this.of),delete this.of);delete this.Nk;delete this.Pk;delete this.iw;delete this.cv;delete this.O;delete this.fa;delete this.Qa;delete this.A};
v("xiv.ui.ViewBoxInteractorHandler.EventType",{xM:"O",dM:"P",iN:"Q",GL:"R"});v("xiv.ui.ViewBoxInteractorHandler.TOGGLEABLE",mu);v("xiv.ui.ViewBoxInteractorHandler.ORIENTATION_KEY",nu);v("xiv.ui.ViewBoxInteractorHandler.DIALOG_SPLIT","_");v("xiv.ui.ViewBoxInteractorHandler.prototype.createInteractors",hu.prototype.ry);v("xiv.ui.ViewBoxInteractorHandler.prototype.createTwoDZoomToggle",hu.prototype.xy);v("xiv.ui.ViewBoxInteractorHandler.prototype.createTwoDPanToggle",hu.prototype.wy);
v("xiv.ui.ViewBoxInteractorHandler.prototype.createCrosshairToggle",hu.prototype.py);v("xiv.ui.ViewBoxInteractorHandler.prototype.createSettingsDialog",hu.prototype.uy);v("xiv.ui.ViewBoxInteractorHandler.prototype.syncAllCrosshairs",hu.prototype.Hk);v("xiv.ui.ViewBoxInteractorHandler.prototype.applyAutoLevel",hu.prototype.Vx);v("xiv.ui.ViewBoxInteractorHandler.prototype.onLayoutResize",hu.prototype.FA);v("xiv.ui.ViewBoxInteractorHandler.prototype.toggleInteractorsVisible",hu.prototype.Uv);
v("xiv.ui.ViewBoxInteractorHandler.prototype.hideInteractors",hu.prototype.Nz);v("xiv.ui.ViewBoxInteractorHandler.prototype.showInteractors",hu.prototype.RB);v("xiv.ui.ViewBoxInteractorHandler.prototype.update",hu.prototype.update);v("xiv.ui.ViewBoxInteractorHandler.prototype.toggleCrosshairsVisible",hu.prototype.fC);v("xiv.ui.ViewBoxInteractorHandler.prototype.updateInteractorStyles",hu.prototype.jC);v("xiv.ui.ViewBoxInteractorHandler.prototype.syncLayoutMenuToLayoutHandler",hu.prototype.bC);
v("xiv.ui.ViewBoxInteractorHandler.prototype.createViewableCtrls",hu.prototype.yy);v("xiv.ui.ViewBoxInteractorHandler.prototype.dispose",hu.prototype.g);function Nu(){uc.call(this)}w(Nu,uc);v("xiv.utils.ErrorCatcher",Nu);
function Ou(a){function b(a){a.target.g()}var c;g(a)||(a=[a]);null!=c&&!g(c)&&(c=[c]);var d=new Sm;Hm(d,Jm);D(a,function(a){d.Jj(a)});null!=c&&D(c,function(a){d.Es(a)});d.ae("XImgView Error");d.R(!0);d.a().style.position="fixed";d.a().style.opacity=0;qk(d.a(),400);d.xi().style.opacity=0;rk(d.xi(),400,.75);d.a().style.height="250px";a=Li(d.a());d.a().style.top="calc(50% - "+a.height/2+"px)";d.a().style.left="calc(50% - "+a.width/2+"px)";Rc(d,Im,b);Rc(d,"f",b)}
function Pu(){var a,b='<a target="_blank" style="color: #5CB8E6"  href=';Yb()?(a="Internet Explorer",b+='"http://msdn.microsoft.com/en-us/library/ie/bg182648(v=vs.85).aspx">'):Vb("Chrome")||Vb("CriOS")?(a="Chrome",b+='"https://productforums.google.com/forum/#!msg/chrome/CgYesRogD4c/sU1TQsRgnWgJ">'):Vb("Firefox")?(a="Firefox",b+='"https://support.mozilla.org/en-US/questions/984663">'):Zb()?(a="Safari",b+='"https://discussions.apple.com/thread/3300585?start=0">'):Xb()&&(a="Opera",b+='"http://techdows.com/2012/06/turn-on-hardware-acceleration-and-webgl-in-opera-12.html">');
Ou('<br>It looks like <a target="_blank" style="color: #5CB8E6" href="https://developer.mozilla.org/en-US/docs/Web/WebGL/Getting_started_with_WebGL">Experimental-WebGL</a> is disabled.<br><br><br>'+(b+("How to enable WebGL in "+a+".</a>")))}Nu.checkForWebGL=function(){var a=R("canvas"),b;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(c){b=null}return null!=b?!0:!1};f=Nu.prototype;f.Xs=[];f.km=null;f.Qq=null;f.Ac=null;f.mt=document.body;f.Ku=null;f.zB=function(a){this.Ku=a};
f.jB=function(a){this.mt=a};function Qu(a){Ib(a.Xs);a.km=window.console.log;a.Qq=function(){a.km.apply(this,arguments);var b="";D(arguments,function(a,d){0<d&&(b+=" ");b+=a});a.Xs.push(b)};window.console.log=a.Qq}f.Mr=function(a){!0===a?(Qu(this),window.onerror=this.MI.bind(this)):(window.onerror=void 0,null!=this.km&&(window.console.log=this.km,this.Qq=this.km=null))};
f.MI=function(a,b,c){window.console.log("ON ERROR");if(null==this.Ac){null!=this.Ku&&this.Ku();var d="",e="";-1<this.Xs.indexOf("Unknown number of bits allocated - using default: 32 bits")?(d+='XImgView\'s render engine (<a target="_blank" style="color: #5CB8E6" href="https://github.com/xtk/X#readme">XTK</a>) does not yet support big-endian encoded DICOMs :(<br><br>',e+='<a target="_blank" style="color: #5CB8E6" href="http://stackoverflow.com/questions/22356911/xtk-error-while-loading-dicom-files">For more information click here.</a><br><br>Console reference:<br>\'Unknown number of bits allocated - using default: 32 bits\''):
(d="<b>Render Error!</b><br><br>",r(a)&&(e+=a+"<br>"),r(b)&&(e+="src: "+b+"<br>",t(c)&&(e+=" line: "+c+"<br>")));this.Ac=new Sm;this.Ac.k(this.mt);Hm(this.Ac,null);this.Ac.Jj(d);this.Ac.Es(e);Am(this.Ac,!0);this.Ac.R(!0);this.Ac.a().style.opacity=0;this.Ac.nv();this.Ac.ue();qk(this.Ac.a(),200);Rc(this.Ac,"f",function(a){a.target.g();this.Ac=null}.bind(this))}};f.g=function(){Nu.c.g.call(this);null!=this.Ac&&(this.Ac.g(),delete this.Ac);delete this.km;delete this.Qq;delete this.mt};
v("xiv.utils.ErrorCatcher.isCompatible",function(){var a=!0,b=$b(),c={Chrome:{Hn:Vb("Chrome")||Vb("CriOS"),Vn:11},IE:{Hn:Yb(),Vn:11},Safari:{Hn:Zb(),Vn:5.1},Opera:{Hn:Xb(),Vn:12},Firefox:{Hn:Vb("Firefox"),Vn:4}},d=!1;C(c,function(c){c.Hn&&!d&&1==Ya(c.Vn,b)&&(Ou("<br>XImgView is supported on the following browsers:<br>Google Chrome, Version 12+<br>Firefox, Version 4+<br>Safari, Version 5.1+<br>Opera Next, Version 12+<br>Internet Explorer, Version 11+<br>"),a=!1,d=!0)});a&&!Nu.checkForWebGL()&&(Pu(),
a=!1);return a});v("xiv.utils.ErrorCatcher.checkForWebGL",Nu.checkForWebGL);v("xiv.utils.ErrorCatcher.EventType",{ERROR:"S"});v("xiv.utils.ErrorCatcher.prototype.setOnErrorCallback",Nu.prototype.zB);v("xiv.utils.ErrorCatcher.prototype.setDialogParent",Nu.prototype.jB);v("xiv.utils.ErrorCatcher.prototype.waitForError",Nu.prototype.Mr);v("xiv.utils.ErrorCatcher.prototype.dispose",Nu.prototype.g);E&&nc(8);function Ru(){V.call(this);this.Ak=R("div",{id:Ru.ID_PREFIX+"_ProgBarHolder_"+B(),"class":Ru.CSS.nD});Sh(this.a(),this.Ak);this.Bg=R("div",{id:Ru.ID_PREFIX+"_LabelHolder_"+B(),"class":Ru.CSS.XC});Sh(this.a(),this.Bg);this.Mh=new qr;this.Mh.ob(this.Ak);P(Ih("progress-bar-thumb",this.Ak),Ru.CSS.Yr)}w(Ru,V);v("xiv.ui.ProgressBarPanel",Ru);Ru.ID_PREFIX="xiv.ui.ProgressBarPanel";Ru.CSS_SUFFIX={Yr:"thumb",nD:"progbarholder",XC:"labelholder"};f=Ru.prototype;f.Mn="";f.Bv=!1;
f.Yf=function(a){this.Mn=a;this.Bg.innerHTML=this.Mn};f.Av=function(a){this.Bv=null!=a&&!1===a?!1:!0;this.D(this.Mh.H())};f.D=function(a){this.Mh.D(a);this.Bg.innerHTML=this.Mn;this.Bv&&(0<this.Mn.length&&(this.Bg.innerHTML+=" "),this.Bg.innerHTML+=this.Mh.H().toString()+"%");vh(this.Ak,"progress-bar-horizontal")};f.H=function(){return this.Mh.H()};
f.e=function(){Ru.c.e.call(this);null!=this.Mh&&(this.Mh.g(),delete this.Mh);null!=this.Ak&&(T(this.Ak),delete this.Ak);null!=this.Bg&&(T(this.Bg),delete this.Bg);this.Mn=this.Bv=null};v("xiv.ui.ProgressBarPanel.EventType",{});v("xiv.ui.ProgressBarPanel.ID_PREFIX",Ru.ID_PREFIX);v("xiv.ui.ProgressBarPanel.CSS_SUFFIX",Ru.CSS_SUFFIX);v("xiv.ui.ProgressBarPanel.prototype.setLabel",Ru.prototype.Yf);v("xiv.ui.ProgressBarPanel.prototype.showValue",Ru.prototype.Av);
v("xiv.ui.ProgressBarPanel.prototype.setValue",Ru.prototype.D);v("xiv.ui.ProgressBarPanel.prototype.getValue",Ru.prototype.H);v("xiv.ui.ProgressBarPanel.prototype.disposeInternal",Ru.prototype.e);function Su(){V.call(this)}w(Su,zs);v("nrg.ui.ThumbnailGallery",Su);Su.ID_PREFIX="nrg.ui.ThumbnailGallery";Su.CSS_SUFFIX={LC:"dialog",Zr:"thumbnail",as:"thumbnail-image",$M:"thumbnail-text"};var Tu=B();f=Su.prototype;f.Cr=!1;f.Fv=function(a){this.Cr=a;null!=this.ma&&this.Cr&&this.ma.pv(Uu)};f.k=function(a){Su.c.k.call(this,a);Vu(this);this.Cr&&this.ma.pv(Uu)};
function Uu(a,b){if(null!=a.childNodes&&0!=a.childNodes.length)for(var c=Vh(a),d=b[Tu].toLowerCase(),e,h,k=c.length,l=0;l<k;l++)if(h=c[l],null!=h[Tu]&&(e=h[Tu].toLowerCase(),e=La(d,e),0>e)){Uh(b,h);return}a.appendChild(b)}f.cn=function(a,b){var c=new ws;xh(c.a(),th(c.a()),this.Yi);xh(c.Ge,th(c.Ge),this.Kk);xh(c.Pc,th(c.Pc),this.Jk);c.sv(a);c.vo(b);return c};f.loop=function(a){C(this.Gb,function(b){a(b)})};f.rv=function(a){this.loop(function(b){Sh(a,b.$e())})};
f.ol=function(a,b){pb(this.Gb,a)||(this.Gb=this.Gb?this.Gb:{},this.Gb[a.a().getAttribute("id")]=a,this.Ra.Sm(a.$e()),G(this.Ra,"w",this.RI.bind(this)),a.a()[Tu]=a.Kt().toLowerCase(),this.Te(a.a(),b),this.Qc(),G(a,"B",function(a){this.dispatchEvent({type:"B",oj:a.target})}.bind(this)),G(a,"C",function(a){this.dispatchEvent({type:"C",oj:a.target})}.bind(this)))};f.ii=function(a,b,c){a=this.cn(a,b);this.ol(a,c);Wu(this,"image");Wu(this,"text");Wu(this,"thumbnail");this.Qc();return a};
f.yo=function(){Su.c.yo.call(this);G(this.Wf,"mouseover",this.ZB.bind(this))};f.ZB=function(a){this.xu=a.clientX;this.yu=a.clientY};function Xu(a){C(a.Gb,function(a){a.$n()});a.Fo=null}f.RI=function(){var a=document.elementFromPoint(this.xu,this.yu);(a=ki(a,null,ws.oc))?(a=a.id.replace("HOVERABLE_",""),this.Fo!==a&&(Xu(this),this.Fo=a,this.Gb[this.Fo].Wq()),this.Gb[this.Fo].lv()):Xu(this)};
function Wu(a,b){var c,d=[],e="";for(e in a.Gb){switch(b){case "thumbnail":d=a.Yi;c=a.Gb[e].a();break;case "image":d=a.Jk;c=a.Gb[e].Pc;break;case "text":d=a.Kk,c=a.Gb[e].Ge}xh(c,th(c),d)}}f.zx=function(a){null!=this.Yi||Vu(this);this.Yi.push(a);Wu(this,"thumbnail")};f.Cx=function(a){this.Jk.push(a);Wu(this,"image")};f.Dx=function(a){this.Kk.push(a);Wu(this,"text")};f.j=function(a){a&&lk(this.a(),a)};
function Vu(a){var b=new ws;a.Yi=th(b.a());a.Yi.push(Su.CSS.Zr);a.Jk=th(b.Pc);a.Jk.push(Su.CSS.as);a.Kk=th(b.Ge);a.Kk.push(Su.CSS.Lw);T(b.a());delete b}f.e=function(){Su.c.e.call(this);delete this.Cr;null!=this.xu&&delete this.xu;null!=this.yu&&delete this.yu;null!=this.Gb&&(this.fn(this.Gb),delete this.Gb);null!=this.ma&&(H(this.ma),this.ma.g(),delete this.ma);null!=this.Yi&&(Ib(this.Yi),delete this.Yi);null!=this.Jk&&(Ib(this.Jk),delete this.Jk);null!=this.Kk&&(Ib(this.Kk),delete this.Kk);delete this.Fo};
v("nrg.ui.ThumbnailGallery.ID_PREFIX",Su.ID_PREFIX);v("nrg.ui.ThumbnailGallery.CSS_SUFFIX",Su.CSS_SUFFIX);v("nrg.ui.ThumbnailGallery.THUMB_SORT_TAG",Tu);v("nrg.ui.ThumbnailGallery.thumbnailSorter",Uu);v("nrg.ui.ThumbnailGallery.prototype.sortThumbnailsOnInsert",Su.prototype.Fv);v("nrg.ui.ThumbnailGallery.prototype.render",Su.prototype.k);v("nrg.ui.ThumbnailGallery.prototype.createThumbnail",Su.prototype.cn);v("nrg.ui.ThumbnailGallery.prototype.loop",Su.prototype.loop);
v("nrg.ui.ThumbnailGallery.prototype.setHoverParent",Su.prototype.rv);v("nrg.ui.ThumbnailGallery.prototype.addThumbnail",Su.prototype.ol);v("nrg.ui.ThumbnailGallery.prototype.createAndAddThumbnail",Su.prototype.ii);v("nrg.ui.ThumbnailGallery.prototype.setZippyTreeEvents",Su.prototype.yo);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailClass",Su.prototype.zx);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailImageClass",Su.prototype.Cx);v("nrg.ui.ThumbnailGallery.prototype.addThumbnailTextClass",Su.prototype.Dx);
v("nrg.ui.ThumbnailGallery.prototype.updateStyle",Su.prototype.j);v("nrg.ui.ThumbnailGallery.prototype.disposeInternal",Su.prototype.e);function Yu(){V.call(this)}w(Yu,V);v("xiv.ui.ViewableGroupMenu",Yu);Yu.ID_PREFIX="xiv.ui.ViewableGroupMenu";Yu.CSS_SUFFIX={Yo:"header",Zr:"thumbnail",Lw:"thumbnail-text",as:"thumbnail-image",FD:"thumbnailgallery",Xo:"background"};f=Yu.prototype;f.N=null;f.Ve=null;f.Hl=null;
f.k=function(){Yu.c.k.call(this);this.Ve=R("div",{id:this.constructor.ID_PREFIX+"_Background_"+B()});P(this.Ve,this.constructor.CSS.Xo);Sh(this.a(),this.Ve);this.Hl=R("div",{id:this.constructor.ID_PREFIX+"_HeaderText_"+B(),"class":Yu.CSS.Yo});this.Hl.innerHTML="<b> Select View <b>";Sh(this.a(),this.Hl);null!=this.N||this.reset()};f.AF=function(){return this.Ve};f.show=function(){qk(this.a(),Vl.oL)};f.ii=function(a,b){null!=this.N||this.reset();var c=this.N.ii(a,b);Zu(this,c);return c};
f.Kl=function(){tk(this.a(),500);T(this.a())};f.reset=function(){null!=this.N&&(this.N.g(),delete this.N);this.N=new Su;this.N.Fv(!0);this.N.k(this.a());P(this.N.a(),Yu.CSS.FD);this.N.zx(Yu.CSS.Zr);this.N.Cx(Yu.CSS.as);this.N.Dx(Yu.CSS.Lw)};function Zu(a,b){G(b,"D",function(){this.dispatchEvent({type:"T",Rv:b})}.bind(a))}f.e=function(){Yu.c.e.call(this);null!=this.Ve&&(T(this.Ve),delete this.Ve);null!=this.Hl&&(T(this.Hl),delete this.Hl);null!=this.N&&(this.N.g(),delete this.N)};
v("xiv.ui.ViewableGroupMenu.ID_PREFIX",Yu.ID_PREFIX);v("xiv.ui.ViewableGroupMenu.EventType",{wN:"T"});v("xiv.ui.ViewableGroupMenu.CSS_SUFFIX",Yu.CSS_SUFFIX);v("xiv.ui.ViewableGroupMenu.prototype.render",Yu.prototype.k);v("xiv.ui.ViewableGroupMenu.prototype.getBackground",Yu.prototype.AF);v("xiv.ui.ViewableGroupMenu.prototype.show",Yu.prototype.show);v("xiv.ui.ViewableGroupMenu.prototype.createAndAddThumbnail",Yu.prototype.ii);v("xiv.ui.ViewableGroupMenu.prototype.hide",Yu.prototype.Kl);
v("xiv.ui.ViewableGroupMenu.prototype.reset",Yu.prototype.reset);v("xiv.ui.ViewableGroupMenu.prototype.disposeInternal",Yu.prototype.e);var $u;function av(a,b,c,d,e){this.Qj=a;this.uk=b;this.Rx=c;this.CE=d;this.bo=e}av.prototype.getName=function(){return this.uk};function bv(a){return!a.uk||"[object Object]"==a.Qj}
function cv(a){var b=[a.Qj?dv(a.Qj)+".":"",a.uk?dv(ev(a.uk)):"anonymous",dv(a.CE),a.Rx?" [as "+dv(ev(a.Rx))+"]":""];if(a.bo)if(b.push(" at "),Boolean(ba.CLOSURE_INSPECTOR___&&ba.CLOSURE_INSPECTOR___.supportsJSUnit)){var c=a.bo.match(/\d+$/)[0];b.push('<a href="" onclick="CLOSURE_INSPECTOR___.showLine(\'',dv(a.bo),"', '",c,"'); return false\">",dv(a.bo),"</a>")}else b.push(dv(a.bo));return b.join("")}
var fv=/^    at(?: (?:(.*?)\.)?((?:new )?(?:[a-zA-Z_$][\w$]*|<anonymous>))(?: \[as ([a-zA-Z_$][\w$]*)\])?)? (?:\(unknown source\)|\(native\)|\((?:eval at )?((?:http|https|file):\/\/[^\s)]+|javascript:.*)\)|((?:http|https|file):\/\/[^\s)]+|javascript:.*))$/,gv=/^([a-zA-Z_$][\w$]*)?(\(.*\))?@(?::0|((?:http|https|file):\/\/[^\s)]+|javascript:.*))$/,hv=/^(?:(?:([a-zA-Z_$][\w$]*)|<anonymous function(?:\: (?:([a-zA-Z_$][\w$]*(?:\.[a-zA-Z_$][\w$]*)*)\.)?([a-zA-Z_$][\w$]*))?>)(\(.*\)))?@((?:http|https|file):\/\/[^\s)]+|javascript:.*)?$/,
iv=/^function ([a-zA-Z_$][\w$]*)/,jv=/^   at ([a-zA-Z_$][\w$]*(?:\s+\w+)*)\s*\((eval code:[^)]*|((?:http|https|file):\/\/[^\s)]+|javascript:.*))\)?$/;
function kv(){for(var a=[],b=arguments.callee.caller,c=0;b&&20>c;){var d=Function.prototype.toString.call(b).match(iv),d=d?d[1]:"",e=["("];if(b.arguments)for(var h=0;h<b.arguments.length;h++){var k=b.arguments[h];0<h&&e.push(", ");r(k)?e.push('"',k,'"'):k&&k.$replay?e.push("goog.testing.Mock"):e.push(String(k))}else e.push("unknown");e.push(")");a.push(new av("",d,"",e.join(""),""));try{b=b.caller}catch(l){break}c++}return a}
function lv(a){var b=a.match(fv);if(b)return new av(b[1]||"",b[2]||"",b[3]||"","",b[4]||b[5]||"");if(5E5<a.length){var b=a.indexOf("("),c=a.lastIndexOf("@"),d=a.lastIndexOf(":"),e="";0<=b&&b<c&&(e=a.substring(0,b));var h="";0<=c&&c+1<d&&(h=a.substring(c+1));d="";0<=b&&0<c&&b<c&&(d=a.substring(b,c));return new av("",e,"",d,h)}return(b=a.match(gv))?new av("",b[1]||"","",b[2]||"",b[3]||""):(b=a.match(hv))?new av(b[2]||"",b[1]||b[3]||"","",b[4]||"",b[5]||""):(b=a.match(jv))?new av("",b[1]||"","","",b[2]||
""):null}function ev(a){return $u?$u(a):a}function dv(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function mv(){var a=Error();if(a.stack)return a.stack;try{null.x()}catch(b){return b.stack}return""}v("setDeobfuscateFunctionName",function(a){$u=a});function nv(a,b){return a==b}function ov(a,b){return a.toString()===b.toString()}var pv={String:nv,Number:nv,Boolean:nv,Date:function(a,b){return a.getTime()==b.getTime()},RegExp:ov,Function:ov};function qv(a,b,c){return Math.abs(a-b)<=c}var rv={Number:qv};
function sv(a){var b=typeof a;try{switch(b){case "object":if(null==a){b="null";break}case "function":switch(a.constructor){case (new String("")).constructor:b="String";break;case (new Boolean(!0)).constructor:b="Boolean";break;case (new Number(0)).constructor:b="Number";break;case [].constructor:b="Array";break;case RegExp().constructor:b="RegExp";break;case (new Date).constructor:b="Date";break;case Function:b="Function";break;default:var c=a.constructor.toString().match(/function\s*([^( ]+)\(/);
c&&(b=c[1])}break}}catch(d){}finally{b=b.substr(0,1).toUpperCase()+b.substr(1)}return b}function tv(a){var b;try{b="<"+String(a)+">"}catch(c){b="<toString failed: "+c.message+">"}null!==a&&void 0!==a&&(b+=" ("+sv(a)+")");return b}function uv(a,b){return b.length==a+1?b[0]:null}function vv(a,b,c){return c.length==b+1?c[a]:c[a-1]}function wv(a,b){b.length==a||b.length==a+1&&r(b[0])||xv(null,"Incorrect arguments passed to assert function")}
function Bv(a,b){var c="Expected "+tv(a)+" but was "+tv(b);if("string"==typeof a&&"string"==typeof b){for(var d=Math.min(a.length,b.length),e=0;e<d&&a.charAt(e)==b.charAt(e);)e++;for(var h=0;h<d&&a.charAt(a.length-h-1)==b.charAt(b.length-h-1);)h++;e+h>d&&(h=0);if(2<e||2<h)d=function(a){var b=Math.max(0,e-2),c=Math.min(a.length,a.length-(h-2));return(0<b?"...":"")+a.substring(b,c)+(c<a.length?"...":"")},c+="\nDifference was at position "+e+". Expected ["+d(a)+"] vs. actual ["+d(b)+"]"}return c}
function Cv(a,b){wv(1,arguments);var c=uv(1,arguments),d=vv(1,1,arguments);ia(d)||xv(c,"Bad argument to assert(boolean)");d||xv(c,"Call to assert(boolean) with false")}function Dv(a,b){wv(1,arguments);var c=uv(1,arguments),d=vv(1,1,arguments);ia(d)||xv(c,"Bad argument to assertTrue(boolean)");d||xv(c,"Call to assertTrue(boolean) with false")}function Ev(a,b,c){wv(2,arguments);var d=vv(1,2,arguments),e=vv(2,2,arguments),h=Bv(d,e);d===e||xv(uv(2,arguments),h)}
function Fv(a,b){wv(1,arguments);var c="Expected not to be "+tv(null);null!==vv(1,1,arguments)||xv(uv(1,arguments),c)}function Gv(a,b){wv(1,arguments);var c="Expected not to be "+tv(void 0);void 0!==vv(1,1,arguments)||xv(uv(1,arguments),c)}
function Hv(a,b,c){function d(a,b,c){for(var q=0;q<h.length;++q){var s=h[q]===a,u=k[q]===b;if(s||u){s&&u||e.push("Asymmetric cycle detected at "+c);return}}h.push(a);k.push(b);if(a!==b)if(q=sv(a),s=sv(b),q==s){var u="Array"==q,z=l(q,a,b);if(null!=z)""!=z&&e.push(c+": "+z);else if(u&&a.length!=b.length)e.push(c+": Expected "+a.length+"-element array but got a "+b.length+"-element array");else if(z=c+(u?"[%s]":c?".%s":"%s"),a.__iterator__)ja(a.xl)?a.xl(b)||e.push("equals() returned false for "+(c||
q)):a.nb?d(a.nb,b.nb,z.replace("%s","map_")):e.push("unable to check "+(c||q)+" for equality: it has an iterator we do not know how to handle. please add an equals method");else{for(var y in a)u&&(y|0)==y||(y in b?d(a[y],b[y],z.replace("%s",y)):e.push("property "+y+" not present in actual "+(c||s)));for(y in b)u&&(y|0)==y||y in a||e.push("property "+y+" not present in expected "+(c||q));if(u)for(y=0;y<a.length;y++)d(a[y],b[y],z.replace("%s",String(y)))}}else e.push(c+" "+Bv(a,b));h.pop();k.pop()}
var e=[],h=[],k=[],l=c||function(a,b,c){return(a=pv[a])?a(b,c)?"":Bv(b,c):null};d(a,b,"");return 0==e.length?null:Bv(a,b)+"\n   "+e.join("\n   ")}function Iv(a,b,c){wv(2,arguments);var d=uv(2,arguments)?uv(2,arguments):"",e=Hv(vv(1,2,arguments),vv(2,2,arguments));!e||xv(d,e)}function Jv(a,b,c,d){wv(3,arguments);var e=vv(1,3,arguments),h=vv(2,3,arguments),k=vv(3,3,arguments);qv(e,h,k)||xv(uv(3,arguments),"Expected "+e+", but got "+h+" which was more than "+k+" away")}
function Kv(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b}function Lv(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function Mv(a){var b=document.createElement("DIV");b.innerHTML=a;return b.innerHTML.replace(/^\s+|\s+$/g,"")}function xv(a,b){ba.CLOSURE_INSPECTOR___&&ba.CLOSURE_INSPECTOR___.supportsJSUnit&&ba.CLOSURE_INSPECTOR___.jsUnitFailure(a,b);throw new Nv(a,b);}
function Nv(a,b){this.message=(a?a:"")+(a&&b?"\n":"")+(b?b:"");var c=mv();if(c){if(g(c))for(var d=[],e=0;e<c.length;e++){var h=c[e],k=h.getFunctionName()||"unknown",l=h.getFileName(),h=l?l+":"+h.getLineNumber()+":"+h.getColumnNumber():"unknown";d.push(new av("",k,"","",h))}else for(c=c.replace(/\s*$/,"").split("\n"),d=[],e=0;e<c.length;e++)d.push(lv(c[e]));c=d}else c=kv();for(d=c.length-1;c[d]&&bv(c[d]);)d--;e=-1;for(k=0;k<c.length;k++)if(c[k]&&"_assert"==c[k].getName()){e=k;break}h=[];for(k=e+1;k<=
d;k++)h.push("> "),c[k]?h.push(cv(c[k])):h.push("(unknown)"),h.push("\n");this.comment=a||null;Error.captureStackTrace?Error.captureStackTrace(this,Nv):this.stack=Error().stack||""}w(Nv,Error);Nv.prototype.toString=function(){return this.message};v("fail",function(a){xv("Call to fail()",a)});v("assert",Cv);
v("assertThrows",function(a,b){wv(1,arguments);var c=vv(1,1,arguments),d=uv(1,arguments);"function"==typeof c||xv(d,"Argument passed to assertThrows is not a function");try{c()}catch(e){return e&&r(e.stacktrace)&&r(e.message)&&(c=e.message.length-e.stacktrace.length,e.message.indexOf(e.stacktrace,c)==c&&(e.message=e.message.substr(0,c-14))),e}xv(d,"No exception thrown from function passed to assertThrows")});
v("assertNotThrows",function(a,b){wv(1,arguments);var c=uv(1,arguments),d=vv(1,1,arguments);"function"==typeof d||xv(c,"Argument passed to assertNotThrows is not a function");try{return d()}catch(e){c=(c?c+"\n":"")+"A non expected exception was thrown from function passed to assertNotThrows",xv(c,e.stack||e.stacktrace||e.toString())}});v("assertTrue",Dv);
v("assertFalse",function(a,b){wv(1,arguments);var c=uv(1,arguments),d=vv(1,1,arguments);ia(d)||xv(c,"Bad argument to assertFalse(boolean)");!d||xv(c,"Call to assertFalse(boolean) with true")});v("assertEquals",Ev);v("assertNotEquals",function(a,b,c){wv(2,arguments);var d=vv(2,2,arguments),e="Expected not to be "+tv(d);vv(1,2,arguments)!==d||xv(uv(2,arguments),e)});v("assertNull",function(a,b){wv(1,arguments);var c=vv(1,1,arguments),d=Bv(null,c);null===c||xv(uv(1,arguments),d)});
v("assertNotNull",Fv);v("assertUndefined",function(a,b){wv(1,arguments);var c=vv(1,1,arguments),d=Bv(void 0,c);void 0===c||xv(uv(1,arguments),d)});v("assertNotUndefined",Gv);v("assertNotNullNorUndefined",function(a,b){wv(1,arguments);Fv.apply(null,arguments);Gv.apply(null,arguments)});v("assertNonEmptyString",function(a,b){wv(1,arguments);var c=vv(1,1,arguments),d="Expected non-empty string but was "+tv(c);void 0!==c&&null!==c&&"string"==typeof c&&""!==c||xv(uv(1,arguments),d)});
v("assertNaN",function(a,b){wv(1,arguments);isNaN(vv(1,1,arguments))||xv(uv(1,arguments),"Expected NaN")});v("assertNotNaN",function(a,b){wv(1,arguments);!isNaN(vv(1,1,arguments))||xv(uv(1,arguments),"Expected not NaN")});v("assertObjectEquals",Iv);
v("assertObjectRoughlyEquals",function(a,b,c,d){wv(3,arguments);var e=vv(3,3,arguments),h=uv(3,arguments)?uv(3,arguments):"",k=Hv(vv(1,3,arguments),vv(2,3,arguments),function(a,b,c){return(a=rv[a])?a(b,c,e)?"":Bv(b,c)+" which was more than "+e+" away":null});!k||xv(h,k)});v("assertObjectNotEquals",function(a,b,c){wv(2,arguments);var d=uv(2,arguments)?uv(2,arguments):"";Hv(vv(1,2,arguments),vv(2,2,arguments))||xv(d,"Objects should not be equal")});
v("assertArrayEquals",function(a,b,c){wv(2,arguments);var d=vv(1,2,arguments),e=vv(2,2,arguments),h=uv(2,arguments)?uv(2,arguments):"",k=sv(d);"Array"==k||xv(h,"Expected an array for assertArrayEquals but found a "+k);k=sv(e);"Array"==k||xv(h,"Expected an array for assertArrayEquals but found a "+k);Iv(h,Array.prototype.concat.call(d),Array.prototype.concat.call(e))});
v("assertElementsEquals",function(a,b,c){wv(2,arguments);var d=vv(1,2,arguments),e=vv(2,2,arguments),h=uv(2,arguments)?uv(2,arguments):"";if(d){Ev("length mismatch: "+h,d.length,e.length);for(var k=0;k<d.length;++k)Ev("mismatch at index "+k+": "+h,d[k],e[k])}else Cv(h,!e)});
v("assertElementsRoughlyEqual",function(a,b,c,d){wv(3,arguments);var e=vv(1,3,arguments),h=vv(2,3,arguments),k=vv(3,3,arguments),l=uv(3,arguments)?uv(3,arguments):"";if(e){Ev("length mismatch: "+l,e.length,h.length);for(var n=0;n<e.length;++n)Jv(l,e[n],h[n],k)}else Cv(l,!h)});
v("assertSameElements",function(a,b,c){wv(2,arguments);var d=vv(1,2,arguments),e=vv(2,2,arguments),h=uv(2,arguments);Dv("Bad arguments to assertSameElements(opt_message, expected: ArrayLike, actual: ArrayLike)",ha(d)&&ha(e));d=Kv(d);e=Kv(e);d.length==e.length||xv(h,"Expected "+d.length+" elements: ["+d+"], got "+e.length+" elements: ["+e+"]");for(var k=Kv(d),l=0;l<e.length;l++){var n=Lv(k,e[l]);-1!=n||xv(h,"Expected ["+d+"], got ["+e+"]");k.splice(n,1)}});
v("assertEvaluatesToTrue",function(a,b){wv(1,arguments);vv(1,1,arguments)||xv(uv(1,arguments),"Expected to evaluate to true")});v("assertEvaluatesToFalse",function(a,b){wv(1,arguments);vv(1,1,arguments)&&xv(uv(1,arguments),"Expected to evaluate to false")});v("assertHTMLEquals",function(a,b,c){wv(2,arguments);var d=vv(2,2,arguments),e=Mv(vv(1,2,arguments)),d=Mv(d),h=Bv(e,d);e===d||xv(uv(2,arguments),h)});
v("assertHashEquals",function(a,b,c){wv(2,arguments);var d=vv(1,2,arguments),e=vv(2,2,arguments),h=uv(2,arguments),k;for(k in d)k in e||xv(h,"Expected hash had key "+k+" that was not found"),d[k]==e[k]||xv(h,"Value for key "+k+" mismatch - expected = "+d[k]+", actual = "+e[k]);for(k in e)k in d||xv(h,"Actual hash had key "+k+" that was not expected")});v("assertRoughlyEquals",Jv);
v("assertContains",function(a,b,c){wv(2,arguments);var d=vv(1,2,arguments),e=vv(2,2,arguments);-1!=Lv(e,d)||xv(uv(2,arguments),"Expected '"+e+"' to contain '"+d+"'")});v("assertNotContains",function(a,b,c){wv(2,arguments);var d=vv(1,2,arguments),e=vv(2,2,arguments);-1==Lv(e,d)||xv(uv(2,arguments),"Expected '"+e+"' not to contain '"+d+"'")});
v("assertRegExp",function(a,b,c){wv(2,arguments);var d=vv(1,2,arguments),e=vv(2,2,arguments);"string"==typeof d&&(d=new RegExp(d));d.test(e)||xv(uv(2,arguments),"Expected '"+e+"' to match RegExp "+d.toString())});function Ov(){V.call(this);this.hb=[];this.ep={};this.ub={dN:null,qm:null,gg:null,AC:null,pL:null,BC:null,vD:null,GD:null};this.ub.qm=R("div",{id:Ov.ID_PREFIX+"_menu_top_left_"+B(),"class":Ov.CSS.hD,viewbox:this.a().id});Sh(this.a(),this.ub.qm);this.Eb=R("div",{id:Ov.ID_PREFIX+"_ViewFrame_"+B(),"class":Ov.CSS.RD});Sh(this.a(),this.Eb);this.dc=new Ru;Sh(this.Eb,this.dc.a());this.dc.a().style.opacity=0;this.dc.a().style.zIndex=1E5;Pv(this.dc);this.j()}w(Ov,V);v("xiv.ui.ViewBox",Ov);Ov.ID_PREFIX="xiv.ui.ViewBox";
Ov.CSS_SUFFIX={OL:"hidden",TM:"tabdragger",UM:"tabdragger-handle",TD:"viewlayoutmenu",hD:"menu-top-left",gD:"menu-left",SD:"viewlayouthandler",VM:"ziptabs",WM:"ziptab-bounds",RD:"viewframe",nw:"component-highlight",ND:"viewablegroupmenu",IL:"emptymenubutton"};var Qv={Scans:"Four-Up",Slicer:"Conventional","Slicer Scenes":"Conventional"};f=Ov.prototype;f.eI="empty";f.Bd=null;f.Qa=null;f.bc=null;f.fa=null;f.dc=null;f.nd=null;f.A=null;f.ej=null;f.ke=null;f.Lz=!1;f.Ia=function(){return this.fa};f.oG=function(){return this.ub};
f.iG=function(){return this.eI};f.gH=function(){return this.hb};f.cH=function(){return this.Eb};f.hG=function(){return this.Qa};f.eH=function(){return this.nd};f.Nl=function(){P(this.Eb,Ov.CSS.nw)};f.Po=function(){vh(this.Eb,Ov.CSS.nw)};f.UG=function(){return this.Hh};f.iy=function(){this.Hh=void 0};f.fF=function(a){this.pt=this.pt?this.pt:[];this.pt.push(a)};f.Gk=function(a){this.bc.so(a)};f.lJ=function(){this.dc.D(0);this.dc.Av(!0);Rv(this.dc,0);this.Nl()};
function Sv(a,b){a.dc.Yf("");a.dc.Av(!0);a.dc.D(100*b)}f.Su=function(a){this.Nl();Sv(this,a.value)};function Tv(a,b){Tf(function(){Pv(this.dc,t(void 0)?void 0:500,function(){this.j();null!=b&&b()}.bind(this))}.bind(a),t(800)?800:1E3)}f.Xq=function(){this.ej.Mr(!1);D(Hh("xtk-progress-bar"),function(a){a.visibility="hidden"});this.A.qy();null!=this.hb[0].Kb()&&this.Gk(this.hb[0].Kb());Uv(this);this.ke.ry();this.ke.Vx();Tv(this,function(){this.dc.D(0);this.j();this.Vq();this.dispatchEvent("V");this.Po()}.bind(this))};
f.Ou=function(a){C(this.fa.cc,function(b,c){null!=a.Xv[c]&&(b.Ek(a.Xv[c]),b.j())})};f.Vq=function(){this.fa&&this.fa.j();null!=this.ke&&this.ke.update();null!=this.fa&&this.ke.FA()};function Vv(a,b){a.nd.reset();sb(a.ep);Hb(a.hb,b)||a.hb.push(b);1==a.hb.length&&a.Gk(Qv[b.pg]);var c=b.Vc,d=null;1<c.length?(D(c,function(a,b){d=this.nd.ii(a.gm,a.Rd()||b);this.ep[na(d)]=a}.bind(a)),Rv(a.nd,400)):a.load(c[0],!1)}f.Ao=function(){this.A.Ao()};
f.Us=function(a){return null!=this.Hh?(this.Ao(),this.A.qB(a),!0):!1};
f.load=function(a,b){this.dispatchEvent("U");if(!this.Us(function(){this.Hh=void 0;this.load(a,b)}.bind(this)))if(null!=a){if(b=null!=b?b:!0)Wv(this),Xv(this),this.A=new $t(this),this.Qa=new is,this.Qa.a().style.opacity=0,Sh(this.Eb,this.Qa.a()),P(this.Qa.a(),Ov.CSS.SD),G(this.Qa,"A",this.Vq.bind(this)),G(this.Qa,"x",this.Ou.bind(this)),G(this.Qa,"z",this.Pu.bind(this)),G(this.Qa,"y",this.Nu.bind(this)),this.fa=new Ct,Yv(this),this.ke=new hu(this,this.fa,this.Qa,this.A),this.ke.bC(this.bc),this.Lz=
!0;Pv(this.nd,400);Rv(this.dc,0);if(a instanceof Kl)Vv(this,a);else{var c;C(this.fa.cc,function(a,b){(c=this.Qa.Yy(b))&&a.ja(c.a())}.bind(this));Rc(this.fa,"r",this.lJ.bind(this));Rc(this.fa,"t",this.Xq.bind(this));G(this.fa,"s",this.Su.bind(this));"scans"==a.pg.toLowerCase()?Zv(this,a):$v(this,a)}}else this.Yq("The data set is empty!")};
function Zv(a,b){Rv(a.dc,0);Sv(a,0);var c=a.hb[a.hb.length-1].vz(),d=b.Oe[0].xg()[0],e="";-1!=d.toLowerCase().indexOf("xiv/sample-data/scans/")?(d=d.split("xiv/sample-data/scans/"),e=d[0]+"xiv/sample-data/scans/"+(d[1].split("/")[0]+".zip")):e=d.split("/files/")[0]+"/files";window.console.log("XImgView Zip Downloading (XHR): "+e);pl(e,function(a){b.Oe[0].kB(a);$v(this,b)}.bind(a),function(a){this.Nl();Sv(this,a.loaded/c)}.bind(a))}
function $v(a,b){null!=a.ej?a.ej.Mr(!1):(a.ej=new Nu,a.ej.jB(a.Eb),a.ej.zB(a.Yq.bind(a)));a.ej.Mr(!0);a.fa.k(b);a.Hh=(new Date).getTime()}f.Yq=function(){this.Po();Pv(this.dc);Wv(this);this.iy()};f.Pu=function(){C(this.fa.cc,function(a){a.j()});this.ke.update()};f.Nu=function(a){var b=a.frames;C(this.fa.cc,function(a,d){null!=b[d]&&(a.Ek(b[d].a()),a.j())}.bind(this));this.ke.update()};
function Uv(a){var b=0,b=t(b)?b:500,c=[];D([a.ub.gg,a.bc.a(),a.Qa.a()],function(a){c.push(wk(a,{opacity:0},{opacity:1},b))});Ek(c,null,null,void 0)}function Pv(a,b,c){if(null!=a){b=t(b)&&0<=b?b:0;var d=function(){a.a().style.visibility="hidden";a.a().style.zIndex="-1";c&&c()};"hidden"==a.a().style.visibility||0==b?d():tk(a.a(),b,d)}}
function Rv(a,b){b=t(b)&&0<=b?b:0;a.a().style.opacity="0";a.a().style.zIndex="1000";a.a().style.visibility="visible";0==b?a.a().style.opacity="1":qk(a.a(),b,function(){})}f.Gr="Info. Display;Help;Settings;Levels;2D Pan;2D Zoom;Toggle Crosshairs;Volumes;Annotations;Meshes".split(";");function aw(a,b,c,d){var e=Vh(b),h=[],k;D(a.Gr,function(){h.push(null)});h[d]=c;D(e,function(a){k=this.Gr.indexOf(a.title);h[k]=a}.bind(a));Th(b);D(h,function(a){null!=a&&b.appendChild(a)})}
f.Kj=function(a,b,c){b.style.position="relative";b.style.display="block";b.style.marginLeft="auto";b.style.marginRight="auto";b.style.marginTop="6px";b.style.marginBottom="6px";var d;switch(a){case "TOP_LEFT":d=this.ub.qm;break;case "LEFT":d=this.ub.gg;break;case "BOTTOM_LEFT":d=this.ub.AC;break;case "TOP_RIGHT":d=this.ub.GD;break;case "RIGHT":d=this.ub.vD;break;case "BOTTOM_RIGHT":d=this.ub.BC}t(c)?d.insertBefore(b,d.childNodes[c]):(a=this.Gr.indexOf(b.title),0<a?aw(this,d,b,a):Sh(d,b));bw(this)};
f.Xl=function(a,b){a.setAttribute("checked","true"==a.getAttribute("checked")?"false":"true");"true"==a.getAttribute("checked")?P(a,a.getAttribute(eu)):vh(a,a.getAttribute(eu));null!=b&&b(a)};f.eC=function(a){return"true"==this.Bd[a].getAttribute("checked").toString()};f.Mt=function(a){return this.Bd[a]};f.Mc=function(a){Dn(this.Bd[a])};f.aw=function(a){g(a)||(a=[a]);D(a,function(a){null!=this.Bd[a]&&this.eC(a)&&Dn(this.Bd[a])}.bind(this))};
f.Tj=function(a,b,c,d,e,h){var k=b+"-on",l=R("img",b);l.id=fj(this)+".IconButton_";l.title=d;null!=h&&(l.src=h);l.setAttribute("checked","true");l.setAttribute(eu,b+"-on");P(l,k);lk(l,{cursor:"pointer"});G(l,"click",function(){this.Xl(l,e)}.bind(this));this.Kj(a,l);if(null==this.Bd)this.Bd={};else if(null!=this.Bd[c])throw Error("Invalid identifier for toggle button.  In use.");return this.Bd[c]=l};
function Xv(a){a.ub.gg=R("div",{id:Ov.ID_PREFIX+"_menu_left_"+B(),"class":Ov.CSS.gD,viewbox:a.a().id});a.ub.gg.style.opacity=0;Sh(a.a(),a.ub.gg);a.bc=new Zo;a.bc.iB("Select Layout");P(a.bc.a(),Ov.CSS.TD);a.bc.lA(!0);a.bc.a().style.opacity=0;a.bc.Td.style.opacity=0;var b=a.bc.a();Nb(a.Gr,void 0,0,b.title);a.Kj("LEFT",b);a.Eb.appendChild(a.bc.Td)}
function Yv(a){a.nd=new Yu;a.nd.k(a.Eb);Sh(a.Eb,a.nd.a());Sh(a.Eb,a.nd.Ve);P(a.nd.a(),Ov.CSS.ND);G(a.nd,"T",function(a){this.load(this.ep[na(a.Rv)],!1)}.bind(a));Pv(a.nd)}f.WG=function(){return this.Bd};function bw(a){var b,c,d,e;null!=a.ub.qm&&(d=a.ub.qm,e=Li(d),b=0,c=e.height);null!=a.ub.gg&&(d=a.ub.gg,e=Li(d),a=a.q.height/2-e.height/2,d.style.top=null!=b&&a<c?"calc(100% - "+(e.height+2)+"px)":a+"px")}
f.j=function(a){Ov.c.j.call(this,a);null!=this.Qa&&this.Qa.j();this.fa&&this.fa.j();null!=this.bc&&(a=xi(this.ub.gg),Li(this.bc.Td),a=a.y-130,this.bc.oB(0,a),this.bc.FB(0,a));bw(this);null!=this.A&&this.A.update();null!=this.ke&&this.ke.jC()};
function Wv(a){sb(a.ep);Ib(a.hb);null!=a.Qa&&(H(a.Qa),yc(a.Qa.g()),delete a.Qa);null!=a.bc&&(H(a.bc),a.bc.g(),delete a.bc);null!=a.fa&&(a.fa.g(),delete a.fa);null!=a.nd&&(a.nd.g(),delete a.nd);null!=a.A&&a.A.e();null!=a.ke&&a.ke.g();null!=a.Bd&&(T(a.ub.gg),delete a.ub.gg,C(a.Bd,function(a){H(a);T(a)}),Ib(a.Bd),delete a.Bd)}
f.e=function(){Ov.c.e.call(this);Wv(this);null!=this.dc&&(this.dc.g(),delete this.dc);T(this.Eb);H(this.Eb);delete this.Eb;C(this.ub,function(a,b){T(a);delete this.ub[b]}.bind(this));delete this.ub;delete this.JN;delete this.Lz};v("xiv.ui.ViewBox.EventType",{PD:"U",OD:"V",vM:"W"});v("xiv.ui.ViewBox.ID_PREFIX",Ov.ID_PREFIX);v("xiv.ui.ViewBox.CSS_SUFFIX",Ov.CSS_SUFFIX);v("xiv.ui.ViewBox.defaultLayout",Qv);v("xiv.ui.ViewBox.MIN_HOLDER_HEIGHT",200);v("xiv.ui.ViewBox.SCAN_TAB_LABEL_HEIGHT",15);
v("xiv.ui.ViewBox.SCAN_TAB_LABEL_WIDTH",50);v("xiv.ui.ViewBox.MIN_TAB_H_PCT",.2);v("xiv.ui.ViewBox.ControllersSet",function(){});v("xiv.ui.ViewBox.prototype.getRenderer",Ov.prototype.Ia);v("xiv.ui.ViewBox.prototype.getMenus",Ov.prototype.oG);v("xiv.ui.ViewBox.prototype.getLoadState",Ov.prototype.iG);v("xiv.ui.ViewBox.prototype.getViewableTrees",Ov.prototype.gH);v("xiv.ui.ViewBox.prototype.getViewFrame",Ov.prototype.cH);v("xiv.ui.ViewBox.prototype.getLayoutHandler",Ov.prototype.hG);
v("xiv.ui.ViewBox.prototype.getViewableGroupMenu",Ov.prototype.eH);v("xiv.ui.ViewBox.prototype.highlight",Ov.prototype.Nl);v("xiv.ui.ViewBox.prototype.unhighlight",Ov.prototype.Po);v("xiv.ui.ViewBox.prototype.getThumbnailLoadTime",Ov.prototype.UG);v("xiv.ui.ViewBox.prototype.clearThumbnailLoadTime",Ov.prototype.iy);v("xiv.ui.ViewBox.prototype.doNotHide",Ov.prototype.fF);v("xiv.ui.ViewBox.prototype.setLayout",Ov.prototype.Gk);v("xiv.ui.ViewBox.prototype.showInUseDialog",Ov.prototype.Ao);
v("xiv.ui.ViewBox.prototype.checkInUseAndShowDialog",Ov.prototype.Us);v("xiv.ui.ViewBox.prototype.load",Ov.prototype.load);v("xiv.ui.ViewBox.prototype.addToMenu",Ov.prototype.Kj);v("xiv.ui.ViewBox.prototype.onToggleButtonClicked",Ov.prototype.Xl);v("xiv.ui.ViewBox.prototype.toggleButtonChecked",Ov.prototype.eC);v("xiv.ui.ViewBox.prototype.getToggleButton",Ov.prototype.Mt);v("xiv.ui.ViewBox.prototype.fireToggleButton",Ov.prototype.Mc);v("xiv.ui.ViewBox.prototype.untoggle",Ov.prototype.aw);
v("xiv.ui.ViewBox.prototype.createToggleButton",Ov.prototype.Tj);v("xiv.ui.ViewBox.prototype.getToggleButtons",Ov.prototype.WG);v("xiv.ui.ViewBox.prototype.updateStyle",Ov.prototype.j);v("xiv.ui.ViewBox.prototype.disposeInternal",Ov.prototype.e);function cw(){vn.call(this)}w(cw,vn);cw.prototype.Ij=function(a,b){var c=new Bn(a,b);c.po(this);this.Jn.push(c);this.Hi&&wn(this,c)};function dw(){V.call(this)}w(dw,V);v("xiv.ui.ViewBoxHandler",dw);dw.CSS_SUFFIX={OC:"handle",QD:"viewboxdragclone",cj:"closebutton",lw:"addrowbutton",kw:"addcolumnbutton"};dw.ID_PREFIX="xiv.ui.ViewBoxHandler";f=dw.prototype;f.Ur=5;f.Dw=5;f.Wk=document.body;f.Li=function(a,b){this.dispatchEvent({type:"Z",yA:a,yE:b})};f.mK=function(){return this.t.length};f.pn=function(){var a=[];D(this.t,function(b,c){a.push([]);D(b,function(){a[c].push(null)})});return a};
f.loop=function(a){this.t&&D(this.t,function(b,c){D(b,function(d,e){a(d,c,e,this.t.length,b.length)}.bind(this))}.bind(this))};f.Wt=function(a,b){this.t||(this.t=[[]]);var c=0,d=[],e;if(null!=a)c=ew(this,a),this.t[c.rq].length<this.Dw&&(d.push(fw(this)),Nb(this.t[c.rq],c.XH+1,0,d[0]));else{d=[];e=this.t.length?this.t.length:1;for(c=0;c<e;c++)d.push(fw(this));0===this.t.length?this.t.push([d[0]]):D(this.t,function(a,b){a.push(d[b])})}this.Li(d,void 0===b?!0:b);gw(this)};
f.dK=function(a){this.t&&(a=void 0===a?!0:a,this.t[0]&&1<this.t[0].length&&D(this.t,function(a){var c=a.length-1;hw(this,a[c]);a.splice(c,1)}.bind(this)),this.Li(null,a),gw(this))};function ew(a,b){for(var c=0,d=0,e=a.t.length,h=0,c=0;c<e;c++)for(d=0,h=a.t[c].length;d<h;d++)if(b===a.t[c][d])return{rq:c,XH:d}}
f.insertRow=function(a,b){this.t||(this.t=[[]]);var c=[],d,e;if(null!=a){var h=ew(this,a),c=[];e=this.t[h.rq].length;if(this.t.length<this.Ur){for(d=0;d<e;d++)c.push(fw(this));Nb(this.t,h.rq+1,0,c)}}else if(e=this.t[0]&&this.t[0].length?this.t[0].length:1,this.t.length<this.Ur){for(d=0;d<e;d++)c.push(fw(this));this.t.push(c)}this.Li(c,void 0===b?!0:b);gw(this)};
f.fK=function(a){this.t&&(a=void 0===a?!0:a,1<this.t.length&&(D(this.t[this.t.length-1],function(a){hw(this,a)}.bind(this)),this.t.splice(this.t.length-1,1)),this.Li(null,a),gw(this))};f.iq=function(a){for(var b=0,c=0,d=this.t.length,e=0,b=0;b<d;b++)for(c=0,e=this.t[b].length;c<e;c++)if(a===this.t[b][c].a())return this.t[b][c]};f.aH=function(a,b){return this.t[a][b].a()};f.ZG=function(a,b){return this.t[a][b]};f.yz=function(){var a=[];this.loop(function(b){a.push(b)});return a};
f.xz=function(){var a=[];this.loop(function(b){a.push(b.a())});return a};f.JB=function(a){this.Wk=a};
function fw(a){var b=new Ov;Sh(a.Wk,b.a());iw(a,b);var c=R("img",{id:dw.ID_PREFIX+"_dragHandle_"+B(),"class":dw.CSS.OC});c.src=serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/handle.png";c.setAttribute("viewboxid",b.a().id);b.Kj("TOP_LEFT",c,1);a.oi||(a.oi={});a.oi[b.a().id]=c;c.title="Drag / Swap ViewBox";jw(a,b);kw(a,b);G(b,"V",a.Xu.bind(a));G(b,"U",a.Yu.bind(a));G(b,"W",a.Yq.bind(a));return b}
function kw(a,b){var c=R("img",{id:dw.ID_PREFIX+"_CloseButton_"+B(),"class":dw.CSS.kw,src:serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/addcolumn.png"});nk(c,dw.CSS.kw+"-hovered");G(c,"click",function(){this.Wt(b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.Kj("TOP_LEFT",c,1);a.rx||(a.rx={});a.rx[b.a().id]=c;c.title="Add ViewBox Column"}
function jw(a,b){var c=R("img",{id:dw.ID_PREFIX+"_CloseButton_"+B(),"class":dw.CSS.lw,src:serverRoot+"/images/viewer/xiv/ui/ViewBoxManager/addrow.png"});nk(c,dw.CSS.lw+"-hovered");G(c,"click",function(){this.insertRow(b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.Kj("TOP_LEFT",c,1);a.yx||(a.yx={});a.yx[b.a().id]=c;c.title="Add ViewBox Row"}
function iw(a,b){var c=R("img",{id:dw.ID_PREFIX+"_CloseButton_"+B(),"class":dw.CSS.cj,src:serverRoot+"/images/viewer/xiv/ui/Modal/close.png"});nk(c,dw.CSS.cj+"-hovered");G(c,"click",function(){lw(this,b)}.bind(a));c.setAttribute("viewboxid",b.a().id);b.Kj("TOP_LEFT",c,1);a.Wm||(a.Wm={});a.Wm[b.a().id]=c;c.title="Close ViewBox"}f.Xu=function(a){this.dispatchEvent({type:"Y",UD:a.target})};f.cs=function(a,b){this.loop(function(c){Hb(c.hb,a)&&b(c)})};f.Yu=function(a){this.dispatchEvent({type:"X",UD:a.target})};
f.Yq=function(a){this.dispatchEvent(a)};function hw(a,b){rk(b.a(),150,0);T(a.oi[b.a().id]);T(a.Wm[b.a().id]);b.g()}function mw(a,b){var c=[],d;hw(a,b);D(a.t,function(a){d=[];D(a,function(a){a.Wj||d.push(a)}.bind(this));0!=d.length&&c.push(d)}.bind(a));a.t=c;a.Li(null,!0);gw(a)}function lw(a,b){1!=a.AA()&&(b.Us(function(){mw(this,b)}.bind(a))||mw(a,b))}f.Zt=function(a,b){var c=a.a()===b,d=a.a().id===b;return a===b||c||d};f.AA=function(){var a=0;this.loop(function(){a++});return a};
f.$G=function(a){for(var b=0,c=0,d=this.t.length,e=0,h=e=0,b=0;b<d;b++)for(c=0,e=this.t[b].length;c<e;c++)if(this.t[b][c]===a)return e=b+1===this.t.length,h=c+1===this.t[b].length,e&&h?this.t[0][0]:e&&!h?this.t[0][c+1]:!e&&h?this.t[b+1][0]:this.t[b+1][c+1]};f.cz=function(){var a;this.loop(function(b){null!=a||null!=b.Hh||(a=b)}.bind(this));if(null!=a)return a;var b=this.yz();g(b)?b.sort(function(a,b){return a.Hh<b.Hh?-1:a.Hh>b.Hh?1:0}):b=[b];return b[0]};
function nw(a,b,c,d){var e=new ak,h=d[b.id].relative;d=d[c.id].relative;b[ow]=!0;c[ow]=!0;window.console.log(b,h);window.console.log(c,d);e.add(new Pj(b,[b.offsetLeft,b.offsetTop],[d.left,d.top],300,ok));e.add(new Pj(c,[c.offsetLeft,c.offsetTop],[h.left,h.top],300,ok));Rc(e,"end",function(){window.console.log("SWAP END");b[ow]=!1;c[ow]=!1;pw(this);window.console.log("\n\nSWAPPER",b);window.console.log("SWAPPEE",c);var a,d,e,h,p=0,q=0,s=this.t.length,u,z;for(window.console.log("I",p,s);p<s;p++)for(u=
this.t[p],u=u.length,window.console.log("J",q,u),q=0;q<u;q++)z=this.t[p][q],window.console.log(z.a()),this.Zt(z,b)&&(a=p,d=q),this.Zt(z,c)&&(e=p,h=q);window.console.log(a,d,e,h);t(a)&&t(e)&&(p=this.t[a][d],this.t[a][d]=this.t[e][h],this.t[e][h]=p,p=Li(this.t[a][d].a()),q=Li(this.t[e][h].a()),Ii(this.t[e][h].a(),p),Ii(this.t[a][d].a(),q));window.console.log(this.t)}.bind(a));e.play()}f.Vs=function(){this.Nd&&(xn(this.Nd),xn(this.ih),delete this.Nd,delete this.ih)};
function qw(a){a.loop(function(a){null!=a.a()&&(this.Nd.Ij(this.oi[a.a().id]),this.ih.Ij(a.a()))}.bind(a))}function gw(a){a.Vs();a.Nd=new cw;a.ih=new cw;qw(a);var b=a.Nd,c=a.ih;b.Qv.push(c);c.Aq=!0;b.zq=!0;a.Nd.ja();a.ih.ja();a.Nd.bt=a.ct.bind(a);G(a.Nd,"dragstart",a.KI.bind(a));G(a.Nd,"dragover",a.Ju.bind(a));G(a.Nd,"dragend",a.Iu.bind(a))}f.ct=function(a){return rw(Eh(a.getAttribute("viewboxid")))};
f.KI=function(){this.Qh={};this.loop(function(a){this.Qh[a.a().id]={absolute:ik(a.a()),relative:jk(a.a())};this.oi[a.a().id].style.visibility="hidden"}.bind(this))};function rw(a){var b=document.body;a=a.cloneNode(!1);a.className=dw.CSS.QD;b&&b.appendChild(a);return a}var ow=B();dw.prototype.Ju=function(a){if(a.vl.element.id!==a.Vp.ki.getAttribute("viewboxid")){var b=Eh(a.Vp.ki.getAttribute("viewboxid"));a=Eh(a.vl.element.id);b[ow]||a[ow]||nw(this,b,a,this.Qh)}};
function pw(a){a.loop(function(a){this.Qh[a.a().id]={absolute:ik(a.a()),relative:jk(a.a())}}.bind(a))}dw.prototype.Iu=function(a){var b=a.Vp.Ja.Xj;a=Eh(a.Vp.ki.getAttribute("viewboxid"));a=ik(a);var c=rw(b);Sh(this.Wk.parentNode?this.Wk.parentNode:this.Wk,c);b=ik(b);lk(c,{top:b.top,left:b.left,"z-index":1E4});sw(c,a).play();tw(this);this.Li()};function sw(a,b){var c=new ak;c.add(new Pj(a,[a.offsetLeft,a.offsetTop],[b.left,b.top],150,ok));G(c,"end",function(){T(a)});return c}
function tw(a){a.loop(function(a){this.oi[a.a().id].style.visibility="visible"}.bind(a))}
dw.prototype.e=function(){dw.c.e.call(this);this.loop(function(a){H(a);T(a.a());a.g()}.bind(this));D(this.t,function(a){Ib(a)});Ib(this.t);delete this.t;this.Tp(this.oi);delete this.oi;this.Tp(this.Wm);delete this.Wm;C(this.Qh,function(a,b){sb(this.Qh[b]);delete this.Qh[b]}.bind(this));sb(this.Qh);delete this.Qh;null!=this.Nd&&(H(this.Nd),this.Nd.g());delete this.Nd;null!=this.ih&&(H(this.ih),this.ih.g());delete this.ih;delete this.Wk};v("xiv.ui.ViewBoxHandler.CSS_SUFFIX",dw.CSS_SUFFIX);
v("xiv.ui.ViewBoxHandler.EventType",{PD:"X",OD:"Y",vN:"Z"});v("xiv.ui.ViewBoxHandler.VIEW_BOX_ATTR","viewboxid");v("xiv.ui.ViewBoxHandler.ID_PREFIX",dw.ID_PREFIX);v("xiv.ui.ViewBoxHandler.prototype.MAX_ROWS",dw.prototype.Ur);v("xiv.ui.ViewBoxHandler.prototype.MAX_COLUMNS",dw.prototype.Dw);v("xiv.ui.ViewBoxHandler.prototype.rowCount",dw.prototype.mK);v("xiv.ui.ViewBoxHandler.prototype.getEmptyMatrix",dw.prototype.pn);v("xiv.ui.ViewBoxHandler.prototype.loop",dw.prototype.loop);
v("xiv.ui.ViewBoxHandler.prototype.insertColumn",dw.prototype.Wt);v("xiv.ui.ViewBoxHandler.prototype.removeColumn",dw.prototype.dK);v("xiv.ui.ViewBoxHandler.prototype.insertRow",dw.prototype.insertRow);v("xiv.ui.ViewBoxHandler.prototype.removeRow",dw.prototype.fK);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxByElement",dw.prototype.iq);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxElement",dw.prototype.aH);v("xiv.ui.ViewBoxHandler.prototype.getViewBox",dw.prototype.ZG);
v("xiv.ui.ViewBoxHandler.prototype.getViewBoxes",dw.prototype.yz);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxElements",dw.prototype.xz);v("xiv.ui.ViewBoxHandler.prototype.setViewBoxesParent",dw.prototype.JB);v("xiv.ui.ViewBoxHandler.prototype.ViewBoxFromVisNode",dw.prototype.cs);v("xiv.ui.ViewBoxHandler.prototype.isMatch",dw.prototype.Zt);v("xiv.ui.ViewBoxHandler.prototype.numViewBoxes",dw.prototype.AA);v("xiv.ui.ViewBoxHandler.prototype.getViewBoxAfter",dw.prototype.$G);
v("xiv.ui.ViewBoxHandler.prototype.getFirstEmpty",dw.prototype.cz);v("xiv.ui.ViewBoxHandler.prototype.disposeInternal",dw.prototype.e);function uw(a){ws.call(this);this.hB(serverRoot+"/images/viewer/xiv/ui/Thumbnail/silhouette.png",this.cw.bind(this));this.tf=a;vw(this);this.bn()}w(uw,ws);v("xiv.ui.Thumbnail",uw);uw.ID_PREFIX="xiv.ui.Thumbnail";uw.CSS_SUFFIX={};uw.prototype.cw=function(){var a=Fh("img",ws.CSS.Tk,this.$e()),a=a[0];a.src=this.Pc.src};uw.prototype.bn=function(){uw.c.bn.call(this);P(this.$e(),uw.nm)};
function vw(a){var b="",c=a.tf.Zd;if(null!=c["Scan ID"])b+=c["Scan ID"];else if(null!=a.tf.Ah)var d=a.tf.Ah.split("/"),b=b+d[d.length-1].split(".")[0];var e="",e=e+("<b><font size = '3'>"+b+"</font></b><br>");D(["Total Frames","Scan Type","Orientation"],function(a){null!=c[a]&&(e+="<font size = '1.5'>"+a+": "+c[a]+"<br>")}.bind(a));a.vo(e)}uw.prototype.dH=function(){return this.tf};uw.prototype.e=function(){uw.c.e.call(this);this.tf.g();delete this.tf};v("xiv.ui.Thumbnail.ID_PREFIX",uw.ID_PREFIX);
v("xiv.ui.Thumbnail.CSS_SUFFIX",uw.CSS_SUFFIX);v("xiv.ui.Thumbnail.prototype.updateHoverable",uw.prototype.cw);v("xiv.ui.Thumbnail.prototype.createHoverable",uw.prototype.bn);v("xiv.ui.Thumbnail.prototype.getViewable",uw.prototype.dH);v("xiv.ui.Thumbnail.prototype.disposeInternal",uw.prototype.e);function ww(){V.call(this);this.nf=new cw;this.ag=new cw;this.nf.bt=this.ct.bind(this);G(this.nf,"dragover",this.Ju.bind(this));G(this.nf,"dragend",this.Iu.bind(this));G(this.nf,"dragout",this.JI.bind(this));G(this.ag,"drop",this.LI.bind(this));var a=this.nf,b=this.ag;a.Qv.push(b);b.Aq=!0;a.zq=!0;this.ag.ja();this.nf.ja()}w(ww,Su);v("xiv.ui.ThumbnailGallery",ww);ww.ID_PREFIX="xiv.ui.ThumbnailGallery";ww.CSS_SUFFIX={$r:"thumbnail-dragging"};var xw="THUMBNAIL_DRAGGER_"+B(),yw=xw+"_FADER"+B();f=ww.prototype;
f.nf=null;f.ag=null;f.ii=function(a,b){var c=this.cn(a);this.ol(c,b);return c};f.cn=function(a){var b=new uw(a);G(b,"D",function(){this.dispatchEvent({type:"da",oj:b})}.bind(this));return b};f.ol=function(a,b){ww.c.ol.call(this,a,b);var c=a.$e();c&&this.nf.Ij(c)};f.hy=function(){xn(this.ag)};f.Ax=function(a){this.ag.Ij(a)};f.Bx=function(a){D(a,function(a){this.Ax(a)}.bind(this))};f.SG=function(a){return this.Gb[a.id]};
f.Vs=function(){null!=this.nf&&(xn(this.nf),this.nf.g());null!=this.ag&&(xn(this.ag),this.ag.g())};f.ct=function(a){a=ki(a,"div",uw.oc).id.replace("HOVERABLE_","");if(a in this.Gb)return this.Gb[a].setActive(!0,!0),a=this.Gb[a].a().cloneNode(!0),a.setAttribute("id",xw+a.id),P(a,ww.CSS.$r),a};f.Ju=function(a){this.dispatchEvent({type:"ba",Sv:a.vl.element})};f.JI=function(a){this.dispatchEvent({type:"ca",Sv:a.vl.element})};
f.Iu=function(){var a=Hh(ww.CSS.$r);D(a,function(a){tk(a,300,function(){T(a)})});null!=a[0]&&this.Gb[a[0].id.replace(xw,"")].setActive(!1,!0)};f.LI=function(a){var b=Ih(ww.CSS.$r);if(null!=b){b.style.opacity=0;var c=b.cloneNode(!0);c.style.opacity=1;document.body.appendChild(c);T(b);a.vl.element&&this.dispatchEvent({type:"ea",oj:this.Gb[b.id.replace(xw,"")],VK:a.vl.element})}};f.e=function(){ww.c.e.call(this);this.Vs()};
v("xiv.ui.ThumbnailGallery.EventType",{Zo:"$",jD:"aa",bN:"ba",aN:"ca",ZM:"da",cN:"ea"});v("xiv.ui.ThumbnailGallery.ID_PREFIX",ww.ID_PREFIX);v("xiv.ui.ThumbnailGallery.CSS_SUFFIX",ww.CSS_SUFFIX);v("xiv.ui.ThumbnailGallery.ANIM_MED",300);v("xiv.ui.ThumbnailGallery.DRAGGER_ID",xw);v("xiv.ui.ThumbnailGallery.DRAGGER_FADER_ID",yw);v("xiv.ui.ThumbnailGallery.prototype.createAndAddThumbnail",ww.prototype.ii);v("xiv.ui.ThumbnailGallery.prototype.createThumbnail",ww.prototype.cn);
v("xiv.ui.ThumbnailGallery.prototype.addThumbnail",ww.prototype.ol);v("xiv.ui.ThumbnailGallery.prototype.clearThumbnailDropTargets",ww.prototype.hy);v("xiv.ui.ThumbnailGallery.prototype.addThumbnailDropTarget",ww.prototype.Ax);v("xiv.ui.ThumbnailGallery.prototype.addThumbnailDropTargets",ww.prototype.Bx);v("xiv.ui.ThumbnailGallery.prototype.getThumbnailByElement",ww.prototype.SG);v("xiv.ui.ThumbnailGallery.prototype.disposeInternal",ww.prototype.e);function zw(){var a=mi(Bh());a.webkitCancelFullScreen?a.webkitCancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.msExitFullscreen?a.msExitFullscreen():a.exitFullscreen&&a.exitFullscreen()};function Aw(a,b,c,d){Yc.call(this);this.bb=c||Bh();this.wl=a;this.gf=[];this.UK=b?b:Bw;this.mC=!!d;this.We()}w(Aw,Yc);var Bw=0;f=Aw.prototype;
f.We=function(){this.wl.className="goog-tabpane";for(var a=[],b=Wh(this.wl);b;)a.push(b),b=Yh(b);this.Od=this.bb.p("ul",{className:"goog-tabpane-tabs",tabIndex:"0"});this.Ub=this.bb.p("div","goog-tabpane-cont");this.wl.appendChild(this.Ub);b=this.wl;switch(this.UK){case Bw:b.insertBefore(this.Od,this.Ub);b.insertBefore(Cw(this),this.Ub);Vk(b,"goog-tabpane-top");break;case 1:b.appendChild(this.Od);b.appendChild(Cw(this));Vk(b,"goog-tabpane-bottom");break;case 2:b.insertBefore(this.Od,this.Ub);Vk(b,
"goog-tabpane-left");break;case 3:b.insertBefore(this.Od,this.Ub);Vk(b,"goog-tabpane-right");break;default:throw Error("Invalid tab location");}this.Od.tabIndex=0;G(this.Od,this.mC?"mousedown":"click",this.Rq,!1,this);G(this.Od,"keydown",this.Sq,!1,this);for(var c=0;b=a[c];c++)Dw(this,new Ew(b))};
function Cw(a){var b=Bh(void 0),c=null,d=b.ia;E&&d.createStyleSheet?(c=d.createStyleSheet(),Qi(c)):(d=Gh(b.ia,"head",void 0,void 0)[0],d||(c=Gh(b.ia,"body",void 0,void 0)[0],d=b.p("head"),c.parentNode.insertBefore(d,c)),c=b.p("style"),Qi(c),b.appendChild(d,c));return a.bb.p("div","goog-tabpane-clear")}f.e=function(){Aw.c.e.call(this);Sc(this.Od,this.mC?"mousedown":"click",this.Rq,!1,this);Sc(this.Od,"keydown",this.Sq,!1,this);delete this.wl;this.Ub=this.Od=null};
function Dw(a,b){b.Ja&&b.Ja!=a&&b.Ja instanceof Aw&&Fw(b.Ja,b);var c=a.gf.length;ca(void 0)&&void 0!=c?(c=void 0,a.gf.splice(c,0,b),a.Od.insertBefore(b.qi,a.Od.childNodes[c])):(a.gf.push(b),a.Od.appendChild(b.qi));b.qo(a,c);a.Lg||(a.Lg=b,a.dispatchEvent(new Gw("change",a,a.Lg)));a.Ub.appendChild(b.Ub);Hw(b,b==a.Lg);for(var d=c+1;c=a.gf[d];d++)c.Dn=d}function Fw(a,b){t(b)&&(b=a.gf[b]);a.gf.splice(b.Dn,1);b.qo(null);T(b.qi);T(b.Ub);for(var c,d=0;c=a.gf[d];d++)c.qo(a,d)}
function Iw(a,b){if(0<=b&&b<a.gf.length){var c=a.gf[b];!c.isEnabled()||a.Lg&&c==a.Lg||(Hw(a.Lg,!1),Hw(c,!0),a.Lg=c,a.dispatchEvent(new Gw("change",a,a.Lg)))}}f.Aa=function(){return this.Ub||null};f.a=function(){return this.wl||null};f.Rq=function(a){for(var b=a.target;b!=this.Od;){if("LI"==b.tagName){var c;for(c=0;b=b.previousSibling;c++);Iw(this,c);break}b=b.parentNode}a.preventDefault()};
f.Sq=function(a){if(!(a.altKey||a.metaKey||a.ctrlKey))switch(a.keyCode){case 37:a=this.Lg.Dn-1;Iw(this,0>a?this.gf.length-1:a);break;case 39:a=this.Lg.Dn+1;Iw(this,a>=this.gf.length?0:a);break;case 36:Iw(this,0);break;case 35:Iw(this,this.gf.length-1)}};function Ew(a,b,c){var d,e;if(r(a)&&!ca(b))d=a;else if(b)d=b,e=a;else if(a){if(b=Wh(a))d=hi(b),b.parentNode.removeChild(b);e=a}this.bb=c||Bh();this.Ub=e||this.bb.p("div");this.qi=this.bb.p("li",null,d);this.Dn=this.Ja=null;this.vc=!0}f=Ew.prototype;
f.Rd=function(){return hi(this.qi)};f.ae=function(a){bi(this.qi,a)};f.uz=function(){return this.qi};f.Aa=function(){return this.Ub};f.getParent=function(){return this.Ja};f.$b=function(a){this.vc=a;this.qi.className=a?"goog-tabpane-tab":"goog-tabpane-tab-disabled"};f.isEnabled=function(){return this.vc};function Hw(a,b){a.isEnabled()&&(a.Ub.style.display=b?"":"none",a.qi.className=b?"goog-tabpane-tab-selected":"goog-tabpane-tab")}f.qo=function(a,b){this.Ja=a;this.Dn=ca(b)?b:null};
function Gw(a,b,c){Bc.call(this,a,b);this.page=c}w(Gw,Bc);function Z(a){V.call(this);if(null!=a){var b=a;if(!r(b))throw new TypeError("String required!");b=b.toUpperCase();if(-1==Jw.indexOf(b))throw Error("Invalid orienation!");}this.orientation=a||Kw}w(Z,V);v("nrg.ui.Tabs",Z);var Jw=["TOP","BOTTOM","LEFT","RIGHT"],Kw=Jw[0];Z.ID_PREFIX="nrg.ui.Tabs";Z.CSS_SUFFIX={Rb:"tab",Ph:"tab-active",sf:"page",mD:"page-content",$o:"page-active",Za:"icon",Sk:"icon-active",RC:"icon-content",IM:"scrollgallery"};
function Lw(a,b,c,d,e){this.bj=!1;this.TITLE=a;this.Rb=b;this.Za=c;this.sf=d;this.Vg=e}f=Z.prototype;f.cf=0;f.Yl=0;f.ce=null;f.k=function(a){Z.c.k.call(this,a);this.gk=new Aw(this.a());this.F=[];P(this.a(),Z.oc)};f.NG=function(){return this.F.length};f.dG=function(){return this.cf};f.BG=function(){return this.Yl};f.gq=function(){var a=[];D(this.F,function(b){a.push(b.Rb)});return a};f.hq=function(){var a=[];D(this.F,function(b){a.push(b.sf)});return a};
f.OG=function(){var a=[];D(this.F,function(b){a.push(b.Za)});return a};f.vE=function(a){D(a,function(a){this.nl(a)}.bind(this))};f.reset=function(){for(var a=this.F.length;0<a;)Fw(this.gk,a-1),a--;this.ZN()};f.Ov=function(a){if(null==this.F)return!1;for(var b=0,c=this.F.length;b<c;b++)if(this.F[b].TITLE==a)return!0;return!1};
f.nl=function(a){this.F=null!=this.F?this.F:[];if(this.Ov(a))throw Error(a+" is an already existing tab!");var b;b=R("div",{id:"Tab_"+B(),"class":Z.CSS.Rb,title:a});Sh(this.a(),b);var c=R("div",{id:"TabIcon_"+B(),"class":Z.CSS.Za}),d=R("div",{"class":Z.CSS.RC},a);Sh(c,d);Sh(b,c);d=R("div",{id:"TabPage_"+B(),"class":Z.CSS.sf,label:a});lk(d,jk(this.a(),"width"));Sh(this.a().parentNode,d);var e=new Ew(d,a);Dw(this.gk,e);this.F.push(new Lw(a,b,c,d,e));Mw(this);Nw(this);Ow(this);this.Vj();this.setActive(0);
this.j()};f.GB=function(a,b){this.Ov(a)||this.nl(a);var c;a:if(null!=this.F){c=0;for(var d=this.F.length;c<d;c++)if(this.F[c].TITLE==a){c=this.F[c];break a}c=void 0}else c=!1;b instanceof ys?(d=b,c.sf.appendChild(b.a())):(d=new ys,d.k(c.sf),d.Te(b));P(d.a(),Z.CSS.mD);this.j()};function Mw(a){D(a.F,function(a){H(a.Rb)}.bind(a))}function Nw(a){D(a.F,function(a,c){G(a.Rb,"click",function(){this.Vj();this.setActive(c)}.bind(this))}.bind(a))}
function Ow(a){D(a.F,function(a,c){Pw(this,c);Qw(this,c)}.bind(a))}function Pw(a,b){G(a.F[b].Rb,"mouseover",function(){!0!==this.F[b].bj&&(P(this.F[b].Rb,Z.CSS.Ph),P(this.F[b].Rb,qj(Z.CSS.Ph,this.orientation)),P(this.F[b].Za,Z.CSS.Sk))}.bind(a))}function Qw(a,b){G(a.F[b].Rb,"mouseout",function(){!0!==this.F[b].bj&&(vh(this.F[b].Rb,Z.CSS.Ph),vh(this.F[b].Rb,qj(Z.CSS.Ph,this.orientation)),vh(this.F[b].Za,Z.CSS.Sk))}.bind(a))}
f.setActive=function(a){this.F[a].bj=!0;this.Yl=this.cf;this.cf=a;Iw(this.gk,a);P(this.F[a].Rb,Z.CSS.Ph);P(this.F[a].Rb,qj(Z.CSS.Ph,this.orientation));P(this.F[a].sf,Z.CSS.$o);P(this.F[a].sf,qj(Z.CSS.$o,this.orientation));P(this.F[a].Za,Z.CSS.Sk);P(this.F[a].Za,qj(Z.CSS.Sk,this.orientation))};
f.By=function(a){this.F[a].bj=!1;Iw(this.gk,0);vh(this.F[a].Rb,Z.CSS.Ph);vh(this.F[a].Rb,qj(Z.CSS.Ph,this.orientation));vh(this.F[a].sf,Z.CSS.$o);vh(this.F[a].sf,qj(Z.CSS.$o,this.orientation));vh(this.F[a].Za,Z.CSS.Sk);vh(this.F[a].Za,qj(Z.CSS.Sk,this.orientation))};f.Vj=function(){D(this.F,function(a,b){this.By(b)}.bind(this))};
f.j=function(){if(this.a().parentNode){P(this.a(),Z.oc);P(this.a(),qj(Z.oc,this.orientation));D(this.F,function(a){P(a.Rb,qj(Z.CSS.Rb,this.orientation));P(a.Za,qj(Z.CSS.Za,this.orientation));P(a.sf,qj(Z.CSS.sf,this.orientation))}.bind(this));switch(this.orientation){case "TOP":Rw(this);break;case "BOTTOM":this.IO();break;case "RIGHT":Sw(this)}if(0<this.F.length){var a=Li(this.F[0].Rb);0<a.width&&0<a.height&&(this.ce=a)}}};
function Sw(a){D(a.F,function(a){this.a().parentNode&&lk(a.Rb,{height:(100/this.F.length).toString()+"%"})}.bind(a))}function Rw(a){var b;D(a.F,function(a,d){this.a().parentNode&&(b=100/this.F.length,lk(a.Rb,{width:b.toString()+"%",left:(d*b).toString()+"%"}))}.bind(a))}function Tw(a){D(a.F,function(a){C(a,function(c,d){H(c);c.e?c.g():c.g&&c.g();delete c;delete a[d]});sb(a);delete a});Ib(a.F)}
f.e=function(){Z.c.e.call(this);D(this.gq(),function(a){H(a)}.bind(this));Tw(this);delete this.F;H(this.gk);this.gk.g();delete this.gk;delete this.cf;delete this.Yl;delete this.HO;delete this.orientation};v("nrg.ui.Tabs.ORIENTATIONS",Jw);v("nrg.ui.Tabs.DEFAULT_ORIENTATION",Kw);v("nrg.ui.Tabs.ID_PREFIX",Z.ID_PREFIX);v("nrg.ui.Tabs.CSS_SUFFIX",Z.CSS_SUFFIX);v("nrg.ui.Tabs.TabItemCollection",Lw);v("nrg.ui.Tabs.prototype.tabSize",Z.prototype.ce);v("nrg.ui.Tabs.prototype.render",Z.prototype.k);
v("nrg.ui.Tabs.prototype.getTabCount",Z.prototype.NG);v("nrg.ui.Tabs.prototype.getLastActiveTab",Z.prototype.dG);v("nrg.ui.Tabs.prototype.getPreviousActiveTab",Z.prototype.BG);v("nrg.ui.Tabs.prototype.getTabElements",Z.prototype.gq);v("nrg.ui.Tabs.prototype.getTabPages",Z.prototype.hq);v("nrg.ui.Tabs.prototype.getTabIcons",Z.prototype.OG);v("nrg.ui.Tabs.prototype.addTabs",Z.prototype.vE);v("nrg.ui.Tabs.prototype.reset",Z.prototype.reset);v("nrg.ui.Tabs.prototype.tabExists",Z.prototype.Ov);
v("nrg.ui.Tabs.prototype.addTab",Z.prototype.nl);v("nrg.ui.Tabs.prototype.setTabPageContents",Z.prototype.GB);v("nrg.ui.Tabs.prototype.setActive",Z.prototype.setActive);v("nrg.ui.Tabs.prototype.deactivate",Z.prototype.By);v("nrg.ui.Tabs.prototype.deactivateAll",Z.prototype.Vj);v("nrg.ui.Tabs.prototype.updateStyle",Z.prototype.j);v("nrg.ui.Tabs.prototype.disposeInternal",Z.prototype.e);function Uw(a){Z.call(this,a)}w(Uw,Z);v("nrg.ui.ZipTabs",Uw);Uw.ID_PREFIX="nrg.ui.ZipTabs";f=Uw.prototype;f.k=function(a){Uw.c.k.call(this,a);P(this.a(),qj(Uw.oc,this.orientation));this.pc=new Oq(this.a(),this.orientation);Vw(this)};f.Bh=function(a){this.pc.Bh(a);this.j()};f.L=function(){return this.pc};
function Vw(a){G(a.pc,"resize",function(a){this.eh();if(null!=this.ce){switch(this.orientation){case "BOTTOM":case "TOP":4>=Math.abs(this.ce.height-this.q.height)?this.Vj():this.setActive(this.cf);break;case "LEFT":case "RIGHT":4>=Math.abs(this.ce.width-this.q.width)?this.Vj():this.setActive(this.cf)}this.dispatchEvent({type:"resize",size:a.size,Ee:a.Ee})}}.bind(a))}
f.Db=function(a,b,c){this.j();a?(this.setActive(b||0),this.pc.kf(this.orientation,"MAX",null,c)):(this.Vj(),this.pc.kf(this.orientation,"MIN",null,c))};f.j=function(){Uw.c.j.call(this);switch(this.orientation){case "TOP":case "BOTTOM":null!=this.ce&&this.pc.vB(this.ce.height);break;case "LEFT":case "RIGHT":null!=this.ce&&this.pc.xB(this.ce.width)}this.pc.update()};
f.nl=function(a){Uw.c.nl.call(this,a);1==this.gq().length&&this.j();D(this.gq(),function(a){G(a,"click",function(){if(null!=this.ce)switch(this.j(),this.eh(),this.orientation){case "BOTTOM":4>=Math.abs(this.q.height-this.ce.height)?(this.setActive(this.cf),this.pc.kf("BOTTOM","MAX",void 0)):this.cf==this.Yl&&this.pc.kf("BOTTOM","MIN",void 0);break;case "TOP":4>=Math.abs(this.q.height-this.ce.height)?(this.setActive(this.cf),this.pc.kf("TOP","MAX",void 0)):this.cf==this.Yl&&this.pc.kf("TOP","MIN",
void 0);break;case "RIGHT":null!=this.ce&&(4>=Math.abs(this.q.width-this.ce.width)?(this.setActive(this.cf),this.pc.kf("RIGHT","MAX",void 0)):this.cf==this.Yl&&this.pc.kf("RIGHT","MIN",void 0))}}.bind(this))}.bind(this));this.Vj();this.j()};f.e=function(){Uw.c.e.call(this);H(this.pc);this.pc.g();delete this.pc};v("nrg.ui.ZipTabs.BOUND_THRESHOLD_VERT",4);v("nrg.ui.ZipTabs.BOUND_THRESHOLD_HORIZ",4);v("nrg.ui.ZipTabs.EventType",{FC:"fa"});v("nrg.ui.ZipTabs.ID_PREFIX",Uw.ID_PREFIX);
v("nrg.ui.ZipTabs.prototype.render",Uw.prototype.k);v("nrg.ui.ZipTabs.prototype.setBoundaryElement",Uw.prototype.Bh);v("nrg.ui.ZipTabs.prototype.getResizable",Uw.prototype.L);v("nrg.ui.ZipTabs.prototype.setExpanded",Uw.prototype.Db);v("nrg.ui.ZipTabs.prototype.updateStyle",Uw.prototype.j);v("nrg.ui.ZipTabs.prototype.addTab",Uw.prototype.nl);v("nrg.ui.ZipTabs.prototype.disposeInternal",Uw.prototype.e);/*
 Copyright 2014 Washington Universityf
 @author sunilk@mokacreativellc.com (Sunil Kumar)
*/
function Ww(){V.call(this);this.Ic=Ww.ModalStates.dj}w(Ww,V);v("xiv.ui.Modal",Ww);Ww.ModalStates={ie:"fullscreen",Ne:"popup",Rr:"fullscreen-popup",ig:"windowed",dj:"demo",KC:"demp-fullscreen"};Ww.ID_PREFIX="xiv.ui.Modal";Ww.CSS_SUFFIX={Xo:"background",zL:"columnmenu",yM:"rowmenu",AL:"button",zM:"button",oD:"projecttab",pD:"projecttab-bounds",qD:"projecttab-dragger",rD:"projecttab-dragger-handle",mw:"addsubjects"};
function Xw(){var a={};C(Yw,function(b,c){a[c]=Ww.ID_PREFIX+"."+cb(b.key)+".Button"});var b=Jk(nb(a)),c={};C(a,function(a,e){c[e]=b[a];var h=qj(a);b[a].className=h});return c}var Yw={Rk:{key:"CLOSE",title:"Close XNAT Image Viewer."},ie:{key:"FULLSCREEN",title:"Enter full-screen mode."},Ne:{key:"POPUP",title:"Popup to new window."},ig:{key:"WINDOWED",title:"Exit full-screen mode."}};f=Ww.prototype;f.An=29;f.Jr=29;f.Lq=320;f.Mq=320;f.bH=function(){return this.Da};f.TG=function(){return this.N};
f.DG=function(){return this.Qb};f.AG=function(){return this.Q.Ne};f.FF=function(){return this.Q.Rk};f.VF=function(){return this.Q.ie};f.k=function(a){Ww.c.k.call(this,a);this.Tz();this.Da.Wt(null,!1);this.ac(this.Ic)};
f.ac=function(a){null!=this.Ic&&(this.er=this.Ic);this.Ic=a;null!=this.er&&vh(this.a(),qj(this.constructor.oc,this.er));P(this.a(),qj(this.constructor.oc,this.Ic));this.Ic==Ww.ModalStates.dj?(this.Q.ie.style.visibility="visible",this.Q.ig.style.visibility="hidden"):this.Ic==Ww.ModalStates.ig?(this.Q.ie.style.visibility="visible",this.Q.ig.style.visibility="hidden"):this.Ic==Ww.ModalStates.Ne?(this.Q.Ne.style.visibility="hidden",this.Q.Rk.style.visibility="hidden",this.Q.ie.style.visibility="visible",
this.Q.ig.style.visibility="hidden"):this.Ic==Ww.ModalStates.Rr?(this.Q.Ne.style.visibility="hidden",this.Q.ie.style.visibility="hidden",this.Q.ig.style.visibility="visible"):this.Ic==Ww.ModalStates.ie&&(this.Q.Ne.style.visibility="visible",this.Q.ie.style.visibility="hidden",this.Q.ig.style.visibility="visible");this.j()};f.Fl=function(){return this.Ic};f.Di=function(){this.N.loop(function(a){a.setActive(!1);this.Da.loop(function(b){-1<b.hb.indexOf(a.tf)&&a.setActive(!0)})}.bind(this))};
f.Ux=function(){Zw(this);this.td=null!=this.td?this.td:[];this.Fc=null!=this.Fc?this.Fc:new ak;$w(this);ax(this);G(this.Fc,"end",this.YI.bind(this));D(this.td,function(a){this.Fc.add(a)}.bind(this));this.Fc.play();this.Di()};f.YI=function(){D(this.td,function(a){this.Fc.remove(a);H(a);a.Jb();a.g()}.bind(this));Ib(this.td);this.j();bx(this)};function bx(a){a.Da.loop(function(a){0==a.a().style.opacity&&qk(a.a(),300)})}
function $w(a){var b=null;a.Da.loop(function(a,d,e){b=a.a();this.td.push(new Pj(b,[b.offsetLeft,b.offsetTop],[this.pa.Fb.jg[d][e],this.pa.Fb.oe[d][e]],300,ok))}.bind(a))}function ax(a){var b=null;a.Da.loop(function(a,d,e){b=a.a();this.td.push(new Qj(b,[b.offsetWidth,b.offsetHeight],[this.pa.Fb.rj[d][e],this.pa.Fb.om[d][e]],300,ok))}.bind(a))}
function Zw(a){a.pa=null!=a.pa?a.pa:{};a.eh();a.pa.Ko={};a.pa.Ko.rj=Math.round(Li(a.Qb.a()).width);a.pa.Ko.om=Math.round(a.q.height-2*a.Jr);a.pa.Ko.oe=Math.round(a.Jr);cx(a);dx(a)}function cx(a){a.pa.Fb={};a.pa.Fb.rj=a.Da.pn();a.pa.Fb.om=a.Da.pn();a.Da.loop(function(a,c,d,e,h){this.pa.Fb.rj[c][d]=Math.round((this.q.width-this.pa.Ko.rj-this.An)/h-this.An);this.pa.Fb.om[c][d]=Math.round((this.q.height-(e+1)*this.An)/e)}.bind(a))}
function dx(a){a.pa.Fb.jg=a.Da.pn();a.pa.Fb.oe=a.Da.pn();a.pa.Fb.DD=a.pa.Ko.rj+a.Jr;var b=0;a.Da.loop(function(a,d,e){b=this.pa.Fb.DD+e*(this.pa.Fb.rj[d][e]+this.Jr);this.pa.Fb.jg[d][e]=b;this.pa.Fb.oe[d][e]=d*(this.pa.Fb.om[d][e]+this.An);window.console.log();this.pa.Fb.oe[d][e]+=this.An}.bind(a))}f.j=function(){Zw(this);this.Qb&&this.Qb.j();ex(this);this.Di();this.N.j();this.N.Qc()};
function ex(a){a.Da&&a.Da.loop(function(a,c,d){lk(a.a(),{height:this.pa.Fb.om[c][d],width:this.pa.Fb.rj[c][d],left:this.pa.Fb.jg[c][d],top:this.pa.Fb.oe[c][d]});a.j()}.bind(a))}
f.Tz=function(){var a=R("div");a.id=this.constructor.ID_PREFIX+"_Background_"+B();a.className=Ww.CSS.Xo;this.a().appendChild(a);this.Vr=R("div");Sh(this.a(),this.Vr);P(this.Vr,Ww.CSS.pD);this.Qb=new Uw("RIGHT");this.Qb.k(this.a());P(this.Qb.a(),Ww.CSS.oD);this.N=new ww;this.N.Fv(!0);this.N.rv(this.a());var b;b=b||G;b(this.N,"B",this.yJ.bind(this));b(this.N,"C",this.xJ.bind(this));b(this.N,"da",this.rJ.bind(this));b(this.N,"ba",this.uJ.bind(this));b(this.N,"ca",this.tJ.bind(this));b(this.N,"ea",this.wJ.bind(this));
this.N.k(this.Qb.a());this.Qb.GB("Project Browser",this.N);this.Qb.Bh(this.Vr);a=this.Qb.L().cd("RIGHT");P(a,Ww.CSS.qD);this.Qb.L().El("RIGHT").yB(5);Sh(a,R("div",{id:Ov.ID_PREFIX+"_DraggerHandle_"+B(),"class":Ww.CSS.rD}));G(this.Qb,"resize",this.j.bind(this));G(this.Qb,"resize_end",this.j.bind(this));this.Da=new dw;this.Da.JB(this.a());var c;c=c||G;c(this.Da,"X",this.Yu.bind(this));c(this.Da,"Y",this.Xu.bind(this));c(this.Da,"Z",this.Li.bind(this));G(this.Da,"W",this.LJ.bind(this));fx(this)};
function fx(a){a.Q=Xw();C(a.Q,function(a){Sh(this.a(),a)}.bind(a));gx(a);a.Q.Rk.innerHTML="<img src="+a.Fi+'/images/viewer/xiv/ui/Modal/close.png width="100%">';a.Q.ie.innerHTML="<img src="+a.Fi+'/images/viewer/xiv/ui/Modal/fullscreen.png width="100%">';a.Q.ig.innerHTML="<img src="+a.Fi+'/images/viewer/xiv/ui/Modal/windowed.png width="100%">';a.Q.Ne.innerHTML="<img src="+a.Fi+'/images/viewer/xiv/ui/Modal/popup.png width="100%">'}
f.px=function(){window.console.log("add add");this.dh=R("div",{id:Ww.ID_PREFIX+"_addSubjects_"+B(),"class":Ww.CSS.mw},"+ Load all subjects in project");this.Qb.hq()[0].appendChild(this.dh);nk(this.dh,Ww.CSS.mw+"-hovered");var a=this.Qb.hq()[0],b=Vh(a)[0];Li(a);Li(b);Li(this.dh);b.style.height="calc(100% - 70px)";G(this.dh,"click",this.CI.bind(this))};f.CI=function(){this.dispatchEvent({type:"g"});tk(this.dh,150,function(){hx(this);var a=this.Qb.hq()[0];Vh(a)[0].setAttribute("style","");this.N.Qc()}.bind(this))};
function hx(a){null!=a.dh&&(T(a.dh),H(a.dh),delete a.dh)}f.LJ=function(){var a=Hh("xiv-ui-thumbnailgallery-thumbnail-dragging");D(a,function(a){T(a)});this.Di();window.console.log(this.N.ag.cq());null!=this.N.ag.cq()&&this.N.nf.si({$N:!0})};f.HI=function(){this.Ic===Ww.ModalStates.ie&&zw()};
f.QI=function(){var a=this.a().parentNode;a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen?a.msRequestFullscreen():a.requestFullscreen&&a.requestFullscreen();this.Ic===Ww.ModalStates.Ne?this.ac(Ww.ModalStates.Rr):this.ac(Ww.ModalStates.ie)};f.OJ=function(){zw();this.ac(this.er)};function gx(a){var b;b=b||G;b(a.Q.ie,"click",a.QI.bind(a));b(a.Q.ig,"click",a.OJ.bind(a));b(a.Q.Rk,"click",a.HI.bind(a))}
f.yJ=function(a){this.Da.cs(a.oj.tf,function(a){a.Nl()})};f.xJ=function(a){this.Da.cs(a.oj.tf,function(a){a.Po()})};f.tJ=function(a){this.Da.iq(a.Sv).Po()};f.uJ=function(a){this.Da.iq(a.Sv).Nl()};f.rJ=function(a){this.Da.cz().load(a.oj.tf);this.Di()};f.wJ=function(a){this.Da.iq(a.VK).load(a.oj.tf);this.Di()};f.Yu=function(){this.Di()};f.Xu=function(){this.Di()};f.Li=function(a){null!=a&&null!=a.yE?(a.yA&&D(a.yA,function(a){lk(a.a(),{opacity:0})}),this.Ux()):this.j();this.N.hy();this.N.Bx(this.Da.xz())};
f.e=function(){Ww.c.e.call(this);sb(this.pa);delete this.pa;this.nt(this.td);delete this.td;this.Sp(this.Fc);delete this.Fc;this.Tp(this.Q);delete this.Q;null!=this.Da&&(H(this.Da),this.Da.g(),delete this.Da);H(this.Qb);this.Qb.g();delete this.Qb;H(this.N);this.N.g();delete this.N;hx(this);delete this.Ic;delete this.er};v("xiv.ui.Modal.EventType",Ww.KL);v("xiv.ui.Modal.ID_PREFIX",Ww.ID_PREFIX);v("xiv.ui.Modal.CSS_SUFFIX",Ww.CSS_SUFFIX);v("xiv.ui.Modal.prototype.getViewBoxHandler",Ww.prototype.bH);
v("xiv.ui.Modal.prototype.getThumbnailGallery",Ww.prototype.TG);v("xiv.ui.Modal.prototype.getProjectTab",Ww.prototype.DG);v("xiv.ui.Modal.prototype.getPopupButton",Ww.prototype.AG);v("xiv.ui.Modal.prototype.getCloseButton",Ww.prototype.FF);v("xiv.ui.Modal.prototype.getFullScreenButton",Ww.prototype.VF);v("xiv.ui.Modal.prototype.render",Ww.prototype.k);v("xiv.ui.Modal.prototype.setState",Ww.prototype.ac);v("xiv.ui.Modal.prototype.getState",Ww.prototype.Fl);
v("xiv.ui.Modal.prototype.highlightInUseThumbnails",Ww.prototype.Di);v("xiv.ui.Modal.prototype.animateModal",Ww.prototype.Ux);v("xiv.ui.Modal.prototype.updateStyle",Ww.prototype.j);v("xiv.ui.Modal.prototype.initSubComponents",Ww.prototype.Tz);v("xiv.ui.Modal.prototype.addAddSubjectsToProjectTab",Ww.prototype.px);v("xiv.ui.Modal.prototype.disposeInternal",Ww.prototype.e);window["xiv.ui.Modal"]=Ww;window["xiv.ui.Modal.ModalStates"]=Ww.ModalStates;
