





<!-- THIS FILE WAS AUTOGENERATED BY ($XNATImageViewer)/utility-scripts/convertDemo.pyc at 2014-04-01 00:37:33 -->






<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head> <body>

<!-- BEGIN /xnat-templates/screens/XIViewer.vm -->



<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/closure-library/closure/goog/css/menu.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/closure-library/closure/goog/css/menuitem.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/closure-library/closure/goog/css/menuseparator.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/closure-library/closure/goog/css/menubutton.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/closure-library/closure/goog/css/custombutton.css">

<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/moka/ui/css/genericslider.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/moka/ui/css/scrollablecontainer.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/moka/ui/css/zippynode.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/moka/ui/css/zippytree.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/moka/ui/css/thumbnail.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/moka/ui/css/thumbnailgallery.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/moka/ui/css/resizable.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/moka/ui/css/tabs.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/moka/ui/css/ziptabs.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/lib/moka/ui/css/slideinmenu.css">

<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/viewbox.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/modal.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/thumbnail.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/thumbnailgallery.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/viewboxhandler.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/layouthandler.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/layout.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/xyzvlayout.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/conventional.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/fourup.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/plane.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/progressbarpanel.css">
<link type="text/css" rel="stylesheet" href="/xnat/scripts/viewer/xiv/ui/css/viewablegroupmenu.css">

<!-- lib -->
<script src="/xnat/scripts/viewer/xiv/lib/closure-library/closure/goog/base.js"></script>
<script src="/xnat/scripts/viewer/xiv/lib/X/xtk-deps.js"></script>
<script src="/xnat/scripts/viewer/xiv/lib/_custom/X/xtk-custom-deps.js"></script>
<script src="/xnat/scripts/viewer/xiv/lib/gxnat/gxnat-deps.js"></script>
<script src="/xnat/scripts/viewer/xiv/lib/moka/moka-deps.js"></script>
<!-- lib -->

<!-- xiv -->
<script src="/xnat/scripts/viewer/xiv/xiv-deps.js"></script>
<!-- xiv -->


<!-- /XIViewer.vm -->


</head>



</body>

<script>
// requires
goog.require('xiv');


/**
* Main launch function for the XNAT Image Viewer.
* NOTES:
*     - the 'serverRoot' property is a global defined by the VM if launched
*       directly from an XNATUrl.  Otherwise it's blank.
*
* @preserve Copyright 2014 Washington University
* @author sunilk@mokacreativellc.com (Sunil Kumar)
* @author herrickr@mir.wustl.edu (Rick Herrick)
*
* @param {!string} opt_dataPath The optional data path to begin the
*    viewer from.  Defaults to the Velocity generated URL
*    (e.g. 'projects/$om.getProject()/subjects/$om.getSubjectId()/' +
*          'experiments/$om.getId()')
* @param {!string} opt_modalState The modal state to set the image viewer to.
*     Defaults to 'windowed'.  Options are 'windowed', 'popup', 'fullscreen',
*     'fullscreen-popup'.
*/
function launchXImgView(opt_dataPath, opt_modalState) {

var vmPath = 'projects/$om.getProject()/subjects/$om.getSubjectId()/';
vmPath += 'experiments/$om.getId()';
var imagePath = 'images/viewer/';

opt_dataPath = opt_dataPath || vmPath;
var modalState = 'popup';

var sRoot = (opt_modalState === 'popup') ? '' : serverRoot;

var XnatImageViewer = new xiv(opt_modalState, opt_dataPath, sRoot);
XnatImageViewer.show();

//window.console.log('opt_dataPath', opt_dataPath);
//window.console.log('opt_modalState', opt_modalState);
//window.console.log('serverRoot', serverRoot);
//window.console.log('imagePath', imagePath);
};





</script>


</html>
